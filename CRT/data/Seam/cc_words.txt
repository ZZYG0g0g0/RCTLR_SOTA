package org jboss seam example restbay import org jboss seam Component import static org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import javax naming Initial Context import javax persistence Entity Manager import javax transaction System Exception import javax transaction User Transaction import java util Calendar import java util Gregorian Calendar import java util List import java util Random Nasty nasty hack because hsqldb does n t support date arithmetic and we actually want to deploy with usable test data author shane Startup Name aargh Scope Bypass Interceptors public class Aargh Create public void create User Transaction t null try Initial Context ctx new Initial Context t User Transaction ctx lookup java jboss User Transaction t begin Entity Manager em Entity Manager Component get Instance entity Manager true List Auction auctions em create Query select a from Auction a get Result List Calendar cal new Gregorian Calendar Random r new Random System current Time Millis for Auction auction auctions cal set Time auction get End Date cal add Calendar r next Int cal add Calendar r next Int auction set End Date cal get Time auction set Status Auction em merge auction Auction End Action auction End Auction End Action Component get Instance Auction End Action class true auction End end Auction auction get Auction Id auction get End Date t commit catch Exception e try if t null t rollback catch System Exception e throw new Runtime Exception Error starting transaction e 
package org jboss seam deployment import java util Hash Set import java util Set public abstract class Abstract Class Deployment Handler extends Abstract Deployment Handler implements Class Deployment Handler private Set Class Descriptor classes public Abstract Class Deployment Handler classes new Hash Set Class Descriptor public Set Class Descriptor get Classes return classes public void set Classes Set Class Descriptor classes this classes classes 
package org jboss seam deployment import java util Hash Set import java util Set Abstract base class for link Deployment Handler providing common functionality author Pete Muir public abstract class Abstract Deployment Handler implements Deployment Handler private Set File Descriptor resources public Abstract Deployment Handler resources new Hash Set File Descriptor Override public String to String return get Name public void set Resources Set File Descriptor resources this resources resources public Set File Descriptor get Resources return resources public void post Process Class Loader class Loader 
package org jboss seam async import java lang annotation Annotation import java util Date import org jboss seam Component import org jboss seam annotations async Duration import org jboss seam annotations async Expiration import org jboss seam annotations async Final Expiration import org jboss seam annotations async Interval Cron import org jboss seam annotations async Interval Duration import org jboss seam contexts Contexts import org jboss seam intercept Invocation Context import org jboss seam transaction Transaction Abstract Dispatcher implementation author Gavin King public abstract class Abstract Dispatcher extends Schedule implements Dispatcher public class Dispatcher Parameters private Date expiration private Date final Expiration private Long duration private Long interval Duration private String interval Cron public String get Interval Cron return interval Cron public Long get Duration return duration public Date get Expiration return expiration public Date get Final Expiration return final Expiration public Long get Interval Duration return interval Duration public void set Interval Cron String cron this interval Cron cron public void set Duration Long duration this duration duration public void set Expiration Date expiration this expiration expiration public void set Final Expiration Date final Expiration this final Expiration final Expiration public void set Interval Duration Long interval Duration this interval Duration interval Duration public static final String org jboss seam core executing Asynchronous Call public static Dispatcher instance if Contexts is Application Context Active throw new Illegal State Exception no application context active return Dispatcher Component get Instance org jboss seam async dispatcher public void schedule Transaction Success Event String type Object parameters Transaction instance register Synchronization new Transaction Success Event type parameters public void schedule Transaction Completion Event String type Object parameters Transaction instance register Synchronization new Transaction Completion Event type parameters protected Schedule create Schedule Invocation Context invocation Dispatcher Parameters dispatcher Parameters extract And Validate Parameters invocation if dispatcher Parameters get Interval Cron null return new Timer Schedule dispatcher Parameters get Duration dispatcher Parameters get Expiration dispatcher Parameters get Interval Duration dispatcher Parameters get Final Expiration else return new Cron Schedule dispatcher Parameters get Duration dispatcher Parameters get Expiration dispatcher Parameters get Interval Cron dispatcher Parameters get Final Expiration protected Timer Schedule create Timer Schedule Invocation Context invocation Dispatcher Parameters dispatcher Parameters extract And Validate Parameters invocation return create Timer Schedule dispatcher Parameters private Timer Schedule create Timer Schedule Dispatcher Parameters dispatcher Parameters return new Timer Schedule dispatcher Parameters get Duration dispatcher Parameters get Expiration dispatcher Parameters get Interval Duration dispatcher Parameters get Final Expiration protected Dispatcher Parameters extract And Validate Parameters Invocation Context invocation Dispatcher Parameters dispatcher Parameters new Dispatcher Parameters for int i i invocation get Method get Parameter Annotations length i Annotation annotations invocation get Method get Parameter Annotations i for Annotation annotation annotations if annotation annotation Type equals Duration class if invocation get Parameters i instanceof Long dispatcher Parameters set Duration Long invocation get Parameters i else if invocation get Parameters i null throw new Illegal Argument Exception Duration on invocation get Target get Class invocation get Method get Name must be a Long else if annotation annotation Type equals Expiration class if invocation get Parameters i instanceof Date dispatcher Parameters set Expiration Date invocation get Parameters i else if invocation get Parameters i null throw new Illegal Argument Exception Expiration on invocation get Target get Class invocation get Method get Name must be a java util Date else if annotation annotation Type equals Final Expiration class if this instanceof Quartz Dispatcher throw new Illegal Argument Exception Can only use Final Expiration with the Quartz Dispatcher else if invocation get Parameters i instanceof Date dispatcher Parameters set Final Expiration Date invocation get Parameters i else if invocation get Parameters i null throw new Illegal Argument Exception Final Expiration on invocation get Target get Class invocation get Method get Name must be a java util Date else if annotation annotation Type equals Interval Cron class if this instanceof Quartz Dispatcher throw new Illegal Argument Exception Can only use Interval Cron with the Quartz Dispatcher else if invocation get Parameters i instanceof String dispatcher Parameters set Interval Cron String invocation get Parameters i else if invocation get Parameters i null throw new Illegal Argument Exception Interval Cron on invocation get Target get Class invocation get Method get Name must be a String else if annotation annotation Type equals Interval Duration class if invocation get Parameters i instanceof Long dispatcher Parameters set Interval Duration Long invocation get Parameters i else if invocation get Parameters i null throw new Illegal Argument Exception Interval Duration on invocation get Target get Class invocation get Method get Name must be a Long if dispatcher Parameters get Interval Cron null dispatcher Parameters get Interval Duration null throw new Illegal Argument Exception Can only use one of Interval Cron and Interval Duration return dispatcher Parameters 
package org jboss seam contexts abstract class Abstract Entity Bean Collection implements Wrapper private transient boolean initialized protected Abstract Entity Bean Collection initialized true public final void activate if is Passivated Entities Initialized is Any Versioned activate All initialized true else initialized false public final Object get Instance if initialized is Passivated Entities Initialized activate All initialized true return get Entity Collection public final boolean passivate if Passivated Entity is Transaction Rolled Back Or Marked Rollback clear Passivated Entities else passivate All return true private boolean is Any Versioned for Passivated Entity passivated Entity get Passivated Entities if passivated Entity null passivated Entity is Versioned return true return false protected abstract void activate All protected abstract void passivate All protected abstract Iterable Passivated Entity get Passivated Entities protected abstract void clear Passivated Entities protected abstract boolean is Passivated Entities Initialized protected abstract Object get Entity Collection 
package org jboss seam ui import static org jboss seam Scope Type import org jboss seam Component import org jboss seam annotations Transactional import org jboss seam framework Identifier import org jboss seam framework Persistence Controller Helper class to load entities for the entity converter author Pete Muir public abstract class Abstract Entity Loader extends Persistence Controller Load and return the entity stored param key return The entity or null if no entity is available at that key Transactional public Object get String key Identifier identifier Entity Identifier Store instance get key if identifier null return identifier find get Persistence Context else return null Store an entity id clazz param entity The entity to store return The key under which the clazz id are stored Transactional public String put Object entity return Entity Identifier Store instance put create Identifier entity entity protected abstract Identifier create Identifier Object entity public abstract void validate public static Abstract Entity Loader instance return Abstract Entity Loader Component get Instance org jboss seam ui entity Loader 
package org jboss seam web import java util regex Pattern import javax servlet Filter import javax servlet Filter Config import javax servlet Servlet Context import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet http Http Servlet Request Abstract superclass for Seam components that act as servlet filters Note that since a filter is potentially called outside of a set of Seam contexts it is not a true Seam component However we are able to reuse the functionality for component scanning installation and configuration for filters All filters must specify the Filter annotation to be included by Seam s master filter see org jboss seam annotations web Filter author Shane Bryzak public abstract class Abstract Filter implements Filter private Servlet Context servlet Context private String url Pattern private String regex Url Pattern private Pattern pattern private boolean disabled public void init Filter Config filter Config throws Servlet Exception servlet Context filter Config get Servlet Context protected Servlet Context get Servlet Context return servlet Context public String get Url Pattern return url Pattern public void set Url Pattern String url Pattern this url Pattern url Pattern public String get Regex Url Pattern return this regex Url Pattern public void set Regex Url Pattern String regex Url Pattern this regex Url Pattern regex Url Pattern pattern null private Pattern get Pattern if pattern null get Regex Url Pattern null pattern Pattern compile get Regex Url Pattern return pattern public boolean is Disabled return disabled public void set Disabled boolean disabled this disabled disabled Pattern matching code adapted from Tomcat This method checks to see if the specified path matches the specified pattern param request Servlet Request The request containing the path return boolean True if the path matches the pattern false otherwise public boolean is Mapped To Current Request Path Servlet Request request if request instanceof Http Servlet Request return true Http Servlet Request http Request Http Servlet Request request String path http Request get Request replace First http Request get Context Path String url Pattern get Url Pattern Pattern regex Pattern get Pattern if url Pattern null return matches Tomcat Pattern path url Pattern else if regex Pattern null return matches Regex Pattern path regex Pattern else return true private static boolean matches Regex Pattern String path Pattern pattern return pattern matcher path matches private static boolean matches Tomcat Pattern String path String pattern if pattern null return true if path null equals path path if pattern null equals pattern pattern Check for an exact match if path equals pattern return true Check for path prefix matching if pattern starts With pattern ends With pattern pattern substring pattern length if pattern length return true if path ends With path path substring path length while true if pattern equals path return true int slash path last Index Of if slash break path path substring slash return false Check for suffix matching if pattern starts With int slash path last Index Of int period path last Index Of if slash period slash path ends With pattern substring return true return false Check for universal mapping if pattern equals return true return false public void destroy 
package org jboss seam cache import org infinispan tree Fqn public abstract class Abstract Infinispan Cache Provider extends Cache Provider public Abstract Infinispan Cache Provider super set Configuration infinispan xml private Fqn default Fqn protected Fqn get Fqn String region if region null return Fqn from String region else if default Fqn null default Fqn Fqn from String get Default Region return default Fqn Override public void set Default Region String default Region super set Default Region default Region this default Fqn Fqn from String default Region 
Id Abstract Interceptor java gavin package org jboss seam intercept import java io Serializable import org jboss seam Component Superclass of built in interceptors author Gavin King public abstract class Abstract Interceptor implements Serializable Optimized Interceptor private static final long serial Version private transient Component component a cache of the Component reference private String component Name public void set Component Component component component Name component get Name this component component protected Component get Component if component null component Component for Name component Name return component 
package org jboss seam cache import org jboss cache Fqn public abstract class Abstract Boss Cache Provider extends Cache Provider public Abstract Boss Cache Provider super set Configuration treecache xml private Fqn default Fqn protected Fqn get Fqn String region if region null return Fqn from String region else if default Fqn null default Fqn Fqn from String get Default Region return default Fqn Override public void set Default Region String default Region super set Default Region default Region this default Fqn Fqn from String default Region 
package org jboss seam core Base helper implementation of Mutable author Gavin King public abstract class Abstract Mutable implements Mutable private transient boolean dirty public boolean clear Dirty boolean result dirty dirty false return result Set the dirty flag if the value has changed Call whenever a subclass attribute is updated param old Value the old value of an attribute param new Value the new value of an attribute protected void set Dirty old Value new Value dirty dirty old Value new Value old Value null old Value equals new Value Set the dirty flag protected void set Dirty dirty true 
package org jboss seam persistence import java lang reflect Method import java lang reflect Proxy import java util Date import javax persistence Entity Manager import javax persistence Optimistic Lock Exception import javax transaction Synchronization import org jboss seam Entity Provides a default implementation of Persistence Provider methods where possible Other methods must be implemented author Pete Muir public abstract class Abstract Persistence Provider Set the flush mode to manual only flushing Called when an atomic persistence context is required public abstract void set Flush Mode Manual Entity Manager entity Manager Does the persistence context have unflushed changes If it does not persistence context replication can be optimized return true to indicate that there are unflushed changes public abstract boolean is Dirty Entity Manager entity Manager Get the value of the entity identifier attribute param bean a managed entity instance public Object get Id Object bean Entity Manager entity Manager return Entity for Class bean get Class get Identifier bean Get the name of the entity param bean param entity Manager throws Illegal Argument Exception if the passed object is not an entity public String get Name Object bean Entity Manager entity Manager throws Illegal Argument Exception return Entity for Class bean get Class get Name Get the value of the entity version attribute param bean a managed entity instance public Object get Version Object bean Entity Manager entity Manager return Entity for Class bean get Class get Version bean public void check Version Object bean Entity Manager entity Manager Object old Version Object version boolean equal if old Version instanceof Date equal Date old Version get Time Date version get Time else equal old Version equals version if equal throw new Optimistic Lock Exception current database version number does not match passivated version number Enable a Filter This is here just especially for Hibernate since we well know that other products do n t have such cool features public abstract void enable Filter Filter filter Entity Manager entity Manager Register a Synchronization with the current transaction public abstract boolean register Synchronization Synchronization sync Entity Manager entity Manager Wrap the delegate before returning it to the application public Object proxy Delegate Object delegate return delegate Wrap the entity Manager before returning it to the application public Entity Manager proxy Entity Manager Entity Manager entity Manager return Entity Manager Proxy new Proxy Instance Thread current Thread get Context Class Loader new Class Entity Manager Proxy class new Entity Manager Invocation Handler entity Manager Returns the class of an entity bean instance param bean The entity bean instance return The class of the entity bean public Class get Bean Class Object bean return Entity for Class bean get Class get Bean Class public Method get Post Load Method Class bean Class Entity Manager entity Manager return Entity for Class bean Class get Post Load Method public Method get Pre Persist Method Class bean Class Entity Manager entity Manager return Entity for Class bean Class get Pre Persist Method public Method get Pre Update Method Class bean Class Entity Manager entity Manager return Entity for Class bean Class get Pre Update Method public Method get Pre Remove Method Class bean Class Entity Manager entity Manager return Entity for Class bean Class get Pre Remove Method 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam resteasy import java lang reflect Parameterized Type import java lang reflect Type import javax ws rs core Context import javax ws rs core Http Headers import javax ws rs core Media Type Resource class used by Resource Home and Resource Query components Contains information about path media types and entity class the component operates on author Jozef Hartinger param entity class public abstract class Abstract Resource Context private Http Headers http Headers private String path null private Media Type media Types null private Class entity Class null public Abstract Resource media Types new Media Type Media Type public String get Media Types String media Types new String this media Types length for int i i media Types length i media Types i this media Types i to String return media Types public void set Media Types String media Types this media Types new Media Type media Types length for int i i media Types length i this media Types i Media Type value Of media Types i public void set Entity Class Class entity Class this entity Class entity Class Retrieve entity class If not set type parameters of a superclass are examined return entity class public Class get Entity Class if entity Class null Type superclass this get Class get Generic Superclass if superclass instanceof Parameterized Type Parameterized Type parameterized Superclass Parameterized Type superclass if parameterized Superclass get Actual Type Arguments length return Class parameterized Superclass get Actual Type Arguments throw new Runtime Exception Unable to determine entity class else return entity Class Retrieve a suffix of this resource s See link set Path String path return path see javax ws rs Path public String get Path return path Set the path this resource will operate on This method is intended to be used only by Seam to create a resource configured in component descriptor To specify the path in other cases use Path annotation See param path public void set Path String path this path path Select a media type that will be used for marshalling entity Media type is selected from the intersection of media types supported by this resource and media types accepted by client return selected media type returns null if no suitable media type is found protected Media Type select Response Media Type for Media Type accepted Media Type http Headers get Acceptable Media Types for Media Type available Media Type media Types if accepted Media Type is Compatible available Media Type return available Media Type return null Check if media type passed as parameter is supported by this resource param media Type return true if and only if the media type is accepted by this resource public boolean is Media Type Compatible Media Type media Type for Media Type available Media Type media Types if available Media Type is Compatible media Type return true return false 
package org jboss seam deployment import java io Data Input Stream import java io File import java io Exception import java io Input Stream import java lang annotation Annotation import java util Set import java util Map Entry import javassist bytecode Annotations Attribute import javassist bytecode Class File import javax servlet Servlet Context import org jboss seam contexts Servlet Lifecycle import org jboss seam log Log Provider import org jboss seam log Logging Abstract base class for link Scanner providing common functionality This class provides file system orientated scanning author Pete Muir public abstract class Abstract Scanner implements Scanner protected Servlet Context servlet Context private static class Handler Cache descriptors for performance private Class File class File private Class Descriptor class Descriptor private File Descriptor file Descriptor private Set Entry String Deployment Handler deployment Handlers private Class Loader class Loader private String name private Servlet Context servlet Context public Handler String name Set Entry String Deployment Handler deployment Handlers Class Loader class Loader Servlet Context servlet Context this deployment Handlers deployment Handlers this name name this class Loader class Loader this servlet Context servlet Context Return true if the file was handled false if it was ignored protected boolean handle Deployment Handler deployment Handler boolean handled false if deployment Handler instanceof Class Deployment Handler if name ends With class Class Deployment Handler class Deployment Handler Class Deployment Handler deployment Handler if has Annotations get Class File class Deployment Handler get Metadata get Class Annotated With if get Class Descriptor get Clazz null log trace adding class to deployable list name for deployment handler deployment Handler get Name class Deployment Handler get Classes add get Class Descriptor handled true else log debug skipping class name because it can not be loaded may reference a type which is not available on the classpath else if name ends With deployment Handler get Metadata get File Name Suffix deployment Handler get Resources add get File Descriptor handled true return handled protected boolean handle log trace found name boolean handled false for Entry String Deployment Handler entry deployment Handlers if handle entry get Value handled true return handled private Class File get Class File if class File null try class File load Class File name class Loader catch Exception e throw new Runtime Exception Error loading class file name e return class File private Class Descriptor get Class Descriptor if class Descriptor null class Descriptor new Class Descriptor name class Loader servlet Context return class Descriptor private File Descriptor get File Descriptor if file Descriptor null file Descriptor new File Descriptor name class Loader servlet Context return file Descriptor private static final Log Provider log Logging get Log Provider Scanner class private Deployment Strategy deployment Strategy public Abstract Scanner Deployment Strategy deployment Strategy this deployment Strategy deployment Strategy this servlet Context deployment Strategy get Servlet Context Class File class get Package to force loading of javassist throwing an exception if it is missing Deprecated protected Abstract Scanner this servlet Context Servlet Lifecycle get Current Servlet Context protected Abstract Scanner Servlet Context servlet Context this servlet Context servlet Context protected static boolean has Annotations Class File class File Set Class extends Annotation annotation Types if annotation Types size Annotations Attribute visible Annotations Attribute class File get Attribute Annotations Attribute visible Tag if visible null for Class extends Annotation annotation Type annotation Types if visible get Annotation annotation Type get Name null return true return false Get a Javassist link Class File for a given class name from the class Loader protected static Class File load Class File String name Class Loader class Loader throws Exception if name null throw new Null Pointer Exception name can not be null Input Stream stream class Loader get Resource As Stream name if stream null throw new Illegal State Exception Can not load name from class Loader using get Resource As Stream returned null Data Input Stream dstream new Data Input Stream stream try return new Class File dstream finally dstream close stream close public Deployment Strategy get Deployment Strategy return deployment Strategy public long get Timestamp return Long protected void handle Item String name handle name protected boolean handle String name return new Handler name deployment Strategy get Deployment Handlers entry Set deployment Strategy get Class Loader servlet Context handle public void scan Directories File directories File excluded Directories scan Directories directories 
package org jboss seam transaction import static javax transaction Status import static javax transaction Status import static javax transaction Status import static javax transaction Status import static javax transaction Status import javax persistence Entity Manager import javax transaction Synchronization import javax transaction System Exception import org jboss seam Component import org jboss seam Scope Type Base implementation of User Transaction author Gavin King public abstract class Abstract User Transaction implements User Transaction public boolean is Active throws System Exception return get Status public boolean is Active Or Marked Rollback throws System Exception int status get Status return status status public boolean is Rolled Back Or Marked Rollback throws System Exception int status get Status return status status public boolean is Marked Rollback throws System Exception return get Status public boolean is No Transaction throws System Exception return get Status public boolean is Rolled Back throws System Exception return get Status public boolean is Committed throws System Exception return get Status public boolean is Conversation Context Required return false public abstract void register Synchronization Synchronization sync public void enlist Entity Manager entity Manager throws System Exception if is Active Or Marked Rollback entity Manager join Transaction public static Synchronizations get Synchronizations return Synchronizations Component get Instance org jboss seam transaction synchronizations Scope Type 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam public interface Accept public String accept public String reject public String view Task public void destroy 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import javax ejb Remove import javax ejb Stateful import javax persistence Entity Manager import javax persistence Persistence Context import javax persistence Persistence Context Type import org jboss seam annotations bpm Begin Task import org jboss seam annotations bpm End Task import org jboss seam annotations In import org jboss seam annotations Name Stateful Name accept public class Accept Action implements Accept Serializable private static final long serial Version In value current User Admin admin Persistence Context type Persistence Context Type Entity Manager em In Order order In Long order Id Begin Task public String view Task return accept End Task transition approve public String accept order process return admin End Task transition reject public String reject order cancel return admin Remove public void destroy 
package org jboss seam example quartz import java io Serializable import java math Big Decimal import java util List import javax persistence Cascade Type import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence One To Many import javax validation constraints Not Null Entity public class Account implements Serializable Id Generated Value private Long id Not Null Big Decimal balance Not Null String account Number String login String password One To Many mapped By account cascade Cascade Type Order By payment Date private List Payment payments public Long get Id return id public void set Id Long id this id id public String get Account Number return account Number public void set Account Number String account Number this account Number account Number public Big Decimal get Balance return balance public Big Decimal adjust Balance Big Decimal amount balance balance add amount return balance public List Payment get Payments return payments 
package org jboss seam example seamspace import java io Serializable import javax persistence Entity import javax persistence Generated Value import javax persistence Id import org jboss seam annotations security permission Permission Action import org jboss seam annotations security permission Permission Discriminator import org jboss seam annotations security permission Permission Role import org jboss seam annotations security permission Permission Target import org jboss seam annotations security permission Permission User Entity public class Account Permission implements Serializable private static final long serial Version private Integer permission Id private String recipient private String target private String action private String discriminator Id Generated Value public Integer get Permission Id return permission Id public void set Permission Id Integer permission Id this permission Id permission Id Permission User Permission Role public String get Recipient return recipient public void set Recipient String recipient this recipient recipient Permission Target public String get Target return target public void set Target String target this target target Permission Action public String get Action return action public void set Action String action this action action Permission Discriminator public String get Discriminator return discriminator public void set Discriminator String discriminator this discriminator discriminator 
package org jboss seam test integration import org jboss seam annotations Name Name action public class Action public String go return success 
package action Package import javax ejb Stateless import org jboss seam annotations Name import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam log Log import org jboss seam international Status Messages Stateless Name component Name public class bean Name implements interface Name Logger private Log log In Status Messages status Messages public void method Name implement your business logic here log info component Name method Name action called status Messages add method Name add additional action methods 
package action Package import org jboss seam annotations Name import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam log Log import org jboss seam international Status Messages Name component Name public class interface Name Logger private Log log In Status Messages status Messages public void method Name implement your business logic here log info component Name method Name action called status Messages add method Name add additional action methods 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import javax persistence Column import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Table import org hibernate search annotations Analyzer import org hibernate search annotations Document Id import org hibernate search annotations Field import org hibernate search annotations Fields import org hibernate search annotations Index import org hibernate search annotations Indexed Entity Table name Indexed public class Actor implements Serializable private static final long serial Version long id String name Id Generated Value Column name Document Id public long get Id return id public void set Id long id this id id Column name length Fields Field index Index Field index Index name name ngrams analyzer Analyzer definition ngrams public String get Name return name public void set Name String name this name name 
package org jboss seam mail ui import java io Exception import javax faces context Faces Context import javax mail internet Address Exception import javax mail internet Internet Address public abstract class Address Component extends Mail Component private String name private String address public Address Component super get an Internet Address object based upon name address throws Exception throws Address Exception protected Internet Address get Internet Address Faces Context faces Context throws Exception Address Exception Internet Address address new Internet Address address set Address new Header get Address null get Address encode faces Context get Sanitized Value String charset find Message get Charset String personal new Header get Name get Sanitized Value if charset null address set Personal personal else address set Personal personal charset address validate return address Override public void encode Children Faces Context arg throws Exception Disable encoding of children the email address part of the address public String get Address if address null return get String address else return address public void set Address String address this address address the name part of the address public String get Name if name null return get String name else return name public void set Name String name this name name 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import javax persistence Discriminator Value import javax persistence Entity import javax persistence Transient Entity Discriminator Value admin public class Admin extends User implements Serializable private static final long serial Version Transient Override public boolean is Admin return true 
package com jboss dvd seam import java math Big Decimal import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name An example of a Seam component used to handle a j transition event author Gavin King Name after Shipping public class After Shipping Action In Long order Id In Big Decimal amount In scope Scope Type String customer public void log System out println We shipped order Id to customer amount amount 
package org jboss seam example ui import javax faces component Component import javax faces context Faces Context import javax faces convert Converter Exception import org jboss seam annotations Name import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations faces Converter Name age Converter Bypass Interceptors Converter public class Age Converter implements javax faces convert Converter public Object get As Object Faces Context context Component component String value throws Converter Exception Integer i new Integer value return i int Value public String get As String Faces Context context Component component Object value throws Converter Exception return value 
package org jboss seam example ui import org jboss seam annotations Factory import org jboss seam annotations Name Name age List public class Age List Factory ages public int get Ages int ages return ages 
package org jboss seam jmx import java net Inet Address import java security Access Controller import java security Privileged Exception Action import java security Privileged Action Exception import java util Random import javax management Bean Server import javax management Object Name import oswego cs dl util concurrent Synchronized Long import org jboss mx server Server Constants Utility class for creating agent identifiers Also contains the helper method for retrieving the tt Agent tt of an existing Bean server instance see javax management Bean Server Delegate Bean author a href mailto juha jboss org Juha Lindfors a version Revision public class Agent implements Server Constants Static private static Synchronized Long id new Synchronized Long private static final Random rand new Random System current Time Millis Creates a new agent string The identifier is of the form tt lt ip address gt lt creation time in ms gt lt random int gt lt sequence gt tt This Agent string is globally unique return Agent string public static String create String ip Address null try ip Address String Access Controller do Privileged new Privileged Exception Action public Object run throws Exception return Inet Address get Local Host get Host Address catch Privileged Action Exception e ip Address use the to create a more unique that can be used to guarantee that this Bean Server is unique across multiple Ms even on the same host String vmid new java rmi dgc to String replace x replace rand next Int return ip Address System current Time Millis vmid id increment test param args public static void main String args for int c c c System out println Agent create Returns the agent identifier string of a given Bean server instance return tt Bean Server Id tt attribute of the Bean server delegate public static String get Bean Server server try Object Name name new Object Name String agent String server get Attribute name Bean Server Id return agent catch Throwable t throw new Error Can not find the Bean server delegate t to String 
package org jboss seam web import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Exception import java util Hash Map import java util Map import javax servlet Filter Chain import javax servlet Filter Config import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter Seam filter component wrapper for the Ajax This class exists to allow the Ajax filter to be configured in the web namespace The subclass does the actual work see org jboss seam ui filter Ajax jsf Filter Instantiator author Pete Muir Scope Name org jboss seam web ajax jsf Filter Install precedence dependencies org jboss seam web ajax jsf Filter Instantiator Bypass Interceptors Filter public class Ajax jsf Filter extends Abstract Filter private javax servlet Filter delegate private String force Parser private String enable Cache private String log j Init File public void do Filter Servlet Request servlet Request Servlet Response servlet Response Filter Chain chain throws Exception Servlet Exception if delegate null chain do Filter servlet Request servlet Response else delegate do Filter servlet Request servlet Response chain Override public void init Filter Config filter Config throws Servlet Exception super init filter Config delegate javax servlet Filter Component get Instance org jboss seam web ajax jsf Filter Instantiator Scope Type if delegate null Map String String parameters new Hash Map String String if get Force Parser null parameters put forceparser get Force Parser if get Enable Cache null parameters put enable cache get Enable Cache if get Log j Init File null parameters put log j init file get Log j Init File delegate init new Filter Config Wrapper filter Config parameters public String get Enable Cache return enable Cache public void set Enable Cache String enable Cache this enable Cache enable Cache public String get Force Parser return force Parser public void set Force Parser String force Parser this force Parser force Parser public String get Forceparser return force Parser public void set Forceparser String force Parser this force Parser force Parser public String get Log j Init File return log j Init File public void set Log j Init File String log j Init File this log j Init File log j Init File 
package org jboss seam example ui public class Animal public static Animal new Animal Needs lots of exercise Dog public static Animal new Animal Looks after itself Cat public static Animal new Animal Needs a fishtank Goldfish public static Animal new Animal Often has floppy ears Rabbit public static Animal new Animal Better make sure it does n t bite you Snake public static Animal new Animal Peices of Eight Parrot private String notes private String name public Animal String notes String name this notes notes this name name public String get Notes return notes public String get Name return name 
package org jboss seam example ui import java util Array List import java util List import org jboss seam annotations Name import org jboss seam annotations Unwrap Name animals public class Animal List private List Animal animals Unwrap public List Animal unwrap if animals null animals new Array List Animal animals add Animal animals add Animal animals add Animal animals add Animal animals add Animal animals add Animal return animals 
package org jboss seam util import java beans Introspector import java io Serializable import java lang annotation Annotation import java lang reflect Field import java lang reflect Method import java lang reflect Type convenience class for working with an annotated property either a field or method of a Java Bean class author Shane Bryzak public class Annotated Bean Property extends Annotation implements Serializable private static final long serial Version private transient Field property Field private transient Method property Getter private transient Method property Setter private String name private Type property Type private annotation private boolean is Field Property private boolean set false private Class cls private Class extends Annotation annotation Class public Annotated Bean Property Class cls Class extends Annotation annotation Class this cls cls this annotation Class annotation Class init private void init First check declared fields for Field f cls get Declared Fields if f is Annotation Present annotation Class setup Field Property f this annotation f get Annotation annotation Class set true return Then check public fields in case it s inherited for Field f cls get Fields if f is Annotation Present annotation Class this annotation f get Annotation annotation Class setup Field Property f set true return Then check public methods we ignore private methods for Method m cls get Methods if m is Annotation Present annotation Class this annotation m get Annotation annotation Class String method Name m get Name if m get Name starts With get this name Introspector decapitalize m get Name substring else if method Name starts With is this name Introspector decapitalize m get Name substring if this name null this property Getter Reflections get Getter Method cls this name this property Setter Reflections get Setter Method cls this name this property Type this property Getter get Generic Return Type is Field Property false set true else throw new Illegal State Exception Invalid accessor method must start with get or is Method m in class cls public Field get Property Field if property Field null init return property Field public Method get Property Getter if property Getter null init return property Getter public Method get Property Setter if property Setter null init return property Setter private void setup Field Property Field property Field this property Field property Field is Field Property true this name property Field get Name this property Type property Field get Generic Type public void set Value Object bean Object value if is Field Property Reflections set And Wrap get Property Field bean value else Reflections invoke And Wrap get Property Setter bean value public Object get Value Object bean if is Field Property return Reflections get And Wrap get Property Field bean else return Reflections invoke And Wrap get Property Getter bean public String get Name return name public get Annotation return annotation public Type get Property Type return property Type public boolean is Set return set 
package org jboss seam deployment import java lang annotation Annotation import java util Collections import java util Hash Map import java util Hash Set import java util List import java util Map import java util Set import org jboss seam log Log Provider import org jboss seam log Logging public class Annotation Deployment Handler extends Abstract Class Deployment Handler private class Annotation Deployment Handler Metadata implements Class Deployment Metadata private Set Class extends Annotation annotations public Annotation Deployment Handler Metadata Set Class extends Annotation annotations this annotations annotations public Set Class extends Annotation get Class Annotated With return annotations public String get File Name Suffix return null Name under which this link Deployment Handler is registered public static final String org jboss seam deployment Annotation Deployment Handler public static final String org jboss seam deployment annotation Types private static final Log Provider log Logging get Log Provider Annotation Deployment Handler class private Class Deployment Metadata metadata private Map String Set Class classes private Set Class extends Annotation annotations public Annotation Deployment Handler List String annotation Types Class Loader class Loader this annotations new Hash Set Class extends Annotation for String classname annotation Types try annotations add Class extends Annotation class Loader load Class classname catch Class Not Found Exception cnfe log warn could not load annotation class classname cnfe catch Linkage Error ncdfe log warn could not load annotation class missing dependency classname ncdfe catch Class Cast Exception cce log warn could not load annotation class not an annotation classname cce metadata new Annotation Deployment Handler Metadata annotations Get annotated classes public Map String Set Class get Class Map return Collections unmodifiable Map classes public String get Name return public Class Deployment Metadata get Metadata return metadata Override public void post Process Class Loader class Loader classes new Hash Map String Set Class for Class extends Annotation annotation Type annotations classes put annotation Type get Name new Hash Set Class for Class Descriptor class Descriptor get Classes for Annotation annotation class Descriptor get Clazz get Annotations if classes contains Key annotation annotation Type get Name classes get annotation annotation Type get Name add class Descriptor get Clazz 
package org jboss seam exception import org jboss seam annotations exception Http Error Implements Http Error see Http Error author Gavin King public class Annotation Error Handler extends Error Handler Override public boolean is Handler Exception e return e get Class is Annotation Present Http Error class Override protected String get Message Exception e return e get Class get Annotation Http Error class message Override protected int get Code Exception e return e get Class get Annotation Http Error class error Code Override Suppress Warnings deprecation protected boolean is End Exception e return e get Class get Annotation Http Error class end 
package org jboss seam exception import javax faces application Faces Message import javax faces application Faces Message Severity import org jboss seam annotations exception Redirect import org jboss seam core Expressions Implements Redirect see Redirect author Gavin King public class Annotation Redirect Handler extends Redirect Handler Override public boolean is Handler Exception e return e get Class is Annotation Present Redirect class Override protected String get Message Exception e return e get Class get Annotation Redirect class message Override protected Severity get Message Severity Exception e return Faces Message Override protected String get View Id Exception e return Expressions instance create Value Expression e get Class get Annotation Redirect class view Id String class get Value Override Suppress Warnings deprecation protected boolean is End Exception e return e get Class get Annotation Redirect class end 
package org jboss seam example guice author Pawel Wrzeszcz pwrzeszcz at jboss org public class Apple Juice implements Juice private static final String name Apple Juice private static final int price public Apple Juice public String get Name return name public int get Price return price Override public String to String return name 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam resteasy import org jboss seam Scope Type import org jboss seam Component import org jboss seam annotations Auto Create import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Install import javax ws rs core Media Type import java util Easy and configuration override in components xml to customize Tful request processing and Easy settings author Christian Bauer Name org jboss seam resteasy application Scope Scope Type Install precedence Install Auto Create public class Application extends javax ws rs core Application final private Map Class Set Component provider Classes new Hash Map Class Set Component final private Map Class Set Component resource Classes new Hash Map Class Set Component private List String provider Class Names new Array List String private List String resource Class Names new Array List String private Map String String media Type Mappings new Hash Map String String private Map String String language Mappings new Hash Map String String private boolean scan Providers true private boolean scan Resources true private boolean use Builtin Providers true private boolean destroy Session After Request true private String resource Path Prefix rest private boolean strip Seam Resource Path true public Application super public Set Class get Provider Classes return provider Classes key Set Override public Set Class get Classes return resource Classes key Set public void add Provider Class Class clazz provider Classes put clazz null public void add Provider Class Class clazz Component component Set Component components provider Classes get clazz if components null components new Hash Set Component provider Classes put clazz components components add component public void remove Provider Class Class clazz provider Classes remove clazz public void add Resource Class Class clazz resource Classes put clazz null public void add Resource Class Class clazz Set Component new Components Set Component components resource Classes get clazz if components null components new Hash Set Component resource Classes put clazz components components add All new Components public void remove Resource Class Class clazz resource Classes remove clazz public Set Component get Provider Class Component Class clazz return provider Classes get clazz null provider Classes get clazz null public Set Component get Resource Class Component Class clazz return resource Classes get clazz null resource Classes get clazz null public Map String Media Type get Media Type Mappings Map String Media Type ext Map new Hash Map String Media Type for String ext media Type Mappings key Set String value media Type Mappings get ext ext Map put ext Media Type value Of value return ext Map public void set Media Type Mappings Map String String media Type Mappings this media Type Mappings media Type Mappings public Map String String get Language Mappings return language Mappings public void set Language Mappings Map String String language Mappings this language Mappings language Mappings public List String get Provider Class Names return provider Class Names public void set Provider Class Names List String provider Class Names this provider Class Names provider Class Names public List String get Resource Class Names return resource Class Names public void set Resource Class Names List String resource Class Names this resource Class Names resource Class Names public boolean is Scan Providers return scan Providers public void set Scan Providers boolean scan Providers this scan Providers scan Providers public boolean is Scan Resources return scan Resources public void set Scan Resources boolean scan Resources this scan Resources scan Resources public boolean is Use Builtin Providers return use Builtin Providers public void set Use Builtin Providers boolean use Builtin Providers this use Builtin Providers use Builtin Providers public boolean is Destroy Session After Request return destroy Session After Request public void set Destroy Session After Request boolean destroy Session After Request this destroy Session After Request destroy Session After Request public String get Resource Path Prefix return resource Path Prefix public void set Resource Path Prefix String resource Path Prefix this resource Path Prefix resource Path Prefix public boolean is Strip Seam Resource Path return strip Seam Resource Path public void set Strip Seam Resource Path boolean strip Seam Resource Path this strip Seam Resource Path strip Seam Resource Path 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam contexts import java util Map import org jboss seam Scope Type Application context state associated with a deployment to a particular node State is typically neither persistent across deployments not replicated to other nodes author Gavin King public class Application Context extends Basic Context public Application Context Map String Object map super Scope Type map 
package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Synonym for javax ejb Application Exception for use in a pre Java environment author Gavin King Target Retention Documented Inherited public interface Application Exception return true if this exception should set the transaction to rollback only public boolean rollback default false return true if this exception should end the current long running conversation public boolean end default false 
Id Around Invoke java gavin package org jboss seam annotations intercept import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Synonym for javax interceptors Around Invoke for use in a pre Java environment author Gavin King Target Retention Documented public interface Around Invoke 
package org jboss seam annotations intercept import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Synonym for javax interceptors Around Timeout author tremes Target Retention Documented public interface Around Timeout 
Id Array Data Model java gavin package org jboss seam jsf import java io Exception import java io Object Input Stream import java io Object Output Stream import java io Serializable Data Model for arrays author Gavin King public class Array Data Model extends javax faces model Array Data Model implements Serializable private static final long serial Version private void write Object Object Output Stream oos throws Exception oos write Object get Wrapped Data oos write Int get Row Index private void read Object Object Input Stream ois throws Exception Class Not Found Exception this set Wrapped Data ois read Object this set Row Index ois read Int public Array Data Model public Array Data Model Object array super array 
package org jboss seam example seamdiscs model import java util Array List import java util List import javax persistence Cascade Type import javax persistence Column import javax persistence Entity import javax persistence Generated Value import javax persistence Generation Type import javax persistence Id import javax persistence One To Many import javax persistence Order By Entity public class Artist Id Generated Value strategy Generation Type private Integer id private String name One To Many mapped By artist cascade Cascade Type Cascade Type Cascade Type Order By release private List Disc discs Column length private String description public Artist this discs new Array List Disc public Integer get Id return id public void set Id Integer id this id id public String get Name return name public void set Name String name this name name public List Disc get Discs return discs public void set Discs List Disc releases this discs releases public String get Description return description public void set Description String description this description description 
package org jboss seam example seamdiscs action import javax ejb Local import org apache myfaces trinidad model Tree Model import org jboss seam example seamdiscs model Artist author Pete Muir Local public interface Artist Home Methods from Artist Home Impl public Artist get Artist public String get Type public void set Type String type public void add Band Member public void add Disc public Tree Model get Tree public void ejb Remove Methods from Entity Home and Home public Object get Id public void set Id Object id public String persist public String update public boolean is Managed public void create public Object get Instance 
package org jboss seam example seamdiscs action import java util List import javax ejb Remove import javax ejb Stateful import org apache myfaces trinidad model Child Property Tree Model import org apache myfaces trinidad model Tree Model import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations intercept Bypass Interceptors import org jboss seam example seamdiscs model Artist import org jboss seam example seamdiscs model Band import org jboss seam example seamdiscs model Band Member import org jboss seam example seamdiscs model Disc import org jboss seam framework Entity Home Name artist Home Stateful public class Artist Home Impl extends Entity Home Artist implements Artist Home In create true value all Artists result List private List Artist artists Factory public Artist get Artist return super get Instance private String type public String get Type return type public void set Type String type this type type Override protected Artist create Instance if Band class get Simple Name equals Ignore Case get Type return new Band else return new Artist public void add Band Member Band band Band get Instance band get Band Members add new Band Member band public void add Disc get Instance get Discs add new Disc get Instance public Tree Model get Tree return new Child Property Tree Model artists discs Override protected Object get Child Data Object parent Data if parent Data instanceof Artist return super get Child Data parent Data else return null Utility method for to cleanup do n t do anything here so no need for Seam to intercept Remove Bypass Interceptors public void ejb Remove 
package org jboss seam example remoting gwt client import com google gwt core client import com google gwt user client Window import com google gwt user client rpc Async Callback import com google gwt user client rpc Service Def Target import com google gwt user client ui Absolute Panel import com google gwt user client ui Button import com google gwt user client ui Click Listener import com google gwt user client ui Composite import com google gwt user client ui Label import com google gwt user client ui Text Box import com google gwt user client ui Widget This shows how to do a a composite widget in as well as how to call back to the server author Michael Neale public class Ask Question Widget extends Composite private Absolute Panel panel new Absolute Panel public Ask Question Widget Label lbl new Label what do you want to know panel add lbl final Text Box box new Text Box box set Text What is the meaning of life panel add box Button ok new Button Ask ok add Click Listener new Click Listener public void on Click Widget w Validation Utility valid new Validation Utility if valid is Valid box get Text Window alert question has to end with a else ask Server box get Text panel add ok init Widget panel Now lets actually go to the server using a callback its called Ajax for a reason private void ask Server String text get Service ask It text new Async Callback public void on Failure Throwable t Window alert t get Message public void on Success Object data Window alert String data This gets the async service client stub private My Service Async get Service String endpoint get Module Base seam resource gwt My Service Async svc My Service Async create My Service class Service Def Target svc set Service Entry Point endpoint return svc 
package org jboss seam annotations async import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Marks a method as an asynchronous method to be dispatched by the Timer Service If the method returns Timer the return value will be the Timer used for dispatching the method call Otherwise the method should return void Note that asynchronous calls are processed in a different and context to the caller so the actual receiving object may be a different instance of the component to the object that was called author Gavin King see org jboss seam annotations async Expiration see org jboss seam annotations async Duration see org jboss seam annotations async Interval Duration Target Retention Documented public interface Asynchronous 
package org jboss seam async import org jboss seam core Events An asynchronous event author Gavin King public class Asynchronous Event extends Asynchronous static final long serial Version private String type private Object parameters public Asynchronous Event String type Object parameters this type type this parameters parameters Override public void execute Object timer new Contextual Asynchronous Request timer Override protected void process Events instance raise Event type parameters run Override public String to String return Asynchronous Event type protected String get Type return type Override protected void handle Exception final Exception exception Object timer new Contextual Asynchronous Request timer Override protected void process Asynchronous Exception Handler instance handle Exception exception run 
package org jboss seam async import static org jboss seam annotations Install import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging Scope Scope Type Name org jboss seam async asynchronous Exception Handler Install precedence Bypass Interceptors public class Asynchronous Exception Handler private Log Provider log Logging get Log Provider Asynchronous Exception Handler class public void handle Exception Exception throwable log error Exception thrown whilst executing asynchronous call throwable public static Asynchronous Exception Handler instance return Asynchronous Exception Handler Component get Instance Asynchronous Exception Handler class 
package org jboss seam async import static org jboss seam Component Type import org jboss seam annotations async Asynchronous import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam annotations intercept Interceptor Type import org jboss seam contexts Contexts import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context Dispatches method calls to Asynchronous methods asynchronously and returns the timer object if necessary author Gavin King Interceptor stateless true type Interceptor Type public class Asynchronous Interceptor extends Abstract Interceptor private static final long serial Version private static final String org jboss seam async Asynchronous Intercepter Around Invoke public Object around Invoke Invocation Context invocation throws Exception boolean schedule Async invocation get Method is Annotation Present Asynchronous class is Executing Asynchronous Call Contexts get Event Context is Set if schedule Async Dispatcher dispatcher Abstract Dispatcher instance if dispatcher null throw new Illegal State Exception org jboss seam async dispatcher is not installed in components xml Object timer dispatcher schedule Invocation invocation get Component if the method returns a Timer return it to the client return timer null invocation get Method get Return Type is Assignable From timer get Class timer null else boolean set Flag false if is Executing Asynchronous Call Contexts get Event Context set true set Flag true try return invocation proceed finally if set Flag Contexts get Event Context remove private boolean is Executing Asynchronous Call return Contexts get Event Context is Set Abstract Dispatcher public boolean is Interceptor Enabled return get Component get Type is Ejb get Component business Interface Has Annotation Asynchronous class get Component get Type get Component bean Class Has Annotation Asynchronous class 
package org jboss seam async import java lang reflect Method import org jboss seam Component import org jboss seam intercept Invocation Context import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Reflections An asynchronous method invocation author Gavin King public class Asynchronous Invocation extends Asynchronous static final long serial Version private static transient Log Provider log Logging get Log Provider Asynchronous Invocation class private String method Name private Class arg Types private Object args private String component Name public Asynchronous Invocation Method method String component Name Object args this method Name method get Name this arg Types method get Parameter Types this args args null new Object args this component Name component Name public Asynchronous Invocation Invocation Context invocation Component component this invocation get Method component get Name invocation get Parameters Override public void execute Object timer new Contextual Asynchronous Request timer Override protected void process Object target Component get Instance component Name Method method try method target get Class get Method method Name arg Types catch No Such Method Exception nsme throw new Illegal State Exception nsme Reflections invoke And Wrap method target args run Override public String to String return Asynchronous Invocation component Name method Name Override protected void handle Exception final Exception exception Object timer new Contextual Asynchronous Request timer Override protected void process Object target Component get Instance component Name try Method method target get Class get Method handle Asynchronous Exception Exception class log trace Using asynchronous exception handler component Name handle Asynchrons Exception method invoke target exception catch Exception e log trace Using default asynchronous exception handler Asynchronous Exception Handler instance handle Exception exception run 
package org jboss seam example mail import org jboss seam annotations async Asynchronous import org jboss seam annotations Auto Create import org jboss seam annotations Name import org jboss seam annotations async Duration import org jboss seam contexts Contexts import org jboss seam faces Renderer import org jboss seam log Name asynchronous Mail Processor Auto Create public class Asynchronous Mail Processor private static final Log Provider log Logging get Log Provider Asynchronous Mail Processor class Asynchronous public void schedule Send Duration long delay Person person try Contexts get Event Context set person person Renderer instance render simple xhtml catch Exception e log error Error scheduling send e 
package org jboss seam ui converter import java util concurrent atomic Atomic Boolean import java util concurrent atomic Atomic Integer import javax faces component Component import javax faces context Faces Context import javax faces convert Converter import javax faces convert Converter Exception import javax faces convert Faces Converter Converter for java util concurrent atomic Atomic Boolean author Dennis Byrne Faces Converter value org jboss seam ui Atomic Boolean Converter public class Atomic Boolean Converter implements Converter public Object get As Object Faces Context ctx Component ui String string return string null string trim length new Atomic Boolean Boolean parse Boolean string trim null public String get As String Faces Context ctx Component ui Object object String string if object null if object instanceof String string String object else if object instanceof Atomic Boolean string Atomic Boolean object to String else throw new Converter Exception Received an instance of object get Class get Name but was expecting an instance of Atomic Integer class get Name return string 
package org jboss seam ui converter import java util concurrent atomic Atomic Integer import javax faces component Component import javax faces context Faces Context import javax faces convert Converter import javax faces convert Converter Exception import javax faces convert Faces Converter Converter for java util concurrent atomic Atomic Integer author Dennis Byrne Faces Converter value org jboss seam ui Atomic Integer Converter public class Atomic Integer Converter implements Converter public Object get As Object Faces Context ctx Component ui String value Object object null if value null value trim length try object new Atomic Integer Integer parse Int value trim catch Number Format Exception nfe throw new Converter Exception nfe return object public String get As String Faces Context ctx Component ui Object object String string if object null if object instanceof String string String object else if object instanceof Atomic Integer string Atomic Integer object to String else throw new Converter Exception Received an instance of object get Class get Name but was expecting an instance of Atomic Integer class get Name return string 
package org jboss seam ui converter import java util concurrent atomic Atomic Long import javax faces component Component import javax faces context Faces Context import javax faces convert Converter import javax faces convert Converter Exception import javax faces convert Faces Converter Converter for java util concurrent atomic Atomic Long author Dennis Byrne Faces Converter value org jboss seam ui Atomic Long Converter public class Atomic Long Converter implements Converter public Object get As Object Faces Context ctx Component ui String value Object object null if value null value trim length try object new Atomic Long Long parse Long value trim catch Number Format Exception nfe throw new Converter Exception nfe return object public String get As String Faces Context ctx Component ui Object object String string if object null if object instanceof String string String object else if object instanceof Atomic Long string Atomic Long object to String else throw new Converter Exception Received an instance of object get Class get Name but was expecting an instance of Atomic Long class get Name return string 
package org jboss seam example restbay import java io Serializable import java util Date import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Lob import javax persistence Many To One import javax persistence One To One import javax persistence Transient import javax persistence Version import javax validation constraints Not Null Entity public class Auction implements Serializable public static final int public static final int public static final int private static final long serial Version private Integer auction Id private Account account private Category category private String title private String description private Date end Date private Auction Image image private Bid high Bid private int bids private double starting Price private int status private int version Id Generated Value public Integer get Auction Id return auction Id public void set Auction Id Integer auction Id this auction Id auction Id Not Null Many To One Join Column name public Account get Account return account public void set Account Account account this account account Not Null Many To One Join Column name public Category get Category return category public void set Category Category category this category category Not Null public String get Title return title public void set Title String title this title title Not Null Lob public String get Description return description public void set Description String description this description description Not Null public Date get End Date return end Date public void set End Date Date end Date this end Date end Date One To One Join Column name public Auction Image get Image return image public void set Image Auction Image image this image image One To One public Bid get High Bid return high Bid public void set High Bid Bid high Bid this high Bid high Bid public int get Bids return bids public void set Bids int bids this bids bids Transient public long get Time Left return end Date null end Date get Time System current Time Millis Transient public String get Pretty Time Left long time Left get Time Left int days int Math floor time Left time Left days int hours int Math floor time Left time Left hours int minutes int Math floor time Left String Builder sb new String Builder if days sb append String format dd days if hours sb append String format dh hours if minutes sb append String format dm minutes return sb to String Transient public String get Days Hours Left long time Left get Time Left int days int Math floor time Left time Left days int hours int Math floor time Left String Builder sb new String Builder if days sb append String format d days days if hours sb append String format d hour hours if hours sb append s return sb to String public double get Starting Price return starting Price public void set Starting Price double starting Price this starting Price starting Price public int get Status return status public void set Status int status this status status Version public int get Version return version public void set Version int version this version version Transient public double get Current Price return high Bid null high Bid get Actual Amount get Starting Price Transient public double get Required Bid return high Bid null get Required Bid high Bid get Actual Amount get Starting Price Returns the amount required to outbid the specified bid amount param amount The current bid amount return The bid amount required to outbid the current bid Transient static double get Required Bid double amount if amount return Math ceil amount else if amount return Math ceil amount else if amount return Math ceil amount else if amount return Math ceil amount else if amount return Math ceil amount else if amount return Math ceil amount else if amount return Math ceil amount else if amount return Math ceil amount else if amount return Math ceil amount return Math ceil amount 
package org jboss seam example seambay import static org jboss seam Scope Type import java io Serializable import java util Array List import java util Calendar import java util Gregorian Calendar import java util List import javax persistence Entity Manager import org jboss seam annotations Begin import org jboss seam annotations Conversational import org jboss seam annotations End import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations security Restrict import org jboss seam faces Faces Messages This component is used to create new auctions and is invoked via both the web interface and the Auction Service web service author Shane Bryzak Conversational Scope Name auction Action Restrict identity logged In public class Auction Action implements Serializable private static final long serial Version private static final int In Entity Manager entity Manager In Account authenticated Account In create true Auction End Action auction End private Auction auction private int duration Days private List Auction Image images new Array List Auction Image private byte image Data private String image Content Type private boolean primary Image Begin join true public void create Auction if auction null auction new Auction auction set Account authenticated Account auction set Status Auction auction set Starting Price duration Days public void set Details String title String description int category Id auction set Title title auction set Description description auction set Category entity Manager find Category class category Id Allows the auction duration to be overidden from the default param days Number of days to set the auction duration to public void set Duration int days this duration Days days public int get Duration return duration Days public void upload Image if image Data null image Data length Faces Messages instance add No image selected else Auction Image img new Auction Image img set Auction auction img set Data image Data img set Content Type image Content Type if auction get Image null primary Image auction set Image img images add img image Data null image Content Type null End public void confirm Auction Image temp auction get Image auction set Image null Calendar cal new Gregorian Calendar cal add Calendar duration Days auction set End Date cal get Time auction set Status Auction entity Manager persist auction for Auction Image img images entity Manager persist img auction set Image temp entity Manager merge auction End the auction at the correct time auction End end Auction auction get Auction Id auction get End Date public Auction get Auction return auction public void set Auction Auction auction this auction auction public Integer get Category Id return auction get Category null auction get Category get Category Id null public void set Category Id Integer category Id auction set Category entity Manager find Category class category Id public void set Image Data byte image Data this image Data image Data public void set Image Content Type String content Type this image Content Type content Type public void set Primary Image boolean primary this primary Image primary public List Auction Image get Images return images 
package org jboss seam example seambay import java util List import javax persistence Entity Manager import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name Name auction Detail public class Auction Detail Action In Entity Manager entity Manager In required false Account authenticated Account private int selected Auction Id private Auction auction private String status Suppress Warnings unchecked Factory auction public Auction get Auction auction entity Manager find Auction class selected Auction Id if authenticated Account null List Bid bids entity Manager create Query from Bid b where b auction auction set Parameter auction auction get Result List boolean is Bidder false for Bid b bids if b get Account equals authenticated Account is Bidder true break if is Bidder status auction get High Bid get Account equals authenticated Account high Bidder outbid return auction public int get Selected Auction Id return selected Auction Id public void set Selected Auction Id int selected Auction Id this selected Auction Id selected Auction Id public String get Status return status 
package org jboss seam example restbay import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Transactional import org jboss seam annotations async Asynchronous import org jboss seam annotations async Expiration import javax persistence Entity Manager import javax persistence Lock Mode Type import java util Date Name auction End public class Auction End Action In Entity Manager entity Manager Asynchronous Transactional public void end Auction int auction Id Expiration Date end Date System out println Auction auction Id ending Auction auction entity Manager find Auction class auction Id entity Manager lock auction Lock Mode Type auction set Status Auction entity Manager merge auction 
package org jboss seam example restbay import java io Serializable import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Lob import javax persistence Many To One import javax xml bind annotation Xml Transient Entity public class Auction Image implements Serializable private static final long serial Version private Integer image Id private Auction auction private byte data private String content Type Id Generated Value public Integer get Image Id return image Id public void set Image Id Integer image Id this image Id image Id Xml Transient Many To One Join Column name public Auction get Auction return auction public void set Auction Auction auction this auction auction Lob public byte get Data return data public void set Data byte data this data data public String get Content Type return content Type public void set Content Type String content Type this content Type content Type 
package org jboss seam example seambay import java io Serializable import java util Array List import java util Collections import java util Comparator import java util Hash Map import java util Hash Set import java util List import java util Map import java util Set import java util Map Entry import javax persistence Entity Manager import org jboss seam Scope Type import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations datamodel Data Model import org jboss seam annotations datamodel Data Model Selection Name auction Search Scope Scope Type public class Auction Search Action implements Serializable private static final long serial Version In Entity Manager entity Manager private int page Size private int page private String search Term private Category search Category private boolean title And Description Data Model private List Auction auctions Data Model Selection private Auction selected Auction private Map Category Long search Categories new Hash Map Category Long Suppress Warnings unchecked public void query Auctions String Builder qry new String Builder qry append from Auction a where a status and end Date current Datetime if title And Description qry append and lower title like search Pattern or lower description like search Pattern else qry append and lower title like search Pattern if search Category null qry append and a category in sub Categories auctions entity Manager create Query qry to String set Max Results page Size set First Result page page Size get Result List search Categories clear String Builder cat Query new String Builder cat Query append select a category category Id count a from Auction a where lower a title like search Pattern and a end Date current Datetime and a status if search Category null cat Query append and a category in sub Categories cat Query append group by a category category Id for Object result List Object entity Manager create Query cat Query to String get Result List search Categories put entity Manager find Category class result Long result public void query All Auctions search Category null query Auctions Factory value search Pattern scope Scope Type public String get Search Pattern return search Term null search Term to Lower Case replace public String get Search Term return search Term public void set Search Term String search Term this search Term search Term public int get Page Size return page Size public void set Page Size int page Size this page Size page Size public int get Page return page public void set Page int page this page page public List Entry get Search Categories List Entry cats new Array List Entry search Categories entry Set Collections sort cats new Comparator Entry public int compare Entry e Entry e return Category e get Key get Name compare To Ignore Case Category e get Key get Name return cats public void select Category Category category set Search Category category query Auctions Factory value sub Categories scope Scope Type public Set Category get Sub Categories Set Category categories new Hash Set Category categories add search Category add Sub Categories search Category categories return categories Suppress Warnings unchecked private void add Sub Categories Category parent Set Category categories List Category children entity Manager create Query from Category where parent parent set Parameter parent parent get Result List for Category child children categories add child add Sub Categories child categories public Category get Search Category return search Category public List Auction get Auctions return auctions public void set Search Category Category category this search Category category public Integer get Selected Category Id return search Category null search Category get Category Id null public void set Selected Category Id Integer category Id this search Category entity Manager find Category class category Id public boolean is Title And Description return title And Description public void set Title And Description boolean value this title And Description value 
package org jboss seam example restbay import org jboss seam annotations In import org jboss seam annotations Name import javax persistence Entity Manager import javax ws rs import javax ws rs Path import javax ws rs Path Param import javax ws rs Produces import javax ws rs core Context import javax ws rs core Http Headers import javax ws rs core Uri Info import java net import java util List author Christian Bauer Name auction Service Path auction public class Auction Service Context private Uri Info uri Info private Http Headers headers Context public void set Headers Http Headers headers this headers headers In Entity Manager entity Manager Produces text plain public String get Auctions built uri Info get Absolute Path Builder path build We ca n t test for context prefix here as we do n t have a context in unit tests but we have it when the application is deployed so use ends With assert built get Path ends With seam resource restv auction This is supposed to test field and setter injection for Context assert uri Info get Path equals auction assert headers get Acceptable Media Types size assert headers get Acceptable Media Types get to String equals text plain List Object auctions entity Manager create Query select a auction Id a title from Auction a order by a auction Id asc get Result List String Builder s new String Builder for Object auction auctions s append auction append append auction append n return s to String Path auction Id Produces text plain public String get Auction Context Http Headers http Headers Path Param auction Id int auction Id assert http Headers get Acceptable Media Types size assert http Headers get Acceptable Media Types get to String equals text plain return entity Manager find Auction class auction Id get Title 
package org jboss seam example seambay import javax ejb Remote Remote public interface Auction Service Remote boolean login String username String password boolean logout Category list Categories void create Auction String title String description int category Id Auction get New Auction Details void update Auction Details String title String description int category Id void set Auction Duration int days void set Auction Price double price void confirm Auction Auction find Auctions String search Term 
package org jboss seam example openid import org jboss seam annotations import org jboss seam security openid Name authenticator public class Auth In create false Open Id openid public boolean authenticate System out println openid openid get Validated Id return true public boolean authenticate Open return true 
package org jboss seam example seamspace import org jboss seam annotations Name import org jboss seam annotations Observer import org jboss seam contexts Contexts import org jboss seam security management Jpa Identity Store Name authentication Events public class Authentication Events Observer Jpa Identity Store public void login Successful Member Account account Contexts get Session Context set authenticated Member account get Member 
package org jboss seam web import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Exception import java util Hash Map import java util Map import javax security auth login Login Exception import javax servlet Filter Chain import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam annotations Install import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter import org jboss seam log Log import org jboss seam security Credentials import org jboss seam security Identity import org jboss seam security Not Logged In Exception import org jboss seam security digest Digest Request import org jboss seam security digest Digest Utils import org jboss seam security digest Digest Validation Exception import org jboss seam servlet Contextual Http Servlet Request import org jboss seam util Base Seam Servlet Filter supporting Basic and Digest authentication Some code adapted from Acegi author Shane Bryzak Scope Name org jboss seam web authentication Filter Install value false precedence Bypass Interceptors Filter within org jboss seam web exception Filter public class Authentication Filter extends Abstract Filter private static final String seam App private static final String basic private static final String digest Logger Log log public enum Auth Type basic digest private String realm private String key private int nonce Validity Seconds private String auth Type public void set Realm String realm this realm realm public String get Realm return realm public void set Auth Type String auth Type this auth Type auth Type public String get Auth Type return auth Type public String get Key return key public void set Key String key this key key public int get Nonce Validity Seconds return nonce Validity Seconds public void set Nonce Validity Seconds int value this nonce Validity Seconds value public void do Filter Servlet Request request Servlet Response response final Filter Chain chain throws Exception Servlet Exception if request instanceof Http Servlet Request throw new Servlet Exception This filter can only process Http Servlet Request requests final Http Servlet Request http Request Http Servlet Request request final Http Servlet Response http Response Http Servlet Response response Force session creation http Request get Session new Contextual Http Servlet Request http Request Override public void process throws Servlet Exception Exception Login Exception if equals auth Type process Basic Auth http Request http Response chain else if equals auth Type process Digest Auth http Request http Response chain else throw new Servlet Exception Invalid authentication type run private void process Basic Auth Http Servlet Request request Http Servlet Response response Filter Chain chain throws Exception Servlet Exception Identity identity Identity instance if identity null throw new Servlet Exception Identity not found please ensure that the Identity component is created on startup Credentials credentials identity get Credentials boolean require Auth false String header request get Header Authorization if header null header starts With Basic String base Token header substring String token new String Base decode base Token String username String password int delim token index Of if delim username token substring delim password token substring delim Only reauthenticate if username does n t match Identity username and user is n t authenticated if username equals credentials get Username identity is Logged In try credentials set Password password authenticate request username catch Exception ex log warn Error authenticating ex get Message require Auth true if identity is Logged In credentials is Set require Auth true try if require Auth chain do Filter request response return catch Not Logged In Exception ex require Auth true if require Auth identity is Logged In response add Header Authenticate Basic realm realm response send Error Http Servlet Response Not authorized private void process Digest Auth Http Servlet Request request Http Servlet Response response Filter Chain chain throws Exception Servlet Exception Identity identity Identity instance if identity null throw new Servlet Exception Identity not found please ensure that the Identity component is created on startup Credentials credentials identity get Credentials boolean require Auth false boolean nonce Expired false String header request get Header Authorization if header null header starts With Digest String section response header substring String header Entries section response split Map String String header Map new Hash Map String String for String entry header Entries String vals split entry header Map put vals trim vals replace trim Digest Request digest Request new Digest Request digest Request set Http Method request get Method digest Request set System Realm realm digest Request set Realm header Map get realm digest Request set Key key digest Request set Nonce header Map get nonce digest Request set Uri header Map get uri digest Request set Client Digest header Map get response digest Request set Qop header Map get qop digest Request set Nonce Count header Map get nc digest Request set Client Nonce header Map get cnonce try digest Request validate request get Session set Attribute Digest Request digest Request authenticate request header Map get username catch Digest Validation Exception ex log warn String format Digest validation failed header s s section response ex get Message require Auth true if ex is Nonce Expired nonce Expired true catch Exception ex log warn Error authenticating ex get Message require Auth true if identity is Logged In credentials is Set require Auth true try if require Auth chain do Filter request response return catch Not Logged In Exception ex require Auth true if require Auth identity is Logged In long expiry Time System current Time Millis nonce Validity Seconds String signature Value Digest Utils md Hex expiry Time key String nonce Value expiry Time signature Value String nonce Value Base Base encode Bytes nonce Value get Bytes qop is quality of protection as defined by we do not use opaque due to violation of in not representing opaque on subsequent requests in same session String authenticate Header Digest realm realm qop auth nonce nonce Value Base if nonce Expired authenticate Header authenticate Header stale true response add Header Authenticate authenticate Header response send Error Http Servlet Response private void authenticate Http Servlet Request request final String username throws Servlet Exception Exception Login Exception Identity identity Identity instance identity get Credentials set Username username identity authenticate private String split String to Split String delimiter if delimiter length throw new Illegal Argument Exception Delimiter can only be one character in length int offset to Split index Of delimiter if offset return null String before Delimiter to Split substring offset String after Delimiter to Split substring offset return new String before Delimiter after Delimiter 
package com jboss dvd seam import javax ejb Local Local public interface Authenticator boolean authenticate 
package com jboss dvd seam import javax ejb Stateless import javax persistence Entity Manager import javax persistence Persistence Exception import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam bpm Actor import org jboss seam security Identity Stateless Name authenticator public class Authenticator Action implements Authenticator In private Entity Manager entity Manager In Actor actor In Identity identity Out required false scope Scope Type User current User public boolean authenticate try current User User entity Manager create Query select u from User u where u user Name identity username and u password identity password get Single Result catch Persistence Exception e return false actor set Id identity get Username if current User instanceof Admin actor get Group Actor Ids add shippers actor get Group Actor Ids add reviewers identity add Role admin return true 
package action Package import javax ejb Stateless import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam log Log import org jboss seam security Credentials import org jboss seam security Identity Stateless Name authenticator public class Authenticator Bean implements Authenticator Logger private Log log In Identity identity In Credentials credentials public boolean authenticate log info authenticating credentials get Username write your authentication logic here return true if the authentication was successful false otherwise if admin equals credentials get Username identity add Role admin return true return false 
package action Package import javax ejb Local Local public interface Authenticator boolean authenticate 
package org jboss seam security import javax ejb Application Exception Thrown when an authenticated user has insufficient rights to carry out an action author Shane Bryzak Application Exception rollback true public class Authorization Exception extends Runtime Exception public Authorization Exception String message super message 
package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Specifies that the annotated component should be automatically instantiated whenever it is asked for even if In does not specify create true If this annotation appears at the package level it applies to all components in the package author Gavin King Target Retention Documented public interface Auto Create 
package org jboss seam remoting wrapper import java io Exception import java io Output Stream import java lang reflect Array import java lang reflect Parameterized Type import java lang reflect Type import java util Array List import java util Collection import java util Hash Set import java util Linked List import java util List import java util Queue import java util Set import org dom j Element import org hibernate collection spi Persistent Collection Wrapper for collections arrays etc author Shane Bryzak public class Bag Wrapper extends Base Wrapper implements Wrapper private static final byte bag get Bytes private static final byte bag get Bytes private static final byte element get Bytes private static final byte element get Bytes public void marshal Output Stream out throws Exception out write Fix to prevent uninitialized lazy loading in Hibernate if value instanceof Persistent Collection if Persistent Collection value was Initialized out write return Collection vals null If the value is an array convert it to a Collection if value get Class is Array vals new Array List for int i i Array get Length value i vals add Array get value i else if Collection class is Assignable From value get Class vals Collection value else throw new Runtime Exception String format Can not marshal object as bag s value for Object val vals out write context create Wrapper From Object val path marshal out out write out write Suppress Warnings unchecked public Object convert Type type throws Conversion Exception First convert the elements in the bag to a List of Wrappers List Wrapper vals new Array List Wrapper for Element e List Element element elements element vals add context create Wrapper From Element Element e elements get if type instanceof Class Class type is Array Class array Type Class type get Component Type value Array new Instance array Type vals size Fix this for int i i vals size i Array set value i vals get i convert array Type else if type instanceof Class Collection class is Assignable From Class type try value get Concrete Class Class type new Instance catch Exception ex throw new Conversion Exception String format Could not create instance of target type s type for Wrapper w vals Collection value add w convert Object class else if type instanceof Parameterized Type Collection class is Assignable From Class Parameterized Type type get Raw Type Class raw Type Class Parameterized Type type get Raw Type Type gen Type Object class for Type t Parameterized Type type get Actual Type Arguments gen Type t break try value get Concrete Class raw Type new Instance catch Exception ex throw new Conversion Exception String format Could not create instance of target type s raw Type for Wrapper w vals Collection value add w convert gen Type return value private Class get Concrete Class Class c if c is Interface Support Set Queue and by default and as a last resort List if Set class is Assignable From c return Hash Set class else if Queue class is Assignable From c return Linked List class else return Array List class else return c param cls Class return Conversion Score public Conversion Score conversion Score Class cls There s no such thing as an exact match for a bag so we ll just look for a compatible match if cls is Array return Conversion Score compatible if cls equals Object class return Conversion Score compatible if Collection class is Assignable From cls return Conversion Score compatible return Conversion Score nomatch 
package org jboss seam example seamdiscs model import java util Array List import java util List import javax persistence Cascade Type import javax persistence Entity import javax persistence One To Many Entity public class Band extends Artist One To Many mapped By band cascade Cascade Type private List Band Member band Members new Array List Band Member public List Band Member get Band Members return band Members public void set Band Members List Band Member band Members this band Members band Members 
package org jboss seam example seamdiscs model import javax persistence Entity import javax persistence Generated Value import javax persistence Generation Type import javax persistence Id import javax persistence Many To One Entity public class Band Member Id Generated Value strategy Generation Type private Integer id private String name Many To One private Band band public Band Member public Band Member Band band this band band public Band get Band return band public void set Band Band band this band band public Integer get Id return id public void set Id Integer id this id id public String get Name return name public void set Name String name this name name 
package org jboss seam example seamdiscs action import java util List import org jboss seam annotations Name import org jboss seam annotations Transactional import org jboss seam example seamdiscs model Band Member import org jboss seam framework Entity Controller Name band Member Finder public class Band Member Finder extends Entity Controller Transactional public List Band Member get Band Members Object name return get Entity Manager create Query select bm from Band Member bm where lower bm name like lower name set Parameter name name get Result List 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam test unit import java io Serializable import org jboss seam Scope Type import org jboss seam annotations Begin import org jboss seam annotations Conversational import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations End import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations Scope author a href mailto theute jboss org Thomas Heute a Name bar Scope Scope Type Conversational public class Bar implements Serializable private static final long serial Version In required true Foo other Foo In create true Foo foo Out required false String string Out required false scope Scope Type String other String Begin public String begin return begun public String foo string out other String out Again return foo End public String end return ended Destroy public void destroy Create public void create 
package org jboss seam util p Encodes and decodes to and from Base notation p p Homepage a href http iharder net base http iharder net base a p p Change Log p ul li v Fixed bug using and encodings Fixed bug when using very small files bytes li li v Added some helper methods for encoding decoding directly from one file to the next Also added a main method to support command line encoding decoding from one file to the next Also added these Base dialects ol li The default is format li li Calling Base set Format Base generates and file name friendly format as described in Section of http www faqs org rfcs rfc html li li Calling Base set Format Base generates and file name friendly format that preserves lexical ordering as described in http www faqs org qa rfcc html li ol Special thanks to Jim Kellerman at a href http www powerset com http www powerset com a for contributing the new Base dialects li li v Cleaned up javadoc comments and unused variables and methods Added some convenience methods for reading and writing to and from files li li v Now specifies encoding in places where the code fails on systems with other encodings like li li v Fixed an error when decoding a single byte that is when the encoded data was a single byte li li v got rid of methods that used booleans to set options Now everything is more consolidated and cleaner The code now detects when data that s being decoded is gzip compressed and will decompress it automatically Generally things are cleaner You ll probably have to change some method calls that you were making to support the new options format tt int tt s that you together li li v Fixed bug when decompressing and decoding to a byte using tt decode String s boolean gzip Compressed tt Added the ability to suspend encoding in the Output Stream so you can turn on and off the encoding if you need to embed base data in an otherwise normal stream like an file li li v Output stream pases on flush command but does n t do anything itself This helps when using streams Added the ability to Zip compress objects before encoding them li li v Added helper methods to read write files li li v Fixed Output Stream flush so that position is reset li li v Added flag to turn on and off line breaks Fixed bug in input stream where last buffer being read if not completely full was not returned li li v Fixed when improperly padded stream error was thrown at the wrong time li li v Fixed streams which were totally messed up li ul p am placing this code in the Public Domain Do with it as you will This software comes with no guarantees or warranties but with plenty of well wishing instead Please visit a href http iharder net base http iharder net base a periodically to check for updates or to contribute improvements p author Robert Harder author rob iharder net version public class Base No options specified Value is zero public final static int Specify encoding public final static int Specify decoding public final static int Specify that data should be gzip compressed public final static int Do n t break lines when encoding violates strict Base specification public final static int Encode using Base like encoding that is and Filename safe as described in Section of a href http www faqs org rfcs rfc html http www faqs org rfcs rfc html a It is important to note that data encoded this way is em not em officially valid Base or at the very least should not be called Base without also specifying that is was encoded using the and Filename safe dialect public final static int Encode using the special ordered dialect of Base described here a href http www faqs org qa rfcc html http www faqs org qa rfcc html a public final static int Maximum line length of Base output private final static int The equals sign as a byte private final static byte byte The new line character n as a byte private final static byte byte n Preferred encoding private final static String think end up not using the indicator private final static byte Indicates error in encoding private final static byte Indicates white space in encoding private final static byte Indicates equals sign in encoding The valid Base values private final static byte Host platform me be something funny like so we hardcode these values private final static byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte a byte b byte c byte d byte e byte f byte g byte h byte i byte j byte k byte l byte m byte n byte o byte p byte q byte r byte s byte t byte u byte v byte w byte x byte y byte z byte byte byte byte byte byte byte byte byte byte byte byte Translates a Base value to either its bit reconstruction value or a negative number indicating some other meaning private final static byte Decimal Whitespace Tab and Linefeed Decimal Whitespace Carriage Return Decimal Decimal Whitespace Space Decimal Plus sign at decimal Decimal Slash at decimal Numbers zero through nine Decimal Equals sign at decimal Decimal Letters through Letters through Decimal Letters a through m Letters n through z Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal Used in the and Filename safe dialect described in Section of a href http www faqs org rfcs rfc html http www faqs org rfcs rfc html a Notice that the last two bytes become hyphen and underscore instead of plus and slash private final static byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte a byte b byte c byte d byte e byte f byte g byte h byte i byte j byte k byte l byte m byte n byte o byte p byte q byte r byte s byte t byte u byte v byte w byte x byte y byte z byte byte byte byte byte byte byte byte byte byte byte byte Used in decoding and Filename safe dialects of Base private final static byte Decimal Whitespace Tab and Linefeed Decimal Whitespace Carriage Return Decimal Decimal Whitespace Space Decimal Plus sign at decimal Decimal Minus sign at decimal Decimal Slash at decimal Numbers zero through nine Decimal Equals sign at decimal Decimal Letters through Letters through Decimal Underscore at decimal Decimal Letters a through m Letters n through z Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal do n t get the point of this technique but it is described here a href http www faqs org qa rfcc html http www faqs org qa rfcc html a private final static byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte byte a byte b byte c byte d byte e byte f byte g byte h byte i byte j byte k byte l byte m byte n byte o byte p byte q byte r byte s byte t byte u byte v byte w byte x byte y byte z Used in decoding the ordered dialect of Base private final static byte Decimal Whitespace Tab and Linefeed Decimal Whitespace Carriage Return Decimal Decimal Whitespace Space Decimal Plus sign at decimal Decimal Minus sign at decimal Decimal Slash at decimal Numbers zero through nine Decimal Equals sign at decimal Decimal Letters through Letters through Decimal Underscore at decimal Decimal Letters a through m Letters n through z Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal Decimal Returns one of the byte arrays depending on the options specified It s possible though silly to specify and in which case one of them will be picked though there is no guarantee as to which one will be picked private final static byte get Alphabet int options if options return else if options return else return end get Alphabet Returns one of the byte arrays depending on the options specified It s possible though silly to specify and in which case one of them will be picked though there is no guarantee as to which one will be picked private final static byte get Decodabet int options if options return else if options return else return end get Alphabet Defeats instantiation private Base Encodes or decodes two files from the command line strong feel free to delete this method in fact you probably should if you re embedding this code into a larger program strong public final static void main String args if args length usage Not enough arguments end if args length else String flag args String infile args String outfile args if flag equals e Base encode File To File infile outfile end if encode else if flag equals d Base decode File To File infile outfile end else if decode else usage Unknown flag flag end else end else end main Prints command line usage param msg message to include with usage info private final static void usage String msg System err println msg System err println Usage java Base e d inputfile outputfile end usage Encodes up to the first three bytes of array var three Bytes var and returns a four byte array in Base notation The actual number of significant bytes in your array is given by var num Sig Bytes var The array var three Bytes var needs only be as big as var num Sig Bytes var Code can reuse a byte array by passing a four byte array as var b var param b reusable byte array to reduce array instantiation param three Bytes the array to convert param num Sig Bytes the number of significant bytes in your array return four byte array in Base notation since private static byte encode to byte b byte three Bytes int num Sig Bytes int options encode to three Bytes num Sig Bytes b options return b end encode to p Encodes up to three bytes of the array var source var and writes the resulting four Base bytes to var destination var The source and destination arrays can be manipulated anywhere along their length by specifying var src Offset var and var dest Offset var This method does not check to make sure your arrays are large enough to accomodate var src Offset var for the var source var array or var dest Offset var for the var destination var array The actual number of significant bytes in your array is given by var num Sig Bytes var p p This is the lowest level of the encoding methods with all possible parameters p param source the array to convert param src Offset the index where conversion begins param num Sig Bytes the number of significant bytes in your array param destination the array to hold the conversion param dest Offset the index where output will be put return the var destination var array since private static byte encode to byte source int src Offset int num Sig Bytes byte destination int dest Offset int options byte get Alphabet options Bit position Array position from three Bytes Six bit groups to index Right shift necessary x f x f x f Additional Create buffer with zero padding if there are only one or two significant bytes passed in the array We have to shift left in order to flush out the s that appear when Java treats a value as negative that is cast from a byte to an int int in Buff num Sig Bytes source src Offset num Sig Bytes source src Offset num Sig Bytes source src Offset switch num Sig Bytes case destination dest Offset in Buff destination dest Offset in Buff x f destination dest Offset in Buff x f destination dest Offset in Buff x f return destination case destination dest Offset in Buff destination dest Offset in Buff x f destination dest Offset in Buff x f destination dest Offset return destination case destination dest Offset in Buff destination dest Offset in Buff x f destination dest Offset destination dest Offset return destination default return destination end switch end encode to Serializes an object and returns the Base encoded version of that serialized object If the object can not be serialized or there is another error the method will return tt null tt The object is not Zip compressed before being encoded param serializable Object The object to encode return The Base encoded object since public static String encode Object java io Serializable serializable Object return encode Object serializable Object end encode Object Serializes an object and returns the Base encoded version of that serialized object If the object can not be serialized or there is another error the method will return tt null tt p Valid options pre gzip compresses object before encoding it do n t break lines at characters i Note Technically this makes your encoding non compliant i pre p Example code encode Object my Obj Base code or p Example code encode Object my Obj Base Base code param serializable Object The object to encode param options Specified options return The Base encoded object see Base see Base since public static String encode Object java io Serializable serializable Object int options Streams java io Byte Array Output Stream baos null java io Output Stream b os null java io Object Output Stream oos null java util zip Output Stream gzos null Isolate options int gzip options int dont Break Lines options try Object Output Stream Base Byte Array Output Stream baos new java io Byte Array Output Stream b os new Base Output Stream baos options Zip if gzip gzos new java util zip Output Stream b os oos new java io Object Output Stream gzos end if gzip else oos new java io Object Output Stream b os oos write Object serializable Object end try catch java io Exception e e print Stack Trace return null end catch finally try oos close catch Exception e try gzos close catch Exception e try b os close catch Exception e try baos close catch Exception e end finally Return value according to relevant encoding try return new String baos to Byte Array end try catch java io Unsupported Encoding Exception uue return new String baos to Byte Array end catch end encode Encodes a byte array into Base notation Does not Zip compress data param source The data to convert since public static String encode Bytes byte source return encode Bytes source source length end encode Bytes Encodes a byte array into Base notation p Valid options pre gzip compresses object before encoding it do n t break lines at characters i Note Technically this makes your encoding non compliant i pre p Example code encode Bytes my Data Base code or p Example code encode Bytes my Data Base Base code param source The data to convert param options Specified options see Base see Base since public static String encode Bytes byte source int options return encode Bytes source source length options end encode Bytes Encodes a byte array into Base notation Does not Zip compress data param source The data to convert param off Offset in array where conversion should begin param len Length of data to convert since public static String encode Bytes byte source int off int len return encode Bytes source off len end encode Bytes Encodes a byte array into Base notation p Valid options pre gzip compresses object before encoding it do n t break lines at characters i Note Technically this makes your encoding non compliant i pre p Example code encode Bytes my Data Base code or p Example code encode Bytes my Data Base Base code param source The data to convert param off Offset in array where conversion should begin param len Length of data to convert param options Specified options alphabet type is pulled from this standard url safe ordered see Base see Base since public static String encode Bytes byte source int off int len int options Isolate options int dont Break Lines options int gzip options Compress if gzip java io Byte Array Output Stream baos null java util zip Output Stream gzos null Base Output Stream b os null try Zip Base Byte Array baos new java io Byte Array Output Stream b os new Base Output Stream baos options gzos new java util zip Output Stream b os gzos write source off len gzos close end try catch java io Exception e e print Stack Trace return null end catch finally try gzos close catch Exception e try b os close catch Exception e try baos close catch Exception e end finally Return value according to relevant encoding try return new String baos to Byte Array end try catch java io Unsupported Encoding Exception uue return new String baos to Byte Array end catch end if compress Else do n t compress Better not to use streams at all then else Convert option to boolean in way that code likes it boolean break Lines dont Break Lines int len len byte out Buff new byte len Main len Account for padding break Lines len New lines int d int e int len len int line Length for d len d e encode to source d off out Buff e options line Length if break Lines line Length out Buff e e line Length end if end of line en dfor each piece of array if d len encode to source d off len d out Buff e options e end if some padding needed Return value according to relevant encoding try return new String out Buff e end try catch java io Unsupported Encoding Exception uue return new String out Buff e end catch end else do n t compress end encode Bytes Decodes four bytes from array var source var and writes the resulting bytes up to three of them to var destination var The source and destination arrays can be manipulated anywhere along their length by specifying var src Offset var and var dest Offset var This method does not check to make sure your arrays are large enough to accomodate var src Offset var for the var source var array or var dest Offset var for the var destination var array This method returns the actual number of bytes that were converted from the Base encoding p This is the lowest level of the decoding methods with all possible parameters p param source the array to convert param src Offset the index where conversion begins param destination the array to hold the conversion param dest Offset the index where output will be put param options alphabet type is pulled from this standard url safe ordered return the number of decoded bytes converted since private static int decode to byte source int src Offset byte destination int dest Offset int options byte get Decodabet options Example Dk if source src Offset Two ways to do the same thing Do n t know which way like best int out Buff source src Offset source src Offset int out Buff source src Offset x source src Offset x destination dest Offset byte out Buff return Example Dk else if source src Offset Two ways to do the same thing Do n t know which way like best int out Buff source src Offset source src Offset source src Offset int out Buff source src Offset x source src Offset x source src Offset x destination dest Offset byte out Buff destination dest Offset byte out Buff return Example Dk else try Two ways to do the same thing Do n t know which way like best int out Buff source src Offset source src Offset source src Offset source src Offset int out Buff source src Offset x source src Offset x source src Offset x source src Offset x destination dest Offset byte out Buff destination dest Offset byte out Buff destination dest Offset byte out Buff return catch Exception e System out println source src Offset source src Offset System out println source src Offset source src Offset System out println source src Offset source src Offset System out println source src Offset source src Offset return end catch end decode To Bytes Very low level access to decoding characters in the form of a byte array Does not support automatically gunzipping or any other fancy features param source The Base encoded data param off The offset of where to begin decoding param len The length of characters to decode return decoded data since public static byte decode byte source int off int len int options byte get Decodabet options int len len byte out Buff new byte len Upper limit on size of output int out Buff Posn byte b new byte int b Posn int i byte sbi Crop byte sbi Decode for i off i off len i sbi Crop byte source i x f Only the low seven bits sbi Decode sbi Crop if sbi Decode White space Equals sign or better if sbi Decode b b Posn sbi Crop if b Posn out Buff Posn decode to b out Buff out Buff Posn options b Posn If that was the equals sign break out of for loop if sbi Crop break end if quartet built end if equals sign or better end if white space equals sign or better else System err println Bad Base input character at i source i decimal return null end else each input character byte out new byte out Buff Posn System arraycopy out Buff out out Buff Posn return out end decode Decodes data from Base notation automatically detecting gzip compressed data and decompressing it param s the string to decode return the decoded data since public static byte decode String s return decode s Decodes data from Base notation automatically detecting gzip compressed data and decompressing it param s the string to decode param options encode options such as return the decoded data since public static byte decode String s int options byte bytes try bytes s get Bytes end try catch java io Unsupported Encoding Exception uee bytes s get Bytes end catch change Decode bytes decode bytes bytes length options Check to see if it s gzip compressed Magic Two Byte Number x b f if bytes null bytes length int head bytes xff bytes xff if java util zip Input Stream head java io Byte Array Input Stream bais null java util zip Input Stream gzis null java io Byte Array Output Stream baos null byte buffer new byte int length try baos new java io Byte Array Output Stream bais new java io Byte Array Input Stream bytes gzis new java util zip Input Stream bais while length gzis read buffer baos write buffer length end while reading input No error Get new bytes bytes baos to Byte Array end try catch java io Exception e Just return originally decoded bytes end catch finally try baos close catch Exception e try gzis close catch Exception e try bais close catch Exception e end finally end if gzipped end if bytes length return bytes end decode Attempts to decode Base data and deserialize a Java Object within Returns tt null tt if there was an error param encoded Object The Base data to decode return The decoded and deserialized object since public static Object decode To Object String encoded Object Decode and gunzip if necessary byte obj Bytes decode encoded Object java io Byte Array Input Stream bais null java io Object Input Stream ois null Object obj null try bais new java io Byte Array Input Stream obj Bytes ois new java io Object Input Stream bais obj ois read Object end try catch java io Exception e e print Stack Trace obj null end catch catch java lang Class Not Found Exception e e print Stack Trace obj null end catch finally try bais close catch Exception e try ois close catch Exception e end finally return obj end decode Object Convenience method for encoding data to a file param data To Encode byte array of data to encode in base form param filename Filename for saving encoded data return tt true tt if successful tt false tt otherwise since public static boolean encode To File byte data To Encode String filename boolean success false Base Output Stream bos null try bos new Base Output Stream new java io File Output Stream filename Base bos write data To Encode success true end try catch java io Exception e success false end catch Exception finally try bos close catch Exception e end finally return success end encode To File Convenience method for decoding data to a file param data To Decode Base encoded data as a string param filename Filename for saving decoded data return tt true tt if successful tt false tt otherwise since public static boolean decode To File String data To Decode String filename boolean success false Base Output Stream bos null try bos new Base Output Stream new java io File Output Stream filename Base bos write data To Decode get Bytes success true end try catch java io Exception e success false end catch Exception finally try bos close catch Exception e end finally return success end decode To File Convenience method for reading a base encoded file and decoding it param filename Filename for reading encoded data return decoded byte array or null if unsuccessful since public static byte decode From File String filename byte decoded Data null Base Input Stream bis null try Set up some useful variables java io File file new java io File filename byte buffer null int length int num Bytes Check for size of file if file length Integer System err println File is too big for this convenience method file length bytes return null end if file too big for int index buffer new byte int file length Open a stream bis new Base Input Stream new java io Buffered Input Stream new java io File Input Stream file Base Read until done while num Bytes bis read buffer length length num Bytes Save in a variable to return decoded Data new byte length System arraycopy buffer decoded Data length end try catch java io Exception e System err println Error decoding from file filename end catch Exception finally try bis close catch Exception e end finally return decoded Data end decode From File Convenience method for reading a binary file and base encoding it param filename Filename for reading binary data return base encoded string or null if unsuccessful since public static String encode From File String filename String encoded Data null Base Input Stream bis null try Set up some useful variables java io File file new java io File filename byte buffer new byte Math max int file length Need max for math on small files v int length int num Bytes Open a stream bis new Base Input Stream new java io Buffered Input Stream new java io File Input Stream file Base Read until done while num Bytes bis read buffer length length num Bytes Save in a variable to return encoded Data new String buffer length Base end try catch java io Exception e System err println Error encoding from file filename end catch Exception finally try bis close catch Exception e end finally return encoded Data end encode From File Reads tt infile tt and encodes it to tt outfile tt param infile Input file param outfile Output file since public static void encode File To File String infile String outfile String encoded Base encode From File infile java io Output Stream out null try out new java io Buffered Output Stream new java io File Output Stream outfile out write encoded get Bytes Strict bit output end try catch java io Exception ex ex print Stack Trace end catch finally try out close catch Exception ex end finally end encode File To File Reads tt infile tt and decodes it to tt outfile tt param infile Input file param outfile Output file since public static void decode File To File String infile String outfile byte decoded Base decode From File infile java io Output Stream out null try out new java io Buffered Output Stream new java io File Output Stream outfile out write decoded end try catch java io Exception ex ex print Stack Trace end catch finally try out close catch Exception ex end finally end decode File To File link Base Input Stream will read data from another tt java io Input Stream tt given in the constructor and encode decode to from Base notation on the fly see Base since public static class Input Stream extends java io Filter Input Stream private boolean encode Encoding or decoding private int position Current position in the buffer private byte buffer Small buffer holding converted data private int buffer Length Length of buffer or private int num Sig Bytes Number of meaningful bytes in the buffer private int line Length private boolean break Lines Break lines at less than characters private int options Record options used to create the stream private byte alphabet Local copies to avoid extra method calls private byte decodabet Local copies to avoid extra method calls Constructs a link Base Input Stream in mode param in the tt java io Input Stream tt from which to read data since public Input Stream java io Input Stream in this in end constructor Constructs a link Base Input Stream in either or mode p Valid options pre or Encode or Decode as data is read do n t break lines at characters only meaningful when encoding i Note Technically this makes your encoding non compliant i pre p Example code new Base Input Stream in Base code param in the tt java io Input Stream tt from which to read data param options Specified options see Base see Base see Base since public Input Stream java io Input Stream in int options super in this break Lines options this encode options this buffer Length encode this buffer new byte buffer Length this position this line Length this options options Record for later mostly to determine which alphabet to use this alphabet get Alphabet options this decodabet get Decodabet options end constructor Reads enough of the input stream to convert to from Base and returns the next byte return next byte since Override public int read throws java io Exception Do we need to get data if position if encode byte b new byte int num Binary Bytes for int i i i try int b in read If end of stream b is if b b i byte b num Binary Bytes end if not end of stream end try read catch java io Exception e Only a problem if we got no data at all if i throw e end catch end for each needed input byte if num Binary Bytes encode to b num Binary Bytes buffer options position num Sig Bytes end if got data else return end else end if encoding Else decoding else byte b new byte int i for i i i Read four meaningful bytes int b do b in read while b decodabet b x f if b break Reads a if end of stream b i byte b end for each needed input byte if i num Sig Bytes decode to b buffer options position end if got four characters else if i return end else if also padded correctly else Must have broken out from above throw new java io Exception Improperly padded Base input end end else decode end else get data Got data if position End of relevant data if encode position num Sig Bytes return if encode break Lines line Length line Length return n end if else line Length This is n t important when decoding but throwing an extra if seems just as wasteful int b buffer position if position buffer Length position return b x This is how you cast a byte that s intended to be unsigned end else end if position Else error else When is more accepted use an assertion here throw new java io Exception Error in Base code reading stream end else end read Calls link read repeatedly until the end of stream is reached or var len var bytes are read Returns number of bytes read into array or if end of stream is encountered param dest array to hold values param off offset for array param len max number of bytes to read into array return bytes read into array or if end of stream is encountered since Override public int read byte dest int off int len throws java io Exception int i int b for i i len i b read if b i return if b dest off i byte b else if i return else break Out of for loop end for each byte read return i end read end inner class Input Stream link Base Output Stream will write data to another tt java io Output Stream tt given in the constructor and encode decode to from Base notation on the fly see Base since public static class Output Stream extends java io Filter Output Stream private boolean encode private int position private byte buffer private int buffer Length private int line Length private boolean break Lines private byte b Scratch used in a few places private boolean suspend Encoding private int options Record for later private byte alphabet Local copies to avoid extra method calls private byte decodabet Local copies to avoid extra method calls Constructs a link Base Output Stream in mode param out the tt java io Output Stream tt to which data will be written since public Output Stream java io Output Stream out this out end constructor Constructs a link Base Output Stream in either or mode p Valid options pre or Encode or Decode as data is read do n t break lines at characters only meaningful when encoding i Note Technically this makes your encoding non compliant i pre p Example code new Base Output Stream out Base code param out the tt java io Output Stream tt to which data will be written param options Specified options see Base see Base see Base since public Output Stream java io Output Stream out int options super out this break Lines options this encode options this buffer Length encode this buffer new byte buffer Length this position this line Length this suspend Encoding false this b new byte this options options this alphabet get Alphabet options this decodabet get Decodabet options end constructor Writes the byte to the output stream after converting to from Base notation When encoding bytes are buffered three at a time before the output stream actually gets a write call When decoding bytes are buffered four at a time param the Byte the byte to write since Override public void write int the Byte throws java io Exception Encoding suspended if suspend Encoding super out write the Byte return end if supsended Encode if encode buffer position byte the Byte if position buffer Length Enough to encode out write encode to b buffer buffer Length options line Length if break Lines line Length out write line Length end if end of line position end if enough to output end if encoding Else Decoding else Meaningful Base character if decodabet the Byte x f buffer position byte the Byte if position buffer Length Enough to output int len Base decode to buffer b options out write b len out write Base decode to buffer position end if enough to output end if meaningful base character else if decodabet the Byte x f throw new java io Exception Invalid character in Base data end else not white space either end else decoding end write Calls link write int repeatedly until var len var bytes are written param the Bytes array from which to read bytes param off offset for array param len max number of bytes to read into array since Override public void write byte the Bytes int off int len throws java io Exception Encoding suspended if suspend Encoding super out write the Bytes off len return end if supsended for int i i len i write the Bytes off i end for each byte written end write Method added by Thanks Rob This pads the buffer without closing the stream public void flush Base throws java io Exception if position if encode out write encode to b buffer position options position end if encoding else throw new java io Exception Base input not properly padded end else decoding end if buffer partially full end flush Flushes and closes think in the superclass the stream since Override public void close throws java io Exception Ensure that pending characters are written flush Base Actually close the stream Base class both flushes and closes super close buffer null out null end close Suspends encoding of the stream May be helpful if you need to embed a piece of base encoded data in a stream since public void suspend Encoding throws java io Exception flush Base this suspend Encoding true end suspend Encoding Resumes encoding of the stream May be helpful if you need to embed a piece of base encoded data in a stream since public void resume Encoding this suspend Encoding false end resume Encoding end inner class Output Stream end class Base 
package org jboss seam remoting import javax servlet Servlet Context author Shane Bryzak public abstract class Base Request Handler implements Request Handler public void set Servlet Context Servlet Context context 
package org jboss seam remoting wrapper import java io Exception import java io Output Stream import org dom j Element import org jboss seam remoting Call Context Base class for all Wrapper implementations author Shane Bryzak public abstract class Base Wrapper implements Wrapper The path of this object within the result object graph protected String path The call context protected Call Context context The element containing the value protected Element element The wrapped value protected Object value Sets the path param path String public void set Path String path this path path Sets the wrapped value param value Object public void set Value Object value this value value Returns the wrapped value return Object public Object get Value return value Sets the call context public void set Call Context Call Context context this context context Extracts a value from a Element param element Element public void set Element Element element this element element Default implementation does nothing public void unmarshal Default implementation does nothing param out Output Stream throws Exception public void serialize Output Stream out throws Exception 
Id Basic Context java norman richards jboss com package org jboss seam contexts import java util Array List import java util Hash Map import java util Map import org jboss seam Component import org jboss seam Scope Type import org jboss seam Seam import org jboss seam core Events basic implementation of Context that keeps the state in a Map author Gavin King public class Basic Context implements Context private final Map String Object map private final Scope Type scope public Basic Context Scope Type scope this scope scope this map new Hash Map String Object protected Basic Context Scope Type scope Map String Object map this scope scope this map map public Scope Type get Type return scope public Object get Class clazz return get Component get Component Name clazz public Object get String name return map get name public String get Names yes know about the to Array method but there is a bug in the what bug Array List String keys new Array List String for String key map key Set keys add key return keys to Array new String keys size public boolean is Set String name return map contains Key name public void remove String name if Events exists Events instance raise Event org jboss seam pre Remove Variable name map remove name if Events exists Events instance raise Event org jboss seam post Remove Variable name public void set String name Object value We ca n t raise a pre Set Variable event for Events itself because it does n t exist yet if Seam get Component Name Events class equals name Events exists Events instance raise Event org jboss seam pre Set Variable name map put name value if Events exists Events instance raise Event org jboss seam post Set Variable name public void flush Override public String to String return Basic Context scope 
package org jboss seam test integration import java io Serializable import org jboss seam Scope Type import org jboss seam annotations Auto Create import org jboss seam annotations Create import org jboss seam annotations Name import org jboss seam annotations Observer import org jboss seam annotations Scope import org jboss seam core Events Name bean Scope Scope Type Auto Create public class Bean implements Serializable private String my Value public String get My Value return my Value public void set My Value String my Value this my Value my Value Create public void create my Value Foo Observer value Bean refresh My Value public void refresh My Value my Value Bar Events instance raise Event Bean value Modified 
package org jboss seam test integration import java io Serializable import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Auto Create import org jboss seam annotations Name import org jboss seam annotations Observer import org jboss seam annotations Scope Name bean Scope Scope Type Auto Create public class Bean implements Serializable private String my Value public String get My Value return my Value public void set My Value String my Value this my Value my Value Observer value Bean value Modified public void take Value From Bean Bean bean Bean Component get Instance bean my Value bean get My Value 
package org jboss seam remoting wrapper import java io Exception import java io Output Stream import java lang reflect Field import java lang reflect Invocation Target Exception import java lang reflect Method import java lang reflect Type import java util List import org dom j Element import org jboss seam Component import org jboss seam Seam import org jboss seam remoting Interface Generator import org jboss seam util Reflections author Shane Bryzak public class Bean Wrapper extends Base Wrapper implements Wrapper private static final byte ref id get Bytes private static final byte get Bytes private static final byte bean type get Bytes private static final byte get Bytes private static final byte bean get Bytes private static final byte member name get Bytes private static final byte get Bytes private static final byte member get Bytes Override public void set Element Element element super set Element element String bean Type element attribute Value type Component component Component for Name bean Type if component null value component new Instance else try value Reflections class For Name bean Type new Instance catch Exception ex throw new Runtime Exception Could not unmarshal bean element element get Text ex Override public void unmarshal List members element elements member for Element member List Element members String name member attribute Value name Wrapper w context create Wrapper From Element Element member element Iterator next Class cls value get Class We re going to try a combination of ways to set the property value here Method method null Field field null First try to find the best matching method String setter set Character to Upper Case name char At name substring Conversion Score score Conversion Score nomatch for Method m cls get Methods if setter equals m get Name m get Parameter Types length Conversion Score s w conversion Score m get Parameter Types if s get Score score get Score method m score s If we ca n t find a method look for a matching field name if method null while field null cls equals Object class try First check the declared fields field cls get Declared Field name catch No Such Field Exception ex Could n t find the field try the superclass cls cls get Superclass if field null throw new Runtime Exception String format Error while unmarshalling property s not found in class s name value get Class get Name Now convert the field value to the correct target type Object field Value null try field Value w convert method null method get Generic Parameter Types field get Generic Type catch Conversion Exception ex throw new Runtime Exception Could not convert value while unmarshaling ex If we have a setter method invoke it if method null try method invoke value field Value catch Exception e throw new Runtime Exception String format Could not invoke setter method s method get Name else Otherwise try to set the field value directly boolean accessible field is Accessible try if accessible field set Accessible true field set value field Value catch Exception ex throw new Runtime Exception Could not set field value ex finally field set Accessible accessible public Object convert Type type throws Conversion Exception if type instanceof Class Class type is Assignable From value get Class return value else throw new Conversion Exception String format Value s can not be converted to type s value type public void marshal Output Stream out throws Exception context add Out Ref this out write out write Integer to String context get Out Refs index Of this get Bytes out write Override public void serialize Output Stream out throws Exception serialize out null public void serialize Output Stream out List String constraints throws Exception out write Class cls value get Class todo This is a hack to get the real class find out if there is an method in that can be used instead if cls get Name contains Enhancer By cls cls get Superclass if cls get Name contains javassist cls cls get Superclass String component Name Seam get Component Name cls Component component component Name null Component for Name component Name null if component null cls component get Bean Class if component Name null out write component Name get Bytes else out write cls get Name get Bytes out write for String property Name Interface Generator get Accessible Properties cls String field Path path null path length String format s s path property Name property Name Also exclude fields listed using wildcard notation component Name field Name String wild Card String format s s component Name null component Name cls get Name property Name if constraints null constraints contains field Path constraints contains wild Card out write out write property Name get Bytes out write Field f null try f cls get Field property Name catch No Such Field Exception ex boolean accessible false try Temporarily set the field s accessibility so we can read it if f null accessible f is Accessible f set Accessible true context create Wrapper From Object f get value field Path marshal out else Method accessor null try accessor cls get Method String format get s s Character to Upper Case property Name char At property Name substring catch No Such Method Exception ex try accessor cls get Method String format is s s Character to Upper Case property Name char At property Name substring catch No Such Method Exception ex uh oh continue with the next one continue try context create Wrapper From Object accessor invoke value field Path marshal out catch Invocation Target Exception ex throw new Runtime Exception String format Failed to read property s for object s property Name value catch Illegal Access Exception ex throw new Runtime Exception Error reading value from field finally if f null f set Accessible accessible out write out write public Conversion Score conversion Score Class cls if cls equals value get Class return Conversion Score exact else if cls is Assignable From value get Class cls equals Object class return Conversion Score compatible else return Conversion Score nomatch 
Id Begin java sbryzak package org jboss seam wicket annotations import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam annotations Flush Mode Type version of the core Begin annotation which can be placed on wicket component constructors The wicket interceptor will scan for this as well as the default Begin annotation They are identical in function but java does not allow annotation inheritance In addition the deprecated if Outcome and id methods have been removed and the pageflow method as well as it is not as yet supported in wicket Target Retention Documented public interface Begin If enabled and if a conversation is already active begin a nested conversation instead of continuing in the context of the existing conversation boolean nested default false If false the default invocation of the begin method in the scope of an existing conversation will cause an exception to be thrown boolean join default false Set the Flush Mode for any Entity Manager used in this conversation Flush Mode Type flush Mode default Flush Mode Type 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations bpm import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam annotations Flush Mode Type Marks a method as causing a j link org jbpm taskmgmt exe Task Instance task to be resumed The j link org jbpm context exe Context Instance is associated with the scope and the link org jbpm taskmgmt exe Task Instance is associated with a new conversation unless the annotated method returns a null outcome p Note that both link Begin Task and link Start Task have effect before invocation of the intercepted method in that they are both about setting up appropriate link org jbpm context exe Context Instance for the current link org jboss seam contexts Business Process Context p author Steve Ebersole Target Retention Documented public interface Begin Task The name of the request parameter under which we should locate the the id of task to be resumed String task Id Parameter default An expression that evaluates to the task id return an expression String task Id default param task Id The name of the j process definition defining the page flow for this conversation String pageflow default An expression for the conversation id If a conversation with the same id aready exists Seam will redirect to that conversation deprecated use conversation in pages xml String id default Set the Flush Mode for any Entity Manager used in this conversation Flush Mode Type flush Mode default Flush Mode Type 
package org jboss seam example restbay import java io Serializable import java util Date import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Many To One import javax validation constraints Not Null Entity public class Bid implements Serializable private static final long serial Version private Integer bid Id private Auction auction private Account account private Date bid Date private double max Amount private double actual Amount Id Generated Value public Integer get Bid Id return bid Id public void set Bid Id Integer bid Id this bid Id bid Id Not Null Many To One public Auction get Auction return auction public void set Auction Auction auction this auction auction Not Null public Account get Account return account public void set Account Account account this account account Not Null public Date get Bid Date return bid Date public void set Bid Date Date bid Date this bid Date bid Date public double get Max Amount return max Amount public void set Max Amount double max Amount this max Amount max Amount public double get Actual Amount return actual Amount public void set Actual Amount double actual Amount this actual Amount actual Amount 
package org jboss seam example seambay import static org jboss seam Scope Type import java util Date import java util List import javax persistence Entity Manager import org jboss seam annotations Begin import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations Scope import org jboss seam contexts Contexts import org jboss seam core Conversation Scope Name bid Action public class Bid Action In Entity Manager entity Manager private Bid bid In required false Out required false private Auction auction In required false private Account authenticated Account private String outcome Begin join true public void place Bid if auction get Status Auction auction get End Date get Time System current Time Millis outcome ended else bid new Bid bid set Auction auction update Bid public void update Bid String amt Contexts get Event Context is Set bid Amount Contexts get Event Context get bid Amount to String null if amt null double amount Double parse Double amt to String if amt null amount bid get Auction get Required Bid bid set Max Amount amount outcome confirm else outcome invalid else outcome required Suppress Warnings unchecked public String confirm Bid We set the user here because the user may not be authenticated when place Bid is called bid set Account authenticated Account bid set Bid Date new Date This is where the tricky bidding logic happens if entity Manager contains bid get Auction bid set Auction entity Manager find Auction class bid get Auction get Auction Id entity Manager refresh bid get Auction if bid get Auction get Status Auction outcome ended return outcome else if bid get Auction get End Date get Time bid get Bid Date get Time bid get Auction set Status Auction outcome ended return outcome List Bid bids entity Manager create Query from Bid b where b auction auction set Parameter auction bid get Auction get Result List Bid high Bid null for Bid b bids if high Bid null high Bid b else if b get Max Amount high Bid get Max Amount high Bid set Actual Amount high Bid get Max Amount b set Actual Amount Auction get Required Bid high Bid get Max Amount high Bid b else if b get Max Amount high Bid get Max Amount b get Bid Date get Time high Bid get Bid Date get Time high Bid set Actual Amount high Bid get Max Amount b set Actual Amount high Bid get Max Amount high Bid b if high Bid null There are no bids so far bid set Actual Amount bid get Auction get Required Bid bid get Auction set High Bid bid outcome success else if bid get Max Amount high Bid get Max Amount If this bid is higher than the previous maximum bid and is from a different bidder set the actual amount to the next required bid amount for the auction if bid get Account equals high Bid get Account bid set Actual Amount Auction get Required Bid high Bid get Max Amount else Otherwise do n t change the amount from the bidder s last bid bid set Actual Amount high Bid get Actual Amount bid get Auction set High Bid bid outcome success else if bid get Account equals high Bid get Account Set this bid and the highest bid s actual bid amount to this bid s maximum amount high Bid set Actual Amount bid get Max Amount bid set Actual Amount bid get Max Amount outcome outbid else outcome invalid if success equals outcome outbid equals outcome bid get Auction set Bids bid get Auction get Bids entity Manager persist bid if success equals outcome Conversation instance end else Bid new Bid new Bid new Bid set Auction bid get Auction new Bid set Max Amount bid get Max Amount bid new Bid return outcome public String get Outcome return outcome public Bid get Bid return bid public Auction get Auction return auction 
package org jboss seam example seambay import java util List import javax persistence Entity Manager import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name Name bid History public class Bid History In private Entity Manager entity Manager Suppress Warnings unchecked Factory history public List Bid get History return entity Manager create Query from Bid where auction auction get Result List 
package org jboss seam wicket ioc import java lang annotation Annotation bijected attribute field or get set pair author Pete Muir Move into Seam core public interface Bijected Attribute extends Annotation extends Injected Attribute public String get Context Variable Name public Object get Object bean 
package org jboss seam wicket ioc import java lang annotation Annotation import java lang reflect Field import org jboss seam util Reflections Implementation of Bijected Attribute for a field author Pete Muir public abstract class Bijected Field extends Annotation extends Injected Field implements Bijected Attribute private String context Variable Name public Bijected Field Field field annotation super field annotation context Variable Name get Specified Context Variable Name if context Variable Name null equals context Variable Name context Variable Name field get Name public Object get Object bean field set Accessible true return Reflections get And Wrap field bean public String get Context Variable Name return context Variable Name protected abstract String get Specified Context Variable Name Override public String to String return Bijected Field Reflections to String field 
package org jboss seam wicket ioc import static org jboss seam util Reflections invoke And Wrap import java lang annotation Annotation import java lang reflect Method import org jboss seam util Reflections Implementation of Bijected Attribute for a method author Pete Muir public abstract class Bijected Method extends Annotation implements Bijected Attribute private Method method private annotation private String context Variable Name public Bijected Method Method method annotation this method method this annotation annotation context Variable Name get Specified Context Variable Name if context Variable Name null equals context Variable Name if method get Name matches get set method get Parameter Types length context Variable Name method get Name substring else if method get Name matches is method get Parameter Types length context Variable Name method get Name substring public Method get Member return method public get Annotation return annotation public void set Object bean Object value method set Accessible true invoke And Wrap method bean value public Object get Object bean method set Accessible true return invoke And Wrap method bean public Class get Type return method get Parameter Types Override public String to String return Bijected Method Reflections to String method protected abstract String get Specified Context Variable Name public String get Context Variable Name return context Variable Name 
package org jboss seam wicket ioc public class Bijection Interceptor implements Stateless Interceptor public Object after Invoke Invocation Context invocation Context Object result invocation Context get Component outject invocation Context get Bean invocation Context get Component disinject invocation Context get Bean return result public void before Invoke Invocation Context invocation Context try invocation Context get Component inject invocation Context get Bean catch Exception e throw new Runtime Exception e public Exception handle Exception Invocation Context invocation Context Exception exception return exception 
package org jboss seam security crypto Copied from Matthias Gartner s implementation see http rtner de software html p Free auxiliary functions Copyright c Matthias auml rtner p p This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version p p This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details p p You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston p p For Details see a href http www gnu org licenses old licenses lgpl html http www gnu org licenses old licenses lgpl html a p author Matthias auml rtner version public class Bin Tools public static final String hex Simple binary to hexadecimal conversion param b Input bytes May be code null code return Hexadecimal representation of b Uppercase two characters per byte Empty string on code null code input public static String bin hex final byte b if b null return String Buffer sb new String Buffer b length for int i i b length i int v b i sb append hex char At v sb append hex char At v return sb to String Convert hex string to array of bytes param s String containing hexadecimal digits May be code null code On odd length leading zero will be assumed return Array on bytes non code null code throws Illegal Argument Exception when string contains non hex character public static byte hex bin final String s String m s if s null Allow empty input string m else if s length Assume leading zero for odd string length m s byte r new byte m length for int i n i m length n char h m char At i char l m char At i r n byte hex bin h hex bin l return r Convert hex digit to numerical value param c a f allowd return throws Illegal Argument Exception on non hex character public static int hex bin char c if c c return c if c c return c if c a c f return c a throw new Illegal Argument Exception Input string may only contain hex digits but found c 
package domain import java util Array List import java util List import java util Locale import java util Time Zone import javax persistence Entity import javax persistence Id import javax persistence One To Many import javax persistence One To One import javax persistence Order By import javax validation constraints Not Null import javax validation constraints Size import org hibernate annotations Cache import org hibernate annotations Cache Concurrency Strategy Represents a blog containing zero or more blog entries author Simon Brown Entity Cache usage Cache Concurrency Strategy public class Blog the name of the blog Id Size max private String name the description of the blog Size max Not Null private String description the locale of the blog Not Null private Locale locale the timezone of the blog Not Null private Time Zone time Zone Size min max Not Null private String password One To One optional false mapped By blog private Hit Count hit Count the list of blog entries in reverse chronological order One To Many mapped By blog Order By date desc Cache usage Cache Concurrency Strategy private List Blog Entry blog Entries Default no args constructor public Blog this blog Entries new Array List Blog Entry public String get Name return name public void set Name String name this name name public String get Description return description public void set Description String description this description description public Locale get Locale return locale public void set Locale Locale locale this locale locale public Time Zone get Time Zone return time Zone public void set Time Zone Time Zone time Zone this time Zone time Zone public List Blog Entry get Recent Blog Entries if blog Entries null return new Array List Blog Entry int length if blog Entries size length blog Entries size return blog Entries sub List length public List Blog Entry get Blog Entries return blog Entries public void add Blog Entry Blog Entry blog Entry blog Entries add blog Entry public Blog Entry get Blog Entry String id for Blog Entry blog Entry blog Entries if blog Entry get Id equals id return blog Entry return null public String get Password return password public Hit Count get Hit Count return hit Count 
package org jboss seam example seamspace import static org jboss seam Scope Type import java util Array List import java util Date import javax persistence Entity Manager import javax persistence No Result Exception import org jboss seam annotations Begin import org jboss seam annotations End import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations Scope Scope Name blog public class Blog Action private String name private Integer blog Id In private Entity Manager entity Manager In required false Out required false private Member Blog selected Blog In required false private Member authenticated Member Used to read a single blog entry for a member Factory selected Blog Begin join true public void get Blog try selected Blog Member Blog entity Manager create Query from Member Blog b where b blog Id blog Id and b member member Name member Name set Parameter blog Id blog Id set Parameter member Name name get Single Result catch No Result Exception ex Begin public void create Entry selected Blog new Member Blog End public void save Entry selected Blog set Member authenticated Member selected Blog set Entry Date new Date selected Blog set Comments new Array List Blog Comment entity Manager persist selected Blog public String get Name return name public void set Name String name this name name public Integer get Blog Id return blog Id public void set Blog Id Integer blog Id this blog Id blog Id 
package org jboss seam example seamspace import java io Serializable import java text Simple Date Format import java util Date import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Lob import javax persistence Many To One import javax persistence Transient import javax validation constraints Not Null import org jboss seam annotations Name Entity Name blog Comment public class Blog Comment implements Serializable private static final long serial Version private static Simple Date Format df new Simple Date Format d yyyy at hh mm a private Integer comment Id private Member Blog blog private Member commentor private Date comment Date private String comment Id Generated Value public Integer get Comment Id return comment Id public void set Comment Id Integer comment Id this comment Id comment Id Many To One Join Column name public Member Blog get Blog return blog public void set Blog Member Blog blog this blog blog Not Null Lob public String get Comment return comment public void set Comment String comment this comment comment Not Null public Date get Comment Date return comment Date public void set Comment Date Date comment Date this comment Date comment Date Transient public String get Formatted Comment Date return df format comment Date Many To One Join Column name public Member get Commentor return commentor public void set Commentor Member commentor this commentor commentor 
Id Blog Entry java sannegrinovero package domain import org apache solr analysis Lower Case Filter Factory import org apache solr analysis Gram Filter Factory import org apache solr analysis Snowball Porter Filter Factory import org apache solr analysis Standard Tokenizer Factory import org hibernate annotations Cache import org hibernate annotations Cache Concurrency Strategy import org hibernate search annotations import javax persistence Entity import javax persistence Id import javax persistence Lob import javax persistence Many To One import javax validation constraints Not Null import javax validation constraints Size import java util Date Represents a blog entry author Simon Brown author Sanne Grinovero Entity Cache usage Cache Concurrency Strategy Indexed Analyzer Defs Analyzer Def name en tokenizer Tokenizer Def factory Standard Tokenizer Factory class filters Token Filter Def factory Lower Case Filter Factory class Token Filter Def factory Snowball Porter Filter Factory class params Parameter name language value English Analyzer Def name ngrams tokenizer Tokenizer Def factory Standard Tokenizer Factory class filters Token Filter Def factory Lower Case Filter Factory class Token Filter Def factory Gram Filter Factory class params Parameter name min Gram Size value Parameter name max Gram Size value public class Blog Entry Id Size min max Document Id private String id Not Null Size max Fields Field name title en analyzer Analyzer definition en Field name title ngrams analyzer Analyzer definition ngrams private String title Size max private String excerpt Not Null Lob Fields Field name body en analyzer Analyzer definition en Field name body ngrams analyzer Analyzer definition ngrams private String body Not Null private Date date new Date Many To One Not Null private Blog blog public Blog Entry Blog blog this blog blog Blog Entry public String get Id return id public String get Title return title public String get Excerpt return excerpt public String get Body return body public Date get Date return date public void set Body String body this body body public void set Date Date date this date date public void set Excerpt String excerpt if equals excerpt excerpt null this excerpt excerpt public void set Id String id this id id public void set Title String title this title title 
package actions import org jboss seam Scope Type import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import domain Blog import domain Blog Entry Name blog Entry Service Scope Scope Type public class Blog Entry Service In Blog blog Factory blog Entry public Blog Entry create Blog Entry return new Blog Entry blog 
package actions import javax persistence Entity Manager import org jboss seam Scope Type import org jboss seam annotations Auto Create import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import domain Blog Singleton for the blog instance author Gavin King Name blog Scope Scope Type Auto Create public class Blog Service In Entity Manager entity Manager Unwrap public Blog get Blog return Blog entity Manager create Query select distinct b from Blog b left join fetch b blog Entries set Hint org hibernate cacheable true get Single Result 
package org jboss seam example wicket import java util Arrays import java util List import org apache wicket Page Parameters import org apache wicket extensions yui calendar Date Field import org apache wicket markup html Web Page import org apache wicket markup html form Drop Down Choice import org apache wicket markup html form Form import org apache wicket markup html form Choice Renderer import org apache wicket markup html form Radio Choice import org apache wicket markup html form Text Field import org apache wicket markup html link Link import org apache wicket markup html panel Component Feedback Panel import org apache wicket model Property Model import org jboss seam annotations End import org jboss seam annotations In import org jboss seam annotations security Restrict import org jboss seam example wicket action Booking import org jboss seam example wicket action Hotel Booking import org jboss seam wicket annotations No Conversation Page Restrict identity logged In No Conversation Page Main class public class Book extends Web Page private static final List String bed Options Display Values Arrays as List One king sized bed Two double beds Three beds private static final List Integer bed Options Arrays as List private static final List String month Options Arrays as List Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec private static final List Integer year Options Arrays as List In private Booking booking In create true private Hotel Booking hotel Booking public Book final Page Parameters parameters super parameters Template body new Template body add body body add new Hotel View Panel hotel View booking get Hotel body add new Hotel Booking Form booking public class Hotel Booking Form extends Form public Hotel Booking Form String id super id add new Component Feedback Panel messages this add new Form Input Border checkin Date Border Check in date new Date Field checkin Date set Required true new Property Model booking checkin Date false add new Form Input Border checkout Date Border Check out date new Date Field checkout Date set Required true new Property Model booking checkout Date false add new Form Input Border beds Border Room Preference new Drop Down Choice beds bed Options new Choice Renderer public Object get Display Value Object object return bed Options Display Values get Integer object public String get Id Value Object object int index return object to String set Required true new Property Model booking beds add new Form Input Border smoking Border Smoking Preference new Radio Choice smoking Arrays as List new Boolean true false new Choice Renderer public Object get Display Value Object object if new Boolean true equals object return Smoking else return Non Smoking public String get Id Value Object object int index if new Boolean true equals object return true else return false new Property Model booking smoking false add new Form Input Border credit Card Border Credit Card new Text Field credit Card set Required true new Property Model booking credit Card add new Form Input Border credit Card Name Border Credit Card Name new Text Field credit Card Name set Required true new Property Model booking credit Card Name add new Form Input Border credit Card Expiry Border Credit Card Expiry new Drop Down Choice credit Card Expiry Month month Options set Required true new Property Model booking credit Card Expiry Month add new Drop Down Choice credit Card Expiry Year year Options set Required true new Property Model booking credit Card Expiry Year add new Link cancel Override End public void on Click set Response Page Main class Override protected void on Submit hotel Booking set Booking Details if hotel Booking is Booking Valid set Response Page new Confirm new Page Parameters 
Id Booking java nrichards package org jboss seam example spring import java io Serializable import java math Big Decimal import java text Date Format import java util Date import javax persistence Basic import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Many To One import javax persistence Temporal import javax persistence Temporal Type import javax persistence Transient import javax validation constraints Size import javax validation constraints Not Null import javax validation constraints Pattern import org jboss seam annotations Name Entity Name booking public class Booking implements Serializable private static final long serial Version private Long id private User user private Hotel hotel private Date checkin Date private Date checkout Date private String credit Card private String credit Card Name private int credit Card Expiry Month private int credit Card Expiry Year private boolean smoking private int beds public Booking public Booking Hotel hotel User user this hotel hotel this user user Transient public Big Decimal get Total return hotel get Price multiply new Big Decimal get Nights Transient public int get Nights return int checkout Date get Time checkin Date get Time Id Generated Value public Long get Id return id public void set Id Long id this id id Not Null Basic Temporal Temporal Type public Date get Checkin Date return checkin Date public void set Checkin Date Date datetime this checkin Date datetime Many To One Not Null public Hotel get Hotel return hotel public void set Hotel Hotel hotel this hotel hotel Many To One Not Null public User get User return user public void set User User user this user user Basic Temporal Temporal Type Not Null public Date get Checkout Date return checkout Date public void set Checkout Date Date checkout Date this checkout Date checkout Date Not Null message Credit card number is required Size min max message Credit card number must digits long Pattern regexp d message Credit card number must be numeric public String get Credit Card return credit Card public void set Credit Card String credit Card this credit Card credit Card Transient public String get Description Date Format df Date Format get Date Instance Date Format return hotel null null hotel get Name df format get Checkin Date to df format get Checkout Date public boolean is Smoking return smoking public void set Smoking boolean smoking this smoking smoking public int get Beds return beds public void set Beds int beds this beds beds Not Null message Credit card name is required Size min max message Credit card name is required public String get Credit Card Name return credit Card Name public void set Credit Card Name String credit Card Name this credit Card Name credit Card Name public int get Credit Card Expiry Month return credit Card Expiry Month public void set Credit Card Expiry Month int credit Card Expiry Month this credit Card Expiry Month credit Card Expiry Month public int get Credit Card Expiry Year return credit Card Expiry Year public void set Credit Card Expiry Year int credit Card Expiry Year this credit Card Expiry Year credit Card Expiry Year Override public String to String return Booking user hotel 
Id Booking List java v gavin Exp package org jboss seam example booking import javax ejb Local Local public interface Booking List public void get Bookings public Booking get Booking public void cancel public void destroy 
Id Booking List Action java pete muir jboss org package org jboss seam example spring import static org jboss seam Scope Type import java io Serializable import java util List import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam annotations Observer import org jboss seam annotations Scope import org jboss seam annotations datamodel Data Model import org jboss seam annotations datamodel Data Model Selection import org jboss seam faces Faces Messages import org jboss seam log Log Scope Name booking List public class Booking List Action implements Serializable private static final long serial Version In private Booking Service booking Service In private User user Data Model private List Booking bookings Data Model Selection private Booking booking Logger private Log log Factory bookings Observer booking Confirmed public void get Bookings bookings booking Service find Bookings By Username user get Username public void cancel log info Cancel booking booking List booking id for user username booking Service cancel Booking booking get Id get Bookings Faces Messages instance add Booking cancelled for confirmation number booking get Id public Booking get Booking return booking 
package org jboss seam example spring import java util Calendar import java util Collections import java util List import javax persistence Entity Manager import javax persistence Persistence Exception import org jboss seam annotations Logger import org jboss seam annotations async Asynchronous import org jboss seam core Expressions import org jboss seam log Log import org springframework orm jpa Jpa Callback import org springframework orm jpa support Jpa Dao Support import org springframework transaction annotation Transactional Example of using the Jpa Dao Support author Mike Youngstrom public class Booking Service extends Jpa Dao Support public static Thread Local Boolean current Thread new Thread Local Boolean Logger private static Log logger Suppress Warnings unchecked Transactional public List Hotel find Hotels final String search Pattern final int first Result final int max Results logger debug Looking for a Hotel return get Jpa Template execute Find new Jpa Callback public Object do In Jpa Entity Manager em throws Persistence Exception return em create Query select h from Hotel h where lower h name like search or lower h city like search or lower h zip like search or lower h address like search set Parameter search search Pattern set Max Results max Results set First Result first Result get Result List Suppress Warnings unchecked Transactional public List Booking find Bookings By Username String username logger debug Finding Bookings for user username return get Jpa Template find By Named Params select b from Booking b where b user username username order by b checkin Date Collections singleton Map username username Transactional public void cancel Booking Long booking Id logger debug Cancelling booking id booking Id if booking Id null throw new Illegal Argument Exception Booking Id can not be null Booking cancelled get Jpa Template find Booking class booking Id if cancelled null get Jpa Template remove cancelled public void validate Booking Booking booking throws Validation Exception Calendar calendar Calendar get Instance calendar add Calendar if booking get Checkin Date before calendar get Time throw new Validation Exception Check in date must be a future date else if booking get Checkin Date before booking get Checkout Date throw new Validation Exception Check out date must be later than check in date Transactional public void book Hotel Booking booking throws Validation Exception validate Booking booking get Jpa Template persist booking get Jpa Template flush Asynchronous Transactional public void send Register Email String username if current Thread get null throw new Runtime Exception Not really happening asyncronously logger info pretending to send email asyncronously Could be injected using spring injection just fine but wanted to test the use of Expressions Asynchronously User Service user Service User Service Expressions instance create Value Expression user Service get Value User user user Service find User username if user null logger info Asynchronously found User user get Name return throw new Runtime Exception Did n t find the user that made the asynchronous call Transactional public Hotel find Hotel By Id Long hotel Id if hotel Id null throw new Illegal Argument Exception hotel Id can not be null return get Jpa Template find Hotel class hotel Id 
package org jboss seam example ui import java io Serializable import javax persistence Embeddable Embeddable public class Book Pk implements Serializable private String name private String author protected Book Pk public Book Pk String name String author this name name this author author public String get Name return name public String get Author return author Override public boolean equals Object other if other instanceof Book Pk Book Pk that Book Pk other return this get Author equals that get Author this get Name equals that get Name else return false 
package org jboss seam remoting wrapper import java io Exception import java io Output Stream import java lang reflect Type author Shane Bryzak public class Boolean Wrapper extends Base Wrapper implements Wrapper private static final byte bool get Bytes private static final byte bool get Bytes public void marshal Output Stream out throws Exception out write out write Boolean value to String get Bytes out write public Object convert Type type throws Conversion Exception if type equals Boolean class type equals Object class value Boolean value Of element get String Value else if type equals Boolean value Boolean parse Boolean element get String Value else throw new Conversion Exception String format Parameter s can not be converted to type s element get String Value type return value public Conversion Score conversion Score Class cls if cls equals Boolean class cls equals Boolean return Conversion Score exact else if cls equals Object class return Conversion Score compatible else return Conversion Score nomatch 
package org jboss seam test unit import org jboss seam annotations In import org jboss seam annotations Name Name broken Action public class Broken Action In String name public String go return success 
package org jboss seam bpm import static org jboss seam annotations Install import java io Serializable import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Abstract Mutable import org jboss seam core Events import org jboss seam international Status Message import org jboss seam international Status Messages import org jbpm graph def Process Definition import org jbpm graph exe Process Instance import org jbpm taskmgmt exe Task Instance Holds the task and process ids for the current conversation and provides programmatic control over the business process author Gavin King Scope Scope Type Name org jboss seam bpm business Process Bypass Interceptors Install dependencies org jboss seam bpm jbpm precedence public class Business Process extends Abstract Mutable implements Serializable private static final long serial Version private Long process Id private Long task Id public static Business Process instance if Contexts is Conversation Context Active throw new Illegal State Exception No active conversation context return Business Process Component get Instance Business Process class Scope Type Is there a process instance associated with the current conversation public boolean has Current Process return process Id null Is there a process instance that has not ended associated with the current conversation public boolean has Active Process return has Current Process org jboss seam bpm Process Instance instance has Ended Is there a task instance associated with the current conversation public boolean has Current Task return task Id null The j process instance id associated with the current conversation public Long get Process Id return process Id Set the process instance id without validating that the process instance actually exists public void set Process Id Long process Id set Dirty this process Id process Id this process Id process Id The j task instance id associated with the current conversation public Long get Task Id return task Id Set the task instance id without validating that the task instance actually exists public void set Task Id Long task Id set Dirty this task Id task Id this task Id task Id Create a process instance and associate it with the current conversation param process Definition Name the j process definition name public void create Process String process Definition Name create Process process Definition Name true Create a process instance and associate it with the current conversation param process Definition Name the j process definition name public void create Process String process Definition Name boolean should Signal Process Process Instance process Managed Jbpm Context instance new Process Instance For Update process Definition Name after Create Process process Definition Name process should Signal Process Create a process instance and associate it with the current conversation param process Definition Name the j process definition name param business Key the business key of the new process definition public void create Process String process Definition Name String business Key Process Instance process Managed Jbpm Context instance get Graph Session find Latest Process Definition process Definition Name create Process Instance Collections business Key Process Instance process Managed Jbpm Context instance new Process Instance For Update process Definition Name process set Key business Key after Create Process process Definition Name process true private void after Create Process String process Definition Name Process Instance process boolean should Signal Process set Process Id process get Id need to set process variables before the signal Contexts get Business Process Context flush if should Signal Process process signal Events instance raise Event org jboss seam create Process process Definition Name Start the current task using the current actor id see Actor public void start Task String actor Id Actor instance get Id Task Instance task org jboss seam bpm Task Instance instance if actor Id null task start actor Id else task start Events instance raise Event org jboss seam start Task task get Task get Name End the current task via the given transition If no transition name is given check the Transition component for a transition or use the default transition param transition Name the j transition name or null public void end Task String transition Name Task Instance task org jboss seam bpm Task Instance instance if task null throw new Illegal State Exception no task instance associated with context if transition Name null equals transition Name transition Name Transition instance get Name if transition Name null task end else task end transition Name set Task Id null do really need this Events instance raise Event org jboss seam end Task task get Task get Name Process Instance process org jboss seam bpm Process Instance instance if process has Ended Events instance raise Event org jboss seam end Process process get Process Definition get Name Signal the given transition for the current process instance param transition Name the j transition name public void transition String transition Name Process Instance process org jboss seam bpm Process Instance instance process signal transition Name if process has Ended Events instance raise Event org jboss seam end Process process get Process Definition get Name Associate the task instance with the given id with the current conversation param task Id the j task instance id return true if the task was found and was not ended public boolean resume Task Long task Id set Task Id task Id Task Instance task org jboss seam bpm Task Instance instance if task null task Not Found task Id return false else if task has Ended task Ended task Id return false else set Process Id task get Task Mgmt Instance get Process Instance get Id Events instance raise Event org jboss seam init Task task get Task get Name return true Associate the process instance with the given id with the current conversation param process Id the j process instance id return true if the process was found and was not ended public boolean resume Process Long process Id set Process Id process Id Process Instance process org jboss seam bpm Process Instance instance return after Resume Process process Id process Associate the process instance with the given business key with the current conversation param process Definition the j process definition name param key the j process instance key return true if the process was found and was not ended public boolean resume Process String process Definition String key Process Definition definition Managed Jbpm Context instance get Graph Session find Latest Process Definition process Definition Process Instance process definition null null Managed Jbpm Context instance get Process Instance For Update definition key if process null set Process Id process get Id return after Resume Process key process private boolean after Resume Process long process Id Process Instance process if process null process Not Found process Id return false else if process has Ended process Ended process Id return false else Events instance raise Event org jboss seam init Process process get Process Definition get Name return true private boolean after Resume Process String process Key Process Instance process if process null process Not Found process Key return false else if process has Ended process Ended process Key return false else Events instance raise Event org jboss seam init Process process get Process Definition get Name return true Check that the task currently associated with the conversation exists and has not ended return true if the task exists and was not ended public boolean validate Task if has Current Task task Not Found task Id return false else if org jboss seam bpm Task Instance instance has Ended task Ended task Id return false else return true protected void task Not Found Long task Id Status Messages instance add From Resource Bundle Or Default Status Message Severity org jboss seam Task Not Found Task not found task Id protected void task Ended Long task Id Status Messages instance add From Resource Bundle Or Default Status Message Severity org jboss seam Task Ended Task already ended task Id protected void process Ended Long process Id Status Messages instance add From Resource Bundle Or Default Status Message Severity org jboss seam Process Ended Process already ended process Id protected void process Not Found Long process Id Status Messages instance add From Resource Bundle Or Default Status Message Severity org jboss seam Process Not Found Process not found process Id protected void process Ended String key Status Messages instance add From Resource Bundle Or Default Status Message Severity org jboss seam Process Ended Process already ended key protected void process Not Found String key Status Messages instance add From Resource Bundle Or Default Status Message Severity org jboss seam Process Not Found Process not found key Override public String to String return Business Process process Id process Id task Id task Id 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam contexts import java util Hash Map import java util Hash Set import java util Map import java util Set import org jboss seam Component import org jboss seam Scope Type import org jboss seam bpm Process Instance import org jboss seam bpm Task Instance import org jboss seam core Events import org jboss seam core Init import org jboss seam log Log Provider import org jboss seam log Logging import org jbpm context exe Context Instance Exposes a jbpm variable context instance for reading writing author a href mailto theute jboss org Thomas Heute a author a href mailto steve hibernate org Steve Ebersole a author Gavin King public class Business Process Context implements Context private static final Log Provider log Logging get Log Provider Business Process Context class private final Map String Object additions new Hash Map String Object private final Set String removals new Hash Set String private final boolean enabled public Scope Type get Type return Scope Type public Business Process Context Init init Init instance if init null enabled false else enabled init is Jbpm Installed public Object get String name Object result additions get name if result null return result if removals contains name return null org jbpm taskmgmt exe Task Instance task Instance get Task Instance if task Instance null Context Instance context get Context Instance return context null null context get Variable name else return task Instance get Variable name public void set String name Object value if Events exists Events instance raise Event org jboss seam pre Set Variable name if value null yes we need this remove name else removals remove name additions put name value if Events exists Events instance raise Event org jboss seam post Set Variable name public boolean is Set String name return get name null public void remove String name if Events exists Events instance raise Event org jboss seam pre Remove Variable name additions remove name removals add name if Events exists Events instance raise Event org jboss seam post Remove Variable name public String get Names Set String results get Names From Context results remove All removals results add All additions key Set after to override return results to Array new String private Set String get Names From Context note that this is called from Contexts destroy after the Seam managed txn was committed but this implementation requires a hit to the database Hash Set String results new Hash Set String org jbpm taskmgmt exe Task Instance task Instance get Task Instance if task Instance null Context Instance context get Context Instance if context null Map variables context get Variables if variables null results add All variables key Set else results add All task Instance get Variables key Set return results public Object get Class clazz return get Component get Component Name clazz public void clear additions clear removals add All get Names From Context Propagate all additions and removals to the j database if there is a current process instance or do nothing if there is no current process instance public void flush if additions is Empty removals is Empty org jbpm taskmgmt exe Task Instance task Instance get Task Instance if task Instance null org jbpm graph exe Process Instance process Instance get Process Instance if process Instance null log debug no process instance to persist business process state return do n t clear the additions and removals else flush To Process Instance process Instance else flush To Task Instance task Instance additions clear removals clear private void flush To Task Instance org jbpm taskmgmt exe Task Instance task Instance log debug flushing to task instance task Instance get Id for Map Entry String Object entry additions entry Set task Instance set Variable Locally entry get Key entry get Value for String name removals task Instance delete Variable Locally name private void flush To Process Instance org jbpm graph exe Process Instance process Instance log debug flushing to process instance process Instance get Id Context Instance context Instance process Instance get Context Instance for Map Entry String Object entry additions entry Set context Instance set Variable entry get Key entry get Value for String name removals context Instance delete Variable name private Context Instance get Context Instance org jbpm graph exe Process Instance process Instance get Process Instance return process Instance null null process Instance get Context Instance private org jbpm graph exe Process Instance get Process Instance if enabled return null else return Process Instance instance private org jbpm taskmgmt exe Task Instance get Task Instance if enabled return null else return Task Instance instance 
package org jboss seam framework import org jboss seam bpm Business Process import org jboss seam bpm Managed Jbpm Context import org jbpm Jbpm Context import org jbpm graph exe Process Instance import org jbpm taskmgmt exe Task Instance Superclass for controller objects that control the business process context programmatically Adds convenience methods for control of the j business process author Gavin King public class Business Process Controller extends Controller protected Business Process get Business Process return Business Process instance protected Jbpm Context get Jbpm Context return Managed Jbpm Context instance protected Task Instance get Task Instance return org jboss seam bpm Task Instance instance protected Process Instance get Process Instance return org jboss seam bpm Process Instance instance 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam bpm import java lang reflect Method import org jboss seam annotations bpm Begin Task import org jboss seam annotations bpm Create Process import org jboss seam annotations bpm End Task import org jboss seam annotations bpm Resume Process import org jboss seam annotations bpm Start Task import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam contexts Contexts import org jboss seam core Bijection Interceptor import org jboss seam core Expressions import org jboss seam core Init import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Strings import org jboss seam web Parameters Implements annotation based business process demarcation author a href mailto steve hibernate org Steve Ebersole a author Gavin King Interceptor stateless true around Bijection Interceptor class public class Business Process Interceptor extends Abstract Interceptor private static final long serial Version private static final Log Provider log Logging get Log Provider Business Process Interceptor class Around Invoke public Object around Invoke Invocation Context invocation throws Exception if before Invocation invocation return null else return after Invocation invocation invocation proceed private boolean before Invocation Invocation Context invocation Context Method method invocation Context get Method if method is Annotation Present Start Task class log trace encountered Start Task Start Task tag method get Annotation Start Task class Long task Id get Process Or Task Id tag task Id Parameter tag task Id return Business Process instance resume Task task Id else if method is Annotation Present Begin Task class log trace encountered Begin Task Begin Task tag method get Annotation Begin Task class Long task Id get Process Or Task Id tag task Id Parameter tag task Id return Business Process instance resume Task task Id else if method is Annotation Present Resume Process class log trace encountered Resume Process Resume Process tag method get Annotation Resume Process class if tag process Key equals Long process Id get Process Or Task Id tag process Id Parameter tag process Id return Business Process instance resume Process process Id else return Business Process instance resume Process tag definition get Process Key tag process Key if method is Annotation Present End Task class log trace encountered End Task return Business Process instance validate Task else return true private Object after Invocation Invocation Context invocation Object result Method method invocation get Method if result null method get Return Type equals void class interpreted as redisplay if method is Annotation Present Create Process class log trace encountered Create Process Create Process tag method get Annotation Create Process class if tag process Key equals Business Process instance create Process tag definition else Business Process instance create Process tag definition get Process Key tag process Key if method is Annotation Present Start Task class log trace encountered Start Task Business Process instance start Task if method is Annotation Present End Task class log trace encountered End Task Business Process instance end Task method get Annotation End Task class transition if method is Annotation Present org jboss seam annotations bpm Transition class log trace encountered Transition String transition Name method get Annotation org jboss seam annotations bpm Transition class value if equals transition Name transition Name method get Name Business Process instance transition transition Name return result private String get Process Key String el Object key Expressions instance create Value Expression el get Value if key null throw new Illegal State Exception process business key may not be null return key to String private Long get Process Or Task Id String param Name String el Object id if Strings is Empty param Name id Expressions instance create Value Expression el get Value else String values Parameters instance get Request Parameters get param Name id values null values length values null if id null throw new Illegal State Exception task process id may not be null else if id instanceof Long return Long id else if id instanceof String return new Long String id else throw new Illegal Argument Exception task process id must be a string or long public boolean is Interceptor Enabled return Contexts is Application Context Active Init instance is Jbpm Installed 
package org jboss seam example ui import org jboss seam annotations Name import org jboss seam faces Faces Messages Name button Link public class Button Link Bean private String foo public void simple Action if foo null Faces Messages instance add Foo foo else Faces Messages instance add simple action was performed public void set Foo String foo this foo foo public String get Foo return foo 
package org jboss seam ui renderkit import java io Exception import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam ui component Button import org jboss seam ui util import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui Button Renderer family org jboss seam ui Button Renderer public class Button Renderer Base extends Renderer Base Override protected Class get Component Class return Button class private String get Type Button button if button get Image null return button else return image private String get On Click Button button throws Exception String onclick button get Onclick String url button get Url if onclick null onclick else if onclick length onclick ends With onclick if url null onclick location href url onclick return false if button is Disabled return onclick else return null Override protected void do Encode Begin Response Writer writer Faces Context context Component component throws Exception Button button Button component writer start Element button String onclick get On Click button if equals onclick button is Disabled writer write Attribute onclick if button get Id null writer write Attribute button get Client Id context render Attributes writer button if button get Value null writer write Attribute button get Value if button is Disabled writer write Attribute true writer write Attribute get Type button if button get Image null writer write Attribute button get Image Override protected void do Encode End Response Writer writer Faces Context context Component component throws Exception writer end Element 
Id Bypass Interceptors java gavin package org jboss seam annotations intercept import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Disables interception of calls to a Seam component or Seam component method author Gavin King Target Retention Documented public interface Bypass Interceptors 
package org jboss seam document import java io Exception import java io Output Stream public class Byte Array Document Data extends Document Data private byte data public Byte Array Document Data String base Name Document Type document Type byte data super base Name document Type this data data Override public void write Data To Stream Output Stream stream throws Exception stream write data public byte get Data return data 
package org jboss seam web import org jboss seam Scope Type import org jboss seam log Logging import org jboss seam log Log Provider import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter import javax servlet Filter Chain import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import java io Exception Provides automatic addition of cache control headers to matching resource responses author Christian Bauer Scope Scope Type Name org jboss seam web cache Control Filter Install value false precedence Install Bypass Interceptors Filter within org jboss seam web exception Filter public class Cache Control Filter extends Abstract Filter private static final Log Provider log Logging get Log Provider Cache Control Filter class private String value public void do Filter Servlet Request request Servlet Response response Filter Chain chain throws Exception Servlet Exception Http Servlet Request http Request Http Servlet Request request if is Mapped To Current Request Path request log debug Applying Cache Control header for resource http Request get Request get Value Http Servlet Response http Response Http Servlet Response response http Response set Header Cache Control get Value chain do Filter request response public String get Value return value public void set Value String value this value value 
package org jboss seam cache import java io Input Stream import org jboss seam Component import org jboss seam Scope Type import org jboss seam contexts Contexts import org jboss seam core Resource Loader Cache Provider provides methods to control and manipulate the configured cache author Sebastian Hennebrueder author Pete Muir public abstract class Cache Provider the region name to be used if no region is specified public static final String org jboss seam cache Default Region private String configuration private String default Region return the cache the cache provider delegates to public abstract get Delegate Get the configuration file used by the cache public String get Configuration return this configuration protected Input Stream get Configuration As Stream return Resource Loader instance get Resource As Stream get Configuration Set the configuration file to be used by the cache public void set Configuration String cfg Resource Name this configuration cfg Resource Name Fetches an object for the given key from the cache and returns it if found Only the default cache region will be searched param key a key to identify the object return the object if found or null if not public Object get String key return get null key Fetches an object for the given key from the cache and returns it if found Only the default cache region will be searched param key a key to identify the object param type the type of the object to return return the object if found or null if not public get String key type return get null key Fetches an object for the given key from the cache and returns it if found Only the specified cache region will be searched param region the name of a cache region param key a key to identify the object return the object if found or null if not public abstract Object get String region String key Fetches an object for the given key from the cache and returns it if found Only the specified cache region will be searched param region the name of a cache region param key a key to identify the object param type the type of object to return return the object if found or null if not public get String region String key type return get region key Put an object into the cache The object is placed in the default cache region under the given key param key a key to identify the object param object the object to be stored in the cache public void put String key Object object put null key object Puts an object into the cache The object is placed in the specified cache region under the given key param region the name of a cache region param key a key to identify the object param object the object to be stored in the cache public abstract void put String region String key Object object Removes an object from the cache The object is removed from the default cache region under the given key param key a key to identify the object public void remove String key remove null key Removes an object from the cache The object is removed from the specified cache region under the given key param region the name of a cache region param key a key to identify the object public abstract void remove String region String key Removes all objects from all cache regions public abstract void clear public String get Default Region return default Region public void set Default Region String default Region this default Region default Region public static Cache Provider instance if Contexts is Application Context Active throw new Illegal State Exception No active application scope return Cache Provider Component get Instance org jboss seam cache cache Provider Scope Type public static Cache Provider instance Class extends type return instance 
package org jboss seam ui renderkit import java io Exception import java io String Writer import java util Calendar import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam ui component Cache import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui Cache Renderer family org jboss seam ui Cache Renderer public class Cache Renderer Base extends Renderer Base private static final Log Provider log Logging get Log Provider Cache class last time we logged the failure of the cache private static Calendar last Log null Override protected Class get Component Class return Cache class Override protected void do Encode Children Response Writer writer Faces Context context Component component throws Exception Cache cache Cache component if cache is Enabled String key cache get Key String cached Content String cache get Cache Provider get cache get Region key if cached Content null log debug rendering from scratch key String Writer string Writer new String Writer Response Writer caching Response Writer writer clone With Writer string Writer context set Response Writer caching Response Writer render Children context component context set Response Writer writer String output string Writer get Buffer to String writer write output cache get Cache Provider put cache get Region key output else log debug rendering from cache key writer write cached Content else render Children context component Override public boolean get Renders Children return true 
package org jboss seam remoting import java lang reflect Invocation Target Exception import java lang reflect Method import java lang reflect Type import java util Array List import java util Arrays import java util Hash Map import java util List import java util Map import java util Map Entry import org jboss seam Component import org jboss seam annotations remoting Web Remote import org jboss seam remoting wrapper Conversion Exception import org jboss seam remoting wrapper Conversion Score import org jboss seam remoting wrapper Wrapper import org jboss seam util author Shane Bryzak public class Call private String id private String component Name private String method Name private String expression private Throwable exception private List Wrapper params new Array List Wrapper private Object result private Call Context context private List String constraints null Constructor param component Name String param method Name String public Call String id String component Name String method Name this id id this component Name component Name this method Name method Name this context new Call Context Return the call context return Call Context public Call Context get Context return context Returns the exception thrown by the invoked method If no exception was thrown will return null public Throwable get Exception return exception Add a parameter to this call param param public void add Parameter Wrapper param params add param Returns the result of this call return Wrapper public Object get Result return result Required for unit tests param result public void set Result Object result this result result Returns the id of this call return String public String get Id return id Returns the object graph constraints annotated on the method that is called return List The constraints public List String get Constraints return constraints Required for unit tests param constraints public void set Constraints List String constraints this constraints constraints Execute this call throws Exception public void execute throws Exception if component Name null process Invocation private void process Invocation throws Exception Find the component we re calling Component component Component for Name component Name if component null throw new Runtime Exception No such component component Name Create an instance of the component Object instance Component get Instance component Name true if instance null throw new Runtime Exception String format Could not create instance of component s component Name Class type null if component get Type is Session Bean component get Business Interfaces size for Class c component get Business Interfaces if c is Annotation Present type c break if type null throw new Runtime Exception String format Type can not be determined for component s Please ensure that it has a local interface component if type null type component get Bean Class Find the method according to the method name and the parameter classes Method m find Method method Name type if m null throw new Runtime Exception No compatible method found if m get Annotation Web Remote class exclude length constraints Arrays as List m get Annotation Web Remote class exclude Object params convert Params m get Generic Parameter Types Invoke try result m invoke instance params catch Invocation Target Exception e this exception e get Cause Convert our parameter values to an Object array of the specified target types param target Types Class An array containing the target class types return Object The converted parameter values private Object convert Params Type target Types throws Conversion Exception Object param Values new Object target Types length for int i i target Types length i param Values i params get i convert target Types i return param Values Find the best matching method within the specified class according to the parameter types that were provided to the Call param name String The name of the method param cls Class The Class to search in return Method The best matching method private Method find Method String name Class cls Map Method Integer candidates new Hash Map Method Integer for Method m cls get Declared Methods if m get Annotation Web Remote class null continue if name equals m get Name m get Parameter Types length params size int score for int i i m get Parameter Types length i Conversion Score conv Score params get i conversion Score m get Parameter Types i if conv Score Conversion Score nomatch continue score conv Score get Score candidates put m score Method best Method null int best Score for Entry Method Integer entry candidates entry Set int this Score entry get Value if best Method null this Score best Score best Method entry get Key best Score this Score return best Method 
package org jboss seam remoting import java util Array List import java util Hash Map import java util List import java util Map import org dom j Element import org jboss seam remoting wrapper Wrapper import org jboss seam remoting wrapper Wrapper Factory Represents the context of an individual call author Shane Bryzak public class Call Context Contains references to inbound bean objects identified by their ref private Map String Wrapper in Refs new Hash Map String Wrapper Contains references to outbound bean objects identified by their object private List Wrapper out Refs new Array List Wrapper param element Element return Wrapper public Wrapper create Wrapper From Element Element element if ref equals element get Qualified Name if in Refs contains Key element attribute Value id return in Refs get element attribute Value id else Element value Element element elements get Wrapper w Wrapper Factory get Instance create Wrapper value get Qualified Name w set Element value w set Call Context this in Refs put element attribute Value id w return w else Wrapper w Wrapper Factory get Instance create Wrapper element get Qualified Name w set Element element w set Call Context this return w return Wrapper public Wrapper create Wrapper From Object Object value String path Not very efficient but has to be done may implement something better later for Wrapper ref out Refs if ref get Value equals value return ref Wrapper w Wrapper Factory get Instance get Wrapper For Object value w set Call Context this w set Path path return w Returns the inbound object references return Map public Map String Wrapper get In Refs return in Refs Returns the outbound object references return List public List Wrapper get Out Refs return out Refs Add an outbound object reference param w Wrapper public void add Out Ref Wrapper w if out Refs contains w out Refs add w 
package org jboss seam tool import org apache tools ant Build Exception import org apache tools ant Task public class Capitalize Property Task extends Task private String value private String name Override public void execute throws Build Exception if value null equals value get Project set Property name capitalize value protected String capitalize String name return name substring to Upper Case name substring public void set Value String package Name this value package Name public void set Name String property Name this name property Name 
package org jboss seam captcha import java awt Color import java awt Graphics import java awt image Buffered Image import java io Serializable import java util Random import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts Default algorithm a simple addition problem May be extended and customized author Gavin King Name org jboss seam captcha captcha Scope Scope Type Install precedence Install Bypass Interceptors public class Captcha implements Serializable private static Random random new Random System current Time Millis private String correct Response private String challenge private String response Initialize the challenge and correct response May be overridden and customized by a subclass Create public void init int x random next Int int y random next Int set Correct Response Integer to String x y set Challenge Integer to String x Integer to String y Set the challenge question protected void set Challenge String challenge this challenge challenge Get the challenge question protected String get Challenge return challenge Set the correct response protected void set Correct Response String correct Response this correct Response correct Response Validate that the entered response is the correct response public boolean validate Response String response boolean valid response null correct Response null response trim equals correct Response if valid init return valid Captcha Response public String get Response return response public void set Response String input this response input Render the challenge question as an image May be overridden by subclasses to achieve a stronger public Buffered Image render Challenge Buffered Image challenge new Buffered Image Buffered Image Graphics graphics challenge get Graphics graphics set Color get Challenge Background Color graphics fill Rect get Challenge Image Width graphics set Color get Challenge Text Color graphics draw String get Challenge return challenge May be overridden by subclasses return the width in pixels of the challenge question protected int get Challenge Image Width return May be overridden by subclasses return the background color of the challenge image protected Color get Challenge Background Color return Color May be overridden by subclasses return return the foreground color of the challenge image protected Color get Challenge Text Color return Color public static Captcha instance if Contexts is Session Context Active throw new Illegal State Exception No session context active return Captcha Component get Instance Captcha class Scope Type 
package org jboss seam captcha import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Byte Array Output Stream import java io Exception import javax imageio Image import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam contexts Servlet Lifecycle import org jboss seam web Abstract Resource Serves images author Shane Bryzak Scope Name org jboss seam captcha captcha Image Bypass Interceptors Install precedence public class Captcha Image extends Abstract Resource public static Captcha Image instance if Contexts is Application Context Active throw new Illegal State Exception No application context active return Captcha Image Contexts get Application Context get Captcha Image class Override public String get Resource Path return captcha Override public void get Resource Http Servlet Request request Http Servlet Response response throws Exception Byte Array Output Stream out new Byte Array Output Stream Servlet Lifecycle begin Request request get Servlet Context try Image write Captcha instance render Challenge jpeg out finally Servlet Lifecycle end Request request response set Header Cache Control no cache response set Header Pragma no cache response set Header Expires response set Content Type image jpeg response get Output Stream write out to Byte Array response get Output Stream flush response get Output Stream close 
package org jboss seam captcha import java lang annotation Documented import java lang annotation Element Type import java lang annotation Retention import java lang annotation Retention Policy import java lang annotation Target import javax validation Constraint Retention Retention Policy Documented Target Element Type Constraint validated By Captcha Response Validator class public interface Captcha Response String message default incorrect response Class groups default Class payload default 
package org jboss seam captcha import javax validation Constraint Validator import javax validation Constraint Validator Context Validates that the input entered by the user matches the captcha image author Gavin King author Marek Novotny public class Captcha Response Validator implements Constraint Validator Captcha Response String public void initialize Captcha Response constraint Annotation public boolean is Valid String value Constraint Validator Context context boolean result Captcha instance validate Response value if result context disable Default Constraint Violation context build Constraint Violation With Template org jboss seam captcha error add Constraint Violation return result 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import javax persistence Column import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Table import org hibernate search annotations Analyzer import org hibernate search annotations Document Id import org hibernate search annotations Field import org hibernate search annotations Fields import org hibernate search annotations Index import org hibernate search annotations Indexed Entity Table name Cache usage Cache Concurrency Strategy Indexed public class Category implements Serializable private static final long serial Version int id String name Id Generated Value Column name Document Id public int get Category Id return id public void set Category Id int id this id id Column name nullable false unique true length Fields Field index Index Field index Index name name ngrams analyzer Analyzer definition ngrams public String get Name return name public void set Name String name this name name Override public boolean equals Object other if other null other instanceof Category return false Category other Category Category other return get Category Id other Category get Category Id Override public int hash Code return get Category Id 
package org jboss seam example seambay import java util Array List import java util List import javax persistence Entity Manager import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations remoting Web Remote Name category Action public class Category Action In Entity Manager entity Manager Out required false private List Category categories Out required false private List Category all Categories Out required false private List Category left Categories Out required false private List Category right Categories Suppress Warnings unchecked Factory categories public void load Categories categories entity Manager create Query from Category where parent null order by name get Result List public List Category get Categories return categories Suppress Warnings unchecked Factory all Categories Web Remote public List Category get All Categories all Categories entity Manager create Query from Category c order by c category Id get Result List return all Categories On the Buy screen the list of categories are split into two columns the left column and the right column This procedure loads the categories and separates them into two lists to populate these columns private void load Left And Right if categories null load Categories boolean load Left left Categories null boolean load Right right Categories null if load Left left Categories new Array List Category if load Right right Categories new Array List Category for int i i categories size i if i categories size if load Left left Categories add categories get i else if load Right right Categories add categories get i Factory left Categories public void load Left Categories if left Categories null load Left And Right Factory right Categories public void load Right Categories if right Categories null load Left And Right Suppress Warnings unchecked public List Category get Sub Categories Category parent return entity Manager create Query from Category where parent parent set Parameter parent parent get Result List 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam example tasks import org jboss seam annotations Auto Create import org jboss seam annotations Name import org jboss seam example tasks entity Category import org jboss seam framework Entity Home author Jozef Hartinger Name category Home Auto Create public class Category Home extends Entity Home Category public Category find By Username And Category String username String category set Instance Category get Entity Manager create Named Query category By Name And User set Parameter username username set Parameter category category get Single Result return get Instance 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam example tasks resource import javax ws rs Consumes import javax ws rs import javax ws rs import javax ws rs import javax ws rs Path import javax ws rs Path Param import javax ws rs Produces import javax ws rs core Response import javax ws rs core Uri Info import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam example tasks Category Home import org jboss seam example tasks entity User This resource demonstrates use of plain resource no Resource Home component with Seam It allows retrieving creating and deleting of task categories To create new category simply send a request without entity body to auth category name where name is the name of category Same path applies for retrieving and deleting of category author Jozef Hartinger Path auth category category Name category Resource Produces application xml application json application fastinfoset Consumes application xml application json application fastinfoset public class Category Resource In private Category Home category Home javax ws rs core Context private Uri Info uri Info In private User user Path Param category private String category public Response get Category return Response ok category Home find By Username And Category user get Username category build public Response put Category category Home get Instance set Name category category Home get Instance set Owner user may cause exception if user already has a category with that name in that case the exception is handled by exception mapper category Home persist return Response created uri Info get Absolute Path build public void delete Category category Home find By Username And Category user get Username category category Home remove 
package org jboss seam example restbay import javax ws rs Path import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam framework Entity Home import org jboss seam framework Home import org jboss seam resteasy Resource Home This resource demonstrates using Resource Home component This resource is used for testing purposes author Jozef Hartinger Name category Resource Home Path extended Category public class Category Resource Home extends Resource Home Category Integer In private Entity Home Category category Home Override public Home Category get Entity Home return category Home public Category Resource Home set Media Types new String application xml application json 
package org jboss seam example restbay import javax ws rs Path import org jboss seam annotations Name import org jboss seam resteasy Resource Query Example of Resource Query usage Used for testing purposes author Jozef Hartinger Name category Resource Query Path extended Category public class Category Resource Query extends Resource Query Category 
package org jboss seam example restbay author Christian Bauer public interface Category Service public String get Categories public String get Category int category Id 
package org jboss seam example restbay import org jboss seam annotations Name import org jboss seam annotations In import javax ws rs import javax persistence Entity Manager import java util List author Christian Bauer Name category Service Path category public class Category Service Impl implements Category Service In Entity Manager entity Manager Produces text plain public String get Categories List Object categories entity Manager create Query select c category Id c name from Category c order by c id asc get Result List String Builder s new String Builder for Object category categories s append category append append category append n return s to String Path category Id Produces text plain public String get Category Path Param category Id int category Id return entity Manager find Category class category Id get Name 
package org jboss seam excel jxl import jxl write Writable Cell Features import jxl write Writable Cell Format import org jboss seam excel ui Cell Cell Type Cell info that collects features and formats author karlsnic public class Cell Info Cell format of the cell private Writable Cell Format cell Format Cell features of the cell private Writable Cell Features cell Features Cell contents type of the cell private Cell Type cell Type public Cell Type get Cell Type return cell Type public void set Cell Type Cell Type cell Type this cell Type cell Type public Writable Cell Format get Cell Format return cell Format public Writable Cell Features get Cell Features return cell Features public void set Cell Format Writable Cell Format cell Format this cell Format cell Format public void set Cell Features Writable Cell Features cell Features this cell Features cell Features 
package org jboss seam excel jxl import java util Hash Map import java util Map import jxl write Writable Cell Format import org jboss seam excel ui Cell Cell Type cache for parsed cell info author karlsnic public class Cell Info Cache cache for cell types mapped by Component private Map String Cell Type cell Data Type Cache new Hash Map String Cell Type cache for cell formattings mapped by Component private Map String Writable Cell Format cell Format Cache new Hash Map String Writable Cell Format public Cell Type get Cached Cell Type String component Id return cell Data Type Cache get component Id public void set Cached Cell Type String component Id Cell Type cell Type cell Data Type Cache put component Id cell Type public Writable Cell Format get Cached Cell Format String component Id return cell Format Cache get component Id public void set Cached Cell Format String component Id Writable Cell Format cell Format cell Format Cache put component Id cell Format 
package org jboss seam excel css import java util Map Helper class that collects font border and background info with cell info into one package from stylesheet data author Nicklas Karlsson nickarls gmail com public class Cell Style public class Font public String family public Integer point Size public String color public Boolean bold public Boolean italic public String script Style public String underline Style public Boolean struck Out public boolean is Used return family null point Size null color null bold null italic null script Style null underline Style null struck Out null public class Background public String color public String pattern public boolean is Used return color null pattern null public class Border public String color public String line Style public boolean is Used return color null line Style null public Font font new Font public Background background new Background public Border left Border new Border public Border top Border new Border public Border bottom Border new Border public Border right Border new Border public String alignment public Integer indentation public Boolean locked public String orientation public Boolean shrink To Fit public Boolean wrap public String vertical Alignment public String format Mask public String force Type public Cell Style Map String Object style Map font family String style Map get Names font color String style Map get Names font point Size Integer style Map get Names font italic Boolean style Map get Names font script Style String style Map get Names font struck Out Boolean style Map get Names font underline Style String style Map get Names font bold Boolean style Map get Names background color String style Map get Names background pattern String style Map get Names left Border color String style Map get Names left Border line Style String style Map get Names top Border color String style Map get Names top Border line Style String style Map get Names right Border color String style Map get Names right Border line Style String style Map get Names bottom Border color String style Map get Names bottom Border line Style String style Map get Names alignment String style Map get Names indentation Integer style Map get Names locked Boolean style Map get Names orientation String style Map get Names shrink To Fit Boolean style Map get Names wrap Boolean style Map get Names vertical Alignment String style Map get Names format Mask String style Map get Names force Type String style Map get Names 
Id Change Password java v gavin Exp package org jboss seam example booking import javax ejb Local Local public interface Change Password public void change Password public boolean is Changed public String get Verify public void set Verify String verify public void destroy 
package org jboss seam example spring import static org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations Scope import org jboss seam faces Faces Messages Scope Name change Password public class Change Password Action In Out private User user In user Service private User Service user Service private String verify private boolean changed public void change Password if user Service change Password user get Username verify user get Password Faces Messages instance add Password updated changed true else Faces Messages instance add To Control verify Re enter new password verify null user user Service find User user get Username public boolean is Changed return changed public String get Verify return verify public void set Verify String verify this verify verify 
package org jboss seam web import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Exception import javax servlet Filter Chain import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter servlet filter that lets you set the character encoding of submitted data There are two init parameters encoding and override Client author Gavin King Scope Name org jboss seam servlet character Encoding Filter Install value false precedence Bypass Interceptors Filter within org jboss seam web ajax jsf Filter public class Character Encoding Filter extends Abstract Filter private String encoding private boolean override Client public void do Filter Servlet Request request Servlet Response response Filter Chain filter Chain throws Servlet Exception Exception if encoding null override Client request get Character Encoding null request set Character Encoding encoding filter Chain do Filter request response public String get Encoding return encoding public void set Encoding String encoding this encoding encoding public boolean get Override Client return override Client public void set Override Client boolean override Client this override Client override Client 
package org jboss seam example pdf import org jboss seam annotations import java util Name data public class Chart Data public List Stuff get Pie Data List Stuff all Stuff new Array List Stuff all Stuff add new Stuff first thing f all Stuff add new Stuff second thing f all Stuff add new Stuff third thing f all Stuff add new Stuff fourth thing f return all Stuff public static class Stuff String name Float value public Stuff String name Float value this name name this value value public String get Name return name public Float get Value return value 
package org jboss seam example remoting chatroom import static org jboss seam Scope Type import java util Set import javax ejb Remove import javax ejb Stateful import javax jms Topic Publisher import javax jms Topic Session import org jboss seam annotations Begin import org jboss seam annotations Destroy import org jboss seam annotations End import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope Stateful Name chatroom Action Scope public class Chat Room Action implements Chat Room Action Web Remote In create true private transient Topic Publisher topic Publisher In create true private transient Topic Session topic Session In create true Set String chatroom Users private String username Begin public boolean connect String username this username username boolean added chatroom Users add username if added publish new Chatroom Event connect username return added public void send Message String message publish new Chatroom Event message username message End public void disconnect chatroom Users remove username publish new Chatroom Event disconnect username public Set String list Users return chatroom Users private void publish Chatroom Event message try topic Publisher publish topic Session create Object Message message catch Exception ex throw new Runtime Exception ex Destroy Remove public void destroy 
package org jboss seam example remoting chatroom import java util Set import javax ejb Local import org jboss seam annotations remoting Web Remote Local public interface Chat Room Action Web Remote Web Remote boolean connect String name Web Remote void disconnect Web Remote void send Message String message Web Remote Set String list Users public void destroy 
package org jboss seam example remoting chatroom import java io Serializable import org jboss seam annotations Name author Shane Bryzak Name chatroom Event public class Chatroom Event implements Serializable private String action private String user private String data public Chatroom Event String action String user this action user null public Chatroom Event String action String user String data this action action this user user this data data public String get Action return action public String get User return user public String get Data return data 
package org jboss seam example remoting chatroom import java util Hash Set import java util Set import org jboss seam cache Cache Provider import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap Name chatroom Users Scope Scope Type public class Chatroom Users Suppress Warnings unchecked In Cache Provider cache Provider Suppress Warnings unchecked Unwrap public Set String get Users Set String user List Set String cache Provider get chatroom user List if user List null user List new Hash Set String cache Provider put chatroom user List user List return user List 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam public interface Checkout public void create Order public Order submit Order public void destroy 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import java math Big Decimal import java util Array List import java util Date import java util List import javax ejb Remove import javax ejb Stateful import javax persistence Entity Manager import javax persistence Persistence Context import org jboss seam Scope Type import org jboss seam annotations Begin import org jboss seam annotations bpm Create Process import org jboss seam annotations security Restrict import org jboss seam annotations End import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam contexts Contexts import org jboss seam faces Faces Messages Stateful Name checkout public class Checkout Action implements Checkout Serializable private static final long serial Version Persistence Context Entity Manager em In value current User required false Customer customer In create true Shopping Cart cart Out scope Scope Type required false Order current Order Out scope Scope Type required false Order completed Order Out scope Scope Type required false long order Id Out scope Scope Type required false Big Decimal amount Big Decimal Out value customer scope Scope Type required false String customer Name Begin nested true pageflow checkout public void create Order current Order new Order for Order Line line cart get Cart current Order add Product em find Product class line get Product get Product Id line get Quantity current Order calculate Totals cart reset Cart End Create Process definition Order Management process Key completed Order order Id Restrict identity logged In public Order submit Order try completed Order purchase customer current Order order Id completed Order get Order Id amount completed Order get Net Amount customer Name completed Order get Customer get User Name catch Insufficient Quantity Exception e for Product product e get Products Contexts get Event Context set prod product Faces Messages instance add From Resource Bundle checkout Insufficient Quantity return null return completed Order private Order purchase Customer customer Order order throws Insufficient Quantity Exception order set Customer customer order set Order Date new Date List Product error Products new Array List Product for Order Line line order get Order Lines Inventory inv line get Product get Inventory if inv order line get Quantity error Products add line get Product if error Products size throw new Insufficient Quantity Exception error Products order calculate Totals em persist order return order Remove public void destroy 
package org jboss seam deployment import java util Set public interface Class Deployment Handler extends Deployment Handler public Class Deployment Metadata get Metadata public Set Class Descriptor get Classes public void set Classes Set Class Descriptor classes 
package org jboss seam deployment import java lang annotation Annotation import java util Set public interface Class Deployment Metadata extends Deployment Metadata An array of class annotations this deployment handler is interested in All classes with any of these annotations should be considered part of the match public Set Class extends Annotation get Class Annotated With 
package org jboss seam deployment import java net import javax servlet Servlet Context import org jboss seam log Log Provider import org jboss seam log Logging public class Class Descriptor extends File Descriptor private static Log Provider log Logging get Log Provider Class Descriptor class private Class clazz public Class Descriptor String name url Class clazz super name url this clazz clazz public Class Descriptor String name Class Loader class Loader Servlet Context servlet Context super name class Loader servlet Context String classname filename To Classname name log trace Trying to load class classname try clazz class Loader load Class classname will throw a Type Not Present Exception if any annotation on the class is not on the classpath rendering the class virtually unusable given Seam s heavy use of annotations clazz get Annotations catch Class Not Found Exception cnfe log debug could not load class classname cnfe catch Linkage Error ncdfe log debug could not load class missing dependency classname ncdfe catch Type Not Present Exception tnpe clazz null log debug could not load class annotation missing dependency classname tnpe public Class get Clazz return clazz Override public String to String return clazz get Name Convert a path to a class file to a class name public static String filename To Classname String filename return filename substring filename last Index Of class replace replace Override public boolean equals Object other if other instanceof Class Descriptor Class Descriptor that Class Descriptor other return this get Clazz equals that get Clazz else return false Override public int hash Code return get Clazz hash Code 
package org jboss seam security permission import java io Serializable import java util Map import java util concurrent Concurrent Hash Map import org jboss seam Seam import org jboss seam annotations security permission Identifier An Identifier strategy for class based permission checks author Shane Bryzak public class Class Identifier Strategy implements Identifier Strategy Serializable private static final long serial Version private Map Class String identifier Names new Concurrent Hash Map Class String public boolean can Identify Class target Class return Class class equals target Class public String get Identifier Object target if target instanceof Class throw new Illegal Argument Exception Target target must be instance of Class return get Identifier Name Class target private String get Identifier Name Class cls if identifier Names contains Key cls String name null if cls is Annotation Present Identifier class Identifier identifier Identifier cls get Annotation Identifier class if identifier name null equals identifier name trim name identifier name if name null name Seam get Component Name cls if name null name cls get Name substring cls get Name last Index Of identifier Names put cls name return name return identifier Names get cls 
package org jboss seam core import java io Serializable import java util Set import javax validation Constraint Violation import javax validation Validation import javax validation Validator author Marek Novotny param type for validation public class Class Validator implements Serializable private static final long serial Version default validator from context private static final Validator validator Validation build Default Validator Factory get Validator private final Class class For Validation public Class Validator Class clazz this class For Validation clazz public Set Constraint Violation get Potential Invalid Values String property Name Object value return validator validate Value class For Validation property Name value 
Id Client Side Interceptor java gavin package org jboss seam intercept import java lang reflect Method import javassist util proxy Method Handler import javassist util proxy Proxy Object import org jboss seam Component import org jboss seam Component Type import org jboss seam annotations intercept Interceptor Type import org jboss seam ejb Seam Interceptor Controller interceptor for client side interceptors of session bean components author Gavin King public class Client Side Interceptor extends Root Interceptor implements Method Handler private static final long serial Version private final Object bean private final Class bean Class public Client Side Interceptor Object bean Component component super Interceptor Type this bean bean this bean Class component get Bean Class init component public Object invoke final Object proxy final Method method final Method proceed final Object params throws Throwable String method Name method get Name if params null params length if finalize equals method Name return proceed invoke proxy params else if write Replace equals method Name return this else if get Component equals method Name return get Component Object result invoke create Invocation Context method params Event Type return session Bean Returned This result proxy result private boolean session Bean Returned This Object result return result bean result null get Component get Bean Class is Assignable From result get Class private Root Invocation Context create Invocation Context final Method method final Object params return new Root Invocation Context bean method params Override public Object proceed throws Exception Component old Session Bean Interceptor get Seam Interceptor set get Component try return super proceed finally Seam Interceptor set old copy paste from Java Bean interceptor Object read Resolve Component comp null try comp get Component catch Illegal State Exception ise this can occur when tomcat deserializes persistent sessions try if comp null Proxy Object proxy Component create Proxy Factory Component Type bean Class Component get Business Interfaces bean Class new Instance proxy set Handler this return proxy else return comp wrap bean this catch Exception e throw new Runtime Exception e 
package org jboss seam ui import javax faces context Faces Context import org jboss seam annotations Create import org jboss seam annotations Name import org jboss seam faces Selector import org jboss seam util Random String Utils p selector which manages the cookie that gives the browser a unique identifier This value is shared only between the browser and the server thus allowing the server to determine if two distinct requests were made by the same source p p The identifier is stored in a cookie named code javax faces Client Token code p author Dan Allen Name org jboss seam ui client Uid Selector public class Client Uid Selector extends Selector private static final long serial Version private String client Uid Create public void on Create String request Context Path Faces Context get Current Instance get External Context get Request Context Path if request Context Path is Empty request Context Path set Cookie Path request Context Path set Cookie Max Age set Cookie Enabled true client Uid get Cookie Value public void seed if is Set client Uid Random String Utils random true true set Cookie Value If Enabled client Uid public boolean is Set return client Uid null public String get Client Uid return client Uid Override protected String get Cookie Name return javax faces Client Token 
package org jboss seam transaction import javax ejb Context import javax transaction Heuristic Mixed Exception import javax transaction Heuristic Rollback Exception import javax transaction Not Supported Exception import javax transaction Rollback Exception import javax transaction Status import javax transaction Synchronization import javax transaction System Exception import javax transaction User Transaction Wraps Context transaction management in a User Transaction interface Note that container managed transactions can not be controlled by the application so begin commit and rollback are disallowed in a author Mike Youngstrom author Gavin King public class Transaction extends Abstract User Transaction private final Context ejb Context public Transaction Context ejb Context this ejb Context ejb Context if ejb Context null throw new Illegal Argument Exception null Context public void begin throws Not Supported Exception System Exception ejb Context get User Transaction begin get Synchronizations after Transaction Begin public void commit throws Rollback Exception Heuristic Mixed Exception Heuristic Rollback Exception Security Exception Illegal State Exception System Exception User Transaction user Transaction ejb Context get User Transaction boolean success false Synchronizations synchronizations get Synchronizations synchronizations before Transaction Commit try user Transaction commit success true finally synchronizations after Transaction Commit success public void rollback throws Illegal State Exception Security Exception System Exception User Transaction user Transaction ejb Context get User Transaction try user Transaction rollback finally get Synchronizations after Transaction Rollback public int get Status throws System Exception try not correct for or if ejb Context get Rollback Only return Status else return Status catch Illegal State Exception ise try return ejb Context get User Transaction get Status catch Illegal State Exception is return Status public void set Rollback Only throws Illegal State Exception System Exception ejb Context set Rollback Only public void set Transaction Timeout int timeout throws System Exception ejb Context get User Transaction set Transaction Timeout timeout Override public void register Synchronization Synchronization sync Synchronizations synchronizations get Synchronizations if synchronizations is Aware Of Container Transactions synchronizations register Synchronization sync else throw new Unsupported Operation Exception can not register synchronization with container transaction use transaction ejb transaction 
package org jboss seam example pdf import java util Array List import java util List import org jboss seam Scope Type import org jboss seam annotations Factory import org jboss seam annotations Name import org jboss seam annotations Scope Name random Scope Scope Type public class Colors Factory strokes public String get Strokes return new String solid thin solid thick dot dot Factory colors public List get All List String colors new Array List String colors add white colors add gray colors add lightgray colors add darkgray colors add black colors add red colors add pink colors add yellow colors add green colors add magenta colors add cyan colors add blue return colors 
package org jboss seam example ui import java io Serializable import java util List import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Many To Many Entity public class Colour implements Serializable Many To Many mapped By favourite Colours private List Person people Id Generated Value private Integer id private String name public Integer get Id return id public void set Id Integer id this id id public String get Name return name public void set Name String name this name name 
package org jboss seam excel css import java util Map Helper class that collects column info into one package from stylesheet data author Nicklas Karlsson nickarls gmail com public class Column Style public Boolean auto Size public Boolean hidden public Integer width public Boolean export public Column Style Map String Object style Map auto Size Boolean style Map get Names hidden Boolean style Map get Names width Integer style Map get Names export Boolean style Map get Names 
package org jboss seam excel ui command public interface Command public enum Command Type merge cells add row pagebreak group rows group columns public abstract Command Type get Command Type 
package org jboss seam ui handler import javax faces component Component import javax faces component View Root import javax faces view facelets Component Config import javax faces view facelets Component Handler import javax faces view facelets Facelet Context import static org jboss seam ui util cdk Renderer Base get Utils Command button based parameter handler If user did n t specify id on button do it for them we need one rendered author Pete Muir public class Command Button Parameter Component Handler extends Component Handler public Command Button Parameter Component Handler Component Config config super config Override public void on Component Created Facelet Context ctx Component c Component parent if get Utils is Command Button parent parent get Id starts With View Root parent set Id seam parent get Id 
package org jboss seam ui renderkit import static org jboss seam ui util import static org jboss seam ui util import static org jboss seam ui util import static org jboss seam ui util import static org jboss seam ui util import java io Exception import javax faces component Component import javax faces component Parameter import javax faces component View Root import javax faces context Faces Context import javax faces context Response Writer import org jboss seam log Log Provider import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer author Pete Muir public abstract class Command Button Parameter Renderer Base extends Renderer Base protected abstract Log Provider get Log protected abstract String get Parameter Name Component component Override protected void do Encode End Response Writer writer Faces Context context Component component throws Exception Component action Component component get Parent Component form get Utils get Form action Component Parameter parameter Parameter component if get Utils is Command Button action Component String form Id form get Client Id context writer start Element component writer write Attribute writer write Attribute if action Component get Id starts With View Root get Log warn Must set an id for the command buttons with s conversation Propagation String function Body if document get Element By Id var form document get Element By Id form Id var input document create Element input if document all what follows should work with but does n t in input type hidden input name get Parameter Name component input value parameter get Value else if document get Element By Id so here is the workaround input set Attribute type hidden input set Attribute name get Parameter Name component input set Attribute value parameter get Value form append Child input return true String function Name cp action Component get Id String function Code var function Name new Function event function Body writer write function Code We are either written before the element e g a command Button In this case we can simply prepend to the existing on Click String existing On Click String action Component get Attributes get onclick action Component get Attributes put onclick function Name existing On Click But we also might be written after e g h command Button In this case we can use event capture String function Register if document get Element By Id action Component get Client Id context document get Element By Id action Component get Client Id context onclick new Function event function Body writer write function Register writer end Element script 
package org jboss seam example contactlist import org hibernate validator constraints Length import java util Date import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Many To One import javax validation constraints Not Null Entity public class Comment Id Generated Value private Long id Not Null Many To One private Contact contact Not Null Length max private String text Not Null private Date created public Contact get Contact return contact public void set Contact Contact contact this contact contact contact get Comments add this public Long get Id return id public String get Text return text public void set Text String text this text text public Date get Created return created public void set Created Date created this created created 
package org jboss seam example seamspace import static org jboss seam Scope Type import java util Date import javax persistence Entity Manager import org jboss seam annotations Begin import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Transactional import org jboss seam annotations security Insert import org jboss seam core Conversation Scope Name comment Action Transactional public class Comment Action In private Entity Manager entity Manager private Blog Comment comment In required false private Member authenticated Member In required false private Member Blog selected Blog Begin nested true Insert Blog Comment class public void create Comment comment new Blog Comment comment set Commentor authenticated Member comment set Blog selected Blog public void save Comment comment set Comment Date new Date entity Manager persist comment entity Manager refresh selected Blog Conversation instance end public Blog Comment get Comment return comment 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam import static org jboss seam Component Type import static org jboss seam Component Type import static org jboss seam Component Type import static org jboss seam Component Type import static org jboss seam Scope Type import static org jboss seam Scope Type import static org jboss seam Scope Type import static org jboss seam Scope Type import static org jboss seam Scope Type import static org jboss seam Scope Type import static org jboss seam Scope Type import static org jboss seam util import static org jboss seam util import static org jboss seam util import static org jboss seam util import static org jboss seam util import static org jboss seam util import static org jboss seam util import static org jboss seam util import static org jboss seam util import static org jboss seam util value import java io Serializable import java lang annotation Annotation import java lang reflect Array import java lang reflect Constructor import java lang reflect Field import java lang reflect Method import java lang reflect Modifier import java lang reflect Type import java util Array List import java util Arrays import java util Collection import java util Hash Map import java util Hash Set import java util Linked Hash Map import java util Linked Hash Set import java util List import java util Map import java util Set import java util Sorted Map import java util Sorted Set import java util Tree Map import java util Tree Set import javassist util proxy Method Filter import javassist util proxy Method Handler import javassist util proxy Proxy Factory import javassist util proxy Proxy Object import javax naming Naming Exception import javax servlet http Http Session Activation Listener import org jboss seam annotations Begin import org jboss seam annotations Create import org jboss seam annotations Data Binder Class import org jboss seam annotations Data Selector Class import org jboss seam annotations Destroy import org jboss seam annotations End import org jboss seam annotations Import import org jboss seam annotations In import org jboss seam annotations Jndi Name import org jboss seam annotations Observer import org jboss seam annotations Out import org jboss seam annotations Per Nested Conversation import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations Synchronized import org jboss seam annotations Unwrap import org jboss seam annotations bpm Begin Task import org jboss seam annotations bpm End Task import org jboss seam annotations bpm Start Task import org jboss seam annotations datamodel Data Model import org jboss seam annotations faces Converter import org jboss seam annotations faces Validator import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations intercept Interceptor Type import org jboss seam annotations intercept Interceptors import org jboss seam annotations security Permission Check import org jboss seam annotations security Restrict import org jboss seam annotations security Role Check import org jboss seam annotations web Request Parameter import org jboss seam contexts Context import org jboss seam contexts Contexts import org jboss seam core Events import org jboss seam core Expressions import org jboss seam core Expressions Method Expression import org jboss seam core Expressions Value Expression import org jboss seam core Init import org jboss seam core Mutable import org jboss seam databinding Data Binder import org jboss seam databinding Data Selector import org jboss seam ejb Seam Interceptor import org jboss seam intercept Client Side Interceptor import org jboss seam intercept Interceptor import org jboss seam intercept Java Bean Interceptor import org jboss seam intercept Proxy import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Conversions import org jboss seam util Conversions Property Value import org jboss seam util Naming import org jboss seam util Reflections import org jboss seam util Sort Item import org jboss seam util Sorter import org jboss seam web Parameters Metamodel class for component classes Seam component is any class with a Name annotation author Thomas Heute author Gavin King Scope Scope Type public class Component extends Model public static final String org jboss seam properties private static final Log Provider log Logging get Log Provider Component class private Component Type type private String name private Scope Type scope private String jndi Name private boolean interception Enabled private boolean startup private String dependencies private boolean synchronize private long timeout private boolean secure private Set Class business Interfaces private Method destroy Method private Method create Method private Method unwrap Method private Method default Remove Method check the spec think you are allowed to have multiple lifecycle methods on a bean private Method pre Destroy Method private Method post Construct Method private Method pre Passivate Method private Method post Activate Method private Map String Method remove Methods new Hash Map String Method private Set Method lifecycle Methods new Hash Set Method private Set Method conversation Management Methods new Hash Set Method private List Bijected Attribute In in Attributes new Array List Bijected Attribute In private List Bijected Attribute Out out Attributes new Array List Bijected Attribute Out private List Bijected Attribute parameter Setters new Array List Bijected Attribute private List Bijected Attribute data Model Getters new Array List Bijected Attribute private List Bijected Attribute pc Attributes new Array List Bijected Attribute private Map String Bijected Attribute data Model Selection Setters new Hash Map String Bijected Attribute private List Interceptor interceptors new Array List Interceptor private List Interceptor client Side Interceptors new Array List Interceptor private Map Method Initial Value initializer Setters new Hash Map Method Initial Value private Map Field Initial Value initializer Fields new Hash Map Field Initial Value private List Field log Fields new Array List Field private List org jboss seam log Log log Instances new Array List org jboss seam log Log private Collection Namespace imports new Array List Namespace private Namespace namespace private boolean per Nested Conversation private Class Proxy Object factory only used for tests public Component Class clazz this clazz get Component Name clazz only used for tests public Component Class clazz String component Name this clazz component Name Seam get Component Scope clazz false new String null only used for tests public Component Class clazz Context application Context this clazz get Component Name clazz Seam get Component Scope clazz false new String null application Context public Component Class clazz String component Name Scope Type component Scope boolean startup String dependencies String jndi Name this clazz component Name component Scope startup dependencies jndi Name Contexts get Application Context private Component Class bean Class String component Name Scope Type component Scope boolean startup String dependencies String component Jndi Name Context application Context super bean Class name component Name scope component Scope this startup startup this dependencies dependencies type Seam get Component Type get Bean Class interception Enabled Seam is Interception Enabled get Bean Class per Nested Conversation has Annotation get Bean Class Per Nested Conversation class check Name check Nonabstract init Namespace component Name application Context init Imports application Context init Synchronize init Startup init Security check Scope For Component Type check Synchronized For Component Type check Serializable For Component Type jndi Name component Jndi Name null get Jndi Name application Context component Jndi Name log info Component get Name scope get Scope type get Type class get Bean Class get Name jndi Name null jndi Name init Members get Bean Class application Context check Default Remove Method business Interfaces get Business Interfaces get Bean Class if interception Enabled init Interceptors init Initializers application Context register Converter Or Validator application Context private void check Name for char c name to Char Array if Character is Java Identifier Part c c throw new Illegal State Exception not a valid Seam component name name private void check Nonabstract if get Bean Class is Interface throw new Illegal Argument Exception component class is an interface name if Modifier is Abstract get Bean Class get Modifiers throw new Illegal Argument Exception component class is abstract name private void init Startup if startup if scope scope throw new Illegal Argument Exception Startup only supported for or scoped components name Startup annotation get Bean Class get Annotation Startup class if dependencies length annotation null dependencies annotation depends private void init Synchronize boolean has Annotation get Bean Class is Annotation Present Synchronized class Technically we do n t need to synchronize page scoped components if State Manager is Saving State In Client Faces Context is true synchronize scope scope has Annotation type Component Type if synchronize timeout get Bean Class is Annotation Present Synchronized class get Bean Class get Annotation Synchronized class timeout Synchronized if has Annotation interception Enabled log warn Interceptors are disabled for Synchronized component synchronization will be disabled for name if has Annotation type Component Type log warn Seam synchronization interceptor is disabled for Synchronized Stateful component Seam synchronization will be disabled for name private void register Converter Or Validator Context application Context if application Context null for unit tests Init init Init application Context get Seam get Component Name Init class if init null if get Bean Class is Annotation Present Converter class if get Bean Class is Annotation Present Bypass Interceptors class throw new Illegal State Exception Converter get Bean Class get Name must be annotated with Bypass Interceptors Converter converter get Bean Class get Annotation Converter class if converter for Class void class init get Converters By Class put converter for Class get Name String id converter id equals get Name converter id init get Converters put id get Name if get Bean Class is Annotation Present Validator class if get Bean Class is Annotation Present Bypass Interceptors class throw new Illegal State Exception Validator get Bean Class get Name must be annotated with Bypass Interceptors Validator validator get Bean Class get Annotation Validator class String id validator id equals get Name validator id init get Validators put id get Name private void init Namespace String component Name Context application Context if application Context null for unit tests Init init Init application Context get Seam get Component Name Init class if init null this namespace init init Namespace For Name component Name true private void init Imports Context application Context if application Context null for unit tests Init init Init application Context get Seam get Component Name Init class if init null if get Bean Class is Annotation Present Import class add Import init get Bean Class get Annotation Import class Package pkg get Bean Class get Package if pkg null pkg is Annotation Present Import class add Import init get Bean Class get Package get Annotation Import class private void add Import Init init Import imp for String ns imp value imports add init init Namespace For Name ns false private void check Scope For Component Type if scope type type throw new Illegal Argument Exception Only stateless session beans and Java beans may be bound to the context name if scope type throw new Illegal Argument Exception Stateful session beans may not be bound to the context name if scope type log warn Stateful session beans was bound to the context note that it is not safe to make concurrent calls to the bean name if scope type throw new Illegal Argument Exception Message driven beans must be bound to context name if scope type Component Type log warn Stateless session beans should only be bound to the context name protected void check Synchronized For Component Type if scope synchronize throw new Illegal Argument Exception Synchronized not meaningful for stateless components name private void check Serializable For Component Type boolean serializable Scope scope scope scope boolean serializable Type type type if serializable Type serializable Scope Serializable class is Assignable From get Bean Class log warn Component class should be serializable name private String get Jndi Name Context application Context if get Bean Class is Annotation Present Jndi Name class return get Bean Class get Annotation Jndi Name class value else switch type case case return null default if application Context null return null Yew String jndi Pattern Init instance get Jndi Pattern if jndi Pattern null throw new Illegal Argument Exception You must specify org jboss seam core init jndi Pattern or use Jndi Name name return jndi Pattern replace ejb Name Seam get Ejb Name get Bean Class private void init Initializers Context application Context if application Context null return yew Map String Conversions Property Value properties Map String Conversions Property Value application Context get if properties null return yew for Map Entry String Conversions Property Value me properties entry Set String key me get Key Conversions Property Value property Value me get Value if key starts With name key char At name length if log is Debug Enabled log debug key property Value if type throw new Illegal Argument Exception can not configure entity beans name String property Name key substring name length key length Method setter Method null try setter Method Reflections get Setter Method get Bean Class property Name catch Illegal Argument Exception e if setter Method null if setter Method is Accessible setter Method set Accessible true Class parameter Class setter Method get Parameter Types Type parameter Type setter Method get Generic Parameter Types initializer Setters put setter Method get Initial Value Honoring Exceptions property Name property Value parameter Class parameter Type else Field field Reflections get Field get Bean Class property Name if field is Accessible field set Accessible true initializer Fields put field get Initial Value property Value field get Type field get Generic Type private Initial Value get Initial Value Honoring Exceptions String property Name Conversions Property Value property Value Class parameter Class Type parameter Type the org jboss seam core init component can not accomodate expressions because of startup order note that org jboss seam core init jndi Pattern looks like an expression but is not one if org jboss seam core init equals get Name return new Constant Initial Value property Value parameter Class parameter Type else return get Initial Value property Value parameter Class parameter Type private static Initial Value get Initial Value Conversions Property Value property Value Class parameter Class Type parameter Type if parameter Class equals Value Expression class parameter Class equals Method Expression class property Value is Expression return new Initial Value property Value parameter Class parameter Type else if property Value is Multi Valued if Set class is Assignable From parameter Class return new Set Initial Value property Value parameter Class parameter Type else return new List Initial Value property Value parameter Class parameter Type else if property Value is Associative Valued return new Map Initial Value property Value parameter Class parameter Type else return new Constant Initial Value property Value parameter Class parameter Type private void init Members Class clazz Context application Context Map Method Annotation selection Setters new Hash Map Method Annotation Map Field Annotation selection Fields new Hash Map Field Annotation Set String data Model Names new Hash Set String for clazz Object class clazz clazz get Superclass for Method method clazz get Declared Methods scan Method application Context selection Setters data Model Names method for Field field clazz get Declared Fields scan Field selection Fields data Model Names field final boolean has Multiple Data Models data Model Getters size String default Data Model Name null if has Multiple Data Models if data Model Getters is Empty default Data Model Name data Model Getters get get Name for Map Entry Method Annotation annotated Method selection Setters entry Set Method method annotated Method get Key Annotation ann annotated Method get Value String name get Data Model Selection Name data Model Names has Multiple Data Models default Data Model Name ann Object existing data Model Selection Setters put name new Bijected Method name method ann if existing null throw new Illegal State Exception Multiple Data Model Selection setters for name for Map Entry Field Annotation annotated Field selection Fields entry Set Field field annotated Field get Key Annotation ann annotated Field get Value String name get Data Model Selection Name data Model Names has Multiple Data Models default Data Model Name ann Object existing data Model Selection Setters put name new Bijected Field name field ann if existing null throw new Illegal State Exception Multiple Data Model Selection fields for name private void check Default Remove Method if type if destroy Method null destroy Method is Annotation Present Remove is not declared Inherited but does the container emulate that we do n t need to worry about default remove methods default Remove Method null else check that we have a default remove method if default Remove Method null throw new Illegal Argument Exception Stateful session bean component must have a method with no parameters marked Remove name check that it is unique boolean found false for Method remove remove Methods values if remove get Parameter Types length if found throw new Illegal State Exception Duplicate default Remove method for component name found true private void scan Method Context application Context Map Method Annotation selection Setters Set String data Model Names Method method if method is Annotation Present Destroy class if method get Parameter Types length and it does n t take a Component parameter throw new Illegal State Exception Destroy methods may not have parameters name if type type throw new Illegal Argument Exception Only Java Beans and stateful session beans support Destroy methods name if destroy Method null destroy Method get Name equals method get Name throw new Illegal State Exception component has two Destroy methods name if destroy Method null ie ignore the one on the superclass destroy Method method lifecycle Methods add method if method is Annotation Present remove Methods put method get Name method if method get Parameter Types length default Remove Method method lifecycle Methods add method if method is Annotation Present Create class if method get Parameter Types length and it does n t take a Component parameter throw new Illegal State Exception Create methods may not have parameters name if type type throw new Illegal Argument Exception Only Java Beans and stateful session beans support Create methods name if create Method null create Method get Name equals method get Name throw new Illegal State Exception component has two Create methods name if create Method null create Method method lifecycle Methods add method if method is Annotation Present In class In in method get Annotation In class String name to Name in value method in Attributes add new Bijected Method name method in if method is Annotation Present Out class Out out method get Annotation Out class String name to Name out value method out Attributes add new Bijected Method name method out ca n t use Init instance here because of unit tests Init init Init application Context get Seam get Component Name Init class init init Namespace For Name name true if method is Annotation Present Unwrap class if unwrap Method null unwrap Method get Name equals method get Name throw new Illegal State Exception component has two Unwrap methods name if unwrap Method null unwrap Method method if method is Annotation Present Data Model class generalize check Data Model Scope method get Annotation Data Model class if method is Annotation Present org jboss seam annotations Factory class ca n t use Init instance here because of unit tests Init init Init application Context get Seam get Component Name Init class String context Variable to Name method get Annotation org jboss seam annotations Factory class value method if context Variable equals name throw new Illegal State Exception Factory method can not share name with its containing component context Variable init add Factory Method context Variable method this if method get Annotation org jboss seam annotations Factory class auto Create init add Autocreate Variable context Variable if method is Annotation Present Observer class ca n t use Init instance here because of unit tests Init init Init application Context get Seam get Component Name Init class Observer observer method get Annotation Observer class for String event Type observer value if event Type length event Type method get Name new defaulting rule to map Observer on Foo Event event type foo Event init add Observer Method event Type method this observer create if method is Annotation Present Request Parameter class Request Parameter rp method get Annotation Request Parameter class String name to Name rp value method parameter Setters add new Bijected Method name method rp verify that these life cycle methods have no arguments if method is Annotation Present pre Passivate Method method lifecycle Methods add method if method is Annotation Present post Activate Method method lifecycle Methods add method if method is Annotation Present post Construct Method method lifecycle Methods add method if method is Annotation Present pre Destroy Method method lifecycle Methods add method if method is Annotation Present check Persistence Context For Component Type pc Attributes add new Bijected Method to Name null method method null if method is Annotation Present Begin class method is Annotation Present End class method is Annotation Present Start Task class method is Annotation Present Begin Task class method is Annotation Present End Task class conversation Management Methods add method for Annotation ann method get Annotations if ann annotation Type is Annotation Present Data Binder Class class String name to Name create Wrapper ann get Variable Name ann method data Model Getters add new Bijected Property name method ann data Model Names add name if ann annotation Type is Annotation Present Data Selector Class class selection Setters put method ann if method is Accessible method set Accessible true private void scan Field Map Field Annotation selection Fields Set String data Model Names Field field if field is Accessible field set Accessible true if field is Annotation Present In class In in field get Annotation In class String name to Name in value field in Attributes add new Bijected Field name field in if field is Annotation Present Out class Out out field get Annotation Out class String name to Name out value field out Attributes add new Bijected Field name field out if field is Annotation Present Data Model class generalize check Data Model Scope field get Annotation Data Model class if field is Annotation Present Request Parameter class Request Parameter rp field get Annotation Request Parameter class String name to Name rp value field parameter Setters add new Bijected Field name field rp if field is Annotation Present org jboss seam annotations Logger class String category field get Annotation org jboss seam annotations Logger class value org jboss seam log Log log Instance if equals category log Instance org jboss seam log Logging get Log get Bean Class else log Instance org jboss seam log Logging get Log category if Modifier is Static field get Modifiers Reflections set And Wrap field null log Instance else log Fields add field log Instances add log Instance if field is Annotation Present check Persistence Context For Component Type pc Attributes add new Bijected Field to Name null field field null for Annotation ann field get Annotations if ann annotation Type is Annotation Present Data Binder Class class String name to Name create Wrapper ann get Variable Name ann field data Model Getters add new Bijected Field name field ann data Model Names add name if ann annotation Type is Annotation Present Data Selector Class class selection Fields put field ann protected void check Persistence Context For Component Type if type is Session Bean type throw new Illegal Argument Exception Persistence Context may only be used on session bean or message driven bean components name private String get Data Model Selection Name Set String data Model Names boolean has Multiple Data Models String default Data Model Name Annotation ann String name create Unwrapper ann get Variable Name ann if name length if has Multiple Data Models throw new Illegal State Exception Missing value for Data Model Selection with multiple Data Models if default Data Model Name null throw new Illegal State Exception No Data Model for Data Model Selection name return default Data Model Name else if data Model Names contains name throw new Illegal State Exception No Data Model for Data Model Selection name return name private void check Data Model Scope Data Model data Model Scope Type data Model Scope data Model scope if data Model Scope data Model Scope throw new Illegal Argument Exception Data Model scope must be Scope Type or Scope Type name private void init Interceptors init Default Interceptors for Annotation annotation get Bean Class get Annotations if annotation annotation Type is Annotation Present Class classes value annotation annotation Type get Annotation add Interceptor new Interceptor classes annotation this if annotation annotation Type is Annotation Present Interceptors class Class classes annotation annotation Type get Annotation Interceptors class value add Interceptor new Interceptor classes annotation this new Sort interceptors new Sort client Side Interceptors if log is Debug Enabled log debug interceptor stack interceptors public void add Interceptor Object interceptor Instance try add Interceptor new Interceptor interceptor Instance this catch Linkage Error e log debug Unable to load interceptor interceptor Instance get Class e catch Type Not Present Exception e log debug Unable to load interceptor interceptor Instance get Class e catch Exception e throw new Illegal Argument Exception Unable to load interceptor interceptor Instance get Class e public void add Interceptor Interceptor interceptor if interceptor is Interceptor Enabled if interceptor get Type Interceptor Type interceptors add interceptor else client Side Interceptors add interceptor private List Interceptor new Sort List Interceptor list List Sort Item Interceptor si List new Array List Sort Item Interceptor Map Class Sort Item Interceptor ht new Hash Map Class Sort Item Interceptor for Interceptor i list Sort Item Interceptor si new Sort Item Interceptor i si List add si ht put i get User Interceptor Class si for Sort Item Interceptor si si List Class clazz si get Obj get User Interceptor Class org jboss seam annotations intercept Interceptor interceptor Ann seam Interceptor clazz if interceptor Ann null for Class cl Arrays as List interceptor Ann around if is Compatible Interceptor interceptor Ann seam Interceptor cl log warn Interceptor clazz has different type than around interceptor cl si add Around ht get cl for Class cl Arrays as List interceptor Ann within if is Compatible Interceptor interceptor Ann seam Interceptor cl log warn Interceptor clazz has different type than within interceptor cl si add Within ht get cl Sorter Interceptor s List new Sorter Interceptor si List s List sort si List list clear for Sort Item Interceptor si si List list add si get Obj return list private org jboss seam annotations intercept Interceptor seam Interceptor Class clazz return clazz get Annotation org jboss seam annotations intercept Interceptor class private boolean is Compatible Interceptor org jboss seam annotations intercept Interceptor anno org jboss seam annotations intercept Interceptor anno if anno null anno null return true if anno type Interceptor Type anno type Interceptor Type return false if anno type Interceptor Type anno type Interceptor Type return false return true private void init Default Interceptors List String interceptors if Contexts is Application Context Active interceptors Init instance get Interceptors else For unit tests interceptors Init for String interceptor Name interceptors Object interceptor Instance null try Class clazz Reflections class For Name interceptor Name interceptor Instance clazz new Instance catch Linkage Error e log debug Unable to load interceptor interceptor Name e catch Type Not Present Exception e log debug Unable to load interceptor interceptor Name e catch Exception e throw new Illegal Argument Exception Unable to load interceptor interceptor Name e add Interceptor interceptor Instance private void init Security if bean Class Has Annotation Restrict class secure true return for Annotation annotation get Bean Class get Annotations if annotation annotation Type is Annotation Present Role Check class secure true return for Method method get Bean Class get Methods for Annotation annotation method get Annotations if annotation annotation Type is Annotation Present Permission Check class annotation annotation Type is Annotation Present Role Check class secure true return for Annotation annotations method get Parameter Annotations for Annotation annotation annotations if annotation annotation Type is Annotation Present Permission Check class secure true return private static boolean has Annotation Class clazz Class annotation Type if clazz is Annotation Present annotation Type return true else for Method method clazz get Methods if method is Annotation Present annotation Type return true return false private static boolean has Annotation Class clazz String annotation Name for Annotation a clazz get Annotations if a annotation Type get Name equals annotation Name return true for Method method clazz get Methods for Annotation a method get Annotations if a annotation Type get Name equals annotation Name return true return false public boolean bean Class Has Annotation Class annotation Type return has Annotation get Bean Class annotation Type public boolean bean Class Has Annotation String annotation Name return has Annotation get Bean Class annotation Name public boolean business Interface Has Annotation Class annotation Type for Class business Interface get Business Interfaces if has Annotation business Interface annotation Type return true return false public String get Name return name public Component Type get Type return type public Scope Type get Scope return scope public List Interceptor get Interceptors Interceptor Type type switch type case return interceptors case return client Side Interceptors case List Interceptor all new Array List Interceptor all add All client Side Interceptors all add All interceptors return all default throw new Illegal Argument Exception no interceptor type specified public List Object create User Interceptors Interceptor Type type List Interceptor interceptors get Interceptors type List Object result new Array List Object interceptors size for Interceptor interceptor interceptors result add interceptor create User Interceptor return result For use with Seam debug page return the server side interceptor stack public List Interceptor get Server Side Interceptors return get Interceptors Interceptor Type For use with Seam debug page return the client side interceptor stack public List Interceptor get Client Side Interceptors return get Interceptors Interceptor Type public Method get Destroy Method return destroy Method public Collection Method get Remove Methods return remove Methods values public Method get Remove Method String name return remove Methods get name public boolean has Pre Destroy Method return pre Destroy Method null public boolean has Post Construct Method return post Construct Method null public boolean has Pre Passivate Method return pre Passivate Method null public boolean has Post Activate Method return post Activate Method null public boolean has Destroy Method return destroy Method null public boolean has Create Method return create Method null public Method get Create Method return create Method public boolean has Unwrap Method return unwrap Method null public Method get Unwrap Method return unwrap Method public List Bijected Attribute Out get Out Attributes return out Attributes public List Bijected Attribute In get In Attributes return in Attributes public boolean needs Injection return get In Attributes is Empty data Model Selection Setters is Empty parameter Setters is Empty public boolean needs Outjection return get Out Attributes is Empty data Model Getters is Empty protected Object instantiate throws Exception switch type case return instantiate Java Bean case return instantiate Entity Bean case case case return instantiate Session Bean case throw new Unsupported Operation Exception Message driven beans may not be called name default throw new Illegal State Exception protected void post Construct Object bean throws Exception switch type case post Construct Java Bean bean break case post Construct Entity Bean bean break case case case post Construct Session Bean bean break case throw new Unsupported Operation Exception Message driven beans may not be called name default throw new Illegal State Exception protected Object instantiate Session Bean throws Exception Naming Exception Component old Seam Interceptor get Seam Interceptor set this try Object bean Naming get Initial Context lookup jndi Name return wrap bean new Client Side Interceptor bean this finally Seam Interceptor set old protected void post Construct Session Bean Object bean throws Exception Naming Exception protected Object instantiate Entity Bean throws Exception Constructor constructor get Bean Class get Constructor new Class boolean accessible constructor is Accessible if Modifier is Protected constructor get Modifiers constructor set Accessible true Object bean get Bean Class new Instance constructor set Accessible accessible return bean protected void post Construct Entity Bean Object bean throws Exception initialize bean protected Object instantiate Java Bean throws Exception Object bean get Bean Class new Instance if interception Enabled Java Bean Interceptor interceptor new Java Bean Interceptor bean this bean wrap bean interceptor return bean protected void post Construct Java Bean Object bean throws Exception if interception Enabled initialize bean call Post Construct Method bean else if bean instanceof Proxy Proxy proxy Proxy bean Java Bean Interceptor interceptor Java Bean Interceptor proxy write Replace interceptor post Construct public void destroy Object bean try call Destroy Method bean catch Exception e log warn Exception calling component Destroy method name e if get Type try call Default Remove Method bean catch Exception e log warn Exception calling stateful session bean default Remove method name e else if get Type try call Pre Destroy Method bean catch Exception e log warn Exception calling Java Bean Pre Destroy method name e Wrap a Javassist interceptor around an instance of the component public Object wrap Object bean Method Handler interceptor throws Exception Proxy Object proxy get Proxy Factory new Instance proxy set Handler interceptor return proxy private synchronized Class Proxy Object get Proxy Factory if factory null factory create Proxy Factory get Type get Bean Class get Business Interfaces return factory public void initialize Object bean throws Exception if log is Trace Enabled log trace initializing new instance of name inject Log bean for Map Entry Method Initial Value me initializer Setters entry Set Method method me get Key Object initial Value me get Value get Value method get Parameter Types set Property Value bean method method get Name initial Value for Map Entry Field Initial Value me initializer Fields entry Set Field field me get Key Object initial Value me get Value get Value field get Type set Field Value bean field field get Name initial Value if log is Trace Enabled log trace done initializing name Inject context variable values into In attributes of a component instance param bean a Seam component instance param enforce Required should we enforce required true public void inject Object bean boolean enforce Required if log is Trace Enabled log trace injecting dependencies of get Name inject Log bean inject Attributes bean enforce Required inject Data Model Selections bean inject Parameters bean Null out any In attributes of a component instance param bean a Seam component instance public void disinject Object bean if log is Trace Enabled log trace disinjecting dependencies of get Name disinject Attributes bean private void inject Log Object bean for int i i log Fields size i set Field Value bean log Fields get i log log Instances get i private void inject Parameters Object bean Parameters params Parameters instance if params null check for unit tests Map String String request Parameters params get Request Parameters for Bijected Attribute setter parameter Setters Object converted Value params convert Multi Value Request Parameter request Parameters setter get Name setter get Type setter set bean converted Value Outject context variable values from Out attributes of a component instance param bean a Seam component instance param enforce Required should we enforce required true public void outject Object bean boolean enforce Required if log is Trace Enabled log trace outjecting dependencies of get Name outject Attributes bean enforce Required outject Data Models bean private void inject Data Model Selections Object bean for Bijected Attribute data Model Getter data Model Getters inject Data Model Selection bean data Model Getter private void inject Data Model Selection Object bean Bijected Attribute data Model Getter Data Binder wrapper create Wrapper data Model Getter get Annotation String name data Model Getter get Name Annotation data Model Ann data Model Getter get Annotation Scope Type scope wrapper get Variable Scope data Model Ann Object data Model get Out Scope scope this get Context get name if data Model null if equals scope data Model Getter set bean wrapper get Wrapped Data data Model Ann data Model Object selected Index wrapper get Selection data Model Ann data Model if log is Debug Enabled log debug selected row selected Index if selected Index null Bijected Attribute setter data Model Selection Setters get name if setter null Annotation data Model Selection Ann setter get Annotation Object selection create Unwrapper data Model Selection Ann get Selection data Model Selection Ann data Model setter set bean selection private void outject Data Models Object bean for Bijected Attribute data Model Getter data Model Getters outject Data Model bean data Model Getter private void outject Data Model Object bean Bijected Attribute data Model Getter Data Binder wrapper create Wrapper data Model Getter get Annotation Object list data Model Getter get bean String name data Model Getter get Name Annotation data Model Ann data Model Getter get Annotation Scope Type scope wrapper get Variable Scope data Model Ann Context context get Out Scope scope this get Context Object existing Data Model context get name boolean dirty existing Data Model null wrapper is Dirty data Model Ann existing Data Model list boolean reoutject existing Data Model null scope if dirty if list null context set name wrapper wrap data Model Ann list else context remove name else if reoutject context set name existing Data Model private static Data Binder create Wrapper Annotation data Model Ann try return data Model Ann annotation Type get Annotation Data Binder Class class value new Instance catch Exception e throw new Runtime Exception e private static Data Selector create Unwrapper Annotation data Model Ann try return data Model Ann annotation Type get Annotation Data Selector Class class value new Instance catch Exception e throw new Runtime Exception e private static Scope Type get Out Scope Scope Type specified Scope Component component Scope Type scope component null component get Scope if scope scope if specified Scope scope specified Scope return scope private void inject Attributes Object bean boolean enforce Required for Bijected Attribute In att get In Attributes att set bean get Value To Inject att get Annotation att get Name bean enforce Required private void disinject Attributes Object bean for Bijected Attribute att get In Attributes if att get Type is Primitive att set bean null private void outject Attributes Object bean boolean enforce Required for Bijected Attribute Out att get Out Attributes outject Attribute att get Annotation att get Name bean att get bean enforce Required private void outject Attribute Out out String name Object bean Object value boolean enforce Required if value null enforce Required out required throw new Required Exception Out attribute requires non null value get Attribute Message name else Component component null if out scope component Component for Name name if value null component null if component is Instance value throw new Illegal Argument Exception attempted to bind an Out attribute of the wrong type to get Attribute Message name else if out scope throw new Illegal Argument Exception can not specify explicit scope on Out get Attribute Message name Scope Type out Scope component null get Out Scope out scope this component get Scope if enforce Required out Scope is Context Active if value null out Scope get Context remove name else out Scope get Context set name value public boolean is Instance Object bean switch type case case return get Bean Class is Instance bean default Class clazz bean get Class for Class business Interface business Interfaces if business Interface is Assignable From clazz return true No interface view if clazz is Instance bean return true return false public static Set Class get Business Interfaces Class clazz Set Class result new Linked Hash Set Class if clazz is Annotation Present for Class iface value clazz get Annotation result add iface if clazz is Annotation Present for Class iface value clazz get Annotation result add iface for Class iface clazz get Interfaces if iface is Annotation Present iface is Annotation Present result add iface if result is Empty for Class iface clazz get Interfaces if is Excluded Local Interface Name iface get Name result add iface return result public Set Class get Business Interfaces return business Interfaces private static boolean is Excluded Local Interface Name String name return name equals java io Serializable name equals java io Externalizable name starts With javax ejb private Object get Field Value Object bean Field field String name try return Reflections get field bean catch Exception e throw new Illegal Argument Exception could not get field value get Attribute Message name e private Object get Property Value Object bean Method method String name try return Reflections invoke method bean catch Exception e throw new Illegal Argument Exception could not get property value get Attribute Message name e private void set Property Value Object bean Method method String name Object value try Reflections invoke method bean value catch Exception e throw new Illegal Argument Exception could not set property value get Attribute Message name e private void set Field Value Object bean Field field String name Object value try Reflections set field bean value catch Exception e throw new Illegal Argument Exception could not set field value get Attribute Message name e public static String get Component Name Class clazz String component Name Seam get Component Name clazz if component Name null throw new Illegal Argument Exception No Name annotation for class clazz get Name return component Name public static Component for Name String name if Contexts is Application Context Active throw new Illegal State Exception No application context active return Component Contexts get Application Context get name component public static Object get Instance Class clazz return get Instance clazz true public static Object get Instance Class clazz boolean create return get Instance get Component Name clazz create public static Object get Instance Class clazz Scope Type scope return get Instance clazz scope true public static Object get Instance Class clazz Scope Type scope boolean create return get Instance get Component Name clazz scope create public static Object get Instance String name return get Instance name true public static Object get Instance String name boolean create return get Instance name create true public static Object get Instance String name boolean create boolean allow Autocreation Object result Contexts lookup In Stateful Contexts name result get Instance name create allow Autocreation result null return result public static Object get Instance String name Scope Type scope return get Instance name scope true public static Object get Instance String name Scope Type scope boolean create return get Instance name scope create true public static Object get Instance String name Scope Type scope boolean create boolean allow Autocreation Object result scope null scope get Context get name result get Instance name create allow Autocreation result scope return result private static Object get Instance String name boolean create boolean allow Auto Creation Object result Scope Type scope Component component Component for Name name create create Init instance is Autocreate Variable name allow Auto Creation if result null create result get Instance From Factory name scope if result null if component null needed when this method is called by if log is Trace Enabled log trace Seam component not found name else if component get Scope is Context Active result component new Instance else log warn Can not create Seam component scope is not active name component get Scope name if result null if component null if component is Instance result if component has Unwrap Method return result best way throw new Illegal Argument Exception value of context variable is not an instance of the component bound to the context variable name If you are using hot deploy you may have attempted to hot deploy a session or application scoped component definition while using an old instance in the session result component unwrap result return result public static Object get Instance From Factory String name return get Instance From Factory name null private static Object get Instance From Factory String name Scope Type scope Init init Init instance if init null for unit tests yew return null else Init Factory Method factory Method init get Factory name Init Factory Expression method Binding init get Factory Method Expression name Init Factory Expression value Binding init get Factory Value Expression name if method Binding null get Out Scope method Binding get Scope null is Context Active let the take precedence Object result method Binding get Method Binding invoke return handle Factory Method Result name null result method Binding get Scope else if value Binding null get Out Scope value Binding get Scope null is Context Active let the take precedence Object result value Binding get Value Binding get Value return handle Factory Method Result name null result value Binding get Scope else if factory Method null get Out Scope factory Method get Scope factory Method get Component is Context Active Object factory Component get Instance factory Method get Component get Name true Scope Type scope Result get Out Scope factory Method get Scope factory Method get Component Scope Type scope Factory factory Method get Component get Scope we need this lock in the following cases the target scope is accessed by more than one thread as we do n t want to create the same object by two threads at the same time for the same scope the factory is accessed by more than one thread and is using interceptors as accessing a factory multiple times might mess up interceptors This assumes that the scopes and ca n t be accessed by more than one thread anyway due to being locked for the current thread anyway and and being only short lived anyway a factory that does n t use injection can be accessed multi threaded See for the original discussion boolean locking Needed scope Result Scope Type scope Result Scope Type scope Result Scope Type scope Factory Scope Type scope Factory Scope Type scope Factory Scope Type factory Method get Component interception Enabled if locking Needed Only one factory instance can access result scope anyway due to the locking of the conversation synchronized factory Method return create Instance From Factory name scope factory Method factory else return create Instance From Factory name scope factory Method factory else return null private static Object create Instance From Factory String name Scope Type scope Init Factory Method factory Method Object factory check whether there has been created an instance by another thread while waiting for this function s lock if scope Object value scope null Contexts lookup In Stateful Contexts name scope get Context get name if value null return value if factory null return null else Object result factory Method get Component call Component Method factory factory Method get Method return handle Factory Method Result name factory Method get Component result factory Method get Scope private static Object handle Factory Method Result String name Component component Object result Scope Type scope see if a value was outjected by the factory method Object value Contexts lookup In Stateful Contexts name if value null usually a factory method returning a value Scope Type out Scope get Out Scope scope component if out Scope the null check is for page scope which does n t handle setting a null value if result null out Scope get Context set name result should n t need to call remove since there was n t previously a value return result else usually a factory method with a void return type if scope throw new Illegal Argument Exception factory method with defined scope outjected a value name return value public Object new Instance if log is Trace Enabled log trace instantiating Seam component name Object instance try instance instantiate if get Scope put it in the context before calling postconstuct or create get Scope get Context set name instance post Construct instance if get Scope call Create Method instance if Events exists Events instance raise Event org jboss seam post Create name instance catch Exception e if get Scope get Scope get Context remove name throw new Instantiation Exception Could not instantiate Seam component name e return instance private void call Default Remove Method Object instance if has Default Remove Method call Component Method instance get Default Remove Method public boolean has Default Remove Method return default Remove Method null public Method get Default Remove Method return default Remove Method public void call Create Method Object instance if has Create Method call Component Method instance get Create Method public void call Destroy Method Object instance if has Destroy Method call Component Method instance get Destroy Method public void call Pre Destroy Method Object instance if has Pre Destroy Method call Component Method instance get Pre Destroy Method public void call Post Construct Method Object instance if has Post Construct Method call Component Method instance get Post Construct Method public void call Pre Passivate Method Object instance if has Pre Passivate Method call Component Method instance get Pre Passivate Method public void call Post Activate Method Object instance if has Post Activate Method call Component Method instance get Post Activate Method public Method get Post Activate Method return post Activate Method public Method get Pre Passivate Method return pre Passivate Method public Method get Post Construct Method return post Construct Method public Method get Pre Destroy Method return pre Destroy Method public long get Timeout return timeout public Object call Component Method Object instance Method method Object parameters Class param Types method get Parameter Types String method Name method get Name try Method interface Method instance get Class get Method method Name param Types if param Types length interface Method get Parameter Types length return Reflections invoke And Wrap interface Method instance else if parameters length return Reflections invoke And Wrap interface Method instance parameters else return Reflections invoke And Wrap interface Method instance this catch No Such Method Exception e String message method not found method get Name for component name if get Type is Session Bean message check that it is declared on the session bean business interface throw new Illegal Argument Exception message e private Object unwrap Object instance if has Unwrap Method return call Component Method instance get Unwrap Method else return instance private Object get Value To Inject In in String name Object bean boolean enforce Required Object result if name starts With if log is Debug Enabled log debug trying to inject with expression name result Expressions instance create Value Expression name get Value else if in scope if log is Debug Enabled log debug trying to inject with hierarchical context search name boolean allow Autocreation org jboss seam contexts Lifecycle is Destroying boolean create in create allow Autocreation result get Instance In All Namespaces name create allow Autocreation else if in create throw new Illegal Argument Exception can not combine create true with explicit scope on In get Attribute Message name if in scope throw new Illegal Argument Exception can not specify explicit scope on In get Attribute Message name if log is Debug Enabled log debug trying to inject from specified context name scope scope if enforce Required in scope is Context Active result in scope get Context get name else return null if result null enforce Required in required throw new Required Exception In attribute requires non null value get Attribute Message name else return result private Object get Instance In All Namespaces String name boolean create boolean allow Autocreation Object result result get Instance name create allow Autocreation if result null for Namespace namespace get Imports result namespace get Component Instance name create allow Autocreation if result null break if result null for Namespace namespace Init instance get Global Imports result namespace get Component Instance name create allow Autocreation if result null break if result null Namespace namespace get Namespace if namespace null result namespace get Component Instance name create allow Autocreation return result private String get Attribute Message String attribute Name return get Name attribute Name private static String to Name String name Method method does not handle is Foo if name null name length name method get Name substring to Lower Case method get Name substring return name private static String to Name String name Field field if name null name length name field get Name return name Override public String to String return Component name public static Class Proxy Object create Proxy Factory Component Type type final Class bean Class Collection Class business Interfaces Set Class interfaces new Linked Hash Set Class interfaces add Instance class interfaces add Proxy class boolean no Interface View false if type is Session Bean if business Interfaces is Empty no Interface View true else interfaces add All business Interfaces else interfaces add Http Session Activation Listener class interfaces add Mutable class Proxy Factory factory new Proxy Factory factory set Superclass type no Interface View bean Class Object class factory set Interfaces interfaces to Array new Class factory set Filter return factory create Class private static final Method Filter new Method Filter public boolean is Handled Method method skip finalize methods return method get Parameter Types length method get Name equals finalize public boolean is Interception Enabled return interception Enabled public boolean is Startup return startup public boolean is Synchronize return synchronize public String get Dependencies return dependencies public boolean is Lifecycle Method Method method return method null Java Doc says Invocation Context get Method returns null for lifecycle callbacks lifecycle Methods contains method public boolean is Conversation Management Method Method method return method null conversation Management Methods contains method static interface Initial Value Object get Value Class type static class Constant Initial Value implements Initial Value private Object value public Constant Initial Value Property Value property Value Class parameter Class Type parameter Type this value Conversions get Converter parameter Class to Object property Value parameter Type public Object get Value Class type return value Override public String to String return Constant Initial Value value static class Initial Value implements Initial Value private String expression private Value Binding vb private Conversions Converter converter private Type parameter Type public Initial Value Property Value property Value Class parameter Class Type parameter Type this expression property Value get Single Value this parameter Type parameter Type try this converter Conversions get Converter parameter Class catch Illegal Argument Exception iae no converter for the type vb Faces Context get Current Instance get Application create Value Binding expression public Object get Value Class type Object value if type equals Value Expression class value create Value Expression else if type equals Method Expression class value create Method Expression else value create Value Expression get Value if converter null value instanceof String return converter to Object new Conversions Flat Property Value String value parameter Type else if converter null value instanceof String return converter to Object new Conversions Multi Property Value String value null parameter Type else return value private Value Expression create Value Expression return Expressions instance create Value Expression expression private Method Expression create Method Expression return Expressions instance create Method Expression expression Override public String to String return Initial Value expression static class Set Initial Value implements Initial Value private Initial Value initial Values private Class element Type private Class collection Class public Set Initial Value Property Value property Value Class collection Class Type collection Type String expressions property Value get Multi Values initial Values new Initial Value expressions length element Type Reflections get Collection Element Type collection Type if property Value get Type null this collection Class property Value get Type else this collection Class collection Class for int i i expressions length i Property Value element Value new Conversions Flat Property Value expressions i initial Values i get Initial Value element Value element Type element Type public Object get Value Class type Set set if no configuration has been specified then we first see if the property is an abstract type if so we create it using new Instance if Modifier is Abstract collection Class get Modifiers Modifier is Interface collection Class get Modifiers if collection Class Sorted Set class set new Tree Set else set new Linked Hash Set initial Values length else try set Set collection Class new Instance catch Illegal Access Exception e throw new Illegal Argument Exception Can not instantiate a set of type collection Class try specifying type type in components xml catch Class Cast Exception e throw new Illegal Argument Exception Can not cast collection Class to java util Set catch java lang Instantiation Exception e throw new Illegal Argument Exception Can not instantiate a set of type collection Class try specifying type type in components xml for Initial Value iv initial Values set add iv get Value element Type return set Override public String to String return Set Initial Value element Type get Simple Name static class List Initial Value implements Initial Value private Initial Value initial Values private Class element Type private boolean is Array private Class collection Class public List Initial Value Property Value property Value Class collection Class Type collection Type String expressions property Value get Multi Values initial Values new Initial Value expressions length is Array collection Class is Array element Type is Array collection Class get Component Type Reflections get Collection Element Type collection Type if property Value get Type null this collection Class property Value get Type else this collection Class collection Class for int i i expressions length i Property Value element Value new Conversions Flat Property Value expressions i initial Values i get Initial Value element Value element Type element Type public Object get Value Class type if is Array Object array Array new Instance element Type initial Values length for int i i initial Values length i Array set array i initial Values i get Value element Type return array else List list if no configuration has been specified then we first see if the property is an abstract type if so we create it using new Instance if Modifier is Abstract collection Class get Modifiers Modifier is Interface collection Class get Modifiers list new Array List initial Values length else try list List collection Class new Instance catch Illegal Access Exception e throw new Illegal Argument Exception Can not instantiate a list of type collection Class try specifying type type in components xml catch Class Cast Exception e throw new Illegal Argument Exception Can not cast collection Class to java util List catch java lang Instantiation Exception e throw new Illegal Argument Exception Can not instantiate a list of type collection Class try specifying type type in components xml for Initial Value iv initial Values list add iv get Value element Type return list Override public String to String return List Initial Value element Type get Simple Name static class Map Initial Value implements Initial Value private Map Initial Value Initial Value initial Values private Class element Type private Class key Type private Class collection Class public Map Initial Value Property Value property Value Class collection Class Type collection Type Map String String expressions property Value get Keyed Values initial Values new Linked Hash Map Initial Value Initial Value expressions size element Type Reflections get Collection Element Type collection Type key Type Reflections get Map Key Type collection Type if property Value get Type null this collection Class property Value get Type else this collection Class collection Class for Map Entry String String me expressions entry Set Property Value key Value new Conversions Flat Property Value me get Key Property Value element Value new Conversions Flat Property Value me get Value initial Values put get Initial Value key Value key Type key Type get Initial Value element Value element Type element Type public Object get Value Class type Map result if Modifier is Abstract collection Class get Modifiers Modifier is Interface collection Class get Modifiers if collection Class Sorted Map class result new Tree Map else result new Linked Hash Map initial Values size else try result Map collection Class new Instance catch Illegal Access Exception e throw new Illegal Argument Exception Can not instantiate a map of type collection Class try specifying type type in components xml catch Class Cast Exception e throw new Illegal Argument Exception Can not cast collection Class to java util Map catch java lang Instantiation Exception e throw new Illegal Argument Exception Can not instantiate a map of type collection Class try specifying type type in components xml for Map Entry Initial Value Initial Value me initial Values entry Set result put me get Key get Value key Type me get Value get Value element Type return result Override public String to String return Map Initial Value key Type get Simple Name element Type get Simple Name public interface Bijected Attribute extends Annotation public String get Name public get Annotation public Class get Type public void set Object bean Object value public Object get Object bean final class Bijected Method extends Annotation implements Bijected Attribute private final String name private final Method method private final annotation private Bijected Method String name Method method annotation this name name this method method this annotation annotation public String get Name return name public Method get Method return method public get Annotation return annotation public void set Object bean Object value set Property Value bean method name value public Object get Object bean return get Property Value bean method name public Class get Type return method get Parameter Types Override public String to String return Bijected Method name final class Bijected Property extends Annotation implements Bijected Attribute private Bijected Method getter private Bijected Method setter public Bijected Property String name Method getter Method setter annotation this getter new Bijected Method name getter annotation this setter new Bijected Method name setter annotation public Bijected Property String name Method getter annotation this getter new Bijected Method name getter annotation try Method setter Method Reflections get Setter Method getter get Declaring Class name this setter new Bijected Method name setter Method annotation catch Illegal Argument Exception e public Object get Object bean return getter get bean public get Annotation return getter get Annotation public String get Name return getter get Name public Class get Type return getter get Type public void set Object bean Object value if setter null throw new Illegal Argument Exception Component must have a setter for name setter set bean value final class Bijected Field extends Annotation implements Bijected Attribute private final String name private final Field field private final annotation private Bijected Field String name Field field annotation this name name this field field this annotation annotation public String get Name return name public Field get Field return field public get Annotation return annotation public Class get Type return field get Type public void set Object bean Object value set Field Value bean field name value public Object get Object bean return get Field Value bean field name Override public String to String return Bijected Field name public List Bijected Attribute get Persistence Context Attributes return pc Attributes public Collection Namespace get Imports return imports public Namespace get Namespace return namespace public boolean is Per Nested Conversation return per Nested Conversation public boolean has Conversation Management Methods return conversation Management Methods is Empty public boolean is Secure return secure 
package org jboss seam test integration public class Component private String name private String default Value Component default public String get Name return name public void set Name String name this name name public String get Default Value return default Value public void set Default Value String default Value this default Value default Value 
package org jboss seam test integration public class Component private String name private String default Value Component default public String get Name return name public void set Name String name this name name public String get Default Value return default Value public void set Default Value String default Value this default Value default Value 
package org jboss seam deployment import java lang annotation Annotation import java util Arrays import java util Hash Set import java util Set import org jboss seam annotations Install import org jboss seam annotations Name The link Component Deployment Handler process Seam s component annotated with link org jboss seam annotations Name author Pete Muir public class Component Deployment Handler extends Abstract Class Deployment Handler private static Set Class extends Annotation new Hash Set Class extends Annotation Arrays as List Name class public static Class Deployment Metadata new Class Deployment Metadata public Set Class extends Annotation get Class Annotated With return public String get File Name Suffix return null Name under which this link Deployment Handler is registered public static final String org jboss seam deployment Component Deployment Handler public String get Name return public Class Deployment Metadata get Metadata return Override public void post Process Class Loader class Loader Set Class Descriptor classes new Hash Set Class Descriptor for Class Descriptor class Descriptor get Classes if class Descriptor get Clazz is Annotation Present Install class if class Descriptor get Clazz get Annotation Install class value classes add class Descriptor else classes add class Descriptor set Classes classes 
package org jboss seam init import java util Comparator import org jboss seam Scope Type import org jboss seam Seam import org jboss seam annotations Auto Create import org jboss seam annotations Install import org jboss seam annotations Startup import org jboss seam core Init import org jboss seam security permission Permission Resolver import org jboss seam web Abstract Resource Meta data about a Seam component author Norman Richards public class Component Descriptor implements Comparable Component Descriptor protected String name protected Class component Class protected Scope Type scope protected String jndi Name protected Boolean installed protected Boolean auto Create protected Boolean startup protected String startup Depends protected Integer precedence For components xml public Component Descriptor String name Class component Class Scope Type scope Boolean auto Create Boolean startup String startup Depends String jndi Name Boolean installed Integer precedence this name name this component Class component Class this scope scope this jndi Name jndi Name this installed installed this auto Create auto Create this precedence precedence this startup startup this startup Depends startup Depends For a scanned role public Component Descriptor String name Class component Class Scope Type scope this name name this component Class component Class this scope scope For a scanned default role public Component Descriptor Class component Class this component Class component Class For built ins with special rules public Component Descriptor Class component Class Boolean installed this component Class component Class this installed installed public String get Name return name null Seam get Component Name component Class name public Scope Type get Scope return scope null Seam get Component Scope component Class scope public Class get Component Class return component Class public String get Jndi Name return jndi Name public boolean is Startup return startup null startup component Class is Annotation Present Startup class public boolean is Auto Create return auto Create null auto Create is Auto Create Annotation Present private boolean is Auto Create Annotation Present if component Class is Annotation Present Auto Create class return true Package pkg component Class get Package return pkg null pkg is Annotation Present Auto Create class public String get Startup Dependencies if startup Depends null startup Depends length return startup Depends Startup startup component Class get Annotation Startup class if startup null return startup depends return new String public String get Dependencies Install install component Class get Annotation Install class if install null return null return install dependencies public Class get Generic Dependencies Install install component Class get Annotation Install class if install null return null return install generic Dependencies public String get Class Dependencies Install install component Class get Annotation Install class if install null return null return install class Dependencies public boolean is Installed if installed null return installed Install install component Class get Annotation Install class if install null return true return install debug Init instance is Debug install value public int get Precedence if precedence null return precedence Install install component Class get Annotation Install class if install null return Install return install precedence public int compare To Component Descriptor other return other get Precedence get Precedence public boolean is Filter if javax servlet Filter class is Assignable From component Class for Class clazz component Class Object class equals clazz clazz clazz get Superclass if clazz is Annotation Present org jboss seam annotations web Filter class return true return false public boolean is Resource Provider return Abstract Resource class is Assignable From component Class public boolean is Permission Resolver return Permission Resolver class is Assignable From component Class Override public String to String return Component Descriptor get Name get Component Class public static class Precedence Comparator implements Comparator Component Descriptor public int compare Component Descriptor obj Component Descriptor obj return obj get Precedence obj get Precedence 
package org jboss seam deployment import java util Hash Set import java util Set import java util regex Pattern The link Components Xml Deployment Handler components xml and component xml files author Pete Muir public class Components Xml Deployment Handler extends Abstract Deployment Handler private Pattern Pattern compile components xml components xml private static Deployment Metadata new Deployment Metadata public String get File Name Suffix return components xml Name under which this link Deployment Handler is registered public static final String org jboss seam deployment Components Xml Deployment Handler public String get Name return public Deployment Metadata get Metadata return Override public void post Process Class Loader class Loader Set File Descriptor resources new Hash Set File Descriptor for File Descriptor file Descriptor get Resources we want to skip over known meta directories since Seam will auto load these without a scan String path file Descriptor get Name if matcher path matches resources add file Descriptor set Resources resources 
Id Component Type java gavin package org jboss seam import static org jboss seam Scope Type import static org jboss seam Scope Type import static org jboss seam Scope Type import static org jboss seam Scope Type The types of components understood by Seam author Gavin King public enum Component Type public boolean is Ejb return this public boolean is Session Bean return this this this public boolean is Stateless return this this public Scope Type get Default Scope switch this case return case case return case case return case return default throw new Illegal State Exception 
package org jboss seam public class Concurrent Request Timeout Exception extends Runtime Exception public Concurrent Request Timeout Exception super public Concurrent Request Timeout Exception String message Throwable cause super message cause public Concurrent Request Timeout Exception String message super message public Concurrent Request Timeout Exception Throwable cause super cause 
package org jboss seam web import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Resources import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import java io Exception import java math Big Integer import java security Message Digest import java net Connection import java net import java lang management Management Factory Subclass this resource if you want to be able to send the right response automatically to any conditional tt tt or tt tt request The typically usecase is as follows p pre public class My Resource extends Conditional Abstract Resource public void get Resource final Http Servlet Request request final Http Servlet Response response String resource Version Calculate current state as string or byte resource Version Calculate current state as bytes String resource Path Get the relative to servlet path of the requested resource if send Conditional request response created Entity Tag resource Version false get Last Modified Timestamp resource Path Send the regular resource representation with etc pre p Note that the tt get Last Modified Timestamp tt method is only supplied for convenience it may not return what you expect as the last modification timestamp of the given resource In many cases you d rather calculate that timestamp yourself p author Christian Bauer public abstract class Conditional Abstract Resource extends Abstract Resource public static final String Last Modified public static final String If Modified Since public static final String Tag public static final String If None Match private static final Log Provider log Logging get Log Provider Conditional Abstract Resource class Validates the request headers tt If Modified Since tt and tt If None Match tt to determine if a tt tt response can be send If that is the case this method will automatically send the response and return tt true tt If condition validation fails it will not change the response and return tt false tt p Note that both tt entity Tag tt and tt last Modified tt arguments can be tt null tt The validation procedure and the outcome depends on what the client requested If the client requires that both entity tags and modification timestamps be validated both arguments must be supplied to the method and they must match for a response to be send p In addition to responding with tt tt when conditions match this method will also if arguments are not tt null tt send the right entity tag and last modification timestamps with the response so that future requests from the client can be made conditional p param request The usual Http Servlet Request for header retrieval param response The usual Http Servlet Response for header manipulation param entity Tag An entity tag weak or strong in doublequotes typically produced by hashing the content of the resource representation If tt null tt no entity tag will be send and if validation is requested by the client no match for a response will be possible param last Modified The timestamp in number of milliseconds since unix epoch when the resource was last modified If tt null tt no last modification timestamp will be send and if validation is requested by the client no match for a response will be possible return tt true tt if a tt tt response status has been set tt false tt if requested conditions were invalid given the current state of the resource throws Exception If setting the response status failed public boolean send Conditional Http Servlet Request request Http Servlet Response response String entity Tag Long last Modified throws Exception String none Match Header request get Header Long modified Since Header request get Date Header Careful returns instead of null boolean none Match Valid false if entity Tag null if entity Tag starts With entity Tag starts With entity Tag ends With throw new Illegal Argument Exception Entity tag is not properly formatted or quoted entity Tag Always send an entity tag with the response response set Header entity Tag if none Match Header null none Match Valid is None Match Condition Valid none Match Header entity Tag boolean modified Since Valid false if last Modified null Always send the last modified timestamp with the response response set Date Header last Modified if modified Since Header modified Since Valid is Modified Since Condition Valid modified Since Header last Modified if none Match Header null modified Since Header log debug and must match If both are received we must not return unless doing so is consistent with both header fields in the request if none Match Valid modified Since Valid log debug and conditions match sending response send Error Http Servlet Response return true else log debug and conditions do not match not sending return false if none Match Header null none Match Valid log debug condition matches sending response send Error Http Servlet Response return true if modified Since Header modified Since Valid log debug condition matches sending response send Error Http Servlet Response return true log debug None of the cache conditions match not sending return false protected boolean is None Match Condition Valid String none Match Header String entity Tag if none Match Header trim equals log debug Found conditional request hence current entity tag matches return true String entity Tags Array none Match Header trim split for String request Tag entity Tags Array if request Tag trim equals entity Tag log debug Found matching entity tag in request return true log debug Resource has different entity tag than requested return false protected boolean is Modified Since Condition Valid Long modified Since Header Long last Modified if last Modified modified Since Header log debug Resource has not been modified since requested timestamp return true log debug Resource has been modified since requested timestamp return false Tries to get last modification timestamp of the resource by obtaining a tt Connection tt to the file in the filesystem or param resource Path The relative to the servlet resource path return Either the last modified filestamp or if an error occurs the system startup timestamp protected Long get Last Modified Timestamp String resource Path try Try to load it from filesystem or through Connection resource Resources get Resource resource Path get Servlet Context if resource null Fall back to startup time of the return Management Factory get Runtime Bean get Start Time Connection resource Conn resource open Connection return resource Conn get Last Modified catch Exception ex Fall back to startup time of the return Management Factory get Runtime Bean get Start Time Generates a globally unique identifier of the current state of the resource The string will be hashed with and the hash result is then formatted before it is returned If tt null tt a tt null tt will be returned param hash Source The string source for hashing or the already hashed strong or weak entity tag param weak Set to tt true tt if you want a weak entity tag return The hashed and formatted entity tag result protected String create Entity Tag String hash Source boolean weak if hash Source null return null return weak hash hash Source Generates a globally unique identifier of the current state of the resource The bytes will be hashed with and the hash result is then formatted before it is returned If tt null tt a tt null tt will be returned param hash Source The string source for hashing param weak Set to tt true tt if you want a weak entity tag return The hashed and formatted entity tag result protected String create Entity Tag byte hash Source boolean weak if hash Source null return null return weak hash hash Source protected String hash String text String charset String algorithm try return hash text get Bytes charset algorithm catch Exception e throw new Runtime Exception e protected String hash byte bytes String algorithm try Message Digest md Message Digest get Instance algorithm md update bytes Big Integer number new Big Integer md digest String Buffer sb new String Buffer sb append number to String return sb to String catch Exception e throw new Runtime Exception e 
package org jboss seam exception Implements lt http error gt for pages xml author Gavin King public final class Config Error Handler extends Error Handler private final String message private final boolean conversation private final Class clazz private final int code public Config Error Handler String message boolean conversation Class clazz int code this message message this conversation conversation this clazz clazz this code code Override protected String get Message Exception e return message Override protected int get Code Exception e return code Override public boolean is Handler Exception e return clazz is Instance e Override protected boolean is End Exception e return conversation 
package org jboss seam exception import javax faces application Faces Message Severity import org jboss seam core Expressions import org jboss seam core Expressions Value Expression Implements lt redirect gt for pages xml author Gavin King public final class Config Redirect Handler extends Redirect Handler private final Value Expression String id private final Class clazz private final boolean conversation private final String message private final Severity message Severity Construct a Config Redirect Handler public Config Redirect Handler Value Expression String id Class clazz boolean conversation String message Severity message Severity this id id this clazz clazz this conversation conversation this message message this message Severity message Severity Deprecated public Config Redirect Handler String id Class clazz boolean conversation String message Severity message Severity this Expressions instance create Value Expression id String class clazz conversation message message Severity Override protected String get Message Exception e return message Override protected String get View Id Exception e if id null return id get Value else return null Override public boolean is Handler Exception e return clazz is Instance e Override protected boolean is End Exception e return conversation Override public Severity get Message Severity Exception e return message Severity 
package org jboss seam test unit component import org jboss seam annotations Install import org jboss seam annotations Name Name configurable Component Install false public class Configurable Component private Primary Color primary Color public Primary Color get Primary Color return primary Color public void set Primary Color Primary Color primary Color this primary Color primary Color 
package org jboss seam security import static org jboss seam Scope Type import static org jboss seam annotations Install import java util Hash Map import javax security auth login App Configuration Entry import javax security auth login App Configuration Entry Login Module Control Flag import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Factory import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam security jaas Seam Login Module Factory for the Configuration used by Seam Security author Shane Bryzak Name org jboss seam security configuration Factory Bypass Interceptors Scope Scope Type Install precedence public class Configuration static final String default protected javax security auth login Configuration create Configuration return new javax security auth login Configuration private App Configuration Entry aces create App Configuration Entry Override public App Configuration Entry get App Configuration Entry String name return equals name aces null Override public void refresh protected App Configuration Entry create App Configuration Entry return new App Configuration Entry Seam Login Module class get Name Login Module Control Flag new Hash Map String String Factory value org jboss seam security configuration auto Create true scope public javax security auth login Configuration get Configuration return create Configuration public static javax security auth login Configuration instance if Contexts is Application Context Active throw new Illegal State Exception No active application scope return javax security auth login Configuration Component get Instance org jboss seam security configuration 
package org jboss seam example wicket import java text Decimal Format import java text Simple Date Format import java util Locale import org apache wicket Page Parameters import org apache wicket markup html Web Page import org apache wicket markup html basic Label import org apache wicket markup html link Link import org jboss seam annotations In import org jboss seam annotations Raise Event import org jboss seam annotations security Restrict import org jboss seam example wicket action Booking import org jboss seam example wicket action Hotel Booking import org jboss seam wicket annotations No Conversation Page Restrict identity logged In No Conversation Page Main class public class Confirm extends Web Page In private Booking booking In create true private Hotel Booking hotel Booking public Confirm final Page Parameters parameters super parameters Template body new Template body body add new Hotel View Panel hotel booking get Hotel body add new Output Border total Border Total Payment new Label total Decimal Format get Currency Instance Locale format booking get Total body add new Output Border checkin Date Border Check in new Label checkin Date new Simple Date Format format booking get Checkin Date body add new Output Border checkout Date Border Check out new Label checkout Date new Simple Date Format format booking get Checkout Date body add new Output Border credit Card Number Border Credit Card new Label credit Card Number booking get Credit Card body add new Link revise Override public void on Click set Response Page new Book new Page Parameters body add new Link confirm Override Raise Event booking Confirmed public void on Click hotel Booking confirm set Response Page Main class body add new Link cancel Override public void on Click hotel Booking cancel set Response Page Main class add body 
package org jboss seam example contactlist import org hibernate validator constraints Length import java util Array List import java util List import javax persistence Cascade Type import javax persistence Entity import javax persistence Generated Value import javax persistence Generation Type import javax persistence Id import javax persistence One To Many import javax persistence Order By import javax persistence Version Entity public class Contact Id Generated Value strategy Generation Type private Long id Length max private String first Name Length max private String last Name Length max private String address Length max private String city Length max private String state Length max private String zip Length max private String country Length max private String home Phone Length max private String business Phone Length max private String cell Phone Version private int version One To Many mapped By contact cascade Cascade Type Order By created private List Comment comments new Array List Comment public String get Address return address public void set Address String address this address address public String get Business Phone return business Phone public void set Business Phone String business Phone this business Phone business Phone public String get Cell Phone return cell Phone public void set Cell Phone String cell Phone this cell Phone cell Phone public String get City return city public void set City String city this city city public String get Country return country public void set Country String country this country country public String get First Name return first Name public void set First Name String first Name this first Name first Name public String get Home Phone return home Phone public void set Home Phone String home Phone this home Phone home Phone public String get Last Name return last Name public void set Last Name String last Name this last Name last Name public String get State return state public void set State String state this state state public String get Zip return zip public void set Zip String zip this zip zip public Long get Id return id public void set Id Long id this id id public List Comment get Comments return comments 
package org jboss seam example seamspace import static org jboss seam Scope Type import javax persistence Entity Manager import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam security Identity Scope Name content Action public class Content Action In Entity Manager entity Manager public Member Image get Image int image Id Member Image img entity Manager find Member Image class image Id if img null Identity instance has Permission img view return null else return img 
package org jboss seam example seamspace import java awt Graphics import java awt Rendering Hints import java awt image Buffered Image import java io Byte Array Output Stream import java io Exception import java io Input Stream import javax imageio Image import javax servlet Servlet Exception import javax servlet http Http Servlet import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import javax swing Image Icon import org jboss seam Component Serves images and other member content author Shane Bryzak public class Content Servlet extends Http Servlet private static final long serial Version private static final String images The maximum width allowed for image rescaling private static final int private byte no Image public Content Servlet Input Stream in get Class get Resource As Stream images no image png if in null Byte Array Output Stream out new Byte Array Output Stream byte buffer new byte try int read in read buffer while read out write buffer read read in read buffer no Image out to Byte Array catch Exception e Override protected void do Get Http Servlet Request request Http Servlet Response response throws Servlet Exception Exception if equals request get Path Info Content Action content Action Content Action Component get Instance Content Action class String id request get Parameter id Member Image mi id null equals id content Action get Image Integer parse Int id null String content Type null byte data null if mi null mi get Data null mi get Data length content Type mi get Content Type data mi get Data else if no Image null content Type image png data no Image if data null response set Content Type content Type boolean rescale false int width Image Icon icon null Check if the image needs to be rescaled if request get Parameter width null width Math min Integer parse Int request get Parameter width icon new Image Icon data if width width icon get Icon Width rescale true Rescale the image if required if rescale double ratio double width icon get Icon Width int height int icon get Icon Height ratio int image Type image png equals content Type Buffered Image Buffered Image Buffered Image b Img new Buffered Image width height image Type Graphics g d b Img create Graphics g d set Rendering Hint Rendering Hints Rendering Hints g d draw Image icon get Image width height null g d dispose String format Name if content Type null content Type index Of png format Name png else if content Type null content Type index Of jpg content Type index Of jpeg format Name jpeg Image write b Img format Name response get Output Stream else response get Output Stream write data response get Output Stream flush 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam contexts import org jboss seam Scope Type for accessing named components and named values that are currently associated with a particular seam scope author Gavin King public interface Context Get a value by name public Object get String name Get a component instance by its component name as determined by the Name annotation value public Object get Class clazz Set a value public void set String name Object value Unset a value public void remove String name Is the value set public boolean is Set String name Get all names defined in the context public String get Names Force synchronization to the underlying state store Some implementations of Context persist state back to the underlying store synchronously others asynchronously This method is usually called by Seam when necessary public void flush Get the scope that this context object is associated with public Scope Type get Type 
package org jboss seam example restbay resteasy import javax ws rs import javax ws rs Path import javax ws rs Produces import javax ws rs ext Providers import org jboss resteasy spi Resteasy Provider Factory Path context Data Produces text plain public class Context Data Resource Path providers public boolean providers Available return Resteasy Provider Factory get Context Data Providers class null Path registry public boolean registry Available return Resteasy Provider Factory get Context Data Providers class null Path dispatcher public boolean dispatcher Available return Resteasy Provider Factory get Context Data Providers class null 
package org jboss seam web import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Exception import javax servlet Filter Chain import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Http Servlet Request import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter import org jboss seam servlet Contextual Http Servlet Request Manages the Seam contexts associated with a request to any servlet author Gavin King Scope Name org jboss seam web context Filter Install value false precedence Bypass Interceptors Filter within org jboss seam web ajax jsf Filter public class Context Filter extends Abstract Filter public void do Filter final Servlet Request request final Servlet Response response final Filter Chain chain throws Exception Servlet Exception new Contextual Http Servlet Request Http Servlet Request request Override public void process throws Servlet Exception Exception chain do Filter request response run 
package org jboss seam ioc spring import static org jboss seam annotations Install import javax servlet Servlet Context import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Servlet Lifecycle import org springframework web context Configurable Web Application Context import org springframework web context Web Application Context import org springframework web context support Xml Web Application Context seam component that loads up a spring Web Application Context author Mike Youngstrom Scope Scope Type Bypass Interceptors Startup depends org jboss seam ioc spring spring Resolver Name org jboss seam ioc spring context Loader Install value false precedence public class Context Loader private Web Application Context web Application Context private String config Locations Xml Web Application Context Create public void create throws Exception Servlet Context servlet Context Servlet Lifecycle get Servlet Context try web Application Context create Context Loader servlet Context servlet Context set Attribute Web Application Context web Application Context startup Context Loader web Application Context catch Exception e servlet Context set Attribute Web Application Context e throw e protected Web Application Context create Context Loader Servlet Context servlet Context Xml Web Application Context xml Web Application Context new Xml Web Application Context xml Web Application Context set Servlet Context servlet Context xml Web Application Context set Config Locations get Config Locations return xml Web Application Context protected void startup Context Loader Web Application Context web Application Context if web Application Context instanceof Configurable Web Application Context Configurable Web Application Context web Application Context refresh Destroy public void destroy if web Application Context null web Application Context instanceof Configurable Web Application Context Configurable Web Application Context web Application Context close public String get Config Locations return config Locations public void set Config Locations String config Locations this config Locations config Locations 
package org jboss seam debug import static org jboss seam annotations Install import java util Array List import java util Arrays import java util List import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam core Conversation Entries import org jboss seam core Conversation Entry import org jboss seam util Exceptions Name org jboss seam debug contexts Scope Scope Type Install debug true precedence public class Contexts public List Conversation Entry get Conversation Entries return new Array List Conversation Entry Conversation Entries instance get Conversation Entries public String get Application String names org jboss seam contexts Contexts get Application Context get Names Arrays sort names return names public String get Session String names if org jboss seam contexts Contexts is Session Context Active names org jboss seam contexts Contexts get Session Context get Names Arrays sort names return names public String get Conversation String names if org jboss seam contexts Contexts is Conversation Context Active names org jboss seam contexts Contexts get Conversation Context get Names Arrays sort names return names public String get Business Process if org jboss seam contexts Contexts is Business Process Context Active String names org jboss seam contexts Contexts get Business Process Context get Names Arrays sort names return names else return null public Exception get Exception Exception e null if org jboss seam contexts Contexts is Conversation Context Active if org jboss seam contexts Contexts get Conversation Context get org jboss seam caught Exception null return null else e Exception org jboss seam contexts Contexts get Conversation Context get org jboss seam caught Exception return e public List Exception get Exception Causes List Exception causes new Array List Exception for Exception cause get Exception cause null cause Exceptions get Cause cause causes add cause return causes public boolean is Exception Exists return get Exception null 
package org jboss seam servlet import java io Exception import java util concurrent atomic Atomic Integer import javax servlet Servlet Exception import javax servlet http Http Servlet Request import org jboss seam contexts Lifecycle import org jboss seam contexts Servlet Lifecycle import org jboss seam core Conversation Propagation import org jboss seam core Manager import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam web Servlet Contexts Perform work in a full set of Seam contexts author Gavin King author Marek Novotny public abstract class Contextual Http Servlet Request private static final Log Provider log Logging get Log Provider Contextual Http Servlet Request class private final Http Servlet Request request private static Thread Local Atomic Integer count new Thread Local Atomic Integer public Contextual Http Servlet Request Http Servlet Request request this request request public abstract void process throws Exception public void run throws Servlet Exception Exception log debug beginning request Force creation of the session if request get Session false null request get Session true Begin request and Seam life cycle only if it is not nested Contextual Http Servlet Request if get Counter Value Servlet Lifecycle begin Request request Servlet Contexts instance set Request request restore Conversation Id Manager instance restore Conversation Servlet Lifecycle resume Conversation request handle Conversation Propagation try increment Counter Value process decrement Counter Value End request only if it is not nested Contextual Http Servlet Request if get Counter Value conversation timeout Manager instance end Request new Servlet Request Session Map request Servlet Lifecycle end Request request catch Exception ioe remove Counter Lifecycle end Request log debug ended request due to exception throw ioe catch Servlet Exception se remove Counter Lifecycle end Request log debug ended request due to exception throw se catch Exception e remove Counter Lifecycle end Request log debug ended request due to exception throw new Servlet Exception e finally log debug ended request protected void handle Conversation Propagation Manager instance handle Conversation Propagation request get Parameter Map protected void restore Conversation Id Conversation Propagation instance restore Conversation Id request get Parameter Map Getter for Thread Local counter value private int get Counter Value Atomic Integer i count get if i null i int Value log trace Getting return else log trace Getting i int Value return i int Value Increments Thread Local counter value private void increment Counter Value Atomic Integer i count get if i null i int Value i new Atomic Integer count set i i increment And Get log trace Incrementing to count get Decrements Thread Local counter value private void decrement Counter Value Atomic Integer i count get if i null log trace Ops something removed counter befor end of request we should never get here throw new Illegal State Exception Counter for nested Contextual Http Servlet Request was removed before it should be if i int Value i decrement And Get log trace Decrementing to count get Removes Thread Local counter private void remove Counter log trace Removing Thread Local counter count remove 
package org jboss seam example ui import java io Serializable import java util List import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence One To Many Entity public class Continent implements Serializable Id Generated Value private Integer id private String name One To Many mapped By continent private List Country countries public List Country get Countries return countries public void set Countries List Country countries this countries countries public Integer get Id return id public void set Id Integer id this id id public String get Name return name public void set Name String name this name name 
package org jboss seam framework import java io Serializable import java util Map import javax faces context Faces Context import javax servlet http Cookie import javax servlet http Http Servlet Response import org jboss seam Component import org jboss seam annotations Logger import org jboss seam contexts Context import org jboss seam contexts Contexts import org jboss seam core Class Validator import org jboss seam core Conversation import org jboss seam core Events import org jboss seam core Expressions import org jboss seam core Interpolator import org jboss seam core Validators import org jboss seam core Expressions Value Expression import org jboss seam faces Faces Messages import org jboss seam faces Http Error import org jboss seam faces Redirect import org jboss seam faces Renderer import org jboss seam faces Validation import org jboss seam international Messages import org jboss seam international Status Messages import org jboss seam log Log import org jboss seam security Identity import org jboss seam transaction Transaction import org jboss seam web Session Base class for controller objects Provides various helper methods that help slightly reduce the code required to create a Seam component that acts as a controller author Gavin King public abstract class Controller implements Serializable Logger Log log protected Context get Application Context return Contexts get Application Context protected Context get Business Process Context return Contexts get Business Process Context protected Context get Conversation Context return Contexts get Conversation Context protected Context get Event Context return Contexts get Event Context protected Events get Events return Events instance protected Conversation get Conversation return Conversation instance Deprecated protected Faces Messages get Faces Messages return Faces Messages instance protected Status Messages get Status Messages return Status Messages instance protected Identity get Identity return Identity instance protected Cookie get Cookie String name return Cookie Faces Context get Current Instance get External Context get Request Cookie Map get name protected void add Cookie Cookie cookie Http Servlet Response Faces Context get Current Instance get External Context get Response add Cookie cookie protected void add Faces Message String message Template Object params get Faces Messages add message Template params protected void add Faces Message From Resource Bundle String key Object params get Faces Messages add From Resource Bundle key params protected String render String path return Renderer instance render path protected void send Http Error int code Http Error instance send code protected void send Http Error int code String message Http Error instance send code message protected Log get Log return log protected Map String String get Messages return Messages instance protected Context get Method Context return Contexts get Method Context protected Context get Page Context return Contexts get Page Context protected Redirect get Redirect return Redirect instance protected Context get Session Context return Contexts get Session Context protected Faces Context get Faces Context return Faces Context get Current Instance protected boolean validation Succeeded return Validation instance is Succeeded protected boolean validation Failed return Validation instance is Failed protected void fail Validation Validation instance fail protected String interpolate String string Object params return Interpolator instance interpolate string params protected Class Validator get Validator Class model Class return Validators instance get Validator model Class protected Class Validator get Validator model return Validators instance get Validator model protected void debug Object object Object params log debug object params protected void debug Object object Throwable t Object params log debug object t params protected void error Object object Object params log error object params protected void error Object object Throwable t Object params log error object t params protected void fatal Object object Object params log fatal object params protected void fatal Object object Throwable t Object params log fatal object t params protected void info Object object Object params log info object params protected void info Object object Throwable t Object params log info object t params protected void trace Object object Object params log trace object params protected void trace Object object Throwable t Object params log trace object t params protected void warn Object object Object params log warn object params protected void warn Object object Throwable t Object params log warn object t params protected void raise Asynchronous Event String type Object parameters get Events raise Asynchronous Event type parameters protected void raise Event String type Object parameters get Events raise Event type parameters protected void raise Transaction Success Event String type Object parameters get Events raise Transaction Success Event type parameters protected Object get Component Instance String name return Component get Instance name protected Object get Component Instance Class clazz return Component get Instance clazz protected void invalidate Session Session instance invalidate protected boolean is Transaction Marked Rollback try return Transaction instance is Marked Rollback catch Exception e return false protected evaluate Value Expression String expression Class type return create Value Expression expression type get Value protected Object evaluate Value Expression String expression return create Value Expression expression get Value protected Value Expression create Value Expression String expression Class type return Expressions instance create Value Expression expression type protected Value Expression create Value Expression String expression return create Value Expression expression Object class 
package action Package import javax ejb Local Local public interface interface Name public String begin public String increment public String end public int get Value public void destroy add additional interface methods here 
package org jboss seam test integration faces conversations import java io Serializable import org jboss seam Scope Type import org jboss seam annotations Begin import org jboss seam annotations End import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations Scope import org jboss seam faces Redirect import org jboss seam international Status Messages import org jboss seam log Log Name Conversation Action Scope Scope Type public class Conversation Action implements Serializable private static final long serial Version Logger private Log log In Status Messages status Messages Out value state scope Scope Type String state Out value foo scope Scope Type String foo Out value bar scope Scope Type String bar Begin public void begin state begin End public void end state end public void xyzzy state xyzzy public String view Output state view Output return output public String redirect Output state redirect Output return output faces redirect true public void raise Exception throws My Exception state raise Exception throw new My Exception public void raise Conversation Ending Exception throws My Conversation Ending Exception state raise Conversation Ending Exception throw new My Conversation Ending Exception public String get State return state public String pages Render state pages Render return render public String pages Redirect state pages Redirect return redirect public void programmatic Redirect state programmatic Redirect Redirect redirect Redirect instance redirect set View Id output xhtml redirect execute public void programmatic Redirect No Propagation state programmatic Redirect No Propagation Redirect redirect Redirect instance redirect set Conversation Propagation Enabled false redirect set View Id output xhtml redirect execute Faces Manager instance redirect output xhtml null false false Bypass Interceptors public boolean equals Object other return super equals other 
Id Conversational java gavin package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Specifies that a component or method is conversational and may only be called inside the scope of a long running conversation author Gavin King Target Retention Documented Inherited public interface Conversational 
Id Conversational Interceptor java pete muir jboss org package org jboss seam core import java lang reflect Method import org jboss seam No Conversation Exception import org jboss seam annotations Begin import org jboss seam annotations Conversational import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations bpm Begin Task import org jboss seam annotations bpm Start Task import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam bpm Business Process Interceptor import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context Check that a conversational bean is not being invoked outside the scope of a long running conversation If it is throw an exception author Gavin King Interceptor stateless true around Bijection Interceptor class Business Process Interceptor class public class Conversational Interceptor extends Abstract Interceptor private static final long serial Version Around Invoke public Object around Invoke Invocation Context invocation throws Exception Method method invocation get Method if is No Conversation For Conversational Bean method Events instance raise Event org jboss seam no Conversation throw new No Conversation Exception no long running conversation for Conversational bean get Component get Name return invocation proceed private boolean is No Conversation For Conversational Bean Method method boolean classlevel Violation component Is Conversational Manager instance is Long Running Or Nested Conversation method is Annotation Present Begin class method is Annotation Present Start Task class method is Annotation Present Begin Task class method is Annotation Present Destroy class method is Annotation Present Create class probably superfluous if classlevel Violation return true boolean methodlevel Violation method Is Conversational method Manager instance is Long Running Or Nested Conversation return methodlevel Violation private boolean method Is Conversational Method method return method is Annotation Present Conversational class private boolean component Is Conversational return get Component get Bean Class is Annotation Present Conversational class public boolean is Interceptor Enabled return get Component bean Class Has Annotation Conversational class 
package action Package import java io Serializable import javax ejb Remove import javax ejb Stateful import org jboss seam annotations Name import org jboss seam annotations Begin import org jboss seam annotations End import org jboss seam annotations Logger import org jboss seam log Log Stateful Name component Name public class bean Name implements interface Name Serializable Logger private Log log private int value Begin public String begin implement your begin conversation business logic log info beginning conversation return success public String increment log info incrementing value return success add additional action methods that participate in this conversation End public String end implement your end conversation business logic log info ending conversation return home public int get Value return value Remove public void destroy 
package org jboss seam navigation import org jboss seam annotations Flush Mode Type import org jboss seam core Conversation import org jboss seam core Conversation Entries import org jboss seam core Conversation Entry import org jboss seam core Manager import org jboss seam core Expressions Value Expression import org jboss seam pageflow Pageflow Demarcation of the conversation in pages xml author Gavin King public class Conversation Control private boolean is Begin Conversation private boolean is End Conversation private boolean is End Conversation Before Redirect private boolean is End Root Conversation private boolean join private boolean nested private Flush Mode Type flush Mode private String pageflow private Value Expression Boolean begin Conversation Condition private Value Expression Boolean end Conversation Condition private String conversation Name public boolean is Begin Conversation return is Begin Conversation public void set Begin Conversation boolean is Begin Conversation this is Begin Conversation is Begin Conversation public boolean is End Conversation return is End Conversation public void set End Conversation boolean is End Conversation this is End Conversation is End Conversation public void begin Or End Conversation if end Conversation if is End Root Conversation Manager instance end Root Conversation is End Conversation Before Redirect else Manager instance end Conversation is End Conversation Before Redirect if begin Conversation if conversation Name null Conversation Id Parameter param Pages instance get Conversation Id Parameter conversation Name Conversation Entry ce Conversation Entries instance get Conversation Entry param get Conversation Id if ce null ce redirect return boolean begun Conversation instance begin join nested if begun if flush Mode null Conversation instance change Flush Mode flush Mode if pageflow null Pageflow instance begin pageflow private boolean begin Conversation return is Begin Conversation begin Conversation Condition null Boolean equals begin Conversation Condition get Value private boolean end Conversation return is End Conversation end Conversation Condition null Boolean equals end Conversation Condition get Value public Flush Mode Type get Flush Mode return flush Mode public void set Flush Mode Flush Mode Type flush Mode this flush Mode flush Mode public boolean is Join return join public void set Join boolean join this join join public boolean is Nested return nested public void set Nested boolean nested this nested nested public String get Pageflow return pageflow public void set Pageflow String pageflow this pageflow pageflow public boolean is End Conversation Before Redirect return is End Conversation Before Redirect public void set End Conversation Before Redirect boolean is End Conversation Before Redirect this is End Conversation Before Redirect is End Conversation Before Redirect public boolean is End Root Conversation return is End Conversation Before Redirect public void set End Root Conversation boolean is End Root Conversation this is End Root Conversation is End Root Conversation public Value Expression Boolean get Begin Conversation Condition return begin Conversation Condition public void set Begin Conversation Condition Value Expression Boolean begin Conversation Condition this begin Conversation Condition begin Conversation Condition public Value Expression Boolean get End Conversation Condition return end Conversation Condition public void set End Conversation Condition Value Expression Boolean end Conversation Condition this end Conversation Condition end Conversation Condition public String get Conversation Name return conversation Name public void set Conversation Name String conversation Name this conversation Name conversation Name 
package org jboss seam core import static org jboss seam annotations Install import java io Serializable import java util Collection import java util Collections import java util Hash Map import java util List import java util Map import java util Set import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts Manages a map of conversation id to Conversation Entry in the session context author Gavin King Name org jboss seam core conversation Entries Install precedence Scope Scope Type Bypass Interceptors public class Conversation Entries extends Abstract Mutable implements Serializable private static final long serial Version private Map String Conversation Entry conversation Id Entry Map new Hash Map String Conversation Entry public synchronized Collection Conversation Entry get Conversation Entries return Collections unmodifiable Collection conversation Id Entry Map values public synchronized int size return conversation Id Entry Map size public synchronized Set String get Conversation Ids return Collections unmodifiable Set conversation Id Entry Map key Set public synchronized Conversation Entry create Conversation Entry String id List String stack Conversation Entry entry new Conversation Entry id stack this conversation Id Entry Map put id entry set Dirty return entry public synchronized Conversation Entry get Conversation Entry String id return conversation Id Entry Map get id public synchronized Conversation Entry remove Conversation Entry String id Conversation Entry entry conversation Id Entry Map remove id if entry null set Dirty return entry public synchronized Conversation Entry update Conversation Id String old Id String new Id Conversation Entry entry conversation Id Entry Map remove old Id if entry null return null else entry set Id new Id entry get Conversation Id Stack set new Id conversation Id Entry Map put new Id entry set Dirty return entry public static Conversation Entries instance if Contexts is Session Context Active throw new Illegal State Exception No session context active return Conversation Entries Component get Instance Conversation Entries class Scope Type public static Conversation Entries get Instance if Contexts is Session Context Active throw new Illegal State Exception No session context active return Conversation Entries Component get Instance Conversation Entries class Scope Type false Override public String to String return Conversation Entries conversation Id Entry Map values 
package org jboss seam core import java io Serializable import java util Date import java util List import java util concurrent Time Unit import java util concurrent locks Reentrant Lock import org jboss seam Component import org jboss seam Scope Type import org jboss seam contexts Context import org jboss seam contexts Contexts Metadata about an active conversation Also used by the conversation list and breadcrumbs author Gavin King public final class Conversation Entry implements Serializable Comparable Conversation Entry private static final long serial Version private long last Request Time private String description private String id private Date start Datetime private Date last Datetime private String view Id private List String conversation Id Stack private Integer timeout private Integer concurrent Request Timeout private boolean remove After Redirect private boolean ended private Conversation Entries entries private Reentrant Lock lock public Conversation Entry String id List String stack Conversation Entries entries this id id if stack null throw new Illegal Argument Exception Stack must not be null if id null throw new Illegal Argument Exception id must not be null this conversation Id Stack stack this start Datetime new Date this entries entries if conversation Id Stack size get the root conversation entry lock we want to share the same lock among all nested conversations in the same conversation stack lock entries get Conversation Entry conversation Id Stack get conversation Id Stack size lock else lock new Reentrant Lock true touch public String get Description return description void set Description String description entries set Dirty this description description this description description public synchronized long get Last Request Time return last Request Time synchronized void touch entries set Dirty last Request Time System current Time Millis last Datetime new Date public String get Id return id public Date get Start Datetime return start Datetime public void destroy boolean success Manager instance switch Conversation get Id if success Manager instance end Conversation false public void select redirect public boolean redirect String view Id get View Id if view Id null return false else Manager instance redirect view Id get Id return true void set View Id String view Id entries set Dirty this view Id view Id this view Id view Id public String get View Id return view Id public synchronized Date get Last Datetime return last Datetime public List String get Conversation Id Stack return conversation Id Stack public boolean is Displayable return is Ended is Remove After Redirect get Description null public boolean is Current Manager manager Manager instance if manager is Long Running Conversation return id equals manager get Current Conversation Id else if manager is Nested Conversation return id equals manager get Parent Conversation Id else return false public int compare To Conversation Entry entry int result new Long get Last Request Time compare To entry get Last Request Time return result get Id compare To entry get Id result public int get Timeout return timeout null Manager instance get Conversation Timeout timeout void set Timeout int conversation Timeout entries set Dirty this timeout timeout this timeout conversation Timeout public Integer get Concurrent Request Timeout return concurrent Request Timeout null Manager instance get Concurrent Request Timeout concurrent Request Timeout void set Concurrent Request Timeout Integer concurrent Request Timeout entries set Dirty this concurrent Request Timeout concurrent Request Timeout this concurrent Request Timeout concurrent Request Timeout public boolean is Remove After Redirect return remove After Redirect public void set Remove After Redirect boolean remove After Redirect entries set Dirty this remove After Redirect remove After Redirect void set Id String id this id id public boolean lock No Wait not synchronized return lock try Lock public boolean lock not synchronized try return lock try Lock get Concurrent Request Timeout Time Unit catch Interrupted Exception ie throw new Runtime Exception ie public void unlock not synchronized lock unlock public boolean is Locked By Current Thread return lock is Held By Current Thread public void end ended true public boolean is Ended return ended public boolean is Nested return conversation Id Stack size Determines which conversation in the stack is holding the instance of this component nested conversation can see context variables in all ancestor conversations In this case we are interesting in knowing where that instance was found We are assuming that if the reference is not in an ancestor conversation then it must be in the current conversation The goal here is not to locate the instance but rather to determine which conversation is contributing the instance that we already know exists The low level interaction with the session context should be refactored out The problem is that it is defined in private areas of Server Conversation Context and can not be reused Actually what we really need is a general purpose utility for analyzing the contents of each conversation in the stack at least the keys public String find Position In Conversation Stack Component component if component is Per Nested Conversation return id String name component get Name Context session Contexts get Session Context String location id for int i len conversation Id Stack size i len i String cid conversation Id Stack get i String key Scope Type get Prefix cid name if session get key null location cid break return location Override public String to String return Conversation Entry id 
package org jboss seam core import java util concurrent atomic Atomic Integer import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope Name org jboss seam core Conversation Id Generator Scope Scope Type Install precedence Install public class Conversation Id Generator private static Atomic Integer unique Id new Atomic Integer public String get Next Id this is not cluster safe return Integer to String unique Id increment And Get public static Conversation Id Generator instance Conversation Id Generator instance Conversation Id Generator Component get Instance org jboss seam core Conversation Id Generator return instance null instance new Conversation Id Generator 
package org jboss seam navigation import java util Map strategy for propagating conversations across links and redirects public interface Conversation Id Parameter String get Name String get Parameter Name String get Parameter Value Performs any necessary conversions on the specified conversation to get the actual parameter value String get Parameter Value String value String get Conversation Id String get Initial Conversation Id Map parameters String get Request Conversation Id Map parameters 
package org jboss seam wicket ioc import java lang reflect Method import java util Arrays import org apache wicket Abort Exception import org apache wicket Page import org apache wicket Request Cycle import org apache wicket Session import org jboss seam No Conversation Exception import org jboss seam annotations Application Exception import org jboss seam annotations Begin import org jboss seam annotations Conversational import org jboss seam annotations End import org jboss seam annotations Flush Mode Type import org jboss seam annotations bpm Begin Task import org jboss seam annotations bpm End Task import org jboss seam annotations bpm Start Task import org jboss seam core Conversation Entries import org jboss seam core Conversation Entry import org jboss seam core Conversation Propagation import org jboss seam core Interpolator import org jboss seam core Manager import org jboss seam international Status Message import org jboss seam international Status Messages import org jboss seam navigation Conversation Id Parameter import org jboss seam navigation Pages import org jboss seam pageflow Pageflow import org jboss seam persistence Persistence Contexts public class Conversation Interceptor implements Stateless Interceptor public void before Invoke Invocation Context invocation Context if invocation Context get Component is Conversation Management Method invocation Context get Accessible Object if is Missing Join invocation Context throw new Illegal State Exception begin method invoked from a long running conversation try using Begin join true on method invocation Context get Member get Name check For Conversation invocation Context public Object after Invoke Invocation Context invocation Context Object result if invocation Context get Component is Conversation Management Method invocation Context get Accessible Object begin Conversation If Necessary invocation Context result end Conversation If Necessary invocation Context result return result public Exception handle Exception Invocation Context invocation Context Exception exception if is End Conversation Required exception end Conversation false return exception private boolean is End Conversation Required Exception e Class extends Exception clazz e get Class return clazz is Annotation Present Application Exception class clazz get Annotation Application Exception class end Suppress Warnings deprecation public boolean redirect To Existing Conversation Method method if Manager instance is Long Running Conversation String id null Conversation Propagation propagation Conversation Propagation instance String conversation propagation null propagation get Conversation Name null if method is Annotation Present Begin class id method get Annotation Begin class id else if method is Annotation Present Begin Task class id method get Annotation Begin Task class id else if method is Annotation Present Start Task class id method get Annotation Start Task class id if id null equals id id Interpolator instance interpolate id Conversation Entry ce Conversation Entries instance get Conversation Entry id if ce null Manager instance update Current Conversation Id id else return ce redirect else if conversation null equals conversation Conversation Id Parameter param Pages instance get Conversation Id Parameter conversation if param null Conversation Entry ce Conversation Entries instance get Conversation Entry param get Conversation Id if ce null return ce redirect return false private boolean is Missing Join Invocation Context invocation Context return Manager instance is Long Running Or Nested Conversation invocation Context get Accessible Object is Annotation Present Begin class invocation Context get Accessible Object get Annotation Begin class join invocation Context get Accessible Object get Annotation Begin class nested invocation Context get Accessible Object is Annotation Present org jboss seam wicket annotations Begin class invocation Context get Accessible Object get Annotation org jboss seam wicket annotations Begin class join invocation Context get Accessible Object get Annotation org jboss seam wicket annotations Begin class nested invocation Context get Accessible Object is Annotation Present Begin Task class invocation Context get Accessible Object is Annotation Present Start Task class private void check For Conversation Invocation Context invocation Context if Manager instance is Long Running Conversation invocation Context get Accessible Object is Annotation Present Conversational class Class extends Page no Conversation Page invocation Context get Component get No Conversation Page if no Conversation Page null final Request Cycle cycle Request Cycle get Status Messages instance add From Resource Bundle Or Default Status Message Severity org jboss seam No Conversation The conversation ended or timed cycle redirect To Session get get Page Factory new Page no Conversation Page throw new Abort Exception else throw new No Conversation Exception no long running conversation for Conversational wicket component invocation Context get Component get Class get Name Suppress Warnings deprecation private void begin Conversation If Necessary Invocation Context invocation Context Object result boolean simple Begin invocation Context get Accessible Object is Annotation Present Start Task class invocation Context get Accessible Object is Annotation Present Begin Task class invocation Context get Accessible Object is Annotation Present org jboss seam wicket annotations Begin class invocation Context get Accessible Object is Annotation Present Begin class invocation Context get Accessible Object get Annotation Begin class if Outcome length if simple Begin if result null invocation Context get Method null invocation Context get Method get Return Type equals void class invocation Context get Constructor null boolean nested false if invocation Context get Accessible Object is Annotation Present Begin class nested invocation Context get Accessible Object get Annotation Begin class nested else if invocation Context get Accessible Object is Annotation Present org jboss seam wicket annotations Begin class nested invocation Context get Accessible Object get Annotation org jboss seam wicket annotations Begin class nested begin Conversation nested get Process Definition Name invocation Context set Flush Mode invocation Context what if conversation already exists Or a nested conversation else if invocation Context get Accessible Object is Annotation Present Begin class String outcomes invocation Context get Accessible Object get Annotation Begin class if Outcome if outcomes length Arrays as List outcomes contains result begin Conversation invocation Context get Accessible Object get Annotation Begin class nested get Process Definition Name invocation Context set Flush Mode invocation Context what if conversation already exists Or a nested conversation private void set Flush Mode Invocation Context invocation Context Flush Mode Type flush Mode if invocation Context get Accessible Object is Annotation Present Begin class flush Mode invocation Context get Accessible Object get Annotation Begin class flush Mode else if invocation Context get Accessible Object is Annotation Present org jboss seam wicket annotations Begin class flush Mode invocation Context get Accessible Object get Annotation org jboss seam wicket annotations Begin class flush Mode else if invocation Context get Accessible Object is Annotation Present Begin Task class flush Mode invocation Context get Accessible Object get Annotation Begin Task class flush Mode else if invocation Context get Accessible Object is Annotation Present Start Task class flush Mode invocation Context get Accessible Object get Annotation Start Task class flush Mode else return Persistence Contexts instance change Flush Mode flush Mode private String get Process Definition Name Invocation Context invocation Context if invocation Context get Accessible Object is Annotation Present Begin class return invocation Context get Accessible Object get Annotation Begin class pageflow if invocation Context get Accessible Object is Annotation Present Begin Task class return invocation Context get Accessible Object get Annotation Begin Task class pageflow if invocation Context get Accessible Object is Annotation Present Start Task class return invocation Context get Accessible Object get Annotation Start Task class pageflow let them pass a pageflow name as a request parameter return private void begin Conversation boolean nested String pageflow Name if Manager instance is Long Running Or Nested Conversation Manager instance begin Conversation begin Navigation pageflow Name else if nested Manager instance begin Nested Conversation begin Navigation pageflow Name private void begin Navigation String pageflow Name if pageflow Name equals Pageflow instance begin pageflow Name Suppress Warnings deprecation private void end Conversation If Necessary Invocation Context invocation Context Object result boolean is End Annotation invocation Context get Accessible Object is Annotation Present End class boolean is End Task Annotation invocation Context get Accessible Object is Annotation Present End Task class boolean before Redirect is End Annotation invocation Context get Accessible Object get Annotation End class before Redirect is End Task Annotation invocation Context get Accessible Object get Annotation End Task class before Redirect boolean simple End is End Annotation invocation Context get Accessible Object get Annotation End class if Outcome length is End Task Annotation invocation Context get Accessible Object get Annotation End Task class if Outcome length if simple End if result null invocation Context get Constructor null invocation Context get Method null invocation Context get Method get Return Type equals void class null outcome interpreted as redisplay end Conversation before Redirect else if is End Annotation String outcomes invocation Context get Accessible Object get Annotation End class if Outcome if Arrays as List outcomes contains result end Conversation before Redirect else if is End Task Annotation fix minor code duplication String outcomes invocation Context get Accessible Object get Annotation End Task class if Outcome if Arrays as List outcomes contains result end Conversation before Redirect private void end Conversation boolean before Redirect Manager instance end Conversation before Redirect 
package action Package import static org jboss seam Scope Type import java io Serializable import org jboss seam annotations Name import org jboss seam annotations Begin import org jboss seam annotations End import org jboss seam annotations Logger import org jboss seam annotations Scope import org jboss seam log Log Scope Name component Name public class interface Name implements Serializable Logger private Log log private int value Begin public String begin implement your begin conversation business logic log info beginning conversation return success public String increment log info incrementing value return success add additional action methods that participate in this conversation End public String end implement your end conversation business logic log info ending conversation return home public int get Value return value 
package org jboss seam core import static org jboss seam Scope Type import static org jboss seam Scope Type import static org jboss seam annotations Install import java util Array List import java util Collections import java util List import java util Set import java util Tree Set import org jboss seam annotations Factory import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam web Session Factory for the conversation list author Gavin King Scope Name org jboss seam core conversation List Factory Install precedence Bypass Interceptors public class Conversation List protected List Conversation Entry create Conversation Entry List Conversation Entries conversation Entries Conversation Entries get Instance if conversation Entries null return Collections else Set Conversation Entry ordered Entries new Tree Set Conversation Entry ordered Entries add All conversation Entries get Conversation Entries List Conversation Entry conversation Entry List new Array List Conversation Entry conversation Entries size for Conversation Entry entry ordered Entries if entry is Displayable Session instance is Invalid conversation Entry List add entry return conversation Entry List Factory value org jboss seam core conversation List auto Create true scope public List Conversation Entry get Conversation Entry List return create Conversation Entry List 
package org jboss seam ui renderkit import javax faces component Component import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam ui component Conversation Name import org richfaces cdk annotations Jsf Renderer author Pete Muir Jsf Renderer type org jboss seam ui Conversation Name Renderer family org jboss seam ui Conversation Name Renderer public class Conversation Name Renderer Base extends Command Button Parameter Renderer Base private static Log Provider log Logging get Log Provider Conversation Name Renderer Base class Override protected Log Provider get Log return log Override protected String get Parameter Name Component component return Conversation Name component get Name Override protected Class get Component Class return Conversation Name class 
package org jboss seam core import java util Map import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Conversation Id Parameter import org jboss seam navigation Page import org jboss seam navigation Pages Overrideable component for extracting the conversation id from a request author Gavin King author Pete Muir author Shane Bryzak Name org jboss seam core conversation Propagation Scope Scope Type Bypass Interceptors Install precedence Install public class Conversation Propagation private static final Log Provider log Logging get Log Provider Conversation Propagation class public static final String conversation Name public static final String conversation Propagation private String conversation Name private String conversation Id private String parent Conversation Id private boolean validate Long Running Conversation private Propagation Type propagation Type private String pageflow Initialize the request conversation id taking into account conversation propagation style and any conversation id passed as a request parameter or in the context param parameters the request parameters public void restore Conversation Id Map parameters restore Natural Conversation Id parameters restore Synthetic Conversation Id parameters restore Page Context Conversation Id get Propagation From Request Parameter parameters handle Propagation Type parameters private void handle Propagation Type Map parameters if propagation Type Propagation Type conversation Id null parent Conversation Id null validate Long Running Conversation false else if propagation Type Propagation Type propagation Type Propagation Type validate Long Running Conversation false private void restore Page Context Conversation Id if Contexts is Page Context Active is Missing conversation Id check Page Context is a workaround for a bug in My server side state saving if it is not passed as a request parameter try to get it from the page context org jboss seam faces Faces Page page org jboss seam faces Faces Page instance conversation Id page get Conversation Id parent Conversation Id null validate Long Running Conversation page is Conversation Long Running else log trace Found conversation id in request parameter conversation Id private void restore Natural Conversation Id Map parameters conversation Name get Request Parameter Value parameters if conversation Name null conversation Name contains int idx conversation Name index Of conversation Id conversation Name conversation Name conversation Name substring idx return First try to get the conversation id from the request parameter defined for the page String view Id Pages get Current View Id if view Id null Page page Pages instance get Page view Id if conversation Name null Conversation Id Parameter current Conversation Id Parameter Pages instance get Conversation Id Parameter conversation Name if current Conversation Id Parameter null throw new Illegal State Exception The conversation Name specified conversation Name does not exist Try to restore the conversation from parameters the user has specified the exact conversation to restore using f param conversation Id current Conversation Id Parameter get Request Conversation Id parameters If conversation Id is still null do n t try to resolve the here because we do n t yet have a conversation and therefore things may blow up resolve in get Initial Conversation Id else conversation Id page get Conversation Id Parameter get Request Conversation Id parameters how about the parent conversation id private void restore Synthetic Conversation Id Map parameters Next try to get the conversation id from the globally defined request parameters Manager manager Manager instance move the conversation Id Parameter to this class if is Missing conversation Id conversation Id get Request Parameter Value parameters manager get Conversation Id Parameter if is Missing parent Conversation Id parent Conversation Id get Request Parameter Value parameters manager get Parent Conversation Id Parameter private void get Propagation From Request Parameter Map parameters String value get Request Parameter Value parameters if value null return if value starts With begin propagation Type Propagation Type if value length pageflow value substring else if value starts With join propagation Type Propagation Type if value length pageflow value substring else if value starts With nested propagation Type Propagation Type if value length pageflow value substring else propagation Type Propagation Type value Of value to Upper Case private static boolean is Missing String stored Conversation Id return stored Conversation Id null equals stored Conversation Id Retrieve a parameter value from the request param parameters the request parameters param parameter Name the name of the parameter to retrieve return the parameter value or null if not in the map public static String get Request Parameter Value Map parameters String parameter Name Object object parameters get parameter Name if object null return null else if object instanceof String when it comes from it is usually a plain string return String object else in a servlet it is a string array String values String object if values length throw new Illegal Argument Exception expected exactly one value for parameter Name request parameter return values return the id of the current conversation public String get Conversation Id return conversation Id public void set Conversation Id String conversation Id this conversation Id conversation Id return the id of the parent of the current conversation public String get Parent Conversation Id return parent Conversation Id public void set Parent Conversation Id String parent Conversation Id this parent Conversation Id parent Conversation Id Specifies that a redirect will occur if there is no conversation found on the server public boolean is Validate Long Running Conversation return validate Long Running Conversation public void set Validate Long Running Conversation boolean validate Long Running Conversation this validate Long Running Conversation validate Long Running Conversation public static Conversation Propagation instance if Contexts is Event Context Active throw new Illegal State Exception No active event context return Conversation Propagation Component get Instance Conversation Propagation class Scope Type return the conversation propagation type specified in the request public Propagation Type get Propagation Type return propagation Type public void set Propagation Type Propagation Type propagation Type this propagation Type propagation Type public String get Pageflow return pageflow public String get Conversation Name return this conversation Name 
package org jboss seam ui renderkit import javax faces component Component import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam ui component Conversation Propagation import org richfaces cdk annotations Jsf Renderer author Pete Muir Jsf Renderer type org jboss seam ui Conversation Propagation Renderer family org jboss seam ui Conversation Propagation Renderer public class Conversation Propagation Renderer Base extends Command Button Parameter Renderer Base private static Log Provider log Logging get Log Provider Conversation Propagation Renderer Base class Override protected Class get Component Class return Conversation Propagation class Override protected Log Provider get Log return log Override protected String get Parameter Name Component component return Conversation Propagation component get Name 
package org jboss seam core import static org jboss seam Scope Type import static org jboss seam annotations Install import java util Array List import java util Collections import java util List import java util List Iterator import org jboss seam Scope Type import org jboss seam annotations Factory import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam web Session Factory for the breadcrumbs a stack with all parent conversations of the current conversation author Gavin King Scope Scope Type Name org jboss seam core conversation Stack Factory Install precedence Bypass Interceptors public class Conversation Stack protected List Conversation Entry create Conversation Entry Stack Conversation Entries conversation Entries Conversation Entries get Instance if conversation Entries null return Collections else Conversation Entry current Conversation Entry Manager instance get Current Conversation Entry if current Conversation Entry null return Collections else List String id Stack current Conversation Entry get Conversation Id Stack List Conversation Entry conversation Entry Stack new Array List Conversation Entry conversation Entries size List Iterator String ids id Stack list Iterator id Stack size while ids has Previous Conversation Entry entry conversation Entries get Conversation Entry ids previous if entry is Displayable Session instance is Invalid conversation Entry Stack add entry return conversation Entry Stack Factory value org jboss seam core conversation Stack auto Create true scope public List Conversation Entry get Conversation Entry Stack return create Conversation Entry Stack 
package org jboss seam remoting wrapper Thrown for an invalid conversion author Shane Bryzak public class Conversion Exception extends Exception private static final long serial Version public Conversion Exception String message super message public Conversion Exception String message Throwable cause super message cause 
package org jboss seam util import java io Serializable import java lang reflect Array import java lang reflect Type import java math Big Decimal import java math Big Integer import java util Array List import java util Hash Map import java util Hash Set import java util List import java util Map import java util Properties import java util Set Suppress Warnings serial public class Conversions private static final String private static final char private static Map Class Converter converters new Hash Map Class Converter put String class new String Converter put Boolean class new Boolean Converter put boolean class new Boolean Converter put Integer class new Integer Converter put int class new Integer Converter put Long class new Long Converter put long class new Long Converter put Float class new Float Converter put float class new Float Converter put Double class new Double Converter put double class new Double Converter put Character class new Character Converter put char class new Character Converter put String class new String Array Converter put Set class new Set Converter put List class new List Converter put Map class new Map Converter put Properties class new Properties Converter put Date class new Date Time Converter put Short class new Short Converter put Byte class new Byte Converter put Enum class new Enum Converter put Big Integer class new Big Integer Converter put Big Decimal class new Big Decimal Converter put Class class new Class Converter public static void put Converter Class type Converter converter converters put type converter public static Converter get Converter Class clazz Converter converter converters get clazz if converter null clazz null clazz is Enum converter converters get Enum class if converter null throw new Illegal Argument Exception No converter for type clazz get Name return converter public static interface Converter public to Object Property Value value Type type public static class Boolean Converter implements Converter Boolean public Boolean to Object Property Value value Type type return Boolean value Of value get Single Value public static class Integer Converter implements Converter Integer public Integer to Object Property Value value Type type return Integer value Of value get Single Value public static class Long Converter implements Converter Long public Long to Object Property Value value Type type return Long value Of value get Single Value public static class Float Converter implements Converter Float public Float to Object Property Value value Type type return Float value Of value get Single Value public static class Double Converter implements Converter Double public Double to Object Property Value value Type type return Double value Of value get Single Value public static class Character Converter implements Converter Character public Character to Object Property Value value Type type return value get Single Value char At public static class String Converter implements Converter String public String to Object Property Value value Type type return value get Single Value public static class Big Decimal Converter implements Converter Big Decimal public Big Decimal to Object Property Value value Type type return new Big Decimal value get Single Value public static class Big Integer Converter implements Converter Big Integer public Big Integer to Object Property Value value Type type return new Big Integer value get Single Value public static class Enum Converter implements Converter Enum public Enum to Object Property Value value Type type return Enum value Of Class Enum type value get Single Value public static class String Array Converter implements Converter String public String to Object Property Value values Type type return values get Multi Values public static class Array Converter implements Converter public Object to Object Property Value values Type type String strings values get Multi Values Class element Type Class type get Component Type Object objects Array new Instance element Type strings length Converter element Converter converters get element Type for int i i strings length i Object element element Converter to Object new Flat Property Value strings i element Type Array set objects i element return objects public static class Set Converter implements Converter Set public Set to Object Property Value values Type type String strings values get Multi Values Class element Type Reflections get Collection Element Type type Set set new Hash Set strings length Converter element Converter converters get element Type for int i i strings length i Object element element Converter to Object new Flat Property Value strings i element Type set add element return set public static class List Converter implements Converter List public List to Object Property Value values Type type String strings values get Multi Values Class element Type Reflections get Collection Element Type type List list new Array List strings length Converter element Converter converters get element Type for int i i strings length i list add get Element Value element Type element Converter strings i return list private static Object get Element Value Class element Type Converter element Converter String string Property Value property Value new Flat Property Value string if property Value is Expression throw new Illegal Argument Exception No expressions allowed here if element Converter null throw new Illegal Argument Exception No converter for element type element Type get Name return element Converter to Object property Value element Type public static class Map Converter implements Converter Map public Map to Object Property Value values Type type Map String String keyed Values values get Keyed Values Class element Type Reflections get Collection Element Type type Map map new Hash Map keyed Values size Converter element Converter converters get element Type for Map Entry String String me keyed Values entry Set map put me get Key get Element Value element Type element Converter me get Value return map public static class Properties Converter implements Converter Properties public Properties to Object Property Value values Type type Map String String keyed Values values get Keyed Values Properties map new Properties Converter element Converter converters get String class for Map Entry String String me keyed Values entry Set String key me get Key Object element element Converter to Object new Flat Property Value me get Value String class map put key element return map public static class Class Converter implements Converter Class public Class to Object Property Value value Type type try return Reflections class For Name value get Single Value catch Class Not Found Exception cnfe throw new Illegal Argument Exception cnfe public static interface Property Value extends Serializable Map String String get Keyed Values String get Multi Values String get Single Value boolean is Expression boolean is Multi Valued boolean is Associative Valued Class get Type public static class Flat Property Value implements Property Value private String string public Flat Property Value String string if string null throw new Illegal Argument Exception null value this string string public String get Multi Values return Strings split string r n f t public String get Single Value return string public boolean is Expression boolean contains Expr false int idx string index Of if idx contains Expr true else while idx if string char At idx idx string index Of idx else contains Expr true break return contains Expr public boolean is Multi Valued return false public boolean is Associative Valued return false public Map String String get Keyed Values throw new Unsupported Operation Exception not a keyed property value Override public String to String return string public Class get Type return null public static class Multi Property Value implements Property Value private String strings private Class type public Multi Property Value String strings Class type if strings null throw new Illegal Argument Exception this strings strings this type type public String get Multi Values return strings public String get Single Value throw new Unsupported Operation Exception not a flat property value public Map String String get Keyed Values throw new Unsupported Operation Exception not a keyed property value public boolean is Multi Valued return true public boolean is Associative Valued return false public boolean is Expression return false Override public String to String return Strings to String Object strings public Class get Type return type public static class Associative Property Value implements Property Value private Map String String keyed Values private Class type public Associative Property Value Map String String keyed Values Class type if keyed Values null throw new Illegal Argument Exception this keyed Values keyed Values this type type public String get Multi Values throw new Unsupported Operation Exception not a multi valued property value public String get Single Value throw new Unsupported Operation Exception not a flat property value public Map String String get Keyed Values return keyed Values public boolean is Expression return false public boolean is Multi Valued return false public boolean is Associative Valued return true Override public String to String return keyed Values to String public Class get Type return type 
package org jboss seam remoting wrapper author Shane Bryzak public enum Conversion Score nomatch compatible exact private int score Conversion Score int score this score score public int get Score return score 
package org jboss seam annotations faces import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Allows a Seam component to act as a converter The annotated class must be a Seam component and must implement javax faces convert Converter author Gavin King Target Retention Documented public interface Converter The converter id Default to the component name String id default If specified register this component as the default converter for a type Class for Class default void class 
package org jboss seam ui converter import java util Array List import java util Collections import java util List import javax el Value Expression import javax faces component State Holder import javax faces component Component import javax faces component Component Base import javax faces component Value Holder import javax faces context Faces Context import javax faces convert Converter import javax faces convert Converter Exception This class provides a chainable converter for Any converter can be placed at the end of the chain converter that is placed higher up the chain should return Converter Chain if conversion has failed If the all converters run return Converter Chain an unconverted value will be returned converter can be placed in the chain with a priority the order in which converters with the same priority is run is not specified public class Converter Chain implements Converter State Holder public static final String org jboss seam ui Converter Chain continue This places the converter at the end of the chain No garuntee is made about the order converters which are placed on the queue with this priority will be run public static final int Integer This places the converter at the head of the chain No garuntee is made about the order converters which are placed on the queue with this priority will be run public static final int private List Prioritizable Converter converters private boolean dirty public Converter Chain Priority Queue would be nice but has issues serializing that converters new Array List Prioritizable Converter Set up a Converter Chain for this component This replaces any existing converter with a Converter Chain with the existing Converter at the end of the chain param component public Converter Chain Component component this if component instanceof Value Holder Value Holder value Holder Value Holder component if value Holder get Converter instanceof Converter Chain Value Expression converter Value Expression component get Value Expression converter if converter Value Expression null add Converter To Chain converter Value Expression else if value Holder get Converter null add Converter To Chain value Holder get Converter else Value Expression value Expression component get Value Expression value Faces Context faces Context Faces Context get Current Instance if value Expression null Class type value Expression get Type faces Context get Context if type null Converter converter faces Context get Application create Converter type if converter null add Converter To Chain converter value Holder set Converter this public Object get As Object Faces Context context Component component String value throws Converter Exception Object output value for Converter converter get Converters Object result converter get As Object context component value if equals result output result break return output public String get As String Faces Context context Component component Object value throws Converter Exception String output value null null value to String for Converter converter get Converters String result converter get As String context component value if equals result output result break return output Add a converter to the end of the chain public boolean add Converter To Chain Converter c return add Converter To Chain c Add a converter to the end of the chain public boolean add Converter To Chain Value Expression c return add Converter To Chain c Add a converter to the chain with a defined priority public boolean add Converter To Chain Converter c int priority if c null dirty true return converters add new Prioritizable Converter c priority else return false Add a converter to the chain with a defined priority public boolean add Converter To Chain Value Expression c int priority if c null dirty true return converters add new Prioritizable Converter c priority else return false private boolean transient public boolean is Transient return transient public void restore State Faces Context context Object state Object values Object state converters List Prioritizable Converter Component Base restore Attached State context values dirty true public Object save State Faces Context context Object values new Object values Component Base save Attached State context converters return values public void set Transient boolean new Transient Value this transient new Transient Value private List Prioritizable Converter get Converters if dirty Collections sort converters return converters public boolean contains Converter Type Converter converter Improve this for Converter c converters if c get Class equals converter get Class return true return false 
package org jboss seam maven helper import java io File import java io File Not Found Exception import java util Array List import java util List import java util Scanner import org apache maven plugin logging Log import org w c dom Element Generates taglib descriptor for all Faces Converter annotated classes author Rafael Benevides https community jboss org people rafabene author Marek Novotny https community jboss org people mana public class Converter Generator private List File converter Sources new Array List File private Log log private String source Directory private String target Directory public Converter Generator String source Directory String target Directory Log log this source Directory source Directory this target Directory target Directory this log log public void add File File file throws File Not Found Exception if file Is Converter Source file converter Sources add file private boolean file Is Converter Source File file throws File Not Found Exception if file get Name ends With java Scanner scanner new Scanner file String find scanner find Within Horizon Faces Converter if find null log info Identified file get Name as Converter source code return true return false public void generate Converters throws Exception log info Generating Converters Generator xml Generator new Generator log File out new File target Directory generated sources main resources s taglib xml List Element tags To Add new Array List Element for File source converter Sources String class From Source source get Absolute Path replace source Directory replace File separator Char replace java substring File faces Config find Correspondent Config class From Source if faces Config null Element tag xml Generator get Facelets Tag Element From Facesconfig faces Config faces Config get Name replace xml converter tags To Add add tag xml Generator update File out tags To Add private File find Correspondent Config String class From Source throws File Not Found Exception String where To Find source Directory replace java config component log debug Searching correspondent config for class From Source in where To Find File component Folder new File where To Find for File f component Folder list Files Search only files if f is File Scanner scanner new Scanner f String find scanner find Within Horizon class From Source if find null return f return null 
package org jboss seam test integration import javax persistence Entity import javax persistence Generated Value import javax persistence Id author Pete Muir Entity public class Country Id Generated Value private Integer id private String name return the id public Integer get Id return this id param id the id to set public void set Id Integer id this id id return the name public String get Name return this name param name the name to set public void set Name String name this name name 
package org jboss seam test integration import org jboss seam annotations Name import org jboss seam framework Entity Home author Pete Muir Name country Home public class Country Home extends Entity Home Country 
Id Create java gavin package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Alternative to javax annotations Post Construct for use in a pre Java environment Designates a create method that is called after instantiation of a component author Gavin King Target Retention Documented Inherited public interface Create 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations bpm import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Marks a method creating a j link org jbpm graph exe Process Instance process instance unless the method throws an exception or returns a null outcome author Steve Ebersole Target Retention Documented public interface Create Process The name of the link org jbpm graph def Process Definition from which to create the link org jbpm graph exe Process Instance String definition An expression that evaluates to the process business key return an expression or an empty string to indicate a null key String process Key default 
package org jboss seam security import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Exception import java io Serializable import javax security auth callback Callback import javax security auth callback Callback Handler import javax security auth callback Name Callback import javax security auth callback Password Callback import javax security auth callback Unsupported Callback Exception import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Events import org jboss seam log Log Provider import org jboss seam log Logging Name org jboss seam security credentials Scope Install precedence Bypass Interceptors public class Credentials implements Serializable public static final String org jboss seam security init Credentials public static final String org jboss seam security credentials Updated private static final Log Provider log Logging get Log Provider Credentials class private String username private String password private boolean invalid false private boolean initialized public boolean is Initialized return initialized public void set Initialized boolean initialized this initialized initialized public String get Username if is Initialized Events exists set Initialized true Events instance raise Event this return username public void set Username String username if this username username this username null this username equals username this username username invalid false if Events exists Events instance raise Event public String get Password return password public void set Password String password if this password password this password null this password equals password this password password invalid false if Events exists Events instance raise Event public boolean is Set return get Username null password null public boolean is Invalid return invalid public void invalidate invalid true public void clear username null password null Creates a callback handler that can handle a standard username password callback using the username and password properties public Callback Handler create Callback Handler return new Callback Handler public void handle Callback callbacks throws Exception Unsupported Callback Exception for int i i callbacks length i if callbacks i instanceof Name Callback Name Callback callbacks i set Name get Username else if callbacks i instanceof Password Callback Password Callback callbacks i set Password get Password null get Password to Char Array null else log warn Unsupported callback callbacks i 
package org jboss seam async import java util Date cron schedule for a timed event executed by the Quartz Cron Trigger author Michael Yuan public class Cron Schedule extends Schedule private String cron String get Cron return cron param duration the delay before the first event occurs param cron the unix cron string to control how the events are repeated public Cron Schedule Long duration String cron super duration this cron cron param expiration the datetime at which the first event occurs param cron the unix cron string to control how the events are repeated public Cron Schedule Date expiration String cron super expiration this cron cron Cron Schedule Long duration Date expiration String cron Date final Expiration super duration expiration final Expiration this cron cron 
package org jboss seam excel css Constant names for attributes author Nicklas Karlsson nickarls gmail com public class Names public static final String xls font family public static final String xls font size public static final String xls font color public static final String xls font italic public static final String xls font script style public static final String xls font struck out public static final String xls font underline style public static final String xls font bold public static final String xls font public static final String xls background pattern public static final String xls background color public static final String xls background public static final String xls border left color public static final String xls border left line style public static final String xls border left public static final String xls border top color public static final String xls border top line style public static final String xls border top public static final String xls border right color public static final String xls border right line style public static final String xls border right public static final String xls border bottom color public static final String xls border bottom line style public static final String xls border bottom public static final String xls border public static final String xls alignment public static final String xls format mask public static final String xls indentation public static final String xls locked public static final String xls orientation public static final String xls shrink to fit public static final String xls vertical alignment public static final String xls wrap public static final String xls force type public static final String xls column width public static final String xls column widths public static final String xls column autosize public static final String xls column hidden public static final String xls column export 
package org jboss seam excel css import java io Buffered Reader import java io Exception import java io Input Stream import java io Input Stream Reader import java net Malformed Exception import java net import java util Array List import java util Collections import java util Hash Map import java util List import java util Map import javax faces component Component import org apache commons beanutils Property Utils import org jboss seam core Interpolator import org jboss seam excel Excel Workbook Exception import org jboss seam excel ui Link import org jboss seam log Log import org jboss seam log Logging parser for the author Nicklas Karlsson nickarls gmail com public class Parser Where to look for the style private static final String style Where to look for the style class private static final String style Class What separates multiple style class references private static final String What starts a rule block in a file private static final String What ends a rule block in a file private static final String The style classes that have been read in from e link referenced mapped on style class name private Map String Style Map defined Style Classes new Hash Map String Style Map The registered property builders mapped on attribute name private Map String Property Builder property Builders new Hash Map String Property Builder cache of previously parsed css mapped on component private Map Component Style Map cell Style Cache new Hash Map Component Style Map private Log log Logging get Log Parser class Constructor initializes the property builders public Parser init Property Builders Constructor with stylesheets param stylesheets The list of referenced stylesheets in Link elements throws Malformed Exception If the was bad throws Exception If the could not be read public Parser List Link stylesheets throws Malformed Exception Exception init Property Builders load Stylesheets stylesheets Loads stylesheets merging by class name param stylesheets The stylesheets to read merge throws Malformed Exception If the was bad throws Exception If the could not be read private void load Stylesheets List Link stylesheets throws Malformed Exception Exception for Link stylesheet stylesheets defined Style Classes put All parse Stylesheet stylesheet get Registers the property builders private void init Property Builders property Builders put Names new Property Builders Font Family property Builders put Names new Property Builders Font Size property Builders put Names new Property Builders Font Color property Builders put Names new Property Builders Font Italic property Builders put Names new Property Builders Font Script Style property Builders put Names new Property Builders Font Struck Out property Builders put Names new Property Builders Font Underline Style property Builders put Names new Property Builders Font Bold property Builders put Names new Property Builders Font Shorthand property Builders put Names new Property Builders Background Pattern property Builders put Names new Property Builders Background Color property Builders put Names new Property Builders Background Shorthand property Builders put Names new Property Builders Border Left Color property Builders put Names new Property Builders Border Left Line Style property Builders put Names new Property Builders Border Left Shorthand property Builders put Names new Property Builders Border Top Color property Builders put Names new Property Builders Border Top Line Style property Builders put Names new Property Builders Border Top Shorthand property Builders put Names new Property Builders Border Right Color property Builders put Names new Property Builders Border Right Line Style property Builders put Names new Property Builders Border Right Shorthand property Builders put Names new Property Builders Border Bottom Color property Builders put Names new Property Builders Border Bottom Line Style property Builders put Names new Property Builders Border Bottom Shorthand property Builders put Names new Property Builders Border Shorthand property Builders put Names new Property Builders Format Mask property Builders put Names new Property Builders Alignment property Builders put Names new Property Builders Indentation property Builders put Names new Property Builders Orientation property Builders put Names new Property Builders Locked property Builders put Names new Property Builders Shrink To Fit property Builders put Names new Property Builders Wrap property Builders put Names new Property Builders Verical Alignment property Builders put Names new Property Builders Column Width property Builders put Names new Property Builders Column Auto Size property Builders put Names new Property Builders Column Hidden property Builders put Names new Property Builders Column Export property Builders put Names new Property Builders Column Widths property Builders put Names new Property Builders Force Type Reads data from an to a String param url The to read return The read data as a String throws Exception If the stream could not be read private static String read Input Stream in throws Exception Buffered Reader reader new Buffered Reader new Input Stream Reader in String Buffer buffer new String Buffer String line while line reader read Line null buffer append line reader close return buffer to String Parses a style sheet Really crude Assumes data is nicely formatted on one line per entry param url String The to read return map of style class names mapped to Style Maps throws Malformed Exception throws Exception private Map String Style Map parse Stylesheet String url String throws Malformed Exception Exception Map String Style Map style Classes new Hash Map String Style Map Input Stream css Stream null if url String index Of css Stream get Class get Resource As Stream url String else css Stream new url String open Stream String css read css Stream to Lower Case int first Brace int second Brace while equals css first Brace css index Of if first Brace second Brace css index Of first Brace if first Brace second Brace first Brace second Brace String style Name css substring first Brace trim if style Name starts With style Name style Name substring String style String css substring first Brace second Brace trim Style Map style Map Style String Parser of style String property Builders parse style Classes put style Name style Map css css substring second Brace else css return style Classes Gets style from a component param component The component to examine return null if not found otherwise style string public static String get Style Component component return get Style Property component Gets style class from a component param component The component to examine return null if not found otherwise style class es string public static String get Style Class Component component return get Style Property component Reads a property from a component param component The component to examine param field The field to read return The value from the field private static String get Style Property Component component String field try return String Property Utils get Property component field catch No Such Method Exception e No panic no property return null catch Exception e String message Interpolator instance interpolate Could not read field of bean field component get Id throw new Excel Workbook Exception message e Cascades on parents collecting them into list param component The component to examine param style Maps The list of collected style maps return The list of style maps private List Style Map cascade Style Map Component component List Style Map style Maps style Maps add get Style Map component if component get Parent null cascade Style Map component get Parent style Maps return style Maps Gets the cascaded style map for a component Recurses on parents collecting style maps The reverses the list and merges the styles param component The component to examine return The merged style map public Style Map get Cascaded Style Map Component component List Style Map style Maps cascade Style Map component new Array List Style Map Collections reverse style Maps Style Map cascaded Style Map new Style Map for Style Map style Map style Maps cascaded Style Map put All style Map return cascaded Style Map Gets a style map for a component from cache if available param component The component to examine return The style map of the component private Style Map get Style Map Component component if cell Style Cache contains Key component return cell Style Cache get component Style Map style Map new Style Map String component Style Class get Style Property component if component Style Class null String style Classes Style String Parser trim Array component Style Class split for String style Class style Classes if defined Style Classes contains Key style Class log warn Uknown style class style Class continue style Map put All defined Style Classes get style Class String component Style get Style Property component if component Style null style Map put All Style String Parser of component Style property Builders parse cell Style Cache put component style Map return style Map private Style Map parse Style String String style String Style Map style Map new Style Map String styles trim Array style String split for String style styles int breakpoint style index Of if breakpoint log warn Style component should be of form key value style continue String style Name style substring breakpoint to Lower Case trim if property Builders contains Key style Name log warn No property builder unknown style for property style Name continue Property Builder property Builder property Builders get style Name String style Value style substring breakpoint String style Values trim Array style Value trim split style Map put All property Builder parse Property style Name style Values return style Map Setter for stylesheets Loads them also param stylesheets The stylesheets to load throws Malformed Exception If the is bad throws Exception If the can not be read public void set Stylesheets List Link stylesheets throws Malformed Exception Exception load Stylesheets stylesheets 
package org jboss seam excel csv import java util Hash Map import java util List import java util Map import org jboss seam document Document Data import org jboss seam document Document Data Document Type import org jboss seam excel Excel Workbook import org jboss seam excel Excel Workbook Exception import org jboss seam excel Worksheet Item import org jboss seam excel ui Cell import org jboss seam excel ui Column import org jboss seam excel ui Hyperlink import org jboss seam excel ui Link import org jboss seam excel ui Workbook import org jboss seam excel ui Worksheet import org jboss seam excel ui command Command import org jboss seam log Log import org jboss seam log Logging author Daniel Roth danielc roth gmail com public class Csv Excel Workbook implements Excel Workbook private int current Column private int current Row private int max Row private int max Column private int sheet Start Row private final static String private final static String private final static String n private final static String private Map String String table null private String sheet Name null private Log log Logging get Log get Class protected String get Column Delimeter Replacement return protected String get Column Delimeter return protected String get Line Break return protected String get Column Separator return public void create Workbook Workbook ui Workbook throws Excel Workbook Exception table new Hash Map String String public void create Or Select Worksheet Worksheet ui Worksheet create Or Select Worksheet ui Worksheet get Name ui Worksheet get Start Row ui Worksheet get Start Column private void create Or Select Worksheet String worksheet Name Integer start Row Integer start Column if sheet Name null sheet Name equals worksheet Name throw new Runtime Exception You can not export multiple sheet workbooks to excel sheet Name worksheet Name current Column start Column null start Column current Row start Row null start Row sheet Start Row current Row public byte get Bytes String Buffer buffer new String Buffer for int i i max Row i for int j j max Column j String value table get hash i j value value null value if value contains get Column Delimeter value value replace get Column Delimeter get Column Delimeter Replacement buffer append get Column Delimeter append value append get Column Delimeter append get Column Separator buffer delete Char At buffer length buffer append get Line Break return buffer to String get Bytes public void next Column current Column current Row sheet Start Row public Document Type get Document Type return new Document Data Document Type csv text csv public void add Item Worksheet Item item switch item get Item Type case cell add Cell Cell item break case hyperlink add Hyper Link Hyperlink item break case image log trace You can not export an image to new Object break private void add Cell Cell cell int row cell get Row null current Row cell get Row int column cell get Column null current Column cell get Column add Csv Cell column row String value Of cell get Value if cell get Column null cell get Row null current Row private void add Hyper Link Hyperlink link int row link get Start Row null current Row link get Start Row int column link get Start Column null current Column link get Start Column if link get End Column null link get End Row null log warn end Column end Row is not supported by csv exporter new Object add Csv Cell column row String value Of link get private void add Csv Cell int column int row String value throws Excel Workbook Exception table put hash row column value max Row row max Row row max Row max Column column max Column column max Column private String hash int row int column String Buffer buffer new String Buffer buffer append row append get Column Separator append column return buffer to String public void apply Worksheet Settings Worksheet ui Worksheet log trace apply Worksheet Settings is not supported by exporter new Object public void apply Column Settings Column ui Column log trace apply Column Settings is not supported by exporter new Object public void execute Command Command command log trace execute Command is not supported by exporter new Object public void add Worksheet Footer Worksheet Item item int colspan if colspan log warn footer colspan are not supported by exporter new Object add Item item public void add Worksheet Header Worksheet Item item int colspan if colspan log warn header colspan are not supported by exporter new Object add Item item public void set Stylesheets List Link stylesheets log trace style Sheets are not supported by exporter new Object 
package org jboss seam framework import static org jboss seam annotations Install import java util Date import org jboss seam Scope Type import org jboss seam annotations Auto Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap The current date as an instance of java util Date author Gavin King Name org jboss seam framework current Date Install precedence Scope Scope Type Auto Create public class Current Date Unwrap public Date get Current Date return new java sql Date System current Time Millis 
package org jboss seam framework import static org jboss seam annotations Install import java util Date import org jboss seam Scope Type import org jboss seam annotations Auto Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap The current date and time as an instance of java util Date author Gavin King Name org jboss seam framework current Datetime Install precedence Scope Scope Type Auto Create public class Current Datetime Unwrap public Date get Current Datetime return new java sql Timestamp System current Time Millis 
package org jboss seam framework import static org jboss seam annotations Install import java util Date import org jboss seam Scope Type import org jboss seam annotations Auto Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap The current time as an instance of java util Date author Gavin King Name org jboss seam framework current Time Install precedence Scope Scope Type Auto Create public class Current Time Unwrap public Date get Current Time return new java sql Time System current Time Millis 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import javax persistence import javax validation constraints import org hibernate validator constraints Email import org jboss seam annotations Name Entity Name customer Discriminator Value customer public class Customer extends User implements Serializable private static final long serial Version public static String cctypes Master Card Visa Discover Amex Dell Preferred String address String address String city String state String zip String email String phone Integer credit Card Type String credit Card int cc Month int cc Year public Customer Column name length Not Null public String get Address return address public void set Address String address this address address Column name length Not Null public String get Address return address public void set Address String address this address address Column name length Not Null public String get City return city public void set City String city this city city Column name length Not Null Size min max public String get State return state public void set State String state this state state Column name length Size min max Pattern regexp message not a valid zipcode validator zip Not Null public String get Zip return zip public void set Zip String zip this zip zip Column name length Email public String get Email return email public void set Email String email this email email Column name length public String get Phone return phone public void set Phone String phone this phone phone Column name public Integer get Credit Card Type return credit Card Type public void set Credit Card Type Integer type this credit Card Type type Transient public String get Credit Card Type String if credit Card Type credit Card Type cctypes length return return cctypes credit Card Type Column name length public String get Credit Card return credit Card public void set Credit Card String credit Card this credit Card credit Card Column name length public int get Credit Card Month return cc Month public void set Credit Card Month int cc Month this cc Month cc Month Column name length public int get Credit Card Year return cc Year public void set Credit Card Year int cc Year this cc Year cc Year Transient public String get Credit Card Expiration return cc Month cc Year Override public String to String return Customer get Id user Name 
package org jboss seam test unit import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Factory Name cyclic Bar Scope Scope Type public class Cyclic Bar In Cyclic Foo cyclic Foo Factory value cyclic Foo Bar auto Create true public String provide Cyclic Foo Bar throws Exception return cyclic Foo get Name bar 
package org jboss seam import java lang reflect Method import java util Array List import java util List import org jboss seam core Bijection Interceptor An exception that is thrown when link Bijection Interceptor detects that a component s dependencies can not be injected due to a cyclic dependency As the exception is passed up the stack the call sequence is recorded so that a useful exception message can be constructed author Matt Drees public class Cyclic Dependency Exception extends Illegal State Exception stores the invocations in reverse call order private final List String invocations new Array List String private String tail Component Name private boolean cycle Complete Records this invocation s component name and method to be displayed in link get Message unless this invocation is not part of the detected cycle This method will be successively called as the exception is propagated up the stack param component Name param method public void add Invocation String component Name Method method if cycle Complete return if invocations is Empty tail Component Name component Name else if tail Component Name equals component Name cycle Complete true invocations add create Invocation Label component Name method returns e g foo do Something private String create Invocation Label String component Name Method method String invocation Label component Name method get Name int i for Class parameter Type method get Parameter Types invocation Label parameter Type get Simple Name if i method get Parameter Types length invocation Label i invocation Label return invocation Label Override public String get Message if cycle Complete return Cyclic dependency found else String message Injection into tail Component Name resulted in a dependency cycle requiring the invocation of invocations get The complete cycle for int i invocations size i i message invocations get i if i message return message 
package org jboss seam test unit import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope Name cyclic Foo Scope Scope Type public class Cyclic Foo In String cyclic Foo Bar from Cyclic Bar provide Cyclic Foo Bar public String get Name throws Exception return foo public String get Foo Bar throws Exception return cyclic Foo Bar 
package org jboss seam example pdf import java util Hash Map import java util Map public class Data String id this to String boolean visible true boolean visible In Legend true String series Paint String series Fill Paint String series Outline Paint String series Outline Stroke String series Stroke Map String Number values new Hash Map String Number public String get Id return id public void set Id String id this id id public Map String Number get Values return values public void add Value String key Number value values put key value public boolean is Visible In Legend return visible In Legend public void set Visible In Legend boolean visible In Legend this visible In Legend visible In Legend public boolean is Visible return visible public void set Visible boolean visible this visible visible public String get Series Fill Paint return series Fill Paint public void set Series Fill Paint String series Fill Paint this series Fill Paint series Fill Paint public String get Series Outline Paint return series Outline Paint public void set Series Outline Paint String series Outline Paint this series Outline Paint series Outline Paint public String get Series Outline Stroke return series Outline Stroke public void set Series Outline Stroke String series Outline Stroke this series Outline Stroke series Outline Stroke public String get Series Paint return series Paint public void set Series Paint String series Paint this series Paint series Paint public String get Series Stroke return series Stroke public void set Series Stroke String series Stroke this series Stroke series Stroke 
package org jboss seam databinding import java lang annotation Annotation import org jboss seam Scope Type Allows some bound type to be exposed to the user interface via a wrapper type author Gavin King param Out the annotation type param Type the bound type param Wrapper Type the wrapper type public interface Data Binder Out extends Annotation Type Wrapper Type String get Variable Name Out out Scope Type get Variable Scope Out out Wrapper Type wrap Out out Type value Type get Wrapped Data Out out Wrapper Type wrapper Object get Selection Out out Wrapper Type wrapper boolean is Dirty Out out Wrapper Type wrapper Type value 
package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam databinding Data Binder Meta annotation that specifies that an annotation is a databinding annotation ie that it results in outjection of a wrapped representation of the annotated component attribute value see org jboss seam databinding Data Binder author Gavin King Target Retention Documented public interface Data Binder Class Class extends Data Binder value 
Id Data Model java gavin package org jboss seam annotations datamodel import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam Scope Type import org jboss seam annotations Data Binder Class import org jboss seam databinding Data Model Binder Outjects a collection to the same scope as the owning component or to the scope in the case of a stateless component after wrapping as a Data Model a List as a List Data Model a Map as a Map Data Model a Set as a Set Data Model an array as an Array Data Model Note that the List Map Set or array will be re wrapped and re outjected each time the current component value is different to the value held by the context variable as determined by calling equals on the underlying collection author Gavin King see org jboss seam jsf List Data Model see org jboss seam jsf Map Data Model see org jboss seam jsf Set Data Model see org jboss seam jsf Array Data Model Target Retention Documented Data Binder Class Data Model Binder class public interface Data Model The context variable name Defaults to the name of the annotated field or getter method String value default Specifies the scope to outject the Data Model to If no scope is explicitly specified the scope of the component with the Data Model attribute is used But if the component scope is the scope is used return Scope Type or Scope Type Scope Type scope default Scope Type 
package org jboss seam databinding import java util Map import org jboss seam Scope Type import org jboss seam annotations datamodel Data Model import org jboss seam faces Data Models Exposes a List array Map or Set to the as a Data Model author Gavin King public class Data Model Binder implements Data Binder Data Model Object javax faces model Data Model public String get Variable Name Data Model out return out value public Scope Type get Variable Scope Data Model out return out scope public javax faces model Data Model wrap Data Model out Object value return Data Models instance get Data Model value public Object get Wrapped Data Data Model out javax faces model Data Model wrapper return wrapper get Wrapped Data public Object get Selection Data Model out javax faces model Data Model wrapper if wrapper get Row Count wrapper get Row Index wrapper get Row Index wrapper get Row Count return null else Object row Data wrapper get Row Data if row Data instanceof Map Entry return Map Entry row Data get Value else return row Data public boolean is Dirty Data Model out javax faces model Data Model wrapper Object value return get Wrapped Data out wrapper equals value 
package org jboss seam databinding import java util Map import javax faces model Data Model import org jboss seam annotations datamodel Data Model Selection Index Extracts the selected index the row index or the key of a map from a Data Model author Gavin King public class Data Model Index Selector implements Data Selector Data Model Selection Index Data Model public String get Variable Name Data Model Selection Index in return in value public Object get Selection Data Model Selection Index in Data Model wrapper if wrapper get Row Count wrapper get Row Index return null else Object row Data wrapper get Row Data if row Data instanceof Map Entry return Map Entry row Data get Key else return wrapper get Row Index 
package org jboss seam faces import static org jboss seam Scope Type import static org jboss seam annotations Install import java util List import java util Map import java util Set import javax faces model Data Model import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam framework Query import org jboss seam jsf Array Data Model import org jboss seam jsf List Data Model import org jboss seam jsf Map Data Model import org jboss seam jsf Set Data Model Wraps a collection as a link Data Model May be overridden and extended if you do n t like the built in collections which are supported list map set array author pmuir Name org jboss seam faces data Models Install precedence class Dependencies javax faces context Faces Context Scope Bypass Interceptors public class Data Models Wrap the value in a Data Model This implementation supports link List link Map link Set and arrays public Data Model get Data Model Object value if value instanceof List return new List Data Model List value else if value instanceof Object return new Array Data Model Object value else if value instanceof Map return new Map Data Model Map value else if value instanceof Set return new Set Data Model Set value else throw new Illegal Argument Exception unknown collection type value get Class Wrap the the Seam Framework link Query in a Data Model public Data Model get Data Model Query query return get Data Model query get Result List public static Data Models instance return Data Models Component get Instance Data Models class Scope Type 
Id Data Model Selection java gavin package org jboss seam annotations datamodel import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam annotations Data Selector Class import org jboss seam databinding Data Model Selector Injects the selected row data of a Data Model Intended for use with Data Model author Gavin King see Data Model Target Retention Documented Data Selector Class Data Model Selector class public interface Data Model Selection The context variable name of the Data Model Defaults to the name for the outjected Data Model if there is exactly one Data Model for the component String value default 
Id Data Model Selection Index java gavin package org jboss seam annotations datamodel import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam annotations Data Selector Class import org jboss seam databinding Data Model Index Selector Injects the selected row index of a List Data Model Map Data Model or Array Data Model Intended for use with Data Model author Gavin King see Data Model Target Retention Documented Data Selector Class Data Model Index Selector class public interface Data Model Selection Index The context variable name of the Data Model Defaults to the name for the outjected Data Model if there is exactly one Data Model for the component String value default 
package org jboss seam databinding import java util Map import javax faces model Data Model import org jboss seam annotations datamodel Data Model Selection Extracts the selected object the element or the value of a map from a Data Model author Gavin King public class Data Model Selector implements Data Selector Data Model Selection Data Model public String get Variable Name Data Model Selection in return in value public Object get Selection Data Model Selection in Data Model wrapper if wrapper get Row Count wrapper get Row Index return null else Object row Data wrapper get Row Data if row Data instanceof Map Entry return Map Entry row Data get Value else return row Data 
package org jboss seam databinding import java lang annotation Annotation Allows extraction of the selected item from some wrapper type author Gavin King param In the annotation type param Wrapper Type the wrapper type public interface Data Selector In extends Annotation Wrapper Type String get Variable Name In in Object get Selection In in Wrapper Type wrapper 
package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam databinding Data Selector Meta annotation that specifies that an annotation is a dataselection annotation ie that it results in injection of the selected item of some databound data see org jboss seam databinding Data Selector author Gavin King Target Retention Documented public interface Data Selector Class Class extends Data Selector value 
package org jboss seam faces import static org jboss seam annotations Install import java text Date Format import java text Simple Date Format import java util Date import java util Locale import java util Time Zone import javax faces component Component import javax faces context Faces Context import javax faces convert Converter Exception import org jboss seam Component import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations faces Converter import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam log Log import org jboss seam log Logging Provides a default converter for properties of type java util Date p This converter is provided to save a developer from having to specify a Date Time Converter on an input field or page parameter By default it assumes the type to be a date as opposed to a time or date plus time and uses the short input style adjusted to the Locale of the user For Locale the input pattern is mm yy However to comply with the year is changed from two digits to four e g mm yyyy p p It s possible to override the input pattern globally using component configuration Here is an example of changing the style to both and setting the date and time style to medium p pre org jboss seam faces date Converter type both org jboss seam faces date Converter date Style medium org jboss seam faces date Converter time Style medium pre p Alternatively a fixed pattern can be specified p pre org jboss seam faces date Converter pattern yyyy mm pre author Dan Allen Converter for Class Date class Name org jboss seam faces date Converter Install precedence class Dependencies javax faces context Faces Context Bypass Interceptors public class Date Converter extends javax faces convert Date Time Converter private Log log Logging get Log Date Converter class private static final String date private static final String short private static final String yy private static final String yyyy constructor is used to initialize converter to allow these values to be overridden using component properties public Date Converter super set Type set Date Style set Time Style default in case developer overrides type to be time or both Create public void create make this work if using both for type requires more analysis of time style if equals get Type equals get Date Style get Pattern null attempt to make the pattern compliant which it is n t by default Date Format date Format Date Format get Date Instance Date Format get Locale if date Format instanceof Simple Date Format set Pattern Simple Date Format date Format to Pattern replace required since the superclass may access the fields directly set Time Zone get Time Zone set Locale get Locale Override public Time Zone get Time Zone if Contexts is Application Context Active return org jboss seam international Time Zone instance else we do n t want to use s braindead default maybe in return Time Zone get Default Override public Locale get Locale if Contexts is Application Context Active return org jboss seam international Locale instance else return super get Locale Override public Object get As Object Faces Context context Component component String value throws Converter Exception if log is Debug Enabled log debug Converting string to date for client Id using Seam s built in date converter value component get Client Id context return super get As Object context component value Override public String get As String Faces Context context Component component Object value throws Converter Exception if log is Debug Enabled log debug Converting date to string for client Id using Seam s built in date converter value component get Client Id context return super get As String context component value public static javax faces convert Converter get Instance return javax faces convert Converter Component get Instance org jboss seam faces date Converter 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui converter import java util Time Zone import javax faces convert Faces Converter import org jboss seam contexts Contexts Extended Date Time Converter which set Timezone from Seam web application config author mnovotny Faces Converter org jboss seam ui Date Time Converter public class Date Time Converter extends javax faces convert Date Time Converter public Date Time Converter set Time Zone get Time Zone Override public Time Zone get Time Zone if Contexts is Application Context Active return org jboss seam international Time Zone instance else return Time Zone get Default 
package org jboss seam remoting wrapper import java io Exception import java io Output Stream import java lang reflect Type import java text Date Format import java text Parse Exception import java text Simple Date Format import java util Calendar import java util Date Handles date conversions author Shane Bryzak public class Date Wrapper extends Base Wrapper implements Wrapper private static final byte date get Bytes private static final byte date get Bytes private static final String yyyy Mdd Hmmss private Date Format get Date Format return new Simple Date Format public void marshal Output Stream out throws Exception out write if Date class is Assignable From value get Class out write get Date Format format value get Bytes else if Calendar class is Assignable From value get Class out write get Date Format format Calendar value get Time get Bytes out write public Object convert Type type throws Conversion Exception if type instanceof Class Date class is Assignable From Class type type equals Object class try value get Date Format parse element get String Value catch Parse Exception ex throw new Conversion Exception String format Date value s is not in a valid format element get String Value else if type instanceof Class Calendar class is Assignable From Class type try Calendar cal Calendar get Instance cal set Time get Date Format parse element get String Value value cal catch Parse Exception ex throw new Conversion Exception String format Date value s is not in a valid format element get String Value else throw new Conversion Exception String format Value s can not be converted to type s element get String Value type return value public Conversion Score conversion Score Class cls if Date class is Assignable From cls Calendar class is Assignable From cls return Conversion Score exact else if cls equals Object class return Conversion Score compatible else return Conversion Score nomatch 
package org jboss seam exception import org jboss seam contexts Contexts import org jboss seam faces Faces Manager import org jboss seam faces Redirect Exception import org jboss seam log Log Provider import org jboss seam log Logging Implements automagic redirection to the Seam debug page author Gavin King public class Debug Page Handler extends Exception Handler private static final Log Provider log Logging get Log Provider Debug Page Handler class Override public void handle Exception e throws Exception log debug redirecting to debug page e no need to be noisy Exception Filter already logs it org jboss seam faces Redirect redirect org jboss seam faces Redirect instance redirect set View Id debug xhtml Faces Manager manager Faces Manager instance manager before Redirect debug xhtml redirect set Parameter manager get Conversation Id Parameter manager get Current Conversation Id try redirect execute catch Redirect Exception re do nothing log debug could not redirect re Contexts get Conversation Context flush Override public boolean is Handler Exception e return true Override public String to String return Debug Page Handler 
package org jboss seam debug jsf import static org jboss seam annotations Install import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations intercept Bypass Interceptors import org jboss seam faces Faces Manager Name org jboss seam debug jsf debug Redirect Bypass Interceptors Install debug true precedence class Dependencies javax faces context Faces Context public class Debug Redirect private String view Id public String get View Id return view Id public void set View Id String view Id this view Id view Id public void execute Faces Manager instance redirect view Id null false 
package org jboss seam drools for setting the result of a decision from rules in a Drools decision handler public class Decision private String outcome public String get Outcome return outcome public void set Outcome String outcome this outcome outcome 
package org jboss seam ui handler import java io Exception import javax el Exception import javax faces Faces Exception import javax faces component Component import javax faces view facelets Component Config import javax faces view facelets Component Handler import javax faces view facelets Facelet Context Decorating handler author mnovotny public class Decorate Handler extends Component Handler private com sun faces facelets tag ui Decorate Handler delegate public Decorate Handler Component Config config super config if tag get Attributes get template null delegate new com sun faces facelets tag ui Decorate Handler config Override public void apply Next Handler Facelet Context context Component component throws Exception Faces Exception Exception if tag get Attributes get template null delegate apply context component else next Handler apply context component 
package org jboss seam ui renderkit import java io Exception import java util Hash Map import java util Map import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam contexts Context import org jboss seam contexts Contexts import org jboss seam ui component Decorate import org jboss seam ui component Decorate Aware import org jboss seam ui util Decoration import org jboss seam ui util import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui Decorate Renderer family org jboss seam ui Decorate Renderer public class Decorate Renderer Base extends Renderer Base Place the attributes you want to store away private Map String Object original Values new Hash Map The list of attributes in the event scope to store away String store Originals new String invalid required Override protected Class get Component Class return Decorate class private static void set Decorate Component component Decorate decorator if component instanceof Decorate Aware Decorate Aware component set Decorate decorator for Object child component get Children if child instanceof Component set Decorate Component child decorator Store away the attribute from the event context if it is set param names The list of context keys to store away param context The context to target private void store Original Values String names Context context for String name names if context is Set name original Values put name context get name Restores the state of the event context If the value is stored away it is restored It it was not in the map it was not in the context in the first place so clean up what we have placed there during this run param names The list of context keys to restore param context The context to target private void restore Original Values String names Context context for String name names if original Values contains Key name context set name original Values get name else context remove name Override protected void do Encode Begin Response Writer writer Faces Context context Component component throws Exception Decorate decorate Decorate component store Original Values store Originals Contexts get Event Context Contexts get Event Context set invalid Decoration has Message decorate context Contexts get Event Context set required Decoration has Required component context boolean has Message decorate has Message if decorate is Enclose writer start Element decorate get Element decorate if decorate get Style Class null writer write Attribute decorate get Style Class if decorate get Style null writer write Attribute decorate get Style writer write Attribute id decorate get Client Id context id Component around Decoration decorate get Decoration around Field Component around Invalid Decoration decorate get Decoration around Invalid Field if around Decoration null has Message set Decorate around Decoration decorate around Decoration encode Begin context if around Invalid Decoration null has Message set Decorate around Invalid Decoration decorate around Invalid Decoration encode Begin context Override protected void do Encode End Response Writer writer Faces Context context Component component throws Exception Decorate decorate Decorate component boolean has Message decorate has Message Component around Decoration decorate get Decoration around Field Component around Invalid Decoration decorate get Decoration around Invalid Field if around Decoration null has Message set Decorate around Decoration decorate around Decoration encode End context if around Invalid Decoration null has Message set Decorate around Invalid Decoration decorate around Invalid Decoration encode End context if decorate is Enclose context get Response Writer end Element decorate get Element restore Original Values store Originals Contexts get Event Context Override protected void do Encode Children Response Writer writer Faces Context context Component component throws Exception Decorate decorate Decorate component boolean has Message decorate has Message Component before Decoration decorate get Decoration before Field Component before Invalid Decoration decorate get Decoration before Invalid Field if before Decoration null has Message set Decorate before Decoration decorate render Child context before Decoration if before Invalid Decoration null has Message set Decorate before Invalid Decoration decorate render Child context before Invalid Decoration render Children context decorate Component after Decoration decorate get Decoration after Field Component after Invalid Decoration decorate get Decoration after Invalid Field if after Decoration null has Message set Decorate after Decoration decorate render Child context after Decoration if after Invalid Decoration null has Message set Decorate after Invalid Decoration decorate render Child context after Invalid Decoration Override public boolean get Renders Children return true 
package org jboss seam ui util import javax faces component Editable Value Holder import javax faces component Component import javax faces context Faces Context public class Decoration public static boolean has Message Component component Faces Context context If the component is n t to be rendered then ignore if component is Rendered return false if component instanceof Editable Value Holder If the component has failed validation then it s invalid if Editable Value Holder component is Valid return true If the component has a faces message attached return true enhance this to only consider and messages probably if context get Messages component get Client Id context has Next return true put this outside the if for Object child component get Children if child instanceof Component boolean message has Message Component child context if message return true return false public static boolean has Required Component component Faces Context context if component is Rendered return false if component instanceof Editable Value Holder if Editable Value Holder component is Required return true for Object child component get Children if child instanceof Component boolean required has Required Component child context if required return true return false depth first search for an Editable Value Holder public static Component get Editable Value Holder Component component for Object child component get Children if child instanceof Editable Value Holder Component evh Component child if evh is Rendered return evh else if child instanceof Component Component evh get Editable Value Holder Component child if evh null return evh return null public static Component get Decoration String name Component component Component dec component get Facet name if dec null return dec if component get Parent null return null return get Decoration name component get Parent 
package org jboss seam ui renderkit import static org jboss seam ui util import static org jboss seam ui util import static org jboss seam ui util import static org jboss seam ui util import static org jboss seam ui util import java io Exception import javax faces component Component import javax faces component Output import javax faces component View Root import javax faces context Faces Context import javax faces context Response Writer import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer author Pete Muir author sim Jsf Renderer type org jboss seam ui Default Action Renderer family org jboss seam ui Default Action Renderer public class Default Action Renderer Base extends Renderer Base public static final String org jboss seam ui Default Action private static Log Provider log Logging get Log Provider Default Action Renderer Base class Override protected void do Encode End Response Writer writer Faces Context context Component component throws Exception Component action Component component get Parent String action Component Id action Component get Client Id context Component form get Utils get Form action Component if form null log warn Must embed default action inside a form else String form Id form get Client Id context writer start Element component writer write Attribute writer write Attribute if action Component get Id starts With View Root log warn Must set an id for the default action source if form get Attributes contains Key if form get Attributes get equals component get Client Id context log warn Can only specify one default action per form else form get Attributes put component get Client Id context String function Body var keycode if window event keycode window event key Code else if event keycode event which else return true if keycode document get Element By Id action Component Id click return false else return true String function Code document forms form Id onkeypress new Function event function Body writer write function Code writer end Element script Override protected Class get Component Class return Output class 
package org jboss seam jmx import java lang reflect Method import javax management Instance Not Found Exception import javax management Attribute Not Found Exception import javax management Invalid Attribute Value Exception import javax management Bean Exception import javax management Reflection Exception import javax management Runtime Operations Exception import javax management Runtime Bean Exception import javax management Runtime Error Exception Default exception handler for Bean proxy author a href mailto juha jboss org Juha Lindfors a version Revision public class Default Exception Handler implements Proxy Exception Handler Instance Not Found Attribute Not Found and Invalid Attribute Value are not exceptions declared in the mgmt interface and therefore must be rethrown as runtime exceptions to avoid Undeclared Throwable exceptions on the client public Object handle Instance Not Found Proxy Context ctx Instance Not Found Exception e Method m Object args throws Exception throw new Runtime Proxy Exception Instance not found e to String public Object handle Attribute Not Found Proxy Context ctx Attribute Not Found Exception e Method m Object args throws Exception throw new Runtime Proxy Exception Attribute not found e to String public Object handle Invalid Attribute Value Proxy Context ctx Invalid Attribute Value Exception e Method m Object args throws Exception throw new Runtime Proxy Exception Invalid attribute value e to String public Object handle Bean Exception Proxy Context ctx Bean Exception e Method m Object args throws Exception assuming Bean Exception only wraps mgmt interface application exceptions therefore we can safely rethrow the target exception as its declared in the mgmt interface throw e get Target Exception public Object handle Reflection Exception Proxy Context ctx Reflection Exception e Method m Object args throws Exception use of reflection exception is inconsistent in the so the safest bet is to rethrow a runtime exception Exception target e get Target Exception if target instanceof Runtime Exception throw target else throw new Runtime Proxy Exception target to String public Object handle Runtime Operations Exception Proxy Context ctx Runtime Operations Exception e Method m Object args throws Exception target is always a runtime exception so its ok to throw it from here throw e get Target Exception public Object handle Runtime Bean Exception Proxy Context ctx Runtime Bean Exception e Method m Object args throws Exception target is always a runtime exception so its ok to throw it from here throw e get Target Exception public Object handle Runtime Error Proxy Context ctx Runtime Error Exception e Method m Object args throws Exception just unwrap and throw the actual error throw e get Target Error 
package org jboss seam jsf import java util Iterator import java util Map import javax el Context import javax faces application Application import javax faces application Faces Message import javax faces application Faces Message Severity import javax faces component View Root import javax faces context External Context import javax faces context Faces Context import javax faces context Response Stream import javax faces context Response Writer import javax faces render Render Kit Implementation of Faces Context that delegates all calls Further it exposes link set Current Instance Faces Context as a public method author Pete Muir public class Delegating Faces Context extends Faces Context private Faces Context delegate public Delegating Faces Context Faces Context delegate this delegate delegate Override public void add Message String client Id Faces Message message delegate add Message client Id message Override public Application get Application return delegate get Application public Map Object Object get Attributes return delegate get Attributes Override public Iterator get Client Ids With Messages return delegate get Client Ids With Messages Override public External Context get External Context return delegate get External Context Override public Severity get Maximum Severity return delegate get Maximum Severity Override public Iterator get Messages return delegate get Messages Override public Iterator get Messages String client Id return delegate get Messages client Id Override public Render Kit get Render Kit return delegate get Render Kit Override public boolean get Render Response return delegate get Render Response Override public boolean get Response Complete return delegate get Response Complete Override public Response Stream get Response Stream return delegate get Response Stream Override public Response Writer get Response Writer return delegate get Response Writer Override public View Root get View Root return delegate get View Root Override public void release delegate release Override public void render Response delegate render Response Override public void response Complete delegate response Complete Override public void set Response Stream Response Stream response Stream delegate set Response Stream response Stream Override public void set Response Writer Response Writer response Writer delegate set Response Writer response Writer Override public void set View Root View Root root delegate set View Root root public Faces Context get Delegate return delegate Override public Context get Context return delegate get Context public static void set Current Instance Faces Context context Faces Context set Current Instance context 
package org jboss seam util import java lang reflect Invocation Handler import java lang reflect Method import java util Arrays import java util Hash Map import java util Map import org jboss seam log Log import org jboss seam log Logging An Invocation Handler implementation that delegates method invocations to a specified object optionally allowing the method to be overridden locally author Shane Bryzak public class Delegating Invocation Handler implements Invocation Handler private static Log log Logging get Log Delegating Invocation Handler class private class Method Target public Method method public Object target public Method Target Object target Method method this target target this method method private Map Method Method Target method Cache new Hash Map Method Method Target private delegate public Delegating Invocation Handler delegate this delegate delegate public get Delegate return delegate public Object invoke Object proxy Method method Object args throws Throwable Method Target target method Cache get method if target null method Cache contains Key method synchronized method Cache if method Cache contains Key method try target new Method Target this get Class get Method method get Name method get Parameter Types catch No Such Method Exception ex Swallow this we ll try to find a matching method on the delegate if target null try target new Method Target delegate delegate get Class get Method method get Name method get Parameter Types catch No Such Method Exception ex Swallow this put a null entry in method Cache method Cache put method target else target method Cache get method if target null throw new Illegal State Exception Proxied session does not implement method method get Name with args args null null Arrays as List args if log is Trace Enabled log trace Delegating method method get Name with args args null null Arrays as List args return target method invoke target target args 
Copyright the original author or authors Licensed under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam mock import javax servlet Servlet Input Stream import java io Exception import java io Input Stream Delegating implementation of link javax servlet Servlet Input Stream p p Used by link Mock Http Servlet Request typically not directly used for testing application controllers author Juergen Hoeller see Mock Http Servlet Request since public class Delegating Servlet Input Stream extends Servlet Input Stream private final Input Stream source Stream Create a Delegating Servlet Input Stream for the given source stream param source Stream the source stream never code null code public Delegating Servlet Input Stream Input Stream source Stream this source Stream source Stream Return the underlying source stream never code null code public final Input Stream get Source Stream return this source Stream Override public int read throws Exception return this source Stream read Override public void close throws Exception super close this source Stream close 
Copyright the original author or authors Licensed under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam mock import javax servlet Servlet Output Stream import java io Exception import java io Output Stream Delegating implementation of link javax servlet Servlet Output Stream p p Used by link Mock Http Servlet Response typically not directly used for testing application controllers author Juergen Hoeller see Mock Http Servlet Response since public class Delegating Servlet Output Stream extends Servlet Output Stream private final Output Stream target Stream Create a Delegating Servlet Output Stream for the given target stream param target Stream the target stream never code null code public Delegating Servlet Output Stream Output Stream target Stream this target Stream target Stream Return the underlying target stream never code null code public final Output Stream get Target Stream return this target Stream public void write int b throws Exception this target Stream write b public void flush throws Exception super flush this target Stream flush public void close throws Exception super close this target Stream close 
package org jboss seam annotations security import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target author Shane Bryzak Target Documented Retention Inherited Permission Check public interface Delete Class value default void class 
package org jboss seam init import java util Comparator import java util Hash Map import java util Hash Set import java util Map import java util Set import java util Tree Set Evaluates component dependencies to determine which components are installed author Norman Richards public class Dependency Manager private Map String Set Component Descriptor component Descriptors private Set Component Descriptor current Test Set private Set Component Descriptor installed Set public Dependency Manager Map String Set Component Descriptor component Descriptors this component Descriptors new Hash Map String Set Component Descriptor component Descriptors public Set Component Descriptor installed Set compute Install Set return installed Set private static final Comparator Component Descriptor new Comparator Component Descriptor public int compare Component Descriptor x Component Descriptor y return x get Name compare To y get Name private void compute Install Set installed Set new Tree Set Component Descriptor Set String keys component Descriptors key Set for String key keys current Test Set new Hash Set Component Descriptor if try To Install key installed Set add All current Test Set current Test Set null private boolean try To Install String key Set Component Descriptor descriptors component Descriptors get key if descriptors null return false for Component Descriptor descriptor descriptors Set Component Descriptor saved new Hash Set Component Descriptor current Test Set if try To Install descriptor return true else current Test Set saved return false private boolean try To Install Component Descriptor descriptor if is In Install Set descriptor get Name return true current Test Set add descriptor return check All Dependencies descriptor private boolean check All Dependencies Component Descriptor descriptor return descriptor is Installed check Class Dependencies descriptor check Component Dependencies descriptor check Generic Dependencies descriptor private boolean check Component Dependencies Component Descriptor descriptor String dependencies descriptor get Dependencies if dependencies null return true for String component Name dependencies if try To Install component Name return false return true private boolean check Class Dependencies Component Descriptor descriptor String class Dependencies descriptor get Class Dependencies if class Dependencies null return true for String class Name class Dependencies try descriptor get Component Class get Class Loader load Class class Name catch Linkage Error e return false catch Exception e return false return true private boolean check Generic Dependencies Component Descriptor descriptor Class dependencies descriptor get Generic Dependencies if dependencies null return true for Class dependency dependencies if is In Install Set dependency Set String search List find Potential Components dependency if try To Satisfy Dependency Using dependency search List return false return true private boolean try To Satisfy Dependency Using Class dependency Set String search List for String component Name search List Set Component Descriptor saved new Hash Set Component Descriptor current Test Set the second check is important for edge case if try To Install component Name is In Install Set dependency return true else current Test Set saved return false private Set String find Potential Components Class dependency Set String keys new Hash Set String for String candidate Key component Descriptors key Set if component Might Satisfy candidate Key dependency keys add candidate Key return keys private boolean component Might Satisfy String candidate Key Class dependency for Component Descriptor descriptor component Descriptors get candidate Key if descriptor get Component Class equals dependency return true return false private boolean is In Install Set Class dependency for Component Descriptor descriptor current Test Set if dependency equals descriptor get Component Class return true for Component Descriptor descriptor installed Set if dependency equals descriptor get Component Class return true return false install set is already installed or the current working set private boolean is In Install Set String key for Component Descriptor descriptor current Test Set if key equals descriptor get Name return true for Component Descriptor descriptor installed Set if key equals descriptor get Name return true return false 
package org jboss seam init import java io Input Stream import java util Hash Map import java util List import java util Map import org dom j Document Exception import org dom j Element import org jboss seam Component Type import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Parser for ejb jar xml and orm xml deployment descriptors author Norman Richards public class Deployment Descriptor private static final Log Provider log Logging get Log Provider Deployment Descriptor class private Map Class Ejb Descriptor ejb Descriptors new Hash Map Class Ejb Descriptor private Class component Class public Deployment Descriptor Class clazz component Class clazz if clazz get Class Loader null return try Input Stream ejb Jar Xml clazz get Class Loader get Resource As Stream ejb jar xml if ejb Jar Xml null parse Ejb Jar Xml get Root Element Safely ejb Jar Xml catch Document Exception e log warn Could n t parse ejb jar xml for component types e get Message try Input Stream orm Xml clazz get Class Loader get Resource As Stream orm xml if orm Xml null parse Orm Xml get Root Element Safely orm Xml catch Document Exception e log warn Could n t parse orm xml for component types e get Message public Map Class Ejb Descriptor get Ejb Descriptors return ejb Descriptors Suppress Warnings unchecked private void parse Ejb Jar Xml Element root Element beans root element enterprise beans if beans null for Element bean List Element beans elements session Ejb Descriptor info new Ejb Descriptor info set Ejb Name bean element ejb name get Text Trim Element ejb Class bean element ejb class if ejb Class null info set Ejb Class Name ejb Class get Text Trim Element session Type bean element session type if session Type null session Type get Text Trim equals Ignore Case Stateful info set Bean Type Component Type else info set Bean Type Component Type add info for Element bean List Element beans elements message driven Ejb Descriptor info new Ejb Descriptor info set Ejb Name bean element ejb name get Text Trim info set Ejb Class Name bean element ejb class get Text Trim info set Bean Type Component Type add info Suppress Warnings unchecked private void parse Orm Xml Element root String package Prefix Element pkg root element package if pkg null package Prefix pkg get Text Trim for Element entity List Element root elements entity String class Name package Prefix entity attribute class get Text Ejb Descriptor info new Ejb Descriptor info set Bean Type Component Type info set Ejb Class Name class Name add info protected void add Ejb Descriptor descriptor try Class ejb Class component Class get Class Loader load Class descriptor get Ejb Class Name ejb Descriptors put ejb Class descriptor catch Class Not Found Exception cnfe log warn Could not load class descriptor get Ejb Class Name 
package org jboss seam deployment import java util Set deployment handler is responsible for processing found resources All deployment handlers should specify a unique name under which they will be registered with the link Deployment Strategy author Pete Muir public interface Deployment Handler key used to identify the deployment handler public String get Name Get Deployment Handler Metadata for resources this deployment handler is interested in processing If a deployment handler is interested in a number of files it should define multiple pieces of metadata public Deployment Metadata get Metadata public void post Process Class Loader class Loader public Set File Descriptor get Resources public void set Resources Set File Descriptor resources 
package org jboss seam deployment Metadata about resources the deployment handler is interested in author pmuir public interface Deployment Metadata file name suffixes that this deployment handler is interested in public String get File Name Suffix 
package org jboss seam example common test import java io File import org jboss shrinkwrap api Archive import org jboss shrinkwrap api Shrink Wrap import org jboss shrinkwrap api importer Zip Importer import org jboss shrinkwrap api spec Enterprise Archive import org jboss shrinkwrap api spec Web Archive public class Deployment Resolver public static Archive create Deployment String test Deployment System get Property test Deployment String deployment Name test Deployment substring test Deployment last Index Of Class extends Archive deployment Class deployment Name ends With war Web Archive class Enterprise Archive class return Shrink Wrap create Zip Importer class deployment Name import From new File test Deployment as deployment Class 
package org jboss seam test integration import java io File import org jboss shrinkwrap api Archive Path import org jboss shrinkwrap api Shrink Wrap import org jboss shrinkwrap api asset String Asset import org jboss shrinkwrap api importer Zip Importer import org jboss shrinkwrap api spec Web Archive public class Deployments public static Web Archive default Seam Deployment return default Seam Deployment components xml Deployment that use the proper Seam Listener instead of the Mock Seam Listener public static Web Archive real Seam Deployment return Shrink Wrap create Zip Importer class test war import From new File target seam integration tests war as Web Archive class add As Web Inf Resource new String Asset jboss deployment structure deployment dependencies module name org javassist module name org dom j module name org apache commons collections dependencies deployment jboss deployment structure jboss deployment structure xml add As Resource seam properties add As Resource components properties add As Resource messages en properties add As Resource persistence xml add As Resource hibernate cfg xml add As Web Inf Resource components xml components xml add As Web Inf Resource pages xml pages xml add As Web Inf Resource real web xml web xml add As Web Inf Resource ejb jar xml ejb jar xml add As Web Inf Resource jboss seam integration tests hornetq jms xml jboss seam integration tests hornetq jms xml public static Web Archive jbpm Seam Deployment return Shrink Wrap create Zip Importer class test war import From new File target seam integration tests war as Web Archive class add As Web Inf Resource new String Asset jboss deployment structure deployment dependencies module name org javassist module name org dom j module name org apache commons collections dependencies deployment jboss deployment structure jboss deployment structure xml add As Resource seam properties add As Resource components properties add As Resource messages en properties add As Resource persistence xml add As Resource test Process jpdl xml add As Resource test Process jpdl xml add As Resource test Process jpdl xml add As Resource test Process jpdl xml add As Resource jbpm cfg xml add As Resource hibernate cfg xml add As Web Inf Resource components jbpm xml components xml add As Web Inf Resource pages xml pages xml add As Web Inf Resource web xml web xml add As Web Inf Resource ejb jar xml ejb jar xml public static Web Archive default Seam Deployment String custom Components Xml Web Archive war Shrink Wrap create Zip Importer class test war import From new File target seam integration tests war as Web Archive class add As Web Inf Resource new String Asset jboss deployment structure deployment dependencies module name org javassist module name org dom j dependencies deployment jboss deployment structure jboss deployment structure xml add As Resource seam properties add As Resource components properties add As Resource messages en properties add As Resource persistence xml add As Resource hibernate cfg xml add As Web Inf Resource custom Components Xml components xml add As Web Inf Resource pages xml pages xml add As Web Inf Resource web xml web xml add As Web Inf Resource ejb jar xml ejb jar xml add As Web Inf Resource jboss seam integration tests hornetq jms xml jboss seam integration tests hornetq jms xml Remove jboss seam ui for a Mock Seam Test test as it would cause Mojarra to initialize for Archive Path path war get Content key Set if path get contains jboss seam ui war delete path break return war 
package org jboss seam deployment import java io File import java lang reflect Constructor import java lang reflect Invocation Target Exception import java util Array List import java util Hash Map import java util List import java util Map import java util Map Entry import javax servlet Servlet Context import org jboss seam log Log Provider import org jboss seam log Logging link Deployment Strategy coordinates the deployment of resources for a Seam application author Pete Muir public abstract class Deployment Strategy private static final Log Provider log Logging get Log Provider Deployment Strategy class private Scanner scanner private List File files new Array List File private Map String Deployment Handler deployment Handlers The key under which to list possible scanners System properties take precedence over seam scanner properties Entries will be tried in sequential order until a Scanner can be loaded This can be specified as a System property or in seam deployment properties public static final String org jboss seam deployment scanners Do the scan for resources Should only be called by Seam public abstract void scan Get the scanner being used protected Scanner get Scanner if scanner null init Scanner return scanner Get the classloader to use public abstract Class Loader get Class Loader Get the Servlet Context to use public abstract Servlet Context get Servlet Context Get or modify any registered link Deployment Handler s Implementations of link Deployment Strategy may add default link Deployment Handler s public Map String Deployment Handler get Deployment Handlers if deployment Handlers null init Deployment Handlers return this deployment Handlers private void init Deployment Handlers this deployment Handlers new Hash Map String Deployment Handler List String deployment Handlers Class Names new Seam Deployment Properties get Class Loader get Property Values get Deployment Handlers Key add Handlers deployment Handlers Class Names protected abstract String get Deployment Handlers Key protected void init Scanner List String scanners new Seam Deployment Properties get Class Loader get Property Values for String class Name scanners Scanner scanner instantiate Scanner class Name if scanner null log trace Using scanner to String this scanner scanner return log trace Using default Scanner this scanner new Scanner this private Scanner instantiate Scanner String class Name try Class Scanner scanner Class Class Scanner get Class Loader load Class class Name Constructor Scanner constructor scanner Class get Constructor new Class Deployment Strategy class return constructor new Instance new Object this catch Class Not Found Exception e log trace Unable to use class Name as scanner class not found e catch Linkage Error e log trace Unable to use class Name as scanner dependency not found e catch Class Cast Exception e log trace Unable to use class Name as scanner class does not implement org jboss seam deployment Scanner catch Instantiation Exception e log trace Unable to instantiate scanner class Name e catch Illegal Access Exception e log trace Unable to instantiate scanner class Name e catch Security Exception e log trace class Name must declare public class Name Class Loader class Loader String resource Names e catch No Such Method Exception e log trace class Name must declare public class Name Class Loader class Loader String resource Names e catch Illegal Argument Exception e log trace class Name must declare public class Name Class Loader class Loader String resource Names e catch Invocation Target Exception e log trace class Name must declare public class Name Class Loader class Loader String resource Names e return null private void add Handlers List String handlers for String handler handlers add Handler handler private void add Handler String class Name Deployment Handler deployment Handler instantiate Deployment Handler class Name if deployment Handler null log trace Adding deployment Handler as a deployment handler deployment Handlers put deployment Handler get Name deployment Handler private Deployment Handler instantiate Deployment Handler String class Name try Class Deployment Handler clazz Class Deployment Handler get Class Loader load Class class Name return clazz new Instance catch Class Not Found Exception e log trace Unable to use class Name as a deployment handler class not found e catch Linkage Error e log trace Unable to use class Name as a deployment handler dependency not found e catch Instantiation Exception e log trace Unable to instantiate deployment handler class Name e catch Illegal Access Exception e log trace Unable to instantiate deployment handler class Name e return null public List File get Files return files public void set Files List File files this files files public long get Timestamp return get Scanner get Timestamp protected void post Scan for Entry String Deployment Handler entry get Deployment Handlers entry Set entry get Value post Process get Class Loader 
Id Destroy java gavin package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Alternative to javax annotations Pre Destroy for use in a pre Java environment Designates a destroy method that is called when a context ends and the component is being disposed author Gavin King Target Retention Documented Inherited public interface Destroy 
package org jboss seam security digest import org jboss seam contexts Context import org jboss seam contexts Contexts import org jboss seam security Identity This class provides methods for performing Digest authentication and is intended to be extended by a concrete Authenticator implementation author Shane Bryzak public abstract class Digest Authenticator Suppress Warnings deprecation protected boolean validate Password String password Context ctx Contexts get Session Context Digest Request digest Request Digest Request ctx get Digest Request if digest Request null throw new Illegal State Exception No digest request found in session scope Remove the digest request from the session now ctx remove Digest Request Calculate the expected digest String server Digest Md Digest Utils generate Digest digest Request is Password Already Encoded Identity instance get Username digest Request get Realm password digest Request get Http Method digest Request get Uri digest Request get Qop digest Request get Nonce digest Request get Nonce Count digest Request get Client Nonce return server Digest Md equals digest Request get Client Digest 
package org jboss seam security digest import org jboss seam util Base public class Digest Request public static final String org jboss seam security digest Request private boolean password Already Encoded private String system Realm private String realm private String key private String password private String uri quality of protection defined by private String qop private String nonce private String nonce Count private String client Nonce private String http Method The digest that the client responds with private String client Digest public String get Client Nonce return client Nonce public void set Client Nonce String client Nonce this client Nonce client Nonce public String get Nonce return nonce public void set Nonce String nonce this nonce nonce public String get Nonce Count return nonce Count public void set Nonce Count String nonce Count this nonce Count nonce Count public String get Password return password public void set Password String password this password password public boolean is Password Already Encoded return password Already Encoded public void set Password Already Encoded boolean password Already Encoded this password Already Encoded password Already Encoded public String get Qop return qop public void set Qop String qop this qop qop public String get Realm return realm public String get System Realm return system Realm public void set System Realm String system Realm this system Realm system Realm public void set Realm String realm this realm realm public String get Key return key public void set Key String key this key key public String get Uri return uri public void set Uri String uri this uri uri public String get Http Method return http Method public void set Http Method String http Method this http Method http Method public String get Client Digest return client Digest public void set Client Digest String client Digest this client Digest client Digest public void validate throws Digest Validation Exception Check all required parameters were supplied ie if realm null throw new Digest Validation Exception Mandatory field realm not specified if nonce null throw new Digest Validation Exception Mandatory field nonce not specified if uri null throw new Digest Validation Exception Mandatory field uri not specified if client Digest null throw new Digest Validation Exception Mandatory field response not specified Check all required parameters for an auth qop were supplied ie if auth equals qop if nonce Count null throw new Digest Validation Exception Mandatory field nc not specified if client Nonce null throw new Digest Validation Exception Mandatory field cnonce not specified String nonce As Text new String Base decode nonce String nonce Tokens nonce As Text split if nonce Tokens length throw new Digest Validation Exception Nonce should provide two tokens nonce received nonce Check realm name equals what we expected if system Realm equals realm throw new Digest Validation Exception Realm name realm does not match system realm name system Realm long nonce Expiry try nonce Expiry new Long nonce Tokens long Value catch Number Format Exception nfe throw new Digest Validation Exception First nonce token should be numeric but was nonce Tokens To get this far the digest must have been valid Check the nonce has not expired We do this last so we can direct the user agent its nonce is stale but the request was otherwise appearing to be valid if nonce Expiry System current Time Millis throw new Digest Validation Exception Nonce has expired true String expected Nonce Signature Digest Utils md Hex nonce Expiry key if expected Nonce Signature equals nonce Tokens throw new Digest Validation Exception Nonce token invalid nonce As Text 
package org jboss seam security digest import java security Message Digest import java security No Such Algorithm Exception import org jboss seam util Hex Digest related utility methods adapted from Acegi and Apache Commons author Shane Bryzak public class Digest Utils public static String generate Digest boolean password Already Encoded String username String realm String password String http Method String uri String qop String nonce String nc String cnonce throws Illegal Argument Exception String a Md null String a http Method uri String a Md new String Digest Utils md Hex a if password Already Encoded a Md password else a Md encode Password In Format username realm password String digest if qop null as per compliant clients also reaffirmed by digest a Md nonce a Md else if auth equals qop As per compliant clients digest a Md nonce nc cnonce qop a Md else throw new Illegal Argument Exception This method does not support a qop qop String digest Md new String Digest Utils md Hex digest return digest Md public static String encode Password In Format String username String realm String password String a username realm password String a Md new String Digest Utils md Hex a return a Md public static String md Hex String value try Message Digest md Message Digest get Instance return new String Hex encode Hex md digest value get Bytes catch No Such Algorithm Exception ex throw new Runtime Exception Invalid algorithm 
package org jboss seam security digest Thrown when a Digest Request fails validation author Shane Bryzak public class Digest Validation Exception extends Exception private boolean nonce Expired false public Digest Validation Exception String message super message public Digest Validation Exception String message boolean nonce Expired super message this nonce Expired nonce Expired public boolean is Nonce Expired return nonce Expired 
package org jboss seam example seamdiscs model import javax persistence Cascade Type import javax persistence Column import javax persistence Entity import javax persistence Generated Value import javax persistence Generation Type import javax persistence Id import javax persistence Many To One Entity public class Disc Id Generated Value strategy Generation Type private Integer id private String name private Integer release Many To One cascade Cascade Type Cascade Type Cascade Type private Artist artist Column length private String description public Disc public Disc Artist artist this artist artist public Artist get Artist return artist public void set Artist Artist artist this artist artist public Integer get Id return id public void set Id Integer id this id id public String get Name return name public void set Name String name this name name public String get Description return description public void set Description String description this description description public Integer get Release return release public void set Release Integer release this release release 
package org jboss seam async import org jboss seam Component import org jboss seam intercept Invocation Context Interface to be implemented by any strategy for dispatching asynchronous method calls and asynchronous events author Gavin King param the type of the timer object public interface Dispatcher extends Schedule Schedule an asynchronous method call examining annotations upon the method to determine the schedule return some kind of timer object or null public schedule Invocation Invocation Context invocation Component component Schedule a timed delayed and or periodic event param type the event type param schedule the schedule param parameters parameters to pass to the event listener method return some kind of timer object or null public schedule Timed Event String type schedule Object parameters Schedule an immediate asynchronous event param type the event type param parameters parameters to pass to the event listener method return some kind of timer object or null public schedule Asynchronous Event String type Object parameters Schedule an event to be processed if and when the current transaction completes successfully param type the event type param parameters parameters to pass to the event listener method public void schedule Transaction Success Event String type Object parameters Schedule an event to be processed when the current transaction ends param type the event type param parameters parameters to pass to the event listener method public void schedule Transaction Completion Event String type Object parameters 
package org jboss seam ui renderkit import java io Exception import javax faces context Response Writer import org jboss seam ui component Style import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui Div Renderer family org jboss seam ui Div Renderer public class Div Renderer Base extends Style Renderer Base Override protected Class get Component Class return Style class Override public void end Element Response Writer writer throws Exception writer end Element div Override public void start Element Response Writer writer Style style throws Exception writer start Element div style 
package org jboss seam document import java io Exception import java io Output Stream import java io Serializable public abstract class Document Data implements Serializable Document Type document Type String base Name String disposition inline String file Name public Document Data String base Name Document Type document Type super this document Type document Type this base Name base Name public abstract void write Data To Stream Output Stream stream throws Exception public Document Type get Document Type return document Type public String get Base Name return base Name public void set Filename String file Name this file Name file Name public String get File Name if file Name null return get Base Name get Document Type get Extension else return file Name public void set Disposition String disposition this disposition disposition public String get Disposition return disposition static public class Document Type implements Serializable private String mime Type private String extension public Document Type String extension String mime Type this extension extension this mime Type mime Type public String get Mime Type return mime Type public String get Extension return extension 
package org jboss seam document import java io Serializable import java util Hash Map import java util Map import javax faces application View Handler import javax faces context Faces Context import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam util Faces Name org jboss seam document document Store Scope Scope Type Install precedence Install public class Document Store implements Serializable public static final String seam docstore document private static final long serial Version Map String Document Data data Store new Hash Map String Document Data long next Id boolean use Extensions false String error Page null public void set Use Extensions boolean use Extensions this use Extensions use Extensions public void set Error Page String error Page this error Page error Page public String get Error Page return error Page public String new Id return String value Of next Id public void save Data String id Document Data document Data data Store put id document Data public boolean id Is Valid String id return data Store get id null public Document Data get Document Data String id return data Store get id public static Document Store instance return Document Store Component get Instance org jboss seam document document Store public String preferred Url For Content String base Name String extension String content Id String Buffer url new String Buffer base Url For Content base Name extension if url to String index Of url append doc Id append content Id else url append doc Id append content Id return url to String protected String base Url For Content String base Name String extension if use Extensions return base Name extension else Faces Context context Faces Context get Current Instance View Handler handler context get Application get View Handler String url handler get Action context Faces get Default Suffix context return context get External Context encode Action url 
package org jboss seam document import java io Exception import javax faces context Faces Context import javax faces event Phase Event import javax faces event Phase Id import javax faces event Phase Listener import javax servlet http Http Servlet Response import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Pages import org jboss seam web Parameters public class Document Store Phase Listener implements Phase Listener private static final long serial Version private static final Log Provider log Logging get Log Provider Document Store Phase Listener class public Phase Id get Phase Id return Phase Id public void after Phase Phase Event phase Event public void before Phase Phase Event phase Event String root Id Pages get View Id phase Event get Faces Context Parameters params Parameters instance String id String params convert Multi Value Request Parameter params get Request Parameters doc Id String class if root Id contains Document Store send Content phase Event get Faces Context id public void send Content Faces Context context String content Id try Document Data document Data Document Store instance get Document Data content Id if document Data null Http Servlet Response response Http Servlet Response context get External Context get Response response set Content Type document Data get Document Type get Mime Type response set Header Content Disposition document Data get Disposition filename document Data get File Name document Data write Data To Stream response get Output Stream context response Complete catch Exception e log warn e 
package org jboss seam document import java io Exception import javax servlet Servlet Exception import javax servlet http Http Servlet import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam servlet Contextual Http Servlet Request import org jboss seam web Parameters public class Document Store Servlet extends Http Servlet private static final long serial Version Override protected void do Get final Http Servlet Request request final Http Servlet Response response throws Servlet Exception Exception new Contextual Http Servlet Request request Override public void process throws Servlet Exception Exception do Work request response run private static void do Work Http Servlet Request request Http Servlet Response response throws Exception Parameters params Parameters instance String content Id String params convert Multi Value Request Parameter params get Request Parameters doc Id String class Document Store store Document Store instance if store id Is Valid content Id Document Data document Data store get Document Data content Id response set Content Type document Data get Document Type get Mime Type response set Header Content Disposition document Data get Disposition filename document Data get File Name document Data write Data To Stream response get Output Stream else String error store get Error Page if error null if error starts With error request get Context Path error response send Redirect error else response send Error 
package org jboss seam ui import java io File import java io File Input Stream import java io Exception import java io Input Stream import java io Output Stream import java nio Byte Buffer import java nio channels Channels import java nio channels Readable Byte Channel import java nio channels Writable Byte Channel import javax faces context Faces Context import org jboss seam core Manager import org jboss seam document Document Data import org jboss seam document Document Store import org jboss seam document Document Data Document Type import org jboss seam navigation Pages import org jboss seam ui component Resource Helper class for Document Store author mnovotny public class Document Store Utils private static final int public static String add Resource To Data Store Faces Context ctx Resource resource String base Name Pages get Current Base Name String view Id Pages get View Id ctx Document Store store Document Store instance String id store new Id Document Type type new Document Type resource get Content Type Document Data document Data new Downloadable Document Data base Name type resource get Data document Data set Filename resource get File Name document Data set Disposition resource get Disposition String url store preferred Url For Content resource get File Name type get Extension id url Manager instance encode Conversation Id url view Id store save Data id document Data return url static class Downloadable Document Data extends Document Data private Object data public Downloadable Document Data String base Name Document Type type Object data super base Name type this data data Override public void write Data To Stream Output Stream os throws Exception if data instanceof byte os write byte data else if data instanceof File write Stream os new File Input Stream File data else if data instanceof Input Stream write Stream os Input Stream data private void write Stream Output Stream os Input Stream is throws Exception Readable Byte Channel in Channels new Channel is Writable Byte Channel out Channels new Channel os try copy Channel in out finally try in close catch Exception e eat it try out close catch Exception e eat it private void copy Channel Readable Byte Channel in Writable Byte Channel out throws Exception Byte Buffer buffer Byte Buffer allocate Direct while in read buffer buffer position buffer flip out write buffer buffer compact 
package org jboss seam deployment The link Dot Component Dot Xml Deployment Handler component xml files author Pete Muir public class Dot Component Dot Xml Deployment Handler extends Abstract Deployment Handler private static Deployment Metadata new Deployment Metadata public String get File Name Suffix return component xml Name under which this link Deployment Handler is registered public static final String org jboss seam deployment Dot Component Dot Xml Deployment Handler public String get Name return public Deployment Metadata get Metadata return 
package org jboss seam deployment import org jboss seam contexts Contexts The link Dot Page Dot Xml Deployment Handler process page xml files author Pete Muir public class Dot Page Dot Xml Deployment Handler extends Abstract Deployment Handler private static Deployment Metadata new Deployment Metadata public String get File Name Suffix return page xml Name under which this link Deployment Handler is registered public static final String org jboss seam deployment Dot Page Dot Xml Deployment Handler public String get Name return public static Dot Page Dot Xml Deployment Handler instance if Contexts is Event Context Active if Contexts get Event Context is Set War Root Deployment Strategy Deployment Strategy deployment Strategy Deployment Strategy Contexts get Event Context get War Root Deployment Strategy Object deployment Handler deployment Strategy get Deployment Handlers get if deployment Handler null return Dot Page Dot Xml Deployment Handler deployment Handler return null else throw new Illegal State Exception Event context not active public Deployment Metadata get Metadata return 
package org jboss seam ui renderkit import java io Exception import javax faces component Component import javax faces component Parameter import javax faces context Faces Context import org jboss seam ui component Download import org jboss seam ui component Resource import org jboss seam ui util import org jboss seam ui util View Url Builder import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui Download Renderer family org jboss seam ui Download Renderer public class Download Renderer Base extends Renderer Base Override protected Class get Component Class return Download class Override protected void do Encode Begin javax faces context Response Writer writer Faces Context ctx Component component throws Exception Download download Download component if download is Rendered return if download get Src null View Url Builder builder new View Url Builder download get Src null for Object child download get Children if child instanceof Parameter builder add Parameter Parameter child write Start Tag writer download builder get Encoded Url render Non Resource Children ctx download writer end Element private void render Non Resource Children Faces Context ctx Component component throws Exception for Object child component get Children if child instanceof Parameter child instanceof Resource child instanceof Component render Child ctx Component child private void write Start Tag javax faces context Response Writer writer Download download String url throws Exception writer start Element null writer write Attribute url null if download get Style null writer write Attribute download get Style null if download get Style Class null writer write Attribute download get Style Class null Override public boolean get Renders Children return true 
package org jboss seam drools import java util List import org drools Working Memory import org jbpm graph def Action Handler import org jbpm graph exe Execution Context j Action Handler that delegates to a Drools Working Memory held in a Seam context variable author Jeff Delong author Gavin King author Tihomir Surdilovic public class Drools Action Handler extends Drools Handler implements Action Handler private static final long serial Version public List String assert Objects public List String retract Objects public String working Memory Name public String start Process Id public void execute Execution Context execution Context throws Exception Working Memory working Memory get Working Memory working Memory Name assert Objects retract Objects execution Context if start Process Id null start Process Id trim length working Memory start Process start Process Id working Memory fire All Rules 
package org jboss seam drools import java util List import org drools Working Memory import org jbpm graph exe Execution Context import org jbpm taskmgmt def Assignment Handler import org jbpm taskmgmt exe Assignable j Assignment Handler that delegates to a Drools Working Memory held in a Seam context variable author Jeff Delong author Gavin King public class Drools Assignment Handler extends Drools Handler implements Assignment Handler private static final long serial Version public String working Memory Name public List String assert Objects public List String retract Objects public String start Process Id public void assign Assignable assignable Execution Context execution Context throws Exception Working Memory working Memory get Working Memory working Memory Name assert Objects retract Objects execution Context working Memory set Global assignable assignable if start Process Id null start Process Id trim length working Memory start Process start Process Id working Memory fire All Rules 
package org jboss seam drools import java util List import org drools Working Memory import org jbpm graph exe Execution Context import org jbpm graph node Decision Handler j Decision Handler that delegates to a Drools Working Memory held in a Seam context variable The decision outcome is returned by setting the outcome attribute of the global named decision author Gavin King public class Drools Decision Handler extends Drools Handler implements Decision Handler private static final long serial Version public List String assert Objects public List String retract Objects public String working Memory Name public String start Process Id public String decide Execution Context execution Context throws Exception Working Memory working Memory get Working Memory working Memory Name assert Objects retract Objects execution Context working Memory set Global decision new Decision if start Process Id null start Process Id trim length working Memory start Process start Process Id working Memory fire All Rules return Decision working Memory get Global decision get Outcome 
package org jboss seam drools import java util List import org drools Fact Handle import org drools Working Memory import org jboss seam Component import org jboss seam bpm Actor import org jboss seam core Expressions import org jbpm graph exe Execution Context import org jbpm jpdl el Exception Common functionality for j handlers for Drools author Jeff Delong author Gavin King public class Drools Handler protected Working Memory get Working Memory String working Memory Name List String expressions List String retractions Execution Context execution Context throws Exception Working Memory working Memory Working Memory Component get Instance working Memory Name true if expressions null expressions size for String object Name expressions Object object Expressions instance create Value Expression object Name get Value Object object new Seam Variable Resolver resolve Variable object Name assert the object into the rules engine if object instanceof Iterable for Object element Iterable object assert Object working Memory element else assert Object working Memory object if retractions null retractions size for String object Name retractions Object object Expressions instance create Value Expression object Name get Value Object object new Seam Variable Resolver resolve Variable object Name retract the object from the rules engine if object instanceof Iterable for Object element Iterable object retract Object working Memory element else retract Object working Memory object working Memory set Global context Instance execution Context get Context Instance working Memory insert Actor instance return working Memory private void assert Object Working Memory working Memory Object element Fact Handle fact working Memory get Fact Handle element if fact null working Memory insert element else working Memory update fact element private void retract Object Working Memory working Memory Object element Fact Handle fact working Memory get Fact Handle element if fact null working Memory retract fact 
Id Entity Resolver java norman richards jboss com Contributed by Markus Meissner package org jboss seam util import java io Input Stream import java io Serializable import org jboss seam contexts Servlet Lifecycle import org jboss seam log Log Provider import org jboss seam log Logging import org xml sax Entity Resolver import org xml sax Input Source An link Entity Resolver implementation which attempts to resolve various system Id Ls to local classpath lookups ol li Any system Id beginning with tt http jboss org schema seam tt is searched for as a classpath resource in the classloader which loaded the Seam classes li li Any system Id using tt classpath tt as the scheme i e starting with tt classpath tt is searched for as a classpath resource using first the current thread context classloader and then the classloader which loaded the Seam classes ol p Any entity references which can not be resolved in relation to the above rules result in returning null which should force the reader to handle the entity reference in its default manner public class Entity Resolver implements Entity Resolver Serializable private static final long serial Version private static final Log Provider log Logging get Log Provider Entity Resolver class private static final String http jboss org schema seam private static final String classpath public Input Source resolve Entity String public Id String system Id if system Id null log trace trying to resolve system id system Id if system Id starts With log trace recognized Seam namespace attempting to resolve on classpath under org jboss seam String path org jboss seam system Id substring length Input Stream dtd Stream resolve In Seam Namespace path if dtd Stream null log warn unable to locate system Id on classpath else log debug located system Id in classpath Input Source source new Input Source dtd Stream source set Public Id public Id source set System Id system Id return source else if system Id starts With log trace recognized local namespace attempting to resolve on classpath String path system Id substring length Input Stream stream resolve In Local Namespace path if stream null log warn unable to locate system Id on classpath else log debug located system Id in classpath Input Source source new Input Source stream source set Public Id public Id source set System Id system Id return source use default behavior return null protected Input Stream resolve In Seam Namespace String path return this get Class get Class Loader get Resource As Stream path protected Input Stream resolve In Local Namespace String path try return Resources get Resource As Stream path Servlet Lifecycle get Servlet Context catch Throwable t return null 
package org jboss seam annotations async import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target The duration of the wait before an asynchronous call is processed or before the first occurrence of a repeating asynchronous call This annotation occurs on a parameter of type long or Long of a method marked Asynchronous author Gavin King Target Retention Documented public interface Duration 
package org jboss seam example pdf import java util Array List import java util List import java util Random import org jboss seam annotations import org jboss seam Name chart Scope Scope Type public class Dynamic Chart private static final int private List String categories new Array List String private int next Series private int next Category Random random new Random List Data data new Array List Data boolean is d false boolean legend true String title Dynamic Chart String domain Axis Label Domain Label String domain Axis Paint boolean domain Gridlines Visible false String domain Gridline Paint String domain Gridline Stroke String range Axis Label Range Label String range Axis Paint boolean range Gridlines Visible true String range Gridline Paint String range Gridline Stroke String orientation vertical String plot Background Paint white String plot Outline Paint black String plot Outline Stroke solid thin String border Paint black String border Background Paint white String border Stroke solid thick String title Paint String title Background Paint String legend Background Paint String legend Item Paint Float plot Background Alpha f Float plot Foreground Alpha f float height float width boolean border Visible true public boolean get Is d return is d public void set Is d boolean is d this is d is d public String get Domain Axis Label return domain Axis Label public void set Domain Axis Label String category Axis Label this domain Axis Label category Axis Label public String get Range Axis Label return range Axis Label public void set Range Axis Label String value Axis Label this range Axis Label value Axis Label public boolean is Border Visible return border Visible public void set Border Visible boolean border Visible this border Visible border Visible public float get Height return height public void set Height float height this height height public float get Width return width public void set Width float width this width width public boolean is Legend return legend public void set Legend boolean legend this legend legend public String get Title return title public void set Title String title this title title public String get Orientation return orientation public void set Orientation String orientation this orientation orientation public String get Border Background Paint return border Background Paint public void set Border Background Paint String border Background Paint this border Background Paint border Background Paint public String get Border Paint return border Paint public void set Border Paint String border Paint this border Paint border Paint public String get Plot Background Paint return plot Background Paint public void set Plot Background Paint String plot Background Paint this plot Background Paint plot Background Paint public String get Plot Outline Paint return plot Outline Paint public void set Plot Outline Paint String plot Outline Paint this plot Outline Paint plot Outline Paint public String get Border Stroke return border Stroke public void set Border Stroke String border Stroke this border Stroke border Stroke public String get Plot Outline Stroke return plot Outline Stroke public void set Plot Outline Stroke String plot Outline Stroke this plot Outline Stroke plot Outline Stroke public Float get Plot Background Alpha return plot Background Alpha public void set Plot Background Alpha Float plot Background Alpha this plot Background Alpha plot Background Alpha public Float get Plot Foreground Alpha return plot Foreground Alpha public void set Plot Foreground Alpha Float plot Foreground Alpha this plot Foreground Alpha plot Foreground Alpha public String get Title Background Paint return title Background Paint public void set Title Background Paint String title Background Paint this title Background Paint title Background Paint public String get Title Paint return title Paint public void set Title Paint String title Paint this title Paint title Paint public String get Legend Background Paint return legend Background Paint public void set Legend Background Paint String legend Background Paint this legend Background Paint legend Background Paint public String get Legend Item Paint return legend Item Paint public void set Legend Item Paint String legend Item Paint this legend Item Paint legend Item Paint public String get Domain Axis Paint return domain Axis Paint public void set Domain Axis Paint String domain Axis Paint this domain Axis Paint domain Axis Paint public String get Domain Gridline Paint return domain Gridline Paint public void set Domain Gridline Paint String domain Gridline Paint this domain Gridline Paint domain Gridline Paint public String get Domain Gridline Stroke return domain Gridline Stroke public void set Domain Gridline Stroke String domain Gridline Stroke this domain Gridline Stroke domain Gridline Stroke public boolean is Domain Gridlines Visible return domain Gridlines Visible public void set Domain Gridlines Visible boolean domain Gridline Visible this domain Gridlines Visible domain Gridline Visible public String get Range Axis Paint return range Axis Paint public void set Range Axis Paint String range Axis Paint this range Axis Paint range Axis Paint public String get Range Gridline Paint return range Gridline Paint public void set Range Gridline Paint String range Gridline Paint this range Gridline Paint range Gridline Paint public String get Range Gridline Stroke return range Gridline Stroke public void set Range Gridline Stroke String range Gridline Stroke this range Gridline Stroke range Gridline Stroke public boolean is Range Gridlines Visible return range Gridlines Visible public void set Range Gridlines Visible boolean range Gridline Visible this range Gridlines Visible range Gridline Visible Create public void init Data new Category new Category new Category new Series new Series public List Data get Data return data public List String get Categories return categories public void remove Series String id System out println id public void new Series String new Id find Unique Series Id Data set new Data set set Id new Id for String category categories set add Value category random next Int data add set public void new Category String new Id find Unique Category Id categories add new Id for Data set data set add Value new Id random next Int private String find Unique Series Id while true String id Series next Series if is Unique Series Id id return id private boolean is Unique Series Id String id for Data item data if item get Id equals id return false return true private String find Unique Category Id while true String id Category next Category if categories contains id return id 
package org jboss seam tool import java io Buffered Reader import java io Buffered Writer import java io File import java io File Reader import java io File Writer import java io Exception import java util Array List import java util List import org apache tools ant Build Exception import org apache tools ant Task import org apache tools ant types Path author Pete Muir public class Eclipse Classpath Task extends Task private String file private String to File private String filter Property private List Path paths new Array List Path Override public void execute throws Build Exception Path uber Path new Path get Project for Path path paths uber Path add path String eclipsepaths for String path uber Path list avoid placing modules on classpath if path contains jboss seam String source Path path substring path last Index Of jar sources jar String javadoc Path path substring path last Index Of jar javadoc jar String eclipsepath t classpathentry kind lib path path if new File source Path exists eclipsepath sourcepath source Path if new File javadoc Path exists eclipsepath r n eclipsepath t t attributes n eclipsepath t t t attribute name javadoc location value jar file javadoc Path n eclipsepath t t attributes n eclipsepath t classpathentry n else eclipsepath r n eclipsepaths eclipsepath try Buffered Reader reader new Buffered Reader new File Reader new File file Buffered Writer writer new Buffered Writer new File Writer new File to File while reader ready String line reader read Line if line contains filter Property line line replace filter Property eclipsepaths writer write line r n writer flush writer close catch Exception e throw new Build Exception e param file the file to set public void set File String file this file file param to File the to File to set public void set To File String to File this to File to File param filter Property the filter Property to set public void set Filter Property String filter Property this filter Property filter Property public void add Path Path path paths add path 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java util Map import javax ejb Local Local public interface Edit Customer public void start Edit public Map String Integer get Credit Card Types public void set Password Verify String password public String get Password Verify public boolean is Valid Name Password public String save User public void destroy 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java util List import java util Map import java util Set import java util Tree Map import javax annotation Resource import javax ejb Remove import javax ejb Session Context import javax ejb Stateful import javax persistence Entity Manager import javax persistence Persistence Context import javax validation Constraint Violation import javax validation Constraint Violation Exception import org jboss seam annotations Begin import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam bpm Actor import org jboss seam contexts Context import org jboss seam faces Faces Messages import org jboss seam security Identity Stateful Name edit Customer public class Edit Customer Action implements Edit Customer Persistence Context Entity Manager em Resource Session Context ctx In Context session Context In create true Out Customer customer In Faces Messages faces Messages In Identity identity String password null public void set Password Verify String password this password password public String get Password Verify return password Begin nested true pageflow newuser public void start Edit public boolean is Valid Name Password boolean ok true if is Unique Name faces Messages add user Name This name is already in use ok false if is Passwords Match faces Messages add password Verify Must match password field ok false return ok Suppress Warnings unchecked private boolean is Unique Name String name customer get User Name if name null return true List Customer results em create Query select c from Customer c where c user Name name set Parameter name name get Result List return results size private boolean is Passwords Match String customerpass customer get Password return password null customerpass null customerpass equals password public String save User if is Valid Name Password faces Messages add User name customer user Name is not unique return null try em persist customer session Context set current User customer Actor instance set Id customer get User Name identity set Username customer get User Name identity set Password customer get Password identity login faces Messages add From Resource Bundle create Customer Success return success catch Constraint Violation Exception e Set Constraint Violation invalid Values e get Constraint Violations for Constraint Violation invalid Value invalid Values faces Messages add invalid Value get Message return null catch Runtime Exception e ctx set Rollback Only faces Messages add From Resource Bundle create Customer Error return null public Map String Integer get Credit Card Types Map String Integer map new Tree Map String Integer for int i i i map put Customer cctypes i i return map Remove public void destroy 
package org jboss seam intercept import java util List Adapts from Seam s Invocation Context to the standard Not much to see here they are identical apart from package names author Gavin King Suppress Warnings unchecked class Seam Invocation Context extends Seam Invocation Context implements javax interceptor Invocation Context public Seam Invocation Context Invocation Context context Event Type type List Object user Interceptors List Interceptor interceptors super context type user Interceptors interceptors public Object get Timer not supported method return null 
package org jboss seam cache import static org jboss seam annotations Install import static org jboss seam Scope Type import net sf ehcache Cache import net sf ehcache Cache Manager import net sf ehcache Element import org jboss seam annotations Auto Create import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging Implementation of Cache Provider backed by Eh Cache The default cache region issues i org jboss seam cache Default Cache as the default cache region author Sebastian Hennebrueder author Pete Muir Name org jboss seam cache cache Provider Scope Bypass Interceptors Install value false precedence class Dependencies net sf ehcache Cache Auto Create public class Eh Cache Provider extends Cache Provider Cache Manager private Cache Manager cache Manager private static final Log Provider log Logging get Log Provider Eh Cache Provider class Override public Cache Manager get Delegate return cache Manager Override public void put String region String key Object object Cache cache get Cache Region region Element element new Element key object cache put element Override public void clear String strings cache Manager get Cache Names for String cache Name strings Cache cache get Cache Region cache Name cache remove All Override public Object get String region String key Cache cache get Cache Region region Element element cache get key if element null return element get Object Value else return null private net sf ehcache Cache get Cache Region String region Name if region Name null region Name get Default Region Cache result cache Manager get Cache region Name if result null log debug Could not find configuration for region region Name using defaults cache Manager add Cache region Name result cache Manager get Cache region Name log debug Cache region created region Name return result Override public void remove String region String key Cache cache get Cache Region region cache remove key Create public void create log debug Starting Eh Cache Provider cache try if get Configuration null cache Manager new Cache Manager get Configuration As Stream else cache Manager new Cache Manager catch net sf ehcache Cache Exception e throw new Illegal State Exception Error starting Cache Cache e Destroy public void destroy log debug Stopping Eh Cache Provider cache try cache Manager shutdown cache Manager null catch Runtime Exception e throw new Illegal State Exception Error stopping Cache Cache e 
package org jboss seam util import java lang annotation Annotation import javax ejb Context import javax naming Name Not Found Exception import javax naming Naming Exception public class public static String ejb Context Name java comp ejb Context public static final String java comp Context public interface Dummy public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final Class Annotation public static final boolean private static Class class For Name String name try return Reflections class For Name name catch Class Not Found Exception cnfe return Dummy class static class For Name javax ejb Stateless class For Name javax ejb Stateful class For Name javax ejb Singleton class For Name javax ejb Message Driven class For Name javax ejb Application Exception class For Name javax persistence Persistence Context class For Name javax ejb Remove class For Name javax ejb Remote class For Name javax ejb Local class For Name javax ejb Pre Passivate class For Name javax ejb Post Activate class For Name javax annotation Pre Destroy class For Name javax annotation Post Construct class For Name javax interceptor Interceptors class For Name javax interceptor Around Invoke class For Name javax interceptor Around Timeout class For Name javax ejb Exception class For Name javax interceptor Invocation Context equals Dummy class public static String name Annotation annotation return String Reflections invoke And Wrap Reflections get Method annotation name annotation public static Class value Annotation annotation return Class Reflections invoke And Wrap Reflections get Method annotation value annotation public static boolean rollback Annotation annotation return Boolean Reflections invoke And Wrap Reflections get Method annotation rollback annotation public static Context get Context throws Naming Exception try return Context Naming get Initial Context lookup ejb Context Name catch Name Not Found Exception nnfe return Context Naming get Initial Context lookup protected static String get Ejb Context Name return ejb Context Name protected static void set Ejb Context Name String ejb Context Name ejb Context Name ejb Context Name 
Id Ejb Bean java pmuir package org jboss seam test unit import javax ejb Remove import javax ejb Stateful import org jboss seam Scope Type import org jboss seam annotations Destroy import org jboss seam annotations Jndi Name import org jboss seam annotations Name import org jboss seam annotations Scope Stateful Name ejb Scope Scope Type Jndi Name x public class Ejb Bean implements Ejb public void foo Remove Destroy public void destroy 
package org jboss seam init import org jboss seam Component Type Meta data about an discovered from a deployment descriptor author Norman Richards public class Ejb Descriptor private String ejb Name private String ejb Class Name private Component Type bean Type public Component Type get Bean Type return bean Type public void set Bean Type Component Type bean Type this bean Type bean Type public String get Ejb Class Name return ejb Class Name public void set Ejb Class Name String ejb Class this ejb Class Name ejb Class public String get Ejb Name return ejb Name public void set Ejb Name String name this ejb Name name 
package org jboss seam init public class Ejb Entity Descriptor extends Ejb Descriptor private boolean meta Data Complete private String pre Remove Method Name private String pre Persist Method Name private String pre Update Method Name private String post Load Method Name private String identifier Property Name private String identifier Field Name private String version Property Name private String version Field Name public String get Pre Remove Method Name return pre Remove Method Name public void set Pre Remove Method Name String pre Remove Method Name this pre Remove Method Name pre Remove Method Name public String get Pre Persist Method Name return pre Persist Method Name public void set Pre Persist Method Name String pre Persist Method Name this pre Persist Method Name pre Persist Method Name public String get Pre Update Method Name return pre Update Method Name public void set Pre Update Method Name String pre Update Method Name this pre Update Method Name pre Update Method Name public String get Post Load Method Name return post Load Method Name public void set Post Load Method Name String post Load Method Name this post Load Method Name post Load Method Name public String get Identifier Property Name return identifier Property Name public void set Identifier Property Name String identifier Property this identifier Property Name identifier Property public String get Version Property Name return version Property Name public void set Version Property Name String version Property this version Property Name version Property public String get Identifier Field Name return identifier Field Name public void set Identifier Field Name String identifier Field this identifier Field Name identifier Field public String get Version Field Name return version Field Name public void set Version Field Name String version Field this version Field Name version Field public void set Version Attribute String version Attribute Name String access Type if access Type null if access Type equals this version Property Name version Attribute Name else if access Type equals this version Field Name version Attribute Name public void set Identifier Attribute String identifier Attribute Name String access Type if access Type null if access Type equals this identifier Property Name identifier Attribute Name else if access Type equals this identifier Field Name identifier Attribute Name public boolean is Meta Data Complete return meta Data Complete public void set Meta Data Complete boolean meta Data Complete this meta Data Complete meta Data Complete 
package org jboss seam intercept import java lang reflect Method import java util Map Wraps the invocation context coming from and adapts it to the Seam version of the author Gavin King class Invocation Context implements Invocation Context javax interceptor Invocation Context private javax interceptor Invocation Context context public Invocation Context javax interceptor Invocation Context context this context context public Map get Context Data return context get Context Data public Method get Method return context get Method public Object get Parameters return context get Parameters public Object get Target return context get Target public Object proceed throws Exception return context proceed public void set Parameters Object params context set Parameters params Override public Object get Timer return context get Timer 
package org jboss seam transaction import static org jboss seam annotations Install import java rmi Remote Exception import java util Linked List import javax ejb Exception import javax ejb Remove import javax ejb Session Synchronization import javax ejb Stateful import javax ejb Transaction Attribute import javax ejb Transaction Attribute Type import javax transaction Synchronization import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging Receives transaction completion notifications from the container and passes them on to the registered Synchronizations This implementation is fully aware of container managed transactions and is able to register Synchronizations for the container transaction author Gavin King Stateful Name org jboss seam transaction synchronizations Scope Scope Type Install precedence dependencies org jboss seam transaction ejb Transaction Bypass Interceptors Transaction Attribute Transaction Attribute Type public class Ejb Synchronizations implements Local Ejb Synchronizations Session Synchronization private static final Log Provider log Logging get Log Provider Ejb Synchronizations class maintain two lists to work around a bug in Boss where a new Session Synchronization gets registered each time the bean is called protected Linked List Synchronization Registry synchronizations new Linked List Synchronization Registry protected Linked List Synchronization Registry committing new Linked List Synchronization Registry public void after Begin log debug after Begin synchronizations add Last new Synchronization Registry public void before Completion throws Exception Remote Exception log debug before Completion Synchronization Registry sync synchronizations remove Last sync before Transaction Completion committing add Last sync public void after Completion boolean success throws Exception Remote Exception log debug after Completion if committing is Empty if success throw new Illegal State Exception before Completion was never called else synchronizations remove Last after Transaction Completion false else committing remove First after Transaction Completion success public boolean is Aware Of Container Transactions return true public void after Transaction Begin noop let notify us public void after Transaction Commit boolean success noop let notify us public void after Transaction Rollback noop let notify us public void before Transaction Commit noop let notify us public void register Synchronization Synchronization sync synchronizations get Last register Synchronization sync Remove public void destroy 
package org jboss seam transaction import static org jboss seam annotations Install import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors Dummy component that lets us install the Ejb Synchronizations via the tag transaction ejb transaction see Ejb Synchronizations author Gavin King Name org jboss seam transaction ejb Transaction Scope Scope Type Install precedence value false Bypass Interceptors public class Ejb Transaction 
package org jboss seam el import java util Locale import javax el Array Resolver import javax el Bean Resolver import javax el Composite Resolver import javax el Context import javax el Resolver import javax el Expression Factory import javax el Function Mapper import javax el List Resolver import javax el Map Resolver import javax el Resource Bundle Resolver import javax el Variable Mapper import org jboss el Expression Factory Impl import org jboss el lang Function Mapper Impl import org jboss el lang Variable Mapper Impl An instance of Boss author Gavin King public class public static final Resolver create Resolver Context instances should not be shared between threads public static final Context create Context new Function Mapper Impl public static final Expression Factory new Expression Factory Impl private static Resolver create Resolver Composite Resolver resolver new Composite Resolver resolver add new Seam Resolver resolver add new Map Resolver resolver add new List Resolver resolver add new Array Resolver resolver add new Resource Bundle Resolver resolver add new Bean Resolver return resolver public static Context create Context return create Context new Function Mapper Impl public static Context create Context final Resolver resolver final Function Mapper function Mapper return new Context final Variable Mapper Impl variable Mapper new Variable Mapper Impl Override public Resolver get Resolver return resolver Override public Function Mapper get Function Mapper return function Mapper Override public Variable Mapper get Variable Mapper return variable Mapper public static Context create Context final Context context final Resolver resolver return new Context Override public Locale get Locale return context get Locale Override public void set Property Resolved boolean value super set Property Resolved value context set Property Resolved value Override public boolean is Property Resolved return super is Property Resolved Override public void put Context Class clazz Object object super put Context clazz object context put Context clazz object Override public Object get Context Class clazz return context get Context clazz Override public void set Locale Locale locale super set Locale locale context set Locale locale Override public Resolver get Resolver return resolver Override public Function Mapper get Function Mapper return context get Function Mapper Override public Variable Mapper get Variable Mapper return context get Variable Mapper 
package org jboss seam tool import org apache tools ant Build Exception import org apache tools ant Task Encode the password provided using the same algorithm that Intelli uses to encode a database password before storing it in the project file then assign it to the property public class Encode Password Task extends Task private String property private String password Override public void execute throws Build Exception get Project set Property property encode password protected String encode String value if value null return String result for int i i value length i int c value char At i c xdfaa result Integer to Hex String c return result public void set Property String property this property property public void set Password String password this password password 
Id End java jacob orshalick package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Marks a method as ending a conversation if the method returns a non null outcome without throwing an exception If a list of outcomes is specified the conversation ends only if the outcome is in the list null outcome never ends the conversation If the method is of type void the conversation always ends author Gavin King Target Retention Documented public interface End An empty outcome list is interpreted to mean any outcome except for the null redisplay outcome deprecated use Conversation instance end String if Outcome default Should the conversation be destroyed before any redirect The default behavior is to propagate the conversation across the redirect and then destroy it at the end of the redirected request return false by default boolean before Redirect default false If the conversation is nested should the root of the conversation be destroyed The default behavior is to simply pop the conversation stack return false by default boolean root default false 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations bpm import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Marks a method as causing a j link org jbpm taskmgmt exe Task Instance task instance to be ended The current conversation also ends If a list of outcomes is specified the task ends only if the outcome is in the list null outcome never ends the task see org jbpm taskmgmt exe Task Instance end String author Gavin King Target Retention Documented public interface End Task An empty outcome list is interpreted to mean any outcome except for the null redisplay outcome deprecated use Business Process instance end and Conversation instance end String if Outcome default Specifies the transition that should be triggered by completing the task If the transition needs to be specified dynamically use the Seam tt transition tt component calling tt Transition set Name tt return a transition name String transition default Should the conversation be destroyed before any redirect The default behavior is to propagate the conversation across the redirect and then destroy it at the end of the redirected request return false by default boolean before Redirect default false 
Copyright the original author or authors Licensed under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam mock import javax servlet Async Context import javax servlet Dispatcher Type import javax servlet Request Dispatcher import javax servlet Servlet Context import javax servlet Servlet Exception import javax servlet Servlet Input Stream import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Cookie import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import javax servlet http Http Session import javax servlet http Part import java io Buffered Reader import java io Byte Array Input Stream import java io Exception import java io Input Stream import java io Input Stream Reader import java io Reader import java io Unsupported Encoding Exception import java security Principal import java util Collection import java util Collections import java util Date import java util Enumeration import java util Hash Map import java util Hash Set import java util Hashtable import java util Iterator import java util Linked Hash Map import java util Locale import java util Map import java util Set import java util Vector Mock implementation of the link javax servlet http Http Servlet Request interface Supports the Servlet level p p Used for testing the web framework also useful for testing application controllers author Juergen Hoeller author Rod Johnson author Rick Evans author Mark Fisher since public class Enhanced Mock Http Servlet Request implements Http Servlet Request The default protocol http public static final String http The default server address public static final String The default server name localhost public static final String localhost The default server port public static final int The default remote address public static final String The default remote host localhost public static final String localhost private boolean active true Servlet Request properties private final Hashtable attributes new Hashtable private String character Encoding private byte content private String content Type private final Map parameters new Linked Hash Map private String protocol private String scheme private String server Name private int server Port private String remote Addr private String remote Host List of locales in descending order private final Vector locales new Vector private boolean secure false private final Servlet Context servlet Context private int remote Port private String local Name private String local Addr private int local Port Http Servlet Request properties private String auth Type private Cookie cookies The key is the lowercase header name the value is a link org jboss seam mock Header Value Holder object private final Hashtable headers new Hashtable private String method private String path Info private String context Path private String query String private Map String String query Parameters new Hash Map private String remote User private Set String user Roles new Hash Set private Principal user Principal private String request private String servlet Path private Http Session session private boolean requested Session Id Valid true private boolean requested Session Id From Cookie true private boolean requested Session Id From false Constructors Create a new Mock Http Servlet Request with a default link Mock Servlet Context see Mock Servlet Context public Enhanced Mock Http Servlet Request this null Create a new Mock Http Servlet Request with a default link Mock Servlet Context param method the request method may be code null code param request the request may be code null code see set Method see set Request see Mock Servlet Context public Enhanced Mock Http Servlet Request String method String request this null method request Create a new Mock Http Servlet Request param servlet Context the Servlet Context that the request runs in may be code null code to use a default Mock Servlet Context see Mock Servlet Context public Enhanced Mock Http Servlet Request Servlet Context servlet Context this servlet Context Create a new Mock Http Servlet Request param servlet Context the Servlet Context that the request runs in may be code null code to use a default Mock Servlet Context param method the request method may be code null code param request the request may be code null code see set Method see set Request see Mock Servlet Context public Enhanced Mock Http Servlet Request Servlet Context servlet Context String method String request this servlet Context servlet Context null servlet Context new Mock Servlet Context this method method this request request this locales add Locale Old mock The Es if this header is n t present add Header Accept new String public Enhanced Mock Http Servlet Request Http Session session this session null new Hash Set String public Enhanced Mock Http Servlet Request Http Session session String principal Name Set String principal Roles this session principal Name principal Roles new Cookie null public Enhanced Mock Http Servlet Request Http Session session final String principal Name Set String principal Roles Cookie cookies String method this null method this session session this user Principal principal Name null null new Principal public String get Name return principal Name this user Roles principal Roles this cookies cookies Old mock The Es if this header is n t present add Header Accept new String Lifecycle methods Return the Servlet Context that this request is associated with Not available in the standard Http Servlet Request interface for some reason public Servlet Context get Servlet Context return this servlet Context Return whether this request is still active that is not completed yet public boolean is Active return this active Mark this request as completed keeping its state public void close this active false Invalidate this request clearing its state public void invalidate close clear Attributes Check whether this request is still active that is not completed yet throwing an Illegal State Exception if not active anymore protected void check Active throws Illegal State Exception if this active throw new Illegal State Exception Request is not active anymore Servlet Request interface public Object get Attribute String name check Active return this attributes get name public Enumeration get Attribute Names check Active return this attributes keys public String get Character Encoding return this character Encoding public void set Character Encoding String character Encoding this character Encoding character Encoding public void set Content byte content this content content public int get Content Length return this content null this content length public void set Content Type String content Type this content Type content Type public String get Content Type return this content Type public Servlet Input Stream get Input Stream throws Exception if this content null return new Delegating Servlet Input Stream new Byte Array Input Stream this content else return null Set a single value for the specified parameter p If there are already one or more values registered for the given parameter name they will be replaced public void set Parameter String name String value set Parameter name new String value Set an array of values for the specified parameter p If there are already one or more values registered for the given parameter name they will be replaced public void set Parameter String name String values this parameters put name values Sets all provided parameters emphasis replacing emphasis any existing values for the provided parameter names To add without replacing existing values use link add Parameters java util Map public void set Parameters Map params for Iterator it params key Set iterator it has Next Object key it next Object value params get key if value instanceof String this set Parameter String key String value else if value instanceof String this set Parameter String key String value else throw new Illegal Argument Exception Parameter map value must be single value or array of type String class get Name Add a single value for the specified parameter p If there are already one or more values registered for the given parameter name the given value will be added to the end of the list public void add Parameter String name String value add Parameter name new String value Add an array of values for the specified parameter p If there are already one or more values registered for the given parameter name the given values will be added to the end of the list public void add Parameter String name String values String old Arr String this parameters get name if old Arr null String new Arr new String old Arr length values length System arraycopy old Arr new Arr old Arr length System arraycopy values new Arr old Arr length values length this parameters put name new Arr else this parameters put name values Adds all provided parameters emphasis without emphasis replacing any existing values To replace existing values use link set Parameters java util Map public void add Parameters Map params for Iterator it params key Set iterator it has Next Object key it next Object value params get key if value instanceof String this add Parameter String key String value else if value instanceof String this add Parameter String key String value else throw new Illegal Argument Exception Parameter map value must be single value or array of type String class get Name Remove already registered values for the specified parameter if any public void remove Parameter String name this parameters remove name Removes all existing parameters public void remove All Parameters this parameters clear public String get Parameter String name String arr String this parameters get name return arr null arr length arr null public Enumeration get Parameter Names return Collections enumeration this parameters key Set public String get Parameter Values String name return String this parameters get name public Map get Parameter Map return this parameters Old mock public Map String String get Parameters return parameters Add a query parameter that will be appended to the query string public void add Query Parameter String name String value add Parameter name value this query Parameters put name value public void remove Query Parameter String name remove Parameter name this query Parameters remove name public Map String String get Query Parameters return query Parameters public void set Protocol String protocol this protocol protocol public String get Protocol return this protocol public void set Scheme String scheme this scheme scheme public String get Scheme return this scheme public void set Server Name String server Name this server Name server Name public String get Server Name return this server Name public void set Server Port int server Port this server Port server Port public int get Server Port return this server Port public Buffered Reader get Reader throws Unsupported Encoding Exception if this content null Input Stream source Stream new Byte Array Input Stream this content Reader source Reader this character Encoding null new Input Stream Reader source Stream this character Encoding new Input Stream Reader source Stream return new Buffered Reader source Reader else return null public void set Remote Addr String remote Addr this remote Addr remote Addr public String get Remote Addr return this remote Addr public void set Remote Host String remote Host this remote Host remote Host public String get Remote Host return this remote Host public void set Attribute String name Object value check Active if value null this attributes put name value else this attributes remove name public void remove Attribute String name check Active this attributes remove name Clear all of this request s attributes public void clear Attributes this attributes clear Add a new preferred locale before any existing locales public void add Preferred Locale Locale locale this locales add locale public Locale get Locale return Locale this locales get public Enumeration get Locales return this locales elements public void set Secure boolean secure this secure secure public boolean is Secure return this secure public Request Dispatcher get Request Dispatcher String path return new Mock Request Dispatcher path public String get Real Path String path return this servlet Context get Real Path path public void set Remote Port int remote Port this remote Port remote Port public int get Remote Port return this remote Port public void set Local Name String local Name this local Name local Name public String get Local Name return this local Name public void set Local Addr String local Addr this local Addr local Addr public String get Local Addr return this local Addr public void set Local Port int local Port this local Port local Port public int get Local Port return this local Port Http Servlet Request interface public void set Auth Type String auth Type this auth Type auth Type public String get Auth Type return this auth Type public void set Cookies Cookie cookies this cookies cookies public Cookie get Cookies return this cookies public void add Cookie Cookie cookie this cookies new Cookie this cookies length this cookies this cookies length cookie Add a header entry for the given name p If there was no entry for that header name before the value will be used as is In case of an existing entry a String array will be created adding the given value more specifically its to String representation as further element p Multiple values can only be stored as list of Strings following the Servlet spec see code get Headers code accessor As alternative to repeated code add Header code calls for individual elements you can use a single call with an entire array or Collection of values as parameter see get Header Names see get Header see get Headers see get Date Header see get Int Header public void add Header String name Object value Header Value Holder header Header Value Holder get By Name this headers name if header null header new Header Value Holder this headers put name header if value instanceof Collection header add Values Collection value else if value get Class is Array header add Value Array value else header add Value value public long get Date Header String name Header Value Holder header Header Value Holder get By Name this headers name Object value header null header get Value null if value instanceof Date return Date value get Time else if value instanceof Number return Number value long Value else if value null throw new Illegal Argument Exception Value for header name is neither a Date nor a Number value else return public String get Header String name Header Value Holder header Header Value Holder get By Name this headers name return header null header get Value to String null public Map String String get Headers Map String String header Values new Hash Map for Object o this headers entry Set Map Entry String Header Value Holder entry Map Entry String Header Value Holder o String values String entry get Value get Values to Array new String entry get Value get Values size header Values put entry get Key values return header Values public Enumeration get Headers String name Header Value Holder header Header Value Holder get By Name this headers name return Collections enumeration header null header get Values Collections public Enumeration get Header Names return this headers keys public int get Int Header String name Header Value Holder header Header Value Holder get By Name this headers name Object value header null header get Value null if value instanceof Number return Number value int Value else if value instanceof String return Integer parse Int String value else if value null throw new Number Format Exception Value for header name is not a Number value else return public void set Method String method this method method public String get Method return this method public void set Path Info String path Info this path Info path Info public String get Path Info return this path Info public String get Path Translated return this path Info null get Real Path this path Info null public void set Context Path String context Path this context Path context Path public String get Context Path return this context Path null this context Path project Old mock default public void set Query String String query String this query String query String public String get Query String if get Query Parameters size String Builder q new String Builder query String if query String ends With q append for Map Entry String String entry get Query Parameters entry Set q append entry get Key q append q append entry get Value q append if q to String ends With q delete Char At q length return q to String return this query String public void set Remote User String remote User this remote User remote User public String get Remote User return this remote User see add User Role deprecated in favor of add User Role public void add Role String role add User Role role public void add User Role String role this user Roles add role public boolean is User In Role String role return this user Roles contains role public void set User Principal Principal user Principal this user Principal user Principal public Principal get User Principal return this user Principal public String get Requested Session Id Http Session session get Session return session null session get Id null public void set Request String request this request request public String get Request return this request public String Buffer get Request String Buffer url new String Buffer this scheme url append append this server Name append append this server Port url append get Request return url public void set Servlet Path String servlet Path this servlet Path servlet Path public String get Servlet Path return this servlet Path public void set Session Http Session session We do n t track access times in mocks yet mock Session access if session instanceof Mock Http Session Mock Http Session mock Session Mock Http Session session this session session public Http Session get Session boolean create check Active Reset session if invalidated if this session instanceof Mock Http Session Mock Http Session this session is Invalid this session null Create new session if necessary if this session null create this session new Mock Http Session this servlet Context return this session public Http Session get Session return get Session true public void set Requested Session Id Valid boolean requested Session Id Valid this requested Session Id Valid requested Session Id Valid public boolean is Requested Session Id Valid return this requested Session Id Valid public void set Requested Session Id From Cookie boolean requested Session Id From Cookie this requested Session Id From Cookie requested Session Id From Cookie public boolean is Requested Session Id From Cookie return this requested Session Id From Cookie public void set Requested Session Id From boolean requested Session Id From this requested Session Id From requested Session Id From public boolean is Requested Session Id From return this requested Session Id From public boolean is Requested Session Id From Url return is Requested Session Id From public boolean is All Parameters In Query String return true Override public Async Context start Async throws Illegal State Exception Auto generated method stub return null Override public Async Context start Async Servlet Request servlet Request Servlet Response servlet Response throws Illegal State Exception Auto generated method stub return null Override public boolean is Async Started Auto generated method stub return false Override public boolean is Async Supported Auto generated method stub return false Override public Async Context get Async Context Auto generated method stub return null Override public Dispatcher Type get Dispatcher Type Auto generated method stub return null Override public boolean authenticate Http Servlet Response response throws Exception Servlet Exception Auto generated method stub return false Override public void login String username String password throws Servlet Exception Auto generated method stub Override public void logout throws Servlet Exception Auto generated method stub Override public Collection Part get Parts throws Exception Servlet Exception Auto generated method stub return null Override public Part get Part String name throws Exception Servlet Exception Auto generated method stub return null 
Copyright the original author or authors Licensed under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam mock import javax servlet Servlet Output Stream import javax servlet http Cookie import javax servlet http Http Servlet Response import java io Byte Array Output Stream import java io Exception import java io Output Stream import java io Output Stream Writer import java io Print Writer import java io Unsupported Encoding Exception import java io Writer import java util Array List import java util Collections import java util Hash Map import java util Iterator import java util List import java util Locale import java util Map import java util Set Mock implementation of the link javax servlet http Http Servlet Response interface Supports the Servlet level p Used for testing the web framework also useful for testing application controllers author Juergen Hoeller author Rod Johnson since public class Enhanced Mock Http Servlet Response implements Http Servlet Response public static final int private static final String charset Servlet Response properties private boolean output Stream Access Allowed true private boolean writer Access Allowed true private String character Encoding private final Byte Array Output Stream content new Byte Array Output Stream private final Servlet Output Stream output Stream new Response Servlet Output Stream this content private Print Writer writer private int content Length private String content Type private int buffer Size private boolean committed private Locale locale Locale get Default Http Servlet Response properties private final List cookies new Array List The key is the lowercase header name the value is a link org jboss seam mock Header Value Holder object private final Map headers new Hash Map private int status Http Servlet Response private String status Message private String redirected Url private String forwarded Url private String included Url Servlet Response interface Set whether link get Output Stream access is allowed p Default is code true code public void set Output Stream Access Allowed boolean output Stream Access Allowed this output Stream Access Allowed output Stream Access Allowed Return whether link get Output Stream access is allowed public boolean is Output Stream Access Allowed return this output Stream Access Allowed Set whether link get Writer access is allowed p Default is code true code public void set Writer Access Allowed boolean writer Access Allowed this writer Access Allowed writer Access Allowed Return whether link get Output Stream access is allowed public boolean is Writer Access Allowed return this writer Access Allowed public void set Character Encoding String character Encoding this character Encoding character Encoding public String get Character Encoding return this character Encoding public Servlet Output Stream get Output Stream if this output Stream Access Allowed throw new Illegal State Exception Output Stream access not allowed return this output Stream public Print Writer get Writer throws Unsupported Encoding Exception if this writer Access Allowed throw new Illegal State Exception Writer access not allowed if this writer null Writer target Writer this character Encoding null new Output Stream Writer this content this character Encoding new Output Stream Writer this content this writer new Response Print Writer target Writer return this writer public byte get Content As Byte Array flush Buffer return this content to Byte Array public String get Content As String flush Buffer try return this character Encoding null this content to String this character Encoding this content to String catch Unsupported Encoding Exception ex throw new Runtime Exception ex public void set Content Length int content Length this content Length content Length public int get Content Length return this content Length public void set Content Type String content Type this content Type content Type if content Type null int charset Index content Type to Lower Case index Of if charset Index String encoding content Type substring charset Index length set Character Encoding encoding public String get Content Type return this content Type public void set Buffer Size int buffer Size this buffer Size buffer Size public int get Buffer Size return this buffer Size public void flush Buffer set Committed true public void reset Buffer if is Committed throw new Illegal State Exception Can not reset buffer response is already committed this content reset private void set Committed If Buffer Size Exceeded int buf Size get Buffer Size if buf Size this content size buf Size set Committed true public void set Committed boolean committed this committed committed public boolean is Committed return this committed public void reset reset Buffer this character Encoding null this content Length this content Type null this locale null this cookies clear this headers clear this status Http Servlet Response this status Message null public void set Locale Locale locale this locale locale public Locale get Locale return this locale Http Servlet Response interface public void add Cookie Cookie cookie this cookies add cookie public Cookie get Cookies return Cookie this cookies to Array new Cookie this cookies size public Cookie get Cookie String name for Iterator it this cookies iterator it has Next Cookie cookie Cookie it next if name equals cookie get Name return cookie return null public boolean contains Header String name return Header Value Holder get By Name this headers name null Return the names of all specified headers as a Set of Strings return the code Set code of header name code Strings code or an empty code Set code if none public Set get Header Names return this headers key Set Return the primary value for the given header if any p Will return the first value in case of multiple values param name the name of the header return the associated header value or code null code if none public String get Header String name Header Value Holder header Header Value Holder get By Name this headers name return header null header get Value to String null Return all values for the given header as a List of value objects param name the name of the header return the associated header values or an empty List if none public List get Headers String name Header Value Holder header Header Value Holder get By Name this headers name return header null header get Values Collections The default implementation returns the given String as is p Can be overridden in subclasses appending a session id or the like public String encode String url return url The default implementation delegates to link encode returning the given String as is p Can be overridden in subclasses appending a session id or the like in a redirect specific fashion For general encoding rules override the common link encode method instead appyling to redirect Ls as well as to general Ls public String encode Redirect String url return encode url public String encode Url String url return encode url public String encode Redirect Url String url return encode Redirect url public void send Error int status String error Message throws Exception if is Committed throw new Illegal State Exception Can not set error status response is already committed this status status this status Message error Message set Committed true public void send Error int status throws Exception if is Committed throw new Illegal State Exception Can not set error status response is already committed this status status set Committed true public void send Redirect String url throws Exception if is Committed throw new Illegal State Exception Can not send redirect response is already committed this redirected Url url set Committed true public String get Redirected Url return this redirected Url public void set Date Header String name long value set Header Value name new Long value public void add Date Header String name long value add Header Value name new Long value public void set Header String name String value set Header Value name value public void add Header String name String value add Header Value name value public void set Int Header String name int value set Header Value name new Integer value public void add Int Header String name int value add Header Value name new Integer value private void set Header Value String name Object value do Add Header Value name value true private void add Header Value String name Object value do Add Header Value name value false private void do Add Header Value String name Object value boolean replace Header Value Holder header Header Value Holder get By Name this headers name if header null header new Header Value Holder this headers put name header if replace header set Value value else header add Value value public void set Status int status this status status public void set Status int status String status Message this status status this status Message status Message public int get Status return this status public String get Status Message return this status Message Methods for Mock Request Dispatcher public void set Forwarded Url String forwarded Url this forwarded Url forwarded Url public String get Forwarded Url return this forwarded Url public void set Included Url String included Url this included Url included Url public String get Included Url return this included Url Inner class that adapts the Servlet Output Stream to mark the response as committed once the buffer size is exceeded private class Response Servlet Output Stream extends Delegating Servlet Output Stream public Response Servlet Output Stream Output Stream out super out public void write int b throws Exception super write b super flush set Committed If Buffer Size Exceeded public void flush throws Exception super flush set Committed true Inner class that adapts the Print Writer to mark the response as committed once the buffer size is exceeded private class Response Print Writer extends Print Writer public Response Print Writer Writer out super out true public void write char buf int off int len super write buf off len super flush set Committed If Buffer Size Exceeded public void write String s int off int len super write s off len super flush set Committed If Buffer Size Exceeded public void write int c super write c super flush set Committed If Buffer Size Exceeded public void flush super flush set Committed true 
package model Package import java io Serializable import javax persistence Entity import javax persistence Id import javax persistence Generated Value import javax persistence Version import javax validation constraints Size Entity public class entity Name implements Serializable seam gen attributes you should probably edit these private Long id private Integer version private String name add additional entity attributes seam gen attribute getters setters with annotations you probably should edit Id Generated Value public Long get Id return id public void set Id Long id this id id Version public Integer get Version return version private void set Version Integer version this version version Size max public String get Name return name public void set Name String name this name name 
package org jboss seam security Actions that may be performed upon entities in or Hibernate author Shane Bryzak public enum Entity Action Override public String to String return super name to Lower Case 
package org jboss seam contexts import static org jboss seam contexts Passivated Entity passivate Entity Swizzles entities held in the conversation context at the end of each request see Passivated Entity author Gavin King class Entity Bean implements Wrapper private static final long serial Version private Object instance private Passivated Entity passivated Entity private transient boolean initialized public Entity Bean Object instance this instance instance initialized true use Unwrap public Object get Instance if initialized passivated Entity null non versioned entities can be lazily unpassivated instance passivated Entity to Entity Reference true initialized true return instance public boolean passivate if passivated Entity null passivated Entity is Versioned and the version number changed if Passivated Entity is Transaction Rolled Back Or Marked Rollback passivated Entity null else passivated Entity passivate Entity instance if passivated Entity null instance null for performance of serialization return true else return false public void activate versioned entities must be unpassivated at the beginning of the request if passivated Entity null passivated Entity is Versioned instance passivated Entity to Entity Reference true initialized true else initialized false 
package org jboss seam contexts import java util Array List import java util Iterator import java util List Swizzles entities held in the conversation context at the end of each request see Passivated Entity author Gavin King class Entity Bean List extends Abstract Entity Bean Collection private static final long serial Version private List list private List Passivated Entity passivated Entity List public Entity Bean List List instance this list instance Override protected Iterable Passivated Entity get Passivated Entities return passivated Entity List Override protected Object get Entity Collection return list Override protected void clear Passivated Entities passivated Entity List null Override protected boolean is Passivated Entities Initialized return passivated Entity List null Override protected void activate All for int i i passivated Entity List size i Passivated Entity passivated Entity passivated Entity List get i if passivated Entity null list set i passivated Entity to Entity Reference true passivated Entity List null Override protected void passivate All List Passivated Entity new Passivated List new Array List Passivated Entity list size boolean found false Iterator Object it list iterator for int i it has Next i Passivated Entity passivated Entity null Object value it next if value null passivated Entity Passivated Entity passivate Entity value if passivated Entity null if found list new Array List list found true this would be dangerous except that we are doing it to a copy of the original list list set i null new Passivated List add passivated Entity if the original list was nulled out we do n t want to overwrite the passivated Entity list if found passivated Entity List new Passivated List 
package org jboss seam contexts import java util Hash Map import java util Map import java util Set Swizzles entities held in the conversation context at the end of each request see Passivated Entity author Gavin King class Entity Bean Map extends Abstract Entity Bean Collection private static final long serial Version private Map map private Map Object Passivated Entity passivated Entity Map public Entity Bean Map Map instance this map instance Override protected Iterable Passivated Entity get Passivated Entities return passivated Entity Map values Override protected Object get Entity Collection return map Override protected void clear Passivated Entities passivated Entity Map null Override protected boolean is Passivated Entities Initialized return passivated Entity Map null Override protected void activate All for Map Entry Object Passivated Entity me passivated Entity Map entry Set map put me get Key me get Value to Entity Reference true clear Passivated Entities Override protected void passivate All Hash Map Object Passivated Entity new Passivated Map new Hash Map Object Passivated Entity map size boolean found false for Map Entry me Set Map Entry map entry Set Object value me get Value if value null Passivated Entity passivated Entity Passivated Entity passivate Entity value if passivated Entity null if found map new Hash Map map found true this would be dangerous except that we are doing it to a copy of the original list map remove me get Key new Passivated Map put me get Key passivated Entity if found passivated Entity Map new Passivated Map 
package org jboss seam contexts import java util Array List import java util Hash Set import java util List import java util Set Swizzles entities held in the conversation context at the end of each request see Passivated Entity author Gavin King class Entity Bean Set extends Abstract Entity Bean Collection private static final long serial Version private Set set private List Passivated Entity passivated Entity List public Entity Bean Set Set instance this set instance Override protected Iterable Passivated Entity get Passivated Entities return passivated Entity List Override protected Object get Entity Collection return set Override protected void clear Passivated Entities passivated Entity List null Override protected boolean is Passivated Entities Initialized return passivated Entity List null Override protected void activate All for Passivated Entity pe passivated Entity List set add pe to Entity Reference true passivated Entity List null Override protected void passivate All Array List Passivated Entity new Passivated List new Array List Passivated Entity set size boolean found false for Object value set if value null Passivated Entity passivated Entity Passivated Entity passivate Entity value if passivated Entity null if found set new Hash Set set found true this would be dangerous except that we are doing it to a copy of the original list set remove value new Passivated List add passivated Entity if the original list was nulled out we do n t want to overwrite the passivated Entity list if found passivated Entity List new Passivated List 
package org jboss seam trinidad import org jboss seam framework Entity Query import org jboss seam framework Query public class Entity Collection Model extends Seam Collection Model private Entity Query entity Query public Entity Collection Model Entity Query entity Query this entity Query entity Query Override public Object get Row Key if get Row Index return null else return Entity Key Manager instance get Key get Row Index get First Result get Wrapped List entity Query get Entity Manager Override public void set Row Key Object row Key if row Key null set Row Index else set Row Index Entity Key Manager instance get Index Integer row Key get Wrapped List entity Query get Entity Manager get First Result Override protected Query get Query return entity Query 
package org jboss seam framework import javax persistence Entity Manager import javax persistence Lock Mode Type import javax persistence Query Base class for controller objects that perform persistence operations using Adds convenience methods for access to the Entity Manager author Gavin King public class Entity Controller extends Persistence Controller Entity Manager public Entity Manager get Entity Manager return get Persistence Context public void set Entity Manager Entity Manager entity Manager set Persistence Context entity Manager Override protected String get Persistence Context Name return entity Manager protected Query create Named Query String name return get Entity Manager create Named Query name protected Query create Query String ejbql return get Entity Manager create Query ejbql protected find Class clazz Object id return get Entity Manager find clazz id protected void flush get Entity Manager flush protected get Reference Class clazz Object id return get Entity Manager get Reference clazz id protected void lock Object entity Lock Mode Type lock Mode get Entity Manager lock entity lock Mode protected merge entity return get Entity Manager merge entity protected void persist Object entity get Entity Manager persist entity protected void refresh Object entity get Entity Manager refresh entity protected void remove Object entity get Entity Manager remove entity 
package org jboss seam ui import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import javax faces component Component import javax faces context Faces Context import javax faces convert Converter Exception import javax faces convert Faces Converter import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Transactional import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations faces Converter Allows conversion of an entity to from a key which can be written to a page Support is provided for by default and Hibernate with the session specified in components xml Name org jboss seam ui Entity Converter Scope Install precedence Converter Faces Converter org jboss seam ui Entity Converter Bypass Interceptors public class Entity Converter implements javax faces convert Converter Serializable private Abstract Entity Loader entity Loader public Abstract Entity Loader get Entity Loader if entity Loader null return Abstract Entity Loader instance else return entity Loader public void set Entity Loader Abstract Entity Loader entity Loader this entity Loader entity Loader Suppress Warnings unchecked Transactional public String get As String Faces Context faces Context Component cmp Object value throws Converter Exception if value null return null if value instanceof String return String value return get Entity Loader put value Transactional public Object get As Object Faces Context faces Context Component cmp String value throws Converter Exception if value null value length return null return get Entity Loader get value 
package action Package import org jboss seam annotations Name import org jboss seam annotations Begin import org jboss seam annotations web Request Parameter import org jboss seam framework Entity Home import model Package entity Name Name home Name public class entity Name Home extends Entity Home entity Name Request Parameter Long component Name Id Override public Object get Id if component Name Id null return super get Id else return component Name Id Override Begin public void create super create 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam resteasy import org jboss seam framework Entity Home import org jboss seam framework Hibernate Entity Home import org jboss seam framework Home This class provides an unified interface for accessing Entity Home and Hibernate Entity Home instances author Jozef Hartinger see org jboss seam framework Entity Home see org jboss seam framework Hibernate Entity Home public class Entity Home Wrapper private Home home null private boolean hibernate Entity Home or Hibernate Entity Home instance is expected public Entity Home Wrapper Home entity Home if entity Home instanceof Entity Home hibernate false else if entity Home instanceof Hibernate Entity Home hibernate true else throw new Illegal Argument Exception You must use either Entity Home or Hibernate Entity Home instance this home entity Home public Object get Id return home get Id public void set Id Object id home set Id id public get Instance return home get Instance public void set Instance instance home set Instance instance public find if hibernate return get Hibernate Entity Home find else return get Entity Home find public void persist if hibernate get Hibernate Entity Home persist else get Entity Home persist public void remove if hibernate get Hibernate Entity Home remove else get Entity Home remove Merge the state of the given entity with the current persistence context public void merge object if hibernate get Hibernate Entity Home get Session merge object get Hibernate Entity Home update else get Entity Home get Entity Manager merge object get Entity Home update public Class get Entity Class return home get Entity Class private Entity Home get Entity Home return Entity Home home private Hibernate Entity Home get Hibernate Entity Home return Hibernate Entity Home home Return the underlying Entity Home or Hibernate Entity Home instance public Home unwrap if hibernate return get Hibernate Entity Home else return get Entity Home 
package org jboss seam framework import javax persistence Entity Manager import javax transaction System Exception import org jboss seam persistence Persistence Provider import org jboss seam transaction Transaction public class Entity Identifier extends Identifier Entity Manager public Entity Identifier Object entity Entity Manager entity Manager super Persistence Provider instance get Bean Class entity Persistence Provider instance get Id entity entity Manager public Entity Identifier Class clazz Object id super clazz id Override public Object find Entity Manager entity Manager if entity Manager null throw new Null Pointer Exception Entity Manager must not be null try Transaction instance enlist entity Manager catch System Exception se throw new Runtime Exception could not join transaction se return entity Manager find get Clazz get Id 
package org jboss seam ui import static org jboss seam Scope Type import static org jboss seam annotations Install import java util Array List import java util List import org jboss seam Component import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam contexts Contexts import org jboss seam core Abstract Mutable import org jboss seam framework Identifier Page scoped store for entity identifiers used by the Entity Converter By default a list is used and the key returned is the list index The key used can be customised by overriding this component and implementing the get and put methods author Pete Muir Name org jboss seam ui entity Identifier Store Install precedence Scope public class Entity Identifier Store extends Abstract Mutable private List Identifier store Create public void create store new Array List Identifier public Identifier get String key try return store get new Integer key catch Index Out Of Bounds Exception e return null public String put Identifier identifier Object entity if store contains identifier store add identifier set Dirty return Integer store index Of identifier to String public static Entity Identifier Store instance if Contexts is Page Context Active throw new Illegal Argument Exception Page scope not active return Entity Identifier Store Component get Instance Entity Identifier Store class 
package org jboss seam security permission import java io Serializable import java util Map import java util concurrent Concurrent Hash Map import javax persistence Entity import javax persistence Entity Manager import org jboss seam Component import org jboss seam Seam import org jboss seam annotations security permission Identifier import org jboss seam core Expressions import org jboss seam core Expressions Value Expression import org jboss seam persistence Persistence Provider import org jboss seam util Strings An Identifier strategy for entity based permission checks author Shane Bryzak public class Entity Identifier Strategy implements Identifier Strategy Serializable private static final long serial Version private transient Value Expression Entity Manager entity Manager private transient Persistence Provider persistence Provider private Map Class String identifier Names new Concurrent Hash Map Class String public void init if persistence Provider null persistence Provider Persistence Provider Component get Instance Persistence Provider class true if entity Manager null entity Manager Expressions instance create Value Expression entity Manager Entity Manager class public Entity Identifier Strategy init public boolean can Identify Class target Class return target Class is Annotation Present Entity class public String get Identifier Object target if persistence Provider null init Object pers Provider Id persistence Provider get Id target lookup Entity Manager to String return String format s s get Identifier Name target get Class pers Provider Id private String get Identifier Name Class extends Object cls if identifier Names contains Key cls String name null if cls is Annotation Present Identifier class Identifier identifier cls get Annotation Identifier class if Strings is Empty identifier name name identifier name if name null name Seam get Component Name cls if name null name cls get Name substring cls get Name last Index Of identifier Names put cls name return name return identifier Names get cls private Entity Manager lookup Entity Manager if entity Manager null init return entity Manager get Value 
package org jboss seam trinidad import static org jboss seam Scope Type import static org jboss seam annotations Install import java util Array List import java util List import javax persistence Entity Manager import org jboss seam Component import org jboss seam annotations Install import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Transactional import org jboss seam core Abstract Mutable import org jboss seam framework Entity Identifier Entity Identifier manager for Entity Collection Model author pmuir Name org jboss seam trinidad entity Key Manager Scope Bypass Interceptors Install precedence public class Entity Key Manager extends Abstract Mutable private List Entity Identifier rows new Array List Entity Identifier public static Entity Key Manager instance return Entity Key Manager Component get Instance Entity Key Manager class Transactional public int get Index Integer key List wrapped List Entity Manager entity Manager Object entity rows get key find entity Manager int index wrapped List index Of entity return index Transactional public Object get Key int row Index List wrapped List Entity Manager entity Manager Entity Identifier key new Entity Identifier wrapped List get row Index entity Manager if rows contains key rows add key set Dirty return rows index Of key 
package action Package import org jboss seam annotations Name import org jboss seam framework Entity Query import model Package entity Name Name list Name public class entity Name List extends Entity Query entity Name public entity Name List set Ejbql select component Name from entity Name component Name 
Id Entity Manager Factory java pmuir package org jboss seam persistence import java util Hash Map import java util Hashtable import java util Map import javax persistence Persistence import org hibernate cfg Environment import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam util Naming Seam component that bootstraps an Entity Manager Factory for use of outside of Java Embedded Boss author Gavin King Scope Scope Type Bypass Interceptors Startup public class Entity Manager Factory private javax persistence Entity Manager Factory entity Manager Factory private String persistence Unit Name private Map String String persistence Unit Properties Unwrap public javax persistence Entity Manager Factory get Entity Manager Factory return entity Manager Factory Create public void startup Component component throws Exception if persistence Unit Name null persistence Unit Name component get Name entity Manager Factory create Entity Manager Factory Destroy public void shutdown if entity Manager Factory null entity Manager Factory close protected javax persistence Entity Manager Factory create Entity Manager Factory Map properties new Hash Map Hashtable String String jndi Properties Naming get Initial Context Properties if jndi Properties null Prefix regular properties for Hibernate for Map Entry String String entry jndi Properties entry Set properties put Environment entry get Key entry get Value if persistence Unit Properties null properties put All persistence Unit Properties if properties is Empty return Persistence create Entity Manager Factory persistence Unit Name else return Persistence create Entity Manager Factory persistence Unit Name properties The persistence unit name public String get Persistence Unit Name return persistence Unit Name public void set Persistence Unit Name String persistence Unit Name this persistence Unit Name persistence Unit Name Properties to pass to Persistence create Entity Manager Factory public Map String String get Persistence Unit Properties return persistence Unit Properties public void set Persistence Unit Properties Map String String persistence Unit Properties this persistence Unit Properties persistence Unit Properties 
package org jboss seam persistence import java io Serializable import java lang reflect Invocation Handler import java lang reflect Invocation Target Exception import java lang reflect Method import javax persistence Entity Manager import javax persistence Query import org jboss seam security permission Permission Manager Invocation Handler that Proxies the Entity Manager and implements interpolation in author Gavin King author Mike Youngstrom public class Entity Manager Invocation Handler implements Invocation Handler Serializable private Entity Manager delegate public Entity Manager Invocation Handler Entity Manager delegate this delegate delegate public Object invoke Object proxy Method method Object args throws Throwable try if create Query equals method get Name method get Parameter Types length method get Parameter Types equals String class return handle Create Query With String method args if get Delegate equals method get Name return handle Get Delegate method args if remove equals method get Name method get Parameter Types length return handle Remove method args return method invoke delegate args catch Invocation Target Exception e throw e get Target Exception protected Object handle Create Query With String Method method Object args throws Throwable if args null return method invoke delegate args String ejbql String args if ejbql index Of Query Parser qp new Query Parser ejbql Object new Args args clone new Args qp get Ejbql Query query Query method invoke delegate new Args for int i i qp get Parameter Value Bindings size i query set Parameter Query Parser get Parameter Name i qp get Parameter Value Bindings get i get Value return query else return method invoke delegate args protected Object handle Get Delegate Method method Object args throws Throwable return Persistence Provider instance proxy Delegate method invoke delegate args protected Object handle Remove Method method Object args throws Throwable if args length return method invoke delegate args Object result method invoke delegate args Permission Manager instance clear Permissions args return result 
package org jboss seam persistence import java io Serializable import javax persistence Entity Manager Proxies the Entity Manager and implements interpolation in author Gavin King public interface Entity Manager Proxy extends Entity Manager Serializable 
package org jboss seam persistence import static org jboss seam Component Type import static org jboss seam Component Type import javax persistence Entity Manager import org jboss seam Component Bijected Attribute import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam annotations intercept Post Activate import org jboss seam annotations intercept Post Construct import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context Proxy the Entity Manager if injected using Persistence Context author Pete Muir Interceptor stateless true public class Entity Manager Proxy Interceptor extends Abstract Interceptor Around Invoke public Object around Invoke Invocation Context ic throws Exception return ic proceed Post Activate public void post Activate Invocation Context invocation throws Exception just in case the container does some special handling of serialization proxy Persistence Contexts invocation get Target invocation proceed Post Construct public void post Construct Invocation Context invocation throws Exception proxy Persistence Contexts invocation get Target invocation proceed private void proxy Persistence Contexts Object bean wrap any Persistence Context attributes in our proxy for Bijected Attribute ba get Component get Persistence Context Attributes Object object ba get bean if object instanceof Entity Manager Proxy object instanceof Entity Manager Persistence Provider provider Persistence Provider instance ba set bean provider proxy Entity Manager Entity Manager object public boolean is Interceptor Enabled return get Component get Type get Component get Type 
package org jboss seam framework import javax ejb Application Exception import org jboss seam annotations exception Http Error Http Error error Code Application Exception rollback true public class Entity Not Found Exception extends Runtime Exception private static final long serial Version private Object id private Class entity Class public Entity Not Found Exception Object id Class entity Class super String format entity not found s s entity Class get Name id this id id this entity Class entity Class public Class get Entity Class return entity Class public Object get Id return id 
package org jboss seam security import static org jboss seam Scope Type import static org jboss seam annotations Install import java lang reflect Method import javax persistence Entity Manager import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations security Restrict import org jboss seam contexts Contexts import org jboss seam persistence Persistence Provider import org jboss seam util Strings Entity permission checks author Shane Bryzak Name org jboss seam security entity Permission Checker Scope Install precedence Bypass Interceptors Startup public class Entity Permission Checker private String entity Manager Name entity Manager private Entity Manager get Entity Manager return Entity Manager Component get Instance entity Manager Name public String get Entity Manager Name return entity Manager Name public void set Entity Manager Name String name this entity Manager Name name public static Entity Permission Checker instance if Contexts is Application Context Active throw new Illegal State Exception No active application context Entity Permission Checker instance Entity Permission Checker Component get Instance Entity Permission Checker class Scope Type if instance null throw new Illegal State Exception No Entity Permission Checker could be created return instance public void check Entity Permission Object entity Entity Action action if Identity is Security Enabled return if Contexts is Session Context Active return Identity identity Identity instance identity try Login Persistence Provider provider Persistence Provider instance Class bean Class provider get Bean Class entity if bean Class null Method m null switch action case m provider get Post Load Method entity get Entity Manager break case m provider get Pre Persist Method entity get Entity Manager break case m provider get Pre Update Method entity get Entity Manager break case m provider get Pre Remove Method entity get Entity Manager Restrict restrict null if m null m is Annotation Present Restrict class restrict m get Annotation Restrict class else if entity get Class is Annotation Present Restrict class restrict entity get Class get Annotation Restrict class if restrict null if Strings is Empty restrict value identity check Permission entity action to String else identity check Restriction restrict value 
package org jboss seam framework import java util List import java util Map import javax persistence Entity Manager import javax persistence Non Unique Result Exception import javax transaction System Exception import org jboss seam annotations Transactional import org jboss seam persistence Persistence Provider import org jboss seam persistence Query Parser import org jboss seam persistence Persistence Provider Feature import org jboss seam transaction Transaction Query object for author Gavin King public class Entity Query extends Query Entity Manager private List result List private single Result private Long result Count private Map String String hints Validate the query throws Illegal State Exception if the query is not valid Override public void validate super validate if get Entity Manager null throw new Illegal State Exception entity Manager is null if Persistence Provider instance supports Feature Feature set Use Wildcard As Count Query Subject false Override Transactional public boolean is Next Exists return result List null get Max Results null result List size get Max Results Get the list of results this query returns Any changed restriction values will be applied Transactional Override public List get Result List if is Any Parameter Dirty refresh init Result List return trunc Result List result List private void init Result List if result List null javax persistence Query query create Query result List query null null query get Result List Get a single result from the query Any changed restriction values will be applied throws Non Unique Result Exception if there is more than one result Transactional Override public get Single Result if is Any Parameter Dirty refresh init Single Result return single Result private void init Single Result if single Result null javax persistence Query query create Query single Result query null null query get Single Result Get the number of results this query returns Any changed restriction values will be applied Transactional Override public Long get Result Count if is Any Parameter Dirty refresh init Result Count return result Count private void init Result Count if result Count null javax persistence Query query create Count Query result Count query null null Long query get Single Result The refresh method will cause the result to be cleared The next access to the result set will cause the query to be executed This method b does not b cause the ejbql or restrictions to reread If you want to update the ejbql or restrictions you must call link set Ejbql String or link set Restrictions List Override public void refresh super refresh result Count null result List null single Result null public Entity Manager get Entity Manager return get Persistence Context public void set Entity Manager Entity Manager entity Manager set Persistence Context entity Manager Override protected String get Persistence Context Name return entity Manager protected javax persistence Query create Query parse Ejbql evaluate All Parameters join Transaction javax persistence Query query get Entity Manager create Query get Rendered Ejbql set Parameters query get Query Parameter Values set Parameters query get Restriction Parameter Values get Query Parameter Values size if get First Result null query set First Result get First Result if get Max Results null query set Max Results get Max Results add one so we can tell if there is another page if get Hints null for Map Entry String String me get Hints entry Set query set Hint me get Key me get Value return query protected javax persistence Query create Count Query parse Ejbql evaluate All Parameters join Transaction javax persistence Query query get Entity Manager create Query get Count Ejbql set Parameters query get Query Parameter Values set Parameters query get Restriction Parameter Values get Query Parameter Values size return query private void set Parameters javax persistence Query query List Object parameters int start for int i i parameters size i Object parameter Value parameters get i if is Restriction Parameter Set parameter Value query set Parameter Query Parser get Parameter Name start i parameter Value public Map String String get Hints return hints public void set Hints Map String String hints this hints hints protected void join Transaction try Transaction instance enlist get Entity Manager catch System Exception se throw new Runtime Exception could not join transaction se 
package org jboss seam security import static org jboss seam security Entity Action import static org jboss seam security Entity Action import static org jboss seam security Entity Action import static org jboss seam security Entity Action import javax persistence Post Load import javax persistence Pre Persist import javax persistence Pre Remove import javax persistence Pre Update Facilitates security checks for entity beans author Shane Bryzak public class Entity Security Listener Post Load public void post Load Object entity Entity Permission Checker instance check Entity Permission entity Pre Persist public void pre Persist Object entity Entity Permission Checker instance check Entity Permission entity Pre Update public void pre Update Object entity Entity Permission Checker instance check Entity Permission entity Pre Remove public void pre Remove Object entity Entity Permission Checker instance check Entity Permission entity 
package org jboss seam transaction import static org jboss seam annotations Install import javax persistence Entity Manager import javax transaction Heuristic Mixed Exception import javax transaction Heuristic Rollback Exception import javax transaction Not Supported Exception import javax transaction Rollback Exception import javax transaction Status import javax transaction Synchronization import javax transaction System Exception import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Expressions import org jboss seam core Expressions Value Expression import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam persistence Persistence Provider Support for the Entity Transaction Adapts transaction management to a Seam User Transaction interface For use in non capable environments author Gavin King Name org jboss seam transaction transaction Scope Scope Type Install value false precedence Bypass Interceptors public class Entity Transaction extends Abstract User Transaction private static final Log Provider log Logging get Log Provider Entity Transaction class private Value Expression Entity Manager entity Manager private Entity Manager current Entity Manager Create public void validate if entity Manager null entity Manager Expressions instance create Value Expression entity Manager Entity Manager class private javax persistence Entity Transaction get Delegate if current Entity Manager null should never occur throw new Illegal State Exception entity manager is null return current Entity Manager get Transaction private void init Entity Manager current Entity Manager entity Manager get Value if current Entity Manager null throw new Illegal State Exception entity manager was null entity Manager get Expression String public void begin throws Not Supported Exception System Exception log debug beginning resource local transaction translate exceptions that occur into the correct exception assert Not Active init Entity Manager try get Delegate begin get Synchronizations after Transaction Begin catch Runtime Exception re clear Entity Manager throw re public void commit throws Rollback Exception Heuristic Mixed Exception Heuristic Rollback Exception Security Exception Illegal State Exception System Exception log debug committing resource local transaction assert Active javax persistence Entity Transaction delegate get Delegate clear Entity Manager boolean success false try if delegate get Rollback Only delegate rollback throw new Rollback Exception else get Synchronizations before Transaction Commit delegate commit success true finally get Synchronizations after Transaction Commit success public void rollback throws Illegal State Exception Security Exception System Exception log debug rolling back resource local transaction translate exceptions that occur into the correct exception assert Active javax persistence Entity Transaction delegate get Delegate clear Entity Manager try delegate rollback finally get Synchronizations after Transaction Rollback public void set Rollback Only throws Illegal State Exception System Exception log debug marking resource local transaction for rollback assert Active get Delegate set Rollback Only public int get Status throws System Exception if is Entity Manager Set get Delegate get Rollback Only return Status else if is Entity Manager Set get Delegate is Active return Status else return Status public void set Transaction Timeout int timeout throws System Exception throw new Unsupported Operation Exception private boolean is Entity Manager Set return current Entity Manager null private void clear Entity Manager current Entity Manager null private void assert Active if is Entity Manager Set throw new Illegal State Exception transaction is not active private void assert Not Active throws Not Supported Exception if is Entity Manager Set throw new Not Supported Exception transaction is already active Override public void register Synchronization Synchronization sync if log is Debug Enabled log debug registering synchronization sync assert Active try to register the synchronization directly with the persistence provider but if this fails just hold on to it myself if Persistence Provider instance register Synchronization sync current Entity Manager get Synchronizations register Synchronization sync Override public boolean is Conversation Context Required return true public Value Expression Entity Manager get Entity Manager return entity Manager public void set Entity Manager Value Expression Entity Manager entity Manager this entity Manager entity Manager Override public void enlist Entity Manager entity Manager no op 
package org jboss seam rss import java util Date public class Entry private String uid private String title private String link private String author private String summary private Date published private Date updated public String get Uid return uid public void set Uid String uid this uid uid public String get Title return title public void set Title String title this title title public String get Link return link public void set Link String link this link link public String get Author return author public void set Author String author this author author public String get Summary return summary public void set Summary String summary this summary summary public Date get Published return published public void set Published Date published this published published public Date get Updated return updated public void set Updated Date updated this updated updated 
package actions import static org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations Scope import domain Blog import domain Blog Entry Processes a request for a particular entry and sends a if none is found author Gavin King Name entry Action Scope public class Entry Action In Blog blog Out Blog Entry blog Entry public void load Blog Entry String id throws Entry Not Found Exception blog Entry blog get Blog Entry id if blog Entry null throw new Entry Not Found Exception id 
package actions import javax ejb Application Exception import javax servlet http Http Servlet Response import org jboss seam annotations exception Http Error Application Exception rollback true Http Error error Code Http Servlet Response public class Entry Not Found Exception extends Exception Entry Not Found Exception String id super entry not found id 
package org jboss seam ui converter import java util Collection import javax el Value Expression import javax faces component Component import javax faces context Faces Context import javax faces convert Converter Exception import javax faces convert Faces Converter Converter for Enums author mnovotny Faces Converter value org jboss seam ui Enum Converter public class Enum Converter implements javax faces convert Converter public Object get As Object Faces Context context Component comp String value throws Converter Exception Value Expression expr comp get Value Expression value Class enum Type expr null null expr get Type context get Context if enum Type null enum Type is Enum return Enum value Of enum Type value else for Object child comp get Children if child instanceof Component Component c Component child expr c get Value Expression value Object val expr null null expr get Value context get Context if val null throw new Converter Exception Can not get items Class t val get Class if t is Array t get Component Type is Enum return Enum value Of t get Component Type value else if val instanceof Collection Object first Item Collection val iterator next if first Item instanceof Enum t Enum first Item get Declaring Class else t first Item get Class return Enum value Of t value throw new Converter Exception Unable to find select Items with enum values public String get As String Faces Context context Component component Object object throws Converter Exception return object null null Enum object name 
package org jboss seam util import java util Enumeration import java util No Such Element Exception public class Enumeration Enumeration implements Enumeration private Enumeration enumerations private int loc public Enumeration Enumeration Enumeration enumerations this enumerations enumerations public boolean has More Elements for int i loc i enumerations length i if enumerations i has More Elements return true return false public next Element while is Current Enumeration Available if current Has More Elements return current Next Element else next Enumeration throw new No Such Element Exception private void next Enumeration loc private boolean is Next Enumeration Available return loc enumerations length private boolean is Current Enumeration Available return loc enumerations length private current Next Element return enumerations loc next Element private boolean current Has More Elements return enumerations loc has More Elements 
package org jboss seam util import java util Enumeration import java util Iterator public class Enumeration Iterator implements Iterator private Enumeration e public Enumeration Iterator Enumeration e this e e public boolean has Next return e has More Elements public next return e next Element public void remove throw new Unsupported Operation Exception 
package org jboss seam ui validator import javax el Exception import javax el Value Expression import javax faces Faces Exception import javax faces application Application import javax faces application Faces Message import javax faces component Editable Value Holder import javax faces component Naming Container import javax faces component State Holder import javax faces component Component import javax faces context Faces Context import javax faces convert Converter import javax faces convert Converter Exception import javax faces render Renderer import javax faces validator Validator import javax faces validator Validator Exception import org jboss seam faces Faces Messages import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam ui component Decorate Validates two fields are equal author pmuir author Daniel Roth public class Equality Validator implements Validator State Holder private static Log Provider log Logging get Log Provider Equality Validator class public static final String org jboss seam ui validator public static final String org jboss seam ui validator Equality private enum Valid Operation private String for Id private String message private String message Id private Valid Operation operator Valid Operation Default public Equality Validator this message Value does not equal that in this message Id public Equality Validator String for Id this set For for Id public Equality Validator String for Id String message String message Id String operator this for Id if message null set Message message if message Id null set Message Id message Id if operator null equals operator if Valid Operation value Of operator to Upper Case null set Operator Valid Operation value Of operator to Upper Case else throw new Illegal State Exception Illegal operator Supported are valid Operators As String private String valid Operators As String String Buffer buff new String Buffer for Valid Operation op Valid Operation values buff append op name append return buff to String public void validate Faces Context context Component component Object value throws Validator Exception if get For null throw new Faces Exception Must specify a component to validate equality against Component other Component find Other Component component Object other new Other Component context other Component get Value if value null other null Thats fine else if value null switch operator case if value equals other throw Validation Exception value other Component other break case if value equals other throw Validation Exception value other Component other break case if compare value other throw Validation Exception value other Component other break case if compare value other throw Validation Exception value other Component other break case if compare value other throw Validation Exception value other Component other break case if compare value other throw Validation Exception value other Component other break private Component find Other Component Component component Component other Component component find Component get For If s decorate is used other Component will be null We have to look it up ourselves if other Component null Component decorate Parent null Component parent component get Parent while decorate Parent null parent null if parent instanceof Naming Container parent instanceof Decorate decorate Parent parent parent parent get Parent if decorate Parent null other Component find Child Component decorate Parent return other Component private Component find Child Component Component parent Component ret null for Component child parent get Children if child get Id equals get For ret child else ret find Child Component child if ret null break return ret private int compare Object value Object other throws Illegal Argument Exception try Comparable c Comparable value return c compare To other catch Exception e throw new Illegal Argument Exception Values are not comparable e private void throw Validation Exception Object value Component other Component Object other throw new Validator Exception Faces Messages create Faces Message Faces Message get Message Id get Message other Component get Id value other public String get For return for Id public void set For String for Id this for Id for Id public String get Message return message public void set Message String message this message message public String get Message Id return message Id public void set Message Id String message Id this message Id message Id public boolean is Transient return false public void restore State Faces Context context Object state Object fields Object state for Id String fields message String fields message Id String fields operator Valid Operation value Of String fields public Object save State Faces Context context Object state new Object state for Id state message state message Id state operator to String return state public void set Transient boolean new Transient Value No op Simple data structure to hold info on the other component author pmuir private class Other Component private Faces Context context private Component component private Editable Value Holder editable Value Holder private Renderer renderer private Converter converter public Other Component Faces Context faces Context Component component this component component this context faces Context if component instanceof Editable Value Holder throw new Illegal State Exception for Id must reference an Editable Value Holder input component editable Value Holder Editable Value Holder component init Renderer init Converter private void init Renderer if renderer null String renderer Type component get Renderer Type if renderer Type null renderer context get Render Kit get Renderer component get Family renderer Type if null renderer log trace Ca n t get Renderer for type renderer Type else if log is Trace Enabled String id component get Id id null id id component get Class get Name log trace No renderer type for component id private void init Converter converter editable Value Holder get Converter if converter null return Value Expression value Expression component get Value Expression value if value Expression null return Class converter Type try converter Type value Expression get Type context get Context catch Exception e throw new Faces Exception e if converter Type is null String or Object assume no conversion is needed if converter Type null converter Type String class converter Type Object class return if get Type returns a type for which we support a default conversion acquire an appropriate converter instance try Application application context get Application converter application create Converter converter Type catch Exception e throw new Faces Exception e private Object get Converted Value Object new Submitted Value throws Converter Exception Object new Value if renderer null new Value renderer get Converted Value context component new Submitted Value else if new Submitted Value instanceof String If there s no Renderer and we ve got a String run it through the Converter if any if converter null new Value converter get As Object context component String new Submitted Value else new Value new Submitted Value else new Value new Submitted Value return new Value public Object get Value If conversion already is done return value if editable Value Holder is Local Value Set return editable Value Holder get Value Convert submittet value Object submitted Value editable Value Holder get Local Value if submitted Value null return null Object new Value null try new Value get Converted Value submitted Value catch Converter Exception ce Any errors will be attached by return null return new Value public Valid Operation get Operator return operator public void set Operator Valid Operation operator this operator operator 
package org jboss seam example ui import java io Serializable import java util Date import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam international Status Messages import org jboss seam international Status Message Severity import org jboss seam util Strings Name equality Validator Bean Scope Scope Type public class Equality Validator Bean implements Serializable In private Status Messages status Messages private String name private Long age private Date date public void check if Strings is Empty name status Messages add To Control name Severity Enter a name else status Messages add To Control name Severity public void check Date if date null status Messages add To Control date Severity Enter a date else status Messages add To Control date Severity public Date get Date return date public void set Date Date date this date date public String get Name return name public void set Name String name this name name public Long get Age return age public void set Age Long age this age age 
package org jboss seam ui renderkit import java io Exception import javax faces component Editable Value Holder import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import javax faces event import javax faces validator Validator import org jboss seam ui component Equality Validator import org jboss seam ui util cdk Renderer Base import org jboss seam ui validator Equality Validator import org richfaces cdk annotations Jsf Renderer This class mainly does some validation hook in author Daniel Roth author a href http community jboss org people bleathem Brian Leathem a Listener For system Event Class Post Add To View Event class Jsf Renderer type org jboss seam ui Equality Validator Renderer family org jboss seam ui Equality Validator Renderer public class Equality Validator Renderer Base extends Renderer Base implements Component System Event Listener Override protected Class get Component Class return Equality Validator class private void attach Validator Component component Equality Validator ev Equality Validator component Editable Value Holder evh null if ev null ev get Parent instanceof Editable Value Holder evh Editable Value Holder ev get Parent if evh null throw new Illegal Argument Exception validate Equality tag must be nested in an Editable Value Holder input tag if has Equality Validator evh evh add Validator new Equality Validator ev get For ev get Message ev get Message Id ev get Operator evh set Required ev is Required private boolean has Equality Validator Editable Value Holder evh for Validator validator evh get Validators if validator instanceof Equality Validator return true return false Override public boolean get Renders Children return true Override public void process Event Component System Event event throws Abort Processing Exception Component component event get Component this attach Validator component 
package org jboss seam exception import org jboss seam contexts Contexts import org jboss seam core Conversation Base implementation of error exception handlers author Gavin King public abstract class Error Handler extends Exception Handler protected abstract int get Code Exception e protected abstract String get Message Exception e protected abstract boolean is End Exception e Override public void handle Exception e throws Exception if Contexts is Conversation Context Active is End e Conversation instance end String msg get Display Message e get Message e error get Code e msg Override public String to String return Error Handler 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam contexts import java util Map import org jboss seam Scope Type Event context spans a single request to the server author Gavin King public class Event Context extends Basic Context public Event Context Map String Object map super Scope Type map 
package org jboss seam wicket ioc import org jboss seam annotations Raise Event import org jboss seam core Events public class Event Interceptor implements Stateless Interceptor public Object after Invoke Invocation Context invocation Context Object result if result null invocation Context get Constructor null invocation Context get Method null invocation Context get Method get Return Type equals void class if invocation Context get Accessible Object is Annotation Present Raise Event class String types invocation Context get Accessible Object get Annotation Raise Event class value if types length Events instance raise Event invocation Context get Member get Name else for String type types Events instance raise Event type return result public void before Invoke Invocation Context invocation Context public Exception handle Exception Invocation Context invocation Context Exception exception return exception 
package org jboss seam core import static org jboss seam annotations Install import java util List import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam async Abstract Dispatcher import org jboss seam async Cron Schedule import org jboss seam async Dispatcher import org jboss seam async Schedule import org jboss seam async Timer Schedule import org jboss seam contexts Contexts import org jboss seam core Expressions Method Expression import org jboss seam core Init Observer Method import org jboss seam core Init Observer Method Expression import org jboss seam log Log Provider import org jboss seam log Logging Support for Seam component driven events author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam core events Install precedence public class Events private static final Log Provider log Logging get Log Provider Events class Add a new listener for a given event type param type the event type param method Binding Expression a method binding expressed in param arg Types the argument types of the method binding public void add Listener String type String method Binding Expression Class arg Types Method Expression method Binding Expressions instance create Method Expression method Binding Expression Object class arg Types Init instance add Observer Method Expression type method Binding Raise an event that is to be processed synchronously param type the event type param parameters parameters to be passes to the listener method public void raise Event String type Object parameters find a way to map event parameters to params in an defined listener log trace Processing event type List Init Observer Method Expression list Init instance get Observer Method Expressions type if list null for Observer Method Expression listener list listener get Method Binding invoke parameters List Init Observer Method observers Init instance get Observer Methods type if observers null for Observer Method observer observers String name observer get Component get Name Object listener Component get Instance name observer is Create false if observer get Component has Unwrap Method listener observer get Component get Scope get Context get name if listener null observer get Component call Component Method listener observer get Method parameters Raise an event that is to be processed asynchronously param type the event type param parameters parameters to be passes to the listener method public void raise Asynchronous Event String type Object parameters get Dispatcher schedule Asynchronous Event type parameters Raise an event that is to be processed according to a schedule see Timer Schedule quartz or timer service see Cron Schedule quartz timer service only param type the event type param schedule the schedule object specific to the dispatcher strategy param parameters parameters to be passes to the listener method public void raise Timed Event String type Schedule schedule Object parameters get Dispatcher schedule Timed Event type schedule parameters Raise an event that is to be processed after successful completion of the current transaction param type the event type param parameters parameters to be passes to the listener method public void raise Transaction Success Event String type Object parameters get Dispatcher schedule Transaction Success Event type parameters Raise an event that is to be processed after the current transaction ends param type the event type param parameters parameters to be passes to the listener method public void raise Transaction Completion Event String type Object parameters get Dispatcher schedule Transaction Completion Event type parameters return the Dispatcher object to use for dispatching asynchronous and timed events protected Dispatcher get Dispatcher return Abstract Dispatcher instance public static boolean exists return Contexts is Event Context Active instance null public static Events instance return Events Component get Instance Events class Scope Type 
package org jboss seam intercept The kinds of invocations that can be intercepted by an interceptor author Gavin King enum Event Type 
package org jboss seam excel ui import java io Exception import java io String Writer import java util Array List import java util List import javax faces component Component import javax faces component Component Base import javax faces context Faces Context import javax faces context Response Writer import javax faces render Render Kit import org jboss seam excel Excel Workbook import org jboss seam excel Worksheet Item import org jboss seam excel ui command Command import org jboss seam ui util Common superclass for the components Contains helper methods for merging etc author Nicklas Karlsson nickarls gmail com author Daniel Roth danielc roth gmail com public abstract class Excel Component extends Component Base private static final String text html private static final String utf The style class private String style Class The style private String style Helper method for rendering a component usually on a facescontext with a caching reponsewriter param faces Context The faces context to render to param component The component to render return The textual representation of the component throws Exception If the helper class ca n t render the component public static String cmp String Faces Context faces Context Component component throws Exception Response Writer old Response Writer faces Context get Response Writer String content Type old Response Writer null old Response Writer get Content Type String character Encoding old Response Writer null old Response Writer get Character Encoding Render Kit render Kit faces Context get Render Kit String Writer cacheing Writer new String Writer Response Writer new Response Writer render Kit create Response Writer cacheing Writer content Type character Encoding faces Context set Response Writer new Response Writer render Child faces Context component if old Response Writer null faces Context set Response Writer old Response Writer cacheing Writer flush cacheing Writer close return cacheing Writer to String public Excel Component super Helper class that returns all children of a certain type implements interface param The type to check for param children The list of children to search param child Type The child type return The list of matching items Suppress Warnings unchecked public static List get Children Of Type List Component children Class child Type List matches new Array List for Component child children if child Type is Assignable From child get Class matches add child return matches Returns all commands from a child list param children The list to search return The commands protected static List Command get Commands List Component children return get Children Of Type children Command class Returns all worksheet items cells images hyperlinks from a child list param children The list to search return The items protected static List Worksheet Item get Items List Component children return get Children Of Type children Worksheet Item class Helper method for fetching value through binding param name The field to bind to param default Value The default value to fall back to return The field value protected Object value Of String name Object default Value Object value default Value if get Value Expression name null value get Value Expression name get Value Faces Context get Current Instance get Context return value Fetches the parent workbook from a component param component The component to examine return The workbook protected Excel Workbook get Workbook Component component if component null return null if component instanceof Workbook Workbook ui Work Book Workbook component return ui Work Book get Excel Workbook else return get Workbook component get Parent Gets a parent of a certain class param root The root where to start searching param search Class The class to search for return The parent if found Suppress Warnings unchecked protected Component get Parent By Class Component root Class search Class if root null return null if root get Class search Class return root return get Parent By Class root get Parent search Class public String get Style Class return String value Of style Class style Class public void set Style Class String style Class this style Class style Class public String get Style return String value Of style style public void set Style String style this style style 
package org jboss seam excel exporter import java io Exception import java util Array List import java util Hash Map import java util Iterator import java util List import java util Map import javax faces component Component import javax faces component Data import javax faces component Output import javax faces context Faces Context import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Interpolator import org jboss seam core Manager import org jboss seam document Byte Array Document Data import org jboss seam document Document Data import org jboss seam document Document Store import org jboss seam excel Excel Factory import org jboss seam excel Excel Workbook import org jboss seam excel Excel Workbook Exception import org jboss seam excel css Names import org jboss seam excel css Column Style import org jboss seam excel css Parser import org jboss seam excel css Style Map import org jboss seam excel ui Excel Component import org jboss seam excel ui Cell import org jboss seam excel ui Column import org jboss seam excel ui Workbook import org jboss seam excel ui Worksheet import org jboss seam navigation Pages Excel export class that exports a Data component to an Excel workbook author Nicklas Karlsson nickarls gmail com author Daniel Roth danielc roth gmail com Name org jboss seam excel exporter excel Exporter Scope Scope Type Install precedence Install Bypass Interceptors public class Excel Exporter The excel workbook implementation private Excel Workbook excel Workbook null map of known column widths private Map Integer Integer column Widths new Hash Map Integer Integer Helper method to call the exporter and use the default excel workbook implementation param data Table Id public void export String data Table Id export data Table Id Exports the Data object to Excel workbook Looks up the component parse the templates iterates the columns and the Output elements within param data Table Id id of data table to export param type Excel Workbook implementation to use Suppress Warnings unchecked public void export String data Table Id String type excel Workbook Excel Factory instance get Excel Workbook type Parser parser new Parser Gets the datatable Data data Table Data Faces Context get Current Instance get View Root find Component data Table Id if data Table null throw new Excel Workbook Exception Interpolator instance interpolate Could not find data table with id data Table Id Inits the workbook and worksheet Workbook ui Workbook new Workbook excel Workbook create Workbook ui Workbook Worksheet ui Worksheet new Worksheet ui Workbook get Children add ui Worksheet ui Worksheet set Style Parser get Style data Table ui Worksheet set Style Class Parser get Style Class data Table excel Workbook create Or Select Worksheet ui Worksheet Saves the datatable var String data Table Var data Table get Var Object old Value Faces Context get Current Instance get External Context get Request Map get data Table Var Processes the columns List javax faces component Column columns Excel Component get Children Of Type data Table get Children javax faces component Column class column Widths parse Column Widths ui Worksheet int col for javax faces component Column column columns Column Style column Style new Column Style parser get Cascaded Style Map column boolean css Export column Style export null column Style export if column is Rendered css Export ui Worksheet get Children add column Iterator iterator Worksheet unwrap Iterator data Table get Value process Column column iterator data Table Var col excel Workbook next Column Restores the data table var if old Value null Faces Context get Current Instance get External Context get Request Map remove data Table Var else Faces Context get Current Instance get External Context get Request Map put data Table Var old Value Redirects to the generated document redirect Export Parses column widths from a worksheet tag param worksheet The worksheet to get the style from return The map of column number column width private Map Integer Integer parse Column Widths Worksheet worksheet Map Integer Integer column Widths new Hash Map Integer Integer Parser parser new Parser Style Map style Map parser get Cascaded Style Map worksheet for Map Entry String Object entry style Map entry Set String key entry get Key if key starts With Names String column Index String key substring Names length int column Index Integer parse Int column Index String column Widths put column Index Integer entry get Value return column Widths Puts document in store and redirects private void redirect Export String view Id Pages get View Id Faces Context get Current Instance String base Name Pages get Current Base Name Document Data document Data new Byte Array Document Data base Name excel Workbook get Document Type excel Workbook get Bytes String id Document Store instance new Id String url Document Store instance preferred Url For Content base Name excel Workbook get Document Type get Extension id url Manager instance encode Conversation Id url view Id Document Store instance save Data id document Data try Faces Context get Current Instance get External Context redirect url catch Exception e throw new Excel Workbook Exception Interpolator instance interpolate Could not redirect to url e Processes a datatable column param column The column to parse param iterator The iterator to the data param var The binding var param col Suppress Warnings unchecked private void process Column javax faces component Column column Iterator iterator String var int column Index Process header facet Component header Facet column get Facet Column if header Facet null Output class is Assignable From header Facet get Class List Output header Outputs new Array List Output header Outputs add Output header Facet process Outputs column header Outputs Process data while iterator has Next Faces Context get Current Instance get External Context get Request Map put var iterator next List Output data Outputs Excel Component get Children Of Type column get Children Output class process Outputs column data Outputs Integer column Width column Widths get column Index if column Width null Column ui Column new Column ui Column set Style Names column Width excel Workbook apply Column Settings ui Column Processes all output type elements in column param outputs The list of outputs to process param pre Templates The pre pushed templates private void process Outputs javax faces component Column column List Output outputs for Output output outputs if output is Rendered continue Cell cell new Cell column get Children add cell cell set Id output get Id cell set Value output get Value cell set Style Parser get Style output cell set Style Class Parser get Style Class output excel Workbook add Item cell 
package org jboss seam excel import java util Hash Map import java util Map import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Auto Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam excel csv Csv Excel Workbook import org jboss seam excel jxl Excel Workbook import org jboss seam util Strings Factory to get excel workbook implementation author Daniel Roth danielc roth gmail com Name org jboss seam excel excel Factory Scope Scope Type Auto Create Install precedence Install Bypass Interceptors public class Excel Factory private static Map String Class extends Excel Workbook default Implementations private Map String Class implementations static default Implementations new Hash Map String Class extends Excel Workbook default Implementations put csv Csv Excel Workbook class default Implementations put jxl Excel Workbook class public static Excel Factory instance return Excel Factory Component get Instance Excel Factory class public Excel Workbook get Excel Workbook String type Class extends Excel Workbook clazz Excel Workbook excel Workbook if Strings is Empty type type jxl if implementations null implementations get type null clazz implementations get type else clazz default Implementations get type if clazz null throw new Illegal Argument Exception Unable to create workbook of type type try excel Workbook clazz new Instance catch Exception e throw new Illegal Argument Exception The class provided could not be instanciated type e return excel Workbook public Map String Class get Implementations return implementations public void set Implementations Map String Class implementations this implementations implementations 
package org jboss seam excel import java util List import org jboss seam document Document Data Document Type import org jboss seam excel ui Column import org jboss seam excel ui Link import org jboss seam excel ui Workbook import org jboss seam excel ui Worksheet import org jboss seam excel ui command Command General interface interacting with an Excel Workbook abstraction author Nicklas Karlsson nickarls gmail com author Daniel Roth danielc roth gmail com public interface Excel Workbook public abstract Document Type get Document Type Moves the internal column pointer to the next column called by the tag to indicate that a new column has been started If the pointer exceeds the maximum allowed throws an exception public abstract void next Column Creates a new worksheet in the workbook or selects one if it exists Will require a rework for auto renaming when support for auto adding of new worksheets if there are more than k rows param ui Worksheet Worksheet to create or select public abstract void create Or Select Worksheet Worksheet ui Worksheet Returns the binary data from the internal representation of the workbook return the bytes public abstract byte get Bytes Initializes a new workbook Must be called first param ui Workbook the workbook item to create public abstract void create Workbook Workbook ui Workbook Applies column settings to the current column param ui Column The column to inspect for settings public abstract void apply Column Settings Column ui Column Adds an item cell image hyperlink to add to the worksheet param item The item to add public abstract void add Item Worksheet Item item Executes a command for a worksheet param command The command to execute public abstract void execute Command Command command Places an item in the worksheet header param item The item to add param colspan The number of columns to span public abstract void add Worksheet Header Worksheet Item item int colspan Places an item in the worksheet footer param item The item to add param colspan The number of columns to span public abstract void add Worksheet Footer Worksheet Item item int colspan Sets stylesheets for the workbook param stylesheets The stylesheets to set public abstract void set Stylesheets List Link stylesheets 
package org jboss seam excel Encapsulate errors occuring in excel workbook generation author Nicklas Karlsson nickarls gmail com author Daniel Roth danielc roth gmail com public class Excel Workbook Exception extends Runtime Exception private static final long serial Version public Excel Workbook Exception super public Excel Workbook Exception String message super message public Excel Workbook Exception String message Throwable t super message t public Excel Workbook Exception Throwable t super t 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam web import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Exception import javax faces component View Root import javax servlet Filter Chain import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam Seam import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter import org jboss seam contexts Contexts import org jboss seam contexts Faces Lifecycle import org jboss seam contexts Lifecycle import org jboss seam core Conversation Propagation import org jboss seam core Manager import org jboss seam exception Exceptions import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam mock Mock Application import org jboss seam mock Mock External Context import org jboss seam mock Mock Faces Context import org jboss seam transaction Transaction import org jboss seam transaction User Transaction Delegate uncaught exceptions to Seam exception handling As a last line of defence rollback uncommitted transactions and clean up Seam contexts author Gavin King Scope Name org jboss seam web exception Filter Install precedence class Dependencies javax faces context Faces Context Bypass Interceptors Filter within org jboss seam web ajax jsf Filter public class Exception Filter extends Abstract Filter private static final Log Provider log Logging get Log Provider Exception Filter class public void do Filter Servlet Request request Servlet Response response Filter Chain chain throws Exception Servlet Exception try chain do Filter request response catch Exception e log debug handling uncaught exception e log debug exception root cause org jboss seam util Exceptions get Cause e end Web Request After Exception Http Servlet Request request Http Servlet Response response e protected void end Web Request After Exception Http Servlet Request request Http Servlet Response response Exception e throws Servlet Exception Exception log debug running exception handlers if the event context was cleaned up fish the conversation id directly out of the Servlet Request attributes else get it from the event context Manager manager Contexts is Event Context Active Manager Contexts get Event Context get Manager class Manager request get Attribute Seam get Component Name Manager class String conversation Id manager null null manager get Current Conversation Id Ensure that the call in which the exception occurred was cleaned up it might not be and there is no harm in trying Lifecycle end Request the Faces Context is gone create a fake one for Redirect and Http Error to call Mock Faces Context faces Context create Faces Context request response faces Context set Current Initialize the temporary context objects Faces Lifecycle begin Exception Recovery faces Context get External Context If there is an existing long running conversation on the failed request propagate it if conversation Id null Manager instance initialize Temporary Conversation else Conversation Propagation instance set Conversation Id conversation Id Manager instance restore Conversation Now do the exception handling try rollback Transaction If Necessary Exceptions instance handle e catch Servlet Exception se throw se catch Exception ioe throw ioe catch Exception ehe throw new Servlet Exception ehe finally Finally clean up the contexts try Faces Lifecycle end Request faces Context get External Context faces Context release log debug done running exception handlers catch Exception ere log error could not destroy contexts ere private Mock Faces Context create Faces Context Http Servlet Request request Http Servlet Response response Mock Faces Context mock Faces Context new Mock Faces Context new Mock External Context get Servlet Context request response new Mock Application mock Faces Context set View Root new View Root return mock Faces Context protected void rollback Transaction If Necessary try User Transaction transaction Transaction instance if transaction is Active Or Marked Rollback transaction is Rolled Back log debug killing transaction transaction rollback catch Exception te log error could not roll back transaction te 
package org jboss seam exception import org jboss seam faces Navigator An element of the chain that knows how to handle a specific exception type author Gavin King public abstract class Exception Handler extends Navigator public enum Log Level fatal error warn info debug trace private boolean log Enabled private Log Level log Level public abstract void handle Exception e throws Exception public abstract boolean is Handler Exception e public boolean is Log Enabled return log Enabled public void set Log Enabled boolean log Enabled this log Enabled log Enabled public Log Level get Log Level return log Level public void set Log Level Log Level log Level this log Level log Level 
package org jboss seam exception import static org jboss seam annotations Install import static org jboss seam exception Exception Handler Log Level import java io Input Stream import java util Array List import java util List import javax faces application Faces Message import javax faces application Faces Message Severity import org dom j Document Exception import org dom j Element import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Events import org jboss seam core Expressions import org jboss seam core Init import org jboss seam core Resource Loader import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Pages import org jboss seam util Reflections import org jboss seam util Resources import org jboss seam util Strings import org jboss seam util Manages the exception handler chain author Gavin King Scope Scope Type Bypass Interceptors Install precedence class Dependencies javax faces context Faces Context Name org jboss seam exception exceptions public class Exceptions private static final Log Provider log Logging get Log Provider Exceptions class private List Exception Handler exception Handlers new Array List Exception Handler public void handle Exception e throws Exception if Contexts is Conversation Context Active Contexts get Conversation Context set org jboss seam caught Exception e build a list of the nested exceptions List Exception causes new Array List Exception for Exception cause e cause null cause org jboss seam util Exceptions get Cause cause causes add cause try to match each handler in turn for Exception Handler eh exception Handlers Try to handle most nested exception before least nested for int i causes size i i Exception cause causes get i if eh is Handler cause if Contexts is Conversation Context Active Contexts get Conversation Context set org jboss seam handled Exception cause eh handle cause if eh is Log Enabled eh get Log Level null switch eh get Log Level case fatal log fatal handled and logged exception e break case error log error handled and logged exception e break case warn log warn handled and logged exception e break case info log info handled and logged exception e break case debug log debug handled and logged exception e break case trace log trace handled and logged exception e Events instance raise Event org jboss seam exception Handled cause get Class get Name cause Events instance raise Event org jboss seam exception Handled cause return finally rethrow it since no handler was found Events instance raise Event org jboss seam exception Not Handled e throw e Create public void initialize throws Exception List Exception Handler deferred Handlers new Array List Exception Handler deferred Handlers add parse exceptions xml deprecated for String page File Pages instance get Resources deferred Handlers add parse page File add Handler new Annotation Redirect Handler add Handler new Annotation Error Handler if Init instance is Debug Page Available add Handler new Debug Page Handler for Exception Handler handler deferred Handlers add Handler handler private void add Handler Exception Handler handler if handler null exception Handlers add handler private Exception Handler parse String file Name throws Document Exception Class Not Found Exception Exception Handler anyhandler null Input Stream stream Resource Loader instance get Resource As Stream file Name if stream null log debug reading exception mappings from file Name List Element elements null try elements get Root Element stream elements exception finally Resources close Stream stream for final Element exception elements String class Name exception attribute Value class boolean log Enabled exception attribute Value log null Boolean value Of exception attribute Value log true Log Level log Level Log Level error try String level Value exception attribute Value log level if level Value null level Value exception attribute Value log Level if level Value null log Level Log Level value Of level Value to Lower Case catch Illegal Argument Exception ex String Builder sb new String Builder sb append Exception handler if class Name null sb append for class class Name sb append is configured with an invalid log level Acceptable values are fatal error warn info debug trace default level of error has been configured instead log warn sb to String if class Name null anyhandler create Handler exception Exception class anyhandler set Log Enabled log Enabled anyhandler set Log Level log Level else Exception Handler handler null try handler create Handler exception Reflections class For Name class Name if handler null handler set Log Enabled log Enabled handler set Log Level log Level catch Class Not Found Exception e log error Ca n t find exception class for exception handler e if handler null exception Handlers add handler return anyhandler private Exception Handler create Handler Element exception final Class clazz final boolean end Conversation exception element Iterator end conversation has Next Element redirect exception element redirect if redirect null String view Id redirect attribute Value view id Element message Element redirect element message final String message message Element null null message Element get Text Trim String severity Name message Element null null message Element attribute Value severity Severity severity severity Name null Faces Message Pages get Faces Message Values Map get severity Name to Upper Case return new Config Redirect Handler view Id null null Expressions instance create Value Expression view Id String class clazz end Conversation message severity Element error exception element http error if error null String error Code error attribute Value error code final int code Strings is Empty error Code Integer parse Int error Code Element message Element error element message final String message message Element null null message Element get Text Trim return new Config Error Handler message end Conversation clazz code return null return the exception handler list which supports addition and removal of handlers public List Exception Handler get Handlers return exception Handlers public static Exceptions instance if Contexts is Application Context Active throw new Illegal State Exception No active application context return Exceptions Component get Instance Exceptions class Scope Type 
package org jboss seam remoting import java io Byte Array Output Stream import java io Exception import java io Output Stream import java io String Reader import java util Array List import java util Iterator import java util List import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org dom j Document import org dom j Element import org dom j io Reader import org jboss seam contexts Remoting Lifecycle import org jboss seam core Conversation Propagation import org jboss seam core Manager import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam remoting wrapper Wrapper import org jboss seam servlet Contextual Http Servlet Request import org jboss seam util Unmarshals the calls from an Http Servlet Request executes them in order and marshals the responses author Shane Bryzak public class Execution Handler extends Base Request Handler implements Request Handler private static final Log Provider log Logging get Log Provider Execution Handler class private static final byte header get Bytes private static final byte header get Bytes private static final byte conversation Id get Bytes private static final byte conversation Id get Bytes private static final byte context get Bytes private static final byte context get Bytes The entry point for handling a request param request Http Servlet Request param response Http Servlet Response throws Exception public void handle Http Servlet Request request final Http Servlet Response response throws Exception We re sending an response so set the response content type to text xml response set Content Type text xml Byte Array Output Stream out new Byte Array Output Stream byte buffer new byte int read request get Input Stream read buffer while read out write buffer read read request get Input Stream read buffer String request Data new String out to Byte Array log debug Processing remote request request Data Parse the incoming request as Reader xml Reader get Safe Sax Reader Document doc xml Reader read new String Reader request Data final Element env doc get Root Element final Request Context ctx unmarshal Context env we really want to extract the page context from our request Remoting Lifecycle restore Page Context new Contextual Http Servlet Request request Override public void process throws Exception Extract the calls from the request List Call calls unmarshal Calls env Execute each of the calls for Call call calls call execute Store the conversation in the outgoing context ctx set Conversation Id Manager instance get Current Conversation Id Package up the response marshal Response calls ctx response get Output Stream Override protected void restore Conversation Id Conversation Propagation instance set Conversation Id ctx get Conversation Id Override protected void handle Conversation Propagation run Unmarshals the context from the request envelope header param env Element return Request Context private Request Context unmarshal Context Element env Request Context ctx new Request Context Element header env element header if header null Element context header element context if context null Element conv Id context element conversation Id if conv Id null ctx set Conversation Id conv Id get Text return ctx Unmarshal the request into a list of Calls param env Element throws Exception private List Call unmarshal Calls Element env throws Exception try List Call calls new Array List Call List Element call Elements env element body elements call for Element e call Elements Call call new Call e attribute Value id e attribute Value component e attribute Value method First reconstruct all the references Element refs Node e element refs Iterator iter refs Node element Iterator ref while iter has Next call get Context create Wrapper From Element Element iter next Now unmarshal the ref values for Wrapper w call get Context get In Refs values w unmarshal Element params Node e element params Then process the param values iter params Node element Iterator param while iter has Next Element param Element iter next call add Parameter call get Context create Wrapper From Element Element param element Iterator next calls add call return calls catch Exception ex log error Error unmarshalling calls from request ex throw ex Write the results to the output stream param calls List The list of calls to write param out Output Stream The stream to write to throws Exception private void marshal Response List Call calls Request Context ctx Output Stream out throws Exception out write if ctx get Conversation Id null out write out write out write out write ctx get Conversation Id get Bytes out write out write out write out write for Call call calls Marshal Utils marshal Result call out out write out write out flush 
package org jboss seam annotations async import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target The expiration time at which an asynchronous call may first be processed or the first occurrence of a repeating asynchronous call This annotation occurs on a parameter of type Date of a method marked Asynchronous author Gavin King Target Retention Documented public interface Expiration 
Id Expressions java mana package org jboss seam core import static org jboss seam annotations Install import java io Buffered Reader import java io Exception import java io Input Stream import java io Input Stream Reader import java io Serializable import java util Array List import java util List import java util regex Pattern import javax el Context import javax el Expression Factory import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam el import org jboss seam el Seam Expression Factory import org jboss seam log Log Provider import org jboss seam log Logging Factory for method and value expressions This default implementation uses Boss author Gavin King Scope Scope Type Bypass Interceptors Install precedence Name org jboss seam core expressions public class Expressions implements Serializable private static final Log Provider log Logging get Log Provider Expressions class private static List String blacklist new Array List String loading blacklisted patterns of non valid expressions static Buffered Reader reader null try Input Stream blacklist Resource Loader instance get Resource As Stream blacklist properties reader new Buffered Reader new Input Stream Reader blacklist String line while line reader read Line null blacklist add line catch Exception e log warn Black list of non valid expressions was not found finally if reader null try reader close catch Exception e Get the Boss Expression Factory public Expression Factory get Expression Factory return Seam Expression Factory Get an appropriate Context If there is an active request use s Context Otherwise use one that we create public Context get Context return create Context Create a value expression param expression a Boss value expression public Value Expression Object create Value Expression String expression return create Value Expression expression Object class Create a method expression param expression a Boss method expression public Method Expression Object create Method Expression String expression return create Method Expression expression Object class Create a value expression param expression a Boss value expression param type the type of the value public Value Expression create Value Expression final String expression final Class type check Expression expression return new Value Expression private javax el Value Expression faces Value Expression private javax el Value Expression seam Value Expression public javax el Value Expression to Unified Value Expression if is Faces Context Active if faces Value Expression null faces Value Expression create Expression return faces Value Expression else if seam Value Expression null seam Value Expression create Expression return seam Value Expression private javax el Value Expression create Expression return get Expression Factory create Value Expression get Context expression type public get Value return to Unified Value Expression get Value get Context public void set Value value to Unified Value Expression set Value get Context value public String get Expression String return expression public Class get Type should n t we use the type provided in the constructor return Class to Unified Value Expression get Type get Context Create a method expression param expression a Boss method expression param type the method return type param arg Types the method parameter types public Method Expression create Method Expression final String expression final Class type final Class arg Types check Expression expression return new Method Expression private javax el Method Expression faces Method Expression private javax el Method Expression seam Method Expression public javax el Method Expression to Unified Method Expression if is Faces Context Active if faces Method Expression null faces Method Expression create Expression return faces Method Expression else if seam Method Expression null seam Method Expression create Expression return seam Method Expression private javax el Method Expression create Expression return get Expression Factory create Method Expression get Context expression type arg Types public invoke Object args return to Unified Method Expression invoke get Context args public String get Expression String return expression value expression an expression that evaluates to an attribute getter or get set pair This interface is just a genericized version of the Unified Value Expression interface author Gavin King param the type of the value public static interface Value Expression extends Serializable public get Value public void set Value value public String get Expression String public Class get Type return the underlying Unified Value Expression public javax el Value Expression to Unified Value Expression method expression an expression that evaluates to a method This interface is just a genericized version of the Unified Value Expression interface author Gavin King param the method return type public static interface Method Expression extends Serializable public invoke Object args public String get Expression String return the underlying Unified Method Expression public javax el Method Expression to Unified Method Expression protected boolean is Faces Context Active return false Gets the validator from the Component object if this is a Seam component we need to use the validator for the bean class not the proxy class or from a Model object if it is not a Seam component there is n t any proxy param instance the object to be validated param component Name the name of the context variable which might be a component name return a Class Validator object private static Class Validator get Validator Object instance String component Name if instance null component Name null throw new Illegal Argument Exception Component component Component for Name component Name return component null Model for Class instance get Class component get Validator public static Expressions instance if Contexts is Application Context Active return new Expressions else return Expressions Component get Instance Expressions class Scope Type optimalization of final static String s final static Pattern Pattern compile private static void check Expression final String expression if expression null return final String expression Trimmed matcher expression replace All for int index blacklist size index index if expression Trimmed contains blacklist get index throw new Illegal Argument Exception This expression is not allowed for any case blacklist is not provided this is definitely not permitted if expression Trimmed contains get Class expression Trimmed contains class throw new Illegal Argument Exception This expression is not allowed 
package org jboss seam ui facelet import static org jboss seam Scope Type import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Auto Create import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import com sun faces application Application Associate import com sun faces facelets compiler Compiler Name org jboss seam ui faces facelet facelet Compiler Scope Bypass Interceptors Auto Create Install value true precedence Install class Dependencies com sun faces facelets Facelet public class Facelet Compiler private com sun faces facelets compiler Compiler compiler Create public void create Application Associate application Associate Application Associate get Current Instance if application Associate null compiler application Associate get Compiler else this requires to initialize custom tag library compiler new Compiler Unwrap public com sun faces facelets compiler Compiler unwrap return compiler public static com sun faces facelets compiler Compiler instance if Contexts is Application Context Active throw new Illegal State Exception No active application scope return com sun faces facelets compiler Compiler Component get Instance Facelet Compiler class Scope Type 
package org jboss seam ui facelet import java io Exception import org jboss seam Scope Type import org jboss seam annotations Auto Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam faces Renderer Implementation of Renderer using Facelets Especially useful for sending email using Seam Mail author Pete Muir author Norman Richards Scope Scope Type Bypass Interceptors Name org jboss seam faces renderer Auto Create Install value true precedence Install class Dependencies com sun faces facelets Facelet public class Facelets Renderer extends Renderer Render the view Id anything written to the Response Writer is returned Override public String render final String view Id Renderer Request renderer Request new Renderer Request view Id try renderer Request run catch Exception e throw new Runtime Exception error rendering view Id e return renderer Request get Output 
package org jboss seam util import javax faces Faces Exception import javax faces application View Handler import javax faces context Faces Context public class Faces public static String get Default Suffix Faces Context context throws Faces Exception String view Suffix context get External Context get Init Parameter View Handler return view Suffix null view Suffix View Handler 
Id Faces Context java gavin package org jboss seam faces import static org jboss seam annotations Install import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors Support for injecting the Faces Context object author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam faces faces Context Install precedence class Dependencies javax faces context Faces Context public class Faces Context Unwrap public javax faces context Faces Context get Context return javax faces context Faces Context get Current Instance 
Id Faces Expressions java dan j allen package org jboss seam faces import static org jboss seam annotations Install import javax el Context import javax faces context Faces Context import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Faces Lifecycle import org jboss seam core Expressions Factory for method and value bindings in a environment author Gavin King Scope Scope Type Bypass Interceptors Install precedence class Dependencies javax faces context Faces Context Name org jboss seam core expressions public class Faces Expressions extends Expressions Get an appropriate Context If there is an active request use s Context Otherwise use one that we created Override public Context get Context return is Faces Context Active Faces Context get Current Instance get Context super get Context Override protected boolean is Faces Context Active return Faces Context get Current Instance null Faces Lifecycle get Phase Id null 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam contexts import java util Map import javax faces context External Context import javax faces context Faces Context import javax faces event Phase Id import org jboss seam Scope Type import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Pages import org jboss seam web Session Methods for setup and teardown of Seam contexts at the beginning and end of requests see org jboss seam jsf Seam Phase Listener author Gavin King author a href mailto theute jboss org Thomas Heute a public class Faces Lifecycle private static Thread Local Phase Id phase Id new Thread Local Phase Id private static final Log Provider log Logging get Log Provider Faces Lifecycle class public static void set Phase Id Phase Id phase phase Id set phase public static Phase Id get Phase Id return phase Id get public static void clear Phase Id set Phase Id null public static void begin Request External Context external Context log debug Begin request for get Request Path external Context Contexts event Context set new Event Context external Context get Request Map Contexts application Context set new Application Context external Context get Application Map Contexts session Context set new Session Context external Context get Session Map Session session Session get Instance if session null session is Invalid Due To New Scheme Pages instance get Request Scheme Faces Context get Current Instance invalidate Session external Context Contexts conversation Context set null in case end Request was never called Events instance only for now until we have a way to do outside of save Request Path external Context with rewriting the filter chain might not have access to the post rewrite request information we ll save some of the information that we may need private static void save Request Path External Context external Context Map String Object map external Context get Request Map map put org jboss seam web request Servlet Path external Context get Request Servlet Path map put org jboss seam web request Context Path external Context get Request Context Path map put org jboss seam web request Path Info external Context get Request Path Info public static void begin Exception Recovery External Context external Context log debug Begin exception recovery application and session contexts are easy Contexts application Context set new Application Context external Context get Application Map Contexts session Context set new Session Context external Context get Session Map do n t really have anything good to do with these ones Contexts page Context set null Contexts business Process Context set null is this really correct depending upon when the exception occurs end Request may or may not get called by Seam Phase Listener this is because the stupid spec gives me know way to determine if an exception occurred during the phase if Contexts is Event Context Active this means that end Request never ran so the components in the context have not yet been destroyed and we can re use them Contexts event Context set new Event Context external Context get Request Map else the end Request method already ran so the context is in principle empty but we ca n t use the actual Servlet Request since it contains garbage components that have already been destroyed we could change that in Event Context Contexts event Context set new Basic Context Scope Type for the conversation context we need to account for flushing note that since we ca n t guarantee that it s components get flushed to the session there is always a possibility of components that were newly created in the current request leaking we could fix that by copying unflushed changes in the context object into the new context object or we could fix it by flushing at the end of every phase boolean conversation Context Flushed Contexts is Conversation Context Active Server Conversation Context conversation Context new Server Conversation Context external Context get Session Map Contexts conversation Context set conversation Context if conversation Context Flushed conversation Context unflush public static void end Request External Context external Context log debug After render response destroying contexts try Session session Session get Instance boolean session Invalid session null session is Invalid Contexts flush And Destroy Contexts if session Invalid Lifecycle clear Threadlocals clear Phase Id invalidate Session external Context actual session context will be destroyed from the listener finally Lifecycle clear Threadlocals log debug End request for get Request Path external Context Invalidate the session no matter what kind of session it is portlet or servlet Why is this method not on External Context Oh boy those crazy rascals in the private static void invalidate Session External Context external Context Object session external Context get Session false if session null try session get Class get Method invalidate invoke session catch Exception e throw new Runtime Exception e public static void resume Conversation External Context external Context Server Conversation Context conversation Context new Server Conversation Context external Context get Session Map Context conversation Context Init instance is Client Side Conversations Context new Client Conversation Context Context new Server Conversation Context external Context get Session Map Contexts conversation Context set conversation Context Contexts business Process Context set new Business Process Context conversation Context unflush public static void resume Page Contexts page Context set new Page Context private static String get Request Path External Context external Context return external Context get Request Context Path external Context get Request Servlet Path 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam faces import static org jboss seam annotations Install import java io Exception import java util Collections import java util Hash Map import java util Map import java util String Tokenizer import javax faces context External Context import javax faces context Faces Context import javax faces event Phase Id import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam contexts Faces Lifecycle import org jboss seam core Conversation import org jboss seam core Init import org jboss seam core Interpolator import org jboss seam core Manager import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Conversation Id Parameter import org jboss seam navigation Pages import org jboss seam pageflow Pageflow An extended conversation manager for the environment author Gavin King author a href mailto theute jboss org Thomas Heute a Scope Scope Type Name org jboss seam core manager Install precedence class Dependencies javax faces context Faces Context Bypass Interceptors public class Faces Manager extends Manager private static final Log Provider log Logging get Log Provider Faces Manager class private boolean controlling Redirect Temporarily promote a temporary conversation to a long running conversation for the duration of a browser redirect After the redirect the conversation will be demoted back to a temporary conversation Handle any changes to the conversation id due to propagation via natural id public void before Redirect String view Id before Redirect Faces Context faces Context Faces Context get Current Instance String current View Id Pages get View Id faces Context if view Id null current View Id null Conversation Id Parameter current Page Pages instance get Page current View Id get Conversation Id Parameter Conversation Id Parameter target Page Pages instance get Page view Id get Conversation Id Parameter if is Different Conversation Id current Page target Page update Current Conversation Id target Page get Conversation Id public void interpolate And Redirect String url Map String Object parameters new Hash Map String Object int loc url index Of if loc String Tokenizer tokens new String Tokenizer url substring loc while tokens has More Tokens String name tokens next Token if tokens has More Tokens String value Interpolator instance interpolate tokens next Token parameters put name value url url substring loc redirect url parameters true true Override protected void store Conversation To View Root If Necessary Faces Context faces Context Faces Context get Current Instance if faces Context null Faces Lifecycle get Phase Id Phase Id Faces Lifecycle get Phase Id Phase Id Faces Page instance store Conversation Override protected String generate Initial Conversation Id Faces Context faces Context Faces Context get Current Instance String view Id Pages get View Id faces Context if view Id null return Pages instance get Page view Id get Conversation Id Parameter get Initial Conversation Id faces Context get External Context get Request Parameter Map else return super generate Initial Conversation Id public void redirect To External String url try Faces Context get Current Instance get External Context redirect url catch Exception e throw new Redirect Exception e Redirect to the given view id encoding the conversation id into the request param view Id the view id Override public void redirect String view Id redirect view Id null true true public void redirect String view Id Map String Object parameters boolean include Conversation Id redirect view Id parameters include Conversation Id true Redirect to the given view id after encoding parameters and conversation id into the request param view Id the view id param parameters request parameters to be encoded possibly null param include Conversation Id determines if the conversation id is to be encoded Suppress Warnings unchecked public void redirect String view Id Map String Object parameters boolean include Conversation Id boolean include Page Params if view Id null throw new Redirect Exception can not redirect to a null view Id Faces Context context Faces Context get Current Instance String url context get Application get View Handler get Redirect context view Id Collections false if parameters null url encode Parameters url parameters if include Page Params url Pages instance encode Page Parameters Faces Context get Current Instance url view Id parameters null Collections parameters key Set if include Conversation Id before Redirect view Id url encode Conversation Id url view Id redirect view Id context url Redirect to the given view id after encoding the given conversation id into the request param view Id the view id param conversation Id an id of a long running conversation Override public void redirect String view Id String conversation Id if view Id null throw new Redirect Exception can not redirect to a null view Id Faces Context context Faces Context get Current Instance String url context get Application get View Handler get Redirect context view Id Collections false url encode Conversation Id url view Id conversation Id redirect view Id context url private void redirect String view Id Faces Context context String url url Pages instance encode Scheme view Id context url if log is Debug Enabled log debug redirecting to url External Context external Context context get External Context controlling Redirect true try Contexts get Event Context set external Context redirect external Context encode Action url catch Exception ioe throw new Redirect Exception ioe catch Illegal State Exception ise throw new Redirect Exception ise get Message finally Contexts get Event Context remove controlling Redirect false context response Complete Called by the Seam Redirect Filter when a redirect is called Appends the conversation Id parameter if necessary param url the requested return the resulting with the conversation Id appended public String append Conversation Id From Redirect Filter String url String view Id boolean append Conversation Id controlling Redirect if append Conversation Id before Redirect view Id url encode Conversation Id url view Id return url If a page description is defined remember the description and view id for the current page to support conversation switching Called just before the render phase public void prepare Backswitch Faces Context faces Context Conversation conversation Conversation instance stuff from j takes precedence org jboss seam pageflow Page page Manager instance is Long Running Conversation Init instance is Jbpm Installed Pageflow instance is In Process Pageflow instance is Started Pageflow instance get Page null if page null handle stuff defined in pages xml Pages pages Pages instance if pages null for tests String view Id Pages get View Id faces Context org jboss seam navigation Page page Entry pages get Page view Id if page Entry is Switch Enabled conversation set View Id view Id if page Entry has Description conversation set Description page Entry render Description else if pages has Description view Id conversation set Description pages render Description view Id conversation set Timeout pages get Timeout view Id conversation set Concurrent Request Timeout pages get Concurrent Request Timeout view Id else use stuff from the pageflow definition if page is Switch Enabled conversation set View Id Pageflow instance get Page View Id if page has Description conversation set Description page get Description conversation set Timeout page get Timeout flush Conversation Metadata public static Faces Manager instance return Faces Manager Manager instance 
package org jboss seam faces import static org jboss seam annotations Install import java util Array List import java util Iterator import java util List import java util Map import javax faces application Faces Message import javax faces component Component import javax faces context Faces Context import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam international Status Message import org jboss seam international Status Messages import org jboss seam util Strings Seam component that propagates Faces Messages across redirects and interpolates expressions in the message string author Gavin King author Pete Muir Scope Scope Type Name Status Messages Install precedence class Dependencies javax faces context Faces Context Bypass Interceptors public class Faces Messages extends Status Messages Called by Seam to transfer messages from Faces Messages to public void before Render Response for Status Message status Message get Messages Faces Context get Current Instance add Message null to Faces Message status Message for Map Entry String List Status Message entry get Keyed Messages entry Set for Status Message status Message entry get Value String client Id get Client Id entry get Key Faces Context get Current Instance add Message client Id to Faces Message status Message clear Called by Seam to transfer any messages added in the phase just processed to the Faces Messages component task runner is used to allow the messages access to outjected values public static void after Phase run Tasks Convert a Status Message to a Faces Message private static Faces Message to Faces Message Status Message status Message if Strings is Empty status Message get Summary return new Faces Message to Severity status Message get Severity status Message get Summary status Message get Detail else return null Convert a Status Message Severity to a Faces Message Severity private static javax faces application Faces Message Severity to Severity org jboss seam international Status Message Severity severity switch severity case return Faces Message case return Faces Message case return Faces Message case return Faces Message default return null Convert a Faces Message Severity to a Status Message Severity private static org jboss seam international Status Message Severity to Severity javax faces application Faces Message Severity severity if Faces Message equals severity return org jboss seam international Status Message Severity else if Faces Message equals severity return org jboss seam international Status Message Severity else if Faces Message equals severity return org jboss seam international Status Message Severity else if Faces Message equals severity return org jboss seam international Status Message Severity else return null Calculate the client from the provided widget private String get Client Id String id Faces Context faces Context Faces Context get Current Instance return get Client Id faces Context get View Root id faces Context private static String get Client Id Component component String id Faces Context faces Context String component Id component get Id if component Id null component Id equals id return component get Client Id faces Context else Iterator iter component get Facets And Children while iter has Next Component child Component iter next String client Id get Client Id child id faces Context if client Id null return client Id return null Get all faces messages that have already been added to the context public List Faces Message get Current Messages List Faces Message result new Array List Faces Message Iterator Faces Message iter Faces Context get Current Instance get Messages while iter has Next result add iter next return result Get all faces global messages that have already been added to the context public List Faces Message get Current Global Messages List Faces Message result new Array List Faces Message Iterator Faces Message iter Faces Context get Current Instance get Messages null while iter has Next result add iter next return result Get all faces messages that have already been added to the control public List Faces Message get Current Messages For Control String id String client Id get Client Id id List Faces Message result new Array List Faces Message Iterator Faces Message iter Faces Context get Current Instance get Messages client Id while iter has Next result add iter next return result Utility method to create a Faces Message from a Severity message Template and params This method interpolates the parameters provided public static Faces Message create Faces Message javax faces application Faces Message Severity severity String message Template Object params return create Faces Message severity null message Template params Utility method to create a Faces Message from a Severity key default Message Template and params This method interpolates the parameters provided public static Faces Message create Faces Message javax faces application Faces Message Severity severity String key String default Message Template Object params Status Message message new Status Message to Severity severity key null default Message Template null message interpolate params return to Faces Message message Add a Faces Message that will be used the next time a page is rendered Deprecated use a method in link Status Messages instead Deprecated public void add Faces Message faces Message if faces Message null add to Severity faces Message get Severity null null faces Message get Summary faces Message get Detail Create a new status message with the message Template is as the message You can also specify the severity and parameters to be interpolated Deprecated use link add org jboss seam international Status Message Severity String Object instead Deprecated public void add javax faces application Faces Message Severity severity String message Template Object params add to Severity severity message Template params Create a new status message with the message Template is as the message severity of will be used and you can specify paramters to be interpolated Deprecated use link add To Control String org jboss seam international Status Message Severity String Object instead Deprecated public void add To Control String id javax faces application Faces Message Severity severity String message Template Object params add To Control id to Severity severity message Template params Add a status message looking up the message in the resource bundle using the provided key You can also specify the severity and parameters to be interpolated Deprecated use link add From Resource Bundle org jboss seam international Status Message Severity String Object instead Deprecated public void add From Resource Bundle javax faces application Faces Message Severity severity String key Object params add From Resource Bundle to Severity severity key params Add a status message looking up the message in the resource bundle using the provided key You can also specify the severity and parameters to be interpolated Deprecated use link add From Resource Bundle Or Default javax faces application Faces Message Severity String String Object instead Deprecated public void add From Resource Bundle Or Default javax faces application Faces Message Severity severity String key String default Message Template Object params add From Resource Bundle Or Default to Severity severity key default Message Template params Create a new status message looking up the message in the resource bundle using the provided key The message will be added to the widget specified by the The algorithm used determine which widget the id refers to is determined by the view layer implementation in use You can also specify the severity and parameters to be interpolated Deprecated use link add To Control From Resource Bundle String org jboss seam international Status Message Severity String Object instead Deprecated public void add To Control From Resource Bundle String id javax faces application Faces Message Severity severity String key Object params add To Control From Resource Bundle id to Severity severity key params Add a status message looking up the message in the resource bundle using the provided key If the message is found it is used otherwise the default Message Template will be used The message will be added to the widget specified by the The algorithm used determine which widget the id refers to is determined by the view layer implementation in use You can also specify the severity and parameters to be interpolated Deprecated use link add To Control From Resource Bundle Or Default String org jboss seam international Status Message Severity String String Object instead Deprecated public void add To Control From Resource Bundle Or Default String id javax faces application Faces Message Severity severity String key String default Message Template Object params add To Control From Resource Bundle Or Default id to Severity severity key default Message Template params public static Faces Messages instance Component component Component for Name Status Messages if component null component get Scope is Context Active throw new Illegal State Exception No active component get Scope name context Attempting to get the instance anyway for backwards compatibility with some potential hack situations return Faces Messages Component get Instance Status Messages 
package org jboss seam faces import static org jboss seam annotations Install import java io Serializable import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Init import org jboss seam core Manager import org jboss seam pageflow Pageflow import org jboss seam web Session Book keeping component that persists information about the conversation associated with the current page author Gavin King Name org jboss seam faces faces Page Bypass Interceptors Install precedence class Dependencies javax faces context Faces Context Scope Scope Type public class Faces Page implements Serializable private static final long serial Version private String pageflow Name private Integer pageflow Counter private String pageflow Node Name private String conversation Id private boolean conversation Is Long Running private Map String Object page Parameters public String get Conversation Id return conversation Id public void discard Temporary Conversation conversation Id null conversation Is Long Running false public void discard Nested Conversation String outer Conversation Id conversation Id outer Conversation Id conversation Is Long Running true public void store Conversation String conversation Id this conversation Id conversation Id conversation Is Long Running true public void store Pageflow if Init instance is Jbpm Installed Pageflow pageflow Pageflow instance if pageflow is In Process pageflow get Process Instance has Ended Manager instance is Long Running Conversation pageflow Name pageflow get Sub Process Instance get Process Definition get Name pageflow Node Name pageflow get Node get Name pageflow Counter pageflow get Pageflow Counter else pageflow Name null pageflow Node Name null pageflow Counter null public static Faces Page instance if Contexts is Page Context Active throw new Illegal State Exception No page context active return Faces Page Component get Instance Faces Page class Scope Type public boolean is Conversation Long Running return conversation Is Long Running public Integer get Pageflow Counter return pageflow Counter public String get Pageflow Name return pageflow Name public String get Pageflow Node Name return pageflow Node Name public void store Conversation Manager manager Manager instance we only need to execute this code when we are in the phase ie not before redirects Session session Session get Instance boolean session Invalid session null session is Invalid if session Invalid manager is Long Running Conversation store Conversation manager get Current Conversation Id else if session Invalid manager is Nested Conversation discard Nested Conversation manager get Parent Conversation Id else discard Temporary Conversation if session Invalid Init instance is Client Side Conversations if we are using client side conversations put the map containing the conversation context variables into the view root or remove it for a temp conversation context Contexts get Conversation Context flush public Map String Object get Page Parameters return page Parameters null Collections page Parameters public void set Page Parameters Map String Object page Parameters this page Parameters page Parameters is Empty null page Parameters Used by test harness param name the page parameter name param value the value public void set Page Parameter String name Object value if page Parameters null page Parameters new Hash Map String Object page Parameters put name value 
package org jboss seam util import java io Input Stream import java net import javax faces context External Context public class Faces Resources public static Input Stream get Resource As Stream String resource External Context context String stripped resource starts With resource substring resource Input Stream stream null try if context null stream context get Resource As Stream resource catch Exception e if stream null stream Resources get Resource As Stream resource stripped return stream public static get Resource String resource External Context context String stripped resource starts With resource substring resource url null try if context null url context get Resource resource catch Exception e if url null url Resources get Resource resource stripped return url 
package org jboss seam security import static org jboss seam Scope Type import static org jboss seam annotations Install import javax security auth login Login Exception import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Observer import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam international Status Messages import org jboss seam international Status Message Severity Produces Faces Messages in response of certain security events and helps to decouple the Identity component from author Shane Bryzak Name org jboss seam security faces Security Events Scope Install precedence class Dependencies javax faces context Faces Context Bypass Interceptors Startup public class Faces Security Events Observer Identity public void post Authenticate Identity identity org jboss security saml Manager process Manual Login Notification Servlet Contexts instance get Request identity get Principal get Name Observer Identity public void add Login Failed Message Login Exception ex Status Messages instance add From Resource Bundle Or Default get Login Failed Message Severity get Login Failed Message Key get Login Failed Message ex public String get Login Failed Message return Login failed public Severity get Login Failed Message Severity return Severity public String get Login Failed Message Key return org jboss seam login Failed Observer Identity public void add Login Successful Message Status Messages instance add From Resource Bundle Or Default get Login Successful Message Severity get Login Successful Message Key get Login Successful Message Identity instance get Credentials get Username Observer Identity public void add Not Logged In Message Status Messages instance add From Resource Bundle Or Default Severity org jboss seam Not Logged In Please log in first public Severity get Login Successful Message Severity return Severity public String get Login Successful Message return Welcome public String get Login Successful Message Key return org jboss seam login Successful Observer Identity public void add Already Logged In Message Status Messages instance add From Resource Bundle Or Default Severity org jboss seam Already Logged In You are already logged in please log out first if you wish to log in again 
package org jboss seam transaction import static org jboss seam Scope Type import static org jboss seam annotations Install import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Observer import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam international Status Messages import org jboss seam international Status Message Severity Produces Status Messages for in response of certain transaction events These events can be observed by support classes for other frameworks to produce similar messages author Dan Allen Name org jboss seam transaction faces Transaction Events Scope Install precedence class Dependencies javax faces context Faces Context Bypass Interceptors Startup public class Faces Transaction Events private boolean transaction Failed Message Enabled true Observer Transaction public void add Transaction Failed Message int status if transaction Failed Message Enabled Status Messages instance add From Resource Bundle Or Default get Transaction Failed Message Severity get Transaction Failed Message Key get Transaction Failed Message public String get Transaction Failed Message return Transaction failed public Severity get Transaction Failed Message Severity return Severity public String get Transaction Failed Message Key return org jboss seam Transaction Failed public boolean is Transaction Failed Message Enabled return transaction Failed Message Enabled public void set Transaction Failed Message Enabled boolean enabled this transaction Failed Message Enabled enabled 
Boss Home of Professional Open Source Copyright Red Hat Inc and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors Licensed under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam util import javax faces context Faces Context Helper class for preparing Ls which include the conversation id p This class has the potential to be better designed to make it fit more use cases author Nicklas Karlsson author Dan Allen author Marko Luksa public class Faces Url Transformer private static final String http private static final String https private static final String private static final String private static final String private String url private final Faces Context context public Faces Url Transformer String url Faces Context faces Context this url url this context faces Context public Faces Url Transformer append Conversation Id If Necessary String cid Parameter Name String cid this url append Parameter If Needed url cid Parameter Name cid return this private static String append Parameter If Needed String url String parameter Name String parameter Value int query String Index url index Of if there is no query string or there is a query string but the param is absent then append it if query String Index url index Of parameter Name query String Index String Builder builder new String Builder url if query String Index builder append else builder append builder append parameter Name append if parameter Value null builder append parameter Value return builder to String else return url public String get Url return url public Faces Url Transformer to Redirect View Id String request Path context get External Context get Request Context Path if is Url Absolute url url substring url index Of request Path request Path length else if url starts With request Path url url substring request Path length return this public Faces Url Transformer to Action Url String action Url context get Application get View Handler get Action context url int query String Index url index Of if query String Index url action Url else String query Parameters url substring query String Index int action Query String Index action Url index Of if action Query String Index url action Url query Parameters else String action Query Parameters action Url substring action Query String Index if query Parameters starts With action Query Parameters url action Url substring action Query String Index query Parameters else url action Url query Parameters return this public String encode return context get External Context encode Action url private boolean is Url Absolute any call to do this return url starts With url starts With 
package org jboss seam example ui import org jboss seam annotations Factory import org jboss seam annotations Name import org jboss seam example ui Person Honorific import org jboss seam example ui Person Role Name factories public class Factories Factory honorifics public Honorific get Honorifics return Honorific values Factory roles public Role get Roles return Role values 
Id Factory java gavin package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam Scope Type Marks a method as a factory method for a context variable factory method is called whenever no value is bound to the named context variable and is expected to initialize the value of the context variable There are two kinds of factory methods Factory methods with void return type are responsible for outjecting a value to the context variable Factory methods which return a value do not need to explicitly ouject the value since Seam will bind the returned value to the specified scope This annotation supports use of the Seam factory component pattern author Gavin King Target Retention Documented public interface Factory return the name of the context variable String value default The scope element is meaningful only for factory methods that return the value to be outjected Factory methods that return void are expected to take responsibility for outjecting the value and then scope is ignored If the factory method returns a value but no scope is explicitly specified the scope of the component with the Factory attribute is used But if the component scope is the scope is used return the scope to outject any returned value Scope Type scope default Scope Type Specifies that this factory method should be automatically called whenever the variable is asked for even if In does not specify create true boolean auto Create default false 
package org jboss seam init import org jboss seam Scope Type class Factory Descriptor private String name private Scope Type scope private String method private String value private boolean auto Create Factory Descriptor String name Scope Type scope String method String value boolean auto Create super this name name this scope scope this method method this value value this auto Create auto Create public String get Method return method public String get Value return value public String get Name return name public Scope Type get Scope return scope public boolean is Value Binding return method null public boolean is Auto Create return auto Create Override public String to String return Factory Descriptor name 
package org jboss seam test integration synchronization import javax ejb Remove import javax ejb Stateful import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Factory import org jboss seam annotations Jndi Name import org jboss seam annotations Name import org jboss seam annotations Scope Stateful Scope Scope Type Name factory Lock test Jndi Name java global test Factory Lock Action public class Factory Lock Action implements Factory Lock Local public String test Other Factory try Thread sleep catch Interrupted Exception e e print Stack Trace return String Component get Instance factory Lock foo true gets instance produced by this component s factory public String test Same Factory try Thread sleep catch Interrupted Exception e e print Stack Trace return String Component get Instance factory Lock test String true Factory value factory Lock test String scope Scope Type public String get Test String return test String Remove public void remove 
package org jboss seam test integration synchronization import javax ejb Local Local public interface Factory Lock Local public String get Test String public String test Other Factory public String test Same Factory public void remove 
package org jboss seam rss import java util Date import java util List public class Feed private String uid private String title private String subtitle private Date updated private String link private List Entry entries public String get Uid return uid public void set Uid String uid this uid uid public String get Title return title public void set Title String title this title title public String get Subtitle return subtitle public void set Subtitle String subtitle this subtitle subtitle public Date get Updated return updated public void set Updated Date updated this updated updated public String get Link return link public void set Link String link this link link public List Entry get Entries return entries public void set Entries List Entry entries this entries entries 
package org jboss seam example restbay import java io Serializable import java util Date import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Many To One import javax persistence One To One Entity public class Feedback implements Serializable private static final long serial Version public enum Rating positive neutral negative private Integer feedback Id private Account for Account private Account from Account private Date feedback Date private Auction item private Rating rating private String comment private String response Id Generated Value public Integer get Feedback Id return feedback Id public void set Feedback Id Integer feedback Id this feedback Id feedback Id Many To One Join Column name public Account get For Account return for Account public void set For Account Account account this for Account account Many To One Join Column name public Account get From Account return from Account public void set From Account Account account this from Account account public Date get Feedback Date return feedback Date public void set Feedback Date Date feedback Date this feedback Date feedback Date One To One Join Column name public Auction get Item return item public void set Item Auction item this item item public Rating get Rating return rating public void set Rating Rating rating this rating rating public String get Comment return comment public void set Comment String comment this comment comment public String get Response return response public void set Response String response this response response 
package org jboss seam example seambay import java io Serializable import java util List import javax persistence Entity Manager import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations datamodel Data Model Name feedback Action public class Feedback Action implements Serializable private static final long serial Version Data Model private List Feedback member Feedback In Entity Manager entity Manager Factory member Feedback public void get Member Feedback member Feedback entity Manager create Query from Feedback where for Account selected Member get Result List 
package org jboss seam deployment import java net import javax servlet Servlet Context import org jboss seam contexts Servlet Lifecycle import org jboss seam util Resources public class File Descriptor private String name private url public File Descriptor String name url this name name this url url public File Descriptor String name Class Loader class Loader Servlet Context servlet Context Servlet Context ctx servlet Context if ctx null this should not happen but it could if people have created custom scanners ctx Servlet Lifecycle get Current Servlet Context this name name if name null throw new Null Pointer Exception Name can not be null loading from class Loader this url Resources get Resource name ctx if url null this url class Loader get Resource name if this url null throw new Null Pointer Exception Can not find from class Loader for name loading from class Loader public String get Name return name public get Url return url Override public String to String return url get Path Override public boolean equals Object other if other instanceof File Descriptor File Descriptor that File Descriptor other return this get Url equals that get Url else return false Override public int hash Code return get Url hash Code 
package org jboss seam web Thrown when an exception occurs while uploading a file author Shane Bryzak public class File Upload Exception extends Runtime Exception public File Upload Exception this null null public File Upload Exception String message this message null public File Upload Exception String message Throwable cause super message cause 
package org jboss seam ui renderkit import java io Exception import java lang reflect Field import java lang reflect Method import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import javax servlet Servlet Request import org jboss seam ui component File Upload import org jboss seam ui util import org jboss seam ui util cdk Renderer Base import org jboss seam web Multipart Request import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui File Upload Renderer family org jboss seam ui File Upload Renderer public class File Upload Renderer Base extends Renderer Base Override protected Class get Component Class return File Upload class Override protected void do Encode End Response Writer writer Faces Context context Component component throws Exception File Upload file Upload File Upload component writer start Element file Upload writer write Attribute null String client Id file Upload get Client Id context writer write Attribute client Id null writer write Attribute client Id null if file Upload get Accept null writer write Attribute file Upload get Accept accept if file Upload get Style Class null writer write Attribute file Upload get Style Class if file Upload get Style null writer write Attribute file Upload get Style style render Attributes writer component writer end Element Override protected void do Decode Faces Context context Component component File Upload file Upload File Upload component Servlet Request request Servlet Request context get External Context get Request if request instanceof Multipart Request request unwrap Multipart Request request if request instanceof Multipart Request Multipart Request multipart Request Multipart Request request String client Id component get Client Id context file Upload set Local Input Stream multipart Request get File Input Stream client Id file Upload set Local Content Type multipart Request get File Content Type client Id file Upload set Local File Name multipart Request get File Name client Id file Upload set Local File Size multipart Request get File Size client Id Finds an instance of Multipart Request wrapped within a request or its recursively wrapped requests private static Servlet Request unwrap Multipart Request Servlet Request request while request instanceof Multipart Request boolean found false for Method m request get Class get Methods if Servlet Request class is Assignable From m get Return Type m get Parameter Types length try request Servlet Request m invoke request found true break catch Exception ex Ignore try the next one if found for Field f request get Class get Declared Fields if Servlet Request class is Assignable From f get Type try request Servlet Request f get request catch Exception ex Ignore if found break return request 
package org jboss seam example pdf import java util Array List import java util List import javax faces model Select Item import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Name import org jboss seam annotations Scope Name fill In Forms Scope Scope Type public class Fill In Forms private String name private String address private String postal Code private String email private String programming private String language private String preferred private List String knowledge private List Select Item programming Languages private List Select Item languages public List String get Knowledge return knowledge public void set Knowledge List String knowledge this knowledge knowledge public List Select Item get Languages return languages public void set Languages List Select Item languages this languages languages public List Select Item get Programming Languages return programming Languages public void set Programming Languages List Select Item programming Languages this programming Languages programming Languages Create public void init knowledge new Array List String programming Languages new Array List Select Item programming Languages add new Select Item Java programming Languages add new Select Item programming Languages add new Select Item programming Languages add new Select Item languages new Array List Select Item languages add new Select Item English languages add new Select Item French languages add new Select Item Dutch knowledge add language preferred public String get Name return name public void set Name String name this name name public String get Address return address public void set Address String address this address address public String get Postal Code return postal Code public void set Postal Code String postal Code this postal Code postal Code public String get Email return email public void set Email String email this email email public String get Programming return programming public void set Programming String programming this programming programming public String get Language return language public void set Language String language this language language public String get Preferred return preferred public void set Preferred String preferred this preferred preferred public String submit return form xhtml public boolean is Knows English boolean knows knowledge contains return knows public boolean is Knows French return knowledge contains public boolean is Knows Dutch return knowledge contains 
package org jboss seam example ui import java io Serializable import javax persistence Entity import javax persistence Generated Value import javax persistence Id Entity public class Film implements Serializable Id Generated Value private Integer id private String name private String director public String get Director return director public void set Director String director this director director public Integer get Id return id public void set Id Integer id this id id public String get Name return name public void set Name String name this name name 
package org jboss seam example ui import javax faces component Component import javax faces context Faces Context import javax persistence Entity Manager import org jboss seam Component import org jboss seam annotations Name import org jboss seam annotations faces Converter import org jboss seam annotations intercept Bypass Interceptors Name film Converter Converter for Class Film class Bypass Interceptors public class Film Converter implements javax faces convert Converter public Object get As Object Faces Context context Component component String value Entity Manager entity Manager Entity Manager Component get Instance entity Manager if value null try Integer id Integer parse Int value if id null return entity Manager find Film class id catch Number Format Exception e return null public String get As String Faces Context context Component component Object value if value instanceof Film Film film Film value return film get Id to String else return null 
package org jboss seam persistence import java io Serializable import java util Hash Map import java util Map import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Expressions Value Expression Support for declarative application of Hibernate filters to persistence contexts see org hibernate Filter see Managed Hibernate Session see Managed Persistence Context author Gavin King Bypass Interceptors Scope Scope Type public class Filter implements Serializable private String name default to no parameters private Map String Value Expression parameters new Hash Map String Value Expression private Value Expression enabled Create public void create Component component default the filter name to the component name if name null name component get Name The filter parameters see org hibernate Filter set Parameter String Object public Map String Value Expression get Parameters return parameters public void set Parameters Map String Value Expression parameters this parameters parameters The Hibernate filter name see org hibernate Session enable Filter String public String get Name return name public void set Name String name this name name public boolean is Filter Enabled Value Expression enabled Value Binding get Enabled if enabled Value Binding null return true else Boolean enabled Boolean enabled Value Binding get Value return enabled null enabled Override public String to String return Filter name public Value Expression get Enabled return enabled public void set Enabled Value Expression enabled this enabled enabled 
package org jboss seam web import java util Collections import java util Enumeration import java util Map import javax servlet Filter Config import javax servlet Servlet Context import org jboss seam util Enumeration Enumeration public class Filter Config Wrapper implements Filter Config private Filter Config delegate private Map String String parameters public Filter Config Wrapper Filter Config filter Config Map String String parameters delegate filter Config this parameters parameters public String get Filter Name return delegate get Filter Name public String get Init Parameter String name if parameters contains Key name return parameters get name else return delegate get Init Parameter name public Enumeration get Init Parameter Names Enumeration enumerations delegate get Init Parameter Names Collections enumeration parameters key Set return new Enumeration Enumeration enumerations public Servlet Context get Servlet Context return delegate get Servlet Context 
package org jboss seam annotations async import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target The stop date of the repeating asynchronous call This a parameter level annotation and it is only available for the Quartz timer author Michael Yuan Target Retention Documented public interface Final Expiration 
package org jboss seam tool import org apache tools ant Build Exception import org apache tools ant Task public class Fix Path Task extends Task private String property Name Override public void execute throws Build Exception String path get Project get Property property Name if path null get Project set Property property Name path replace public void set Property String property Name this property Name property Name 
package org jboss seam flex import org jboss seam annotations In import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security Credentials import org jboss seam security Identity Name org jboss seam flex login Install false Flex Remote name login public class Flex Authentication Bridge private static final Log Provider log Logging get Log Provider Flex Authentication Bridge class In Identity identity In Credentials credentials public String login String username String password System out println log info username password credentials set Username username credentials set Password password String result identity login log info result return result public void logout log info identity logout 
package org jboss seam flex import javax servlet import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import java io import java util import org jboss seam import org jboss seam annotations import org jboss seam annotations intercept import org jboss seam deployment Annotation Deployment Handler import org jboss seam deployment Deployment Strategy import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam web Abstract Filter Scope Scope Type Name org jboss seam flex flex Filter Startup Install precedence Install value false Bypass Interceptors org jboss seam annotations web Filter within org jboss seam public class Flex Filter extends Abstract Filter private static final Log Provider log Logging get Log Provider Flex Filter class Message Broker Manager message Broker Manager List Class scanned new Array List Class private Annotation Deployment Handler annotation Deployment Handler Deployment Strategy deployment Deployment Strategy Component get Instance deployment Strategy if deployment null return Annotation Deployment Handler deployment get Deployment Handlers get Annotation Deployment Handler return null private Collection Class scanned Classes Collection Class result null Annotation Deployment Handler handler annotation Deployment Handler if handler null result handler get Class Map get Flex Remote class get Name return result null result new Array List Class Create public void seam Init deployment handler only knows about scanned classes during startup so we need to get them now and save them scanned add All scanned Classes Override public void init Filter Config filter Config throws Servlet Exception super init filter Config message Broker Manager new Message Broker Manager message Broker Manager init new Flex Servlet Config filter Config get Servlet Context message Broker Manager add Destinations scanned public void do Filter Servlet Request request Servlet Response response Filter Chain chain throws Exception Servlet Exception if is Mapped To Current Request Path request message Broker Manager service Http Servlet Request request Http Servlet Response response else chain do Filter request response private static class Flex Servlet Config implements Servlet Config Map String String params Servlet Context context public Flex Servlet Config Servlet Context context this context null public Flex Servlet Config Servlet Context context Map String String params this context context this params params null params new Hash Map String String public Servlet Context get Servlet Context return context public String get Servlet Name return Flex Servlet public String get Init Parameter String param String result params get param log info init param param is result return result Suppress Warnings unchecked public Enumeration get Init Parameter Names return Collections enumeration params key Set 
package org jboss seam flex import java lang annotation Documented import java lang annotation Element Type import java lang annotation Retention import java lang annotation Retention Policy import java lang annotation Target Target Element Type Documented Retention Retention Policy public interface Flex Remote abstract String name 
package org jboss seam flex import org jboss seam Component import org jboss seam log Log Provider import org jboss seam log Logging import flex messaging Flex Factory import flex messaging Factory Instance import flex messaging config Config Map public class Flex Seam Factory implements Flex Factory private static final Log Provider log Logging get Log Provider Flex Seam Factory class String destination Name String component Name public Flex Seam Factory String destination Name String component Name this component Name component Name this destination Name destination Name public void initialize String id Config Map config Map log info init id props config Map public Factory Instance create Factory Instance String id Config Map properties log info create factory id props properties return new Factory Instance this id properties public Object lookup Factory Instance factory log info lookup factory try Object instance Component get Instance component Name true return instance catch Exception e log error e return null 
package org jboss seam annotations full set of flush modes including which is a glaring missing feature of the spec author Gavin King public enum Flush Mode Type Flushing never occurs automatically all changes are queued until the application calls flush explicitly Flushing occurs automatically at commit time and when necessary before query executions Flushing occurs automatically at transaction commit time Does this flush mode keep unflushed changes past a transaction commit return false for all flush modes except for public boolean dirty Between Transactions return this 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam test integration import java io Serializable import javax ejb Remove import javax validation constraints Not Null import org jboss seam Scope Type import org jboss seam annotations Begin import org jboss seam annotations End import org jboss seam annotations Name import org jboss seam annotations Scope author a href mailto theute jboss org Thomas Heute a version Revision Name foo Scope Scope Type Suppress Warnings deprecation public class Foo implements Serializable private static final long serial Version private String value public String foo return foo Remove public void destroy Not Null public String get Value return value public void set Value String value this value value public String bar return bar Begin public String begin return begun End public String end return ended Begin public String begin Null return null End public String end Null return null Begin public void begin Void End public void end Void Begin if Outcome success public String begin If return success End if Outcome success public String end If return success 
package org jboss seam test unit import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope Name foo Bar Scope Scope Type public class Foo Bar In Foo foo public Foo delayed Get Foo Invocation Control invocation Control System out println enter invocation Control get Name foo invocation Control init invocation Control mark Started System out println exit invocation Control get Name foo return foo 
package action Package import javax ejb Local Local public interface interface Name public void method Name public String get Value public void set Value String value public void destroy add additional interface methods here 
package action Package import javax ejb Remove import javax ejb Stateful import org jboss seam annotations Name import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam log Log import org jboss seam international Status Messages import javax validation constraints Size Stateful Name component Name public class bean Name implements interface Name Logger private Log log In Status Messages status Messages private String value public void method Name implement your business logic here log info component Name method Name action called with component Name value status Messages add method Name component Name value add additional action methods Size max public String get Value return value public void set Value String value this value value Remove public void destroy 
package action Package import org jboss seam annotations Name import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam log Log import org jboss seam international Status Messages import javax validation constraints Size Name component Name public class interface Name Logger private Log log In Status Messages status Messages private String value public void method Name implement your business logic here log info component Name method Name action called with component Name value status Messages add method Name component Name value add additional action methods Size max public String get Value return value public void set Value String value this value value 
package org jboss seam ui renderkit import java io Exception import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam ui component Formatted Text import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui Formatted Text Renderer family org jboss seam ui Formatted Text Renderer public class Formatted Text Renderer Base extends Renderer Base Override protected Class get Component Class return Formatted Text class Override protected void do Encode Begin Response Writer writer Faces Context context Component component throws Exception String formatted Text Formatted Text component get Formatted Text if formatted Text null writer write formatted Text 
package org jboss seam ui validator import java io Reader import java io Serializable import java io String Reader import javax faces application Faces Message import javax faces component Component import javax faces context Faces Context import javax faces validator Validator Exception import org jboss seam text Seam Text Lexer import org jboss seam text Seam Text Parser import antlr Formatted Text validator Use as a validator on an input control that allows entering Seam Text markup p The Seam Text parser has a disabled default error handler catch exceptions as appropriate if you display Seam Text see a href http www doc ic ac uk lab secondyear Antlr err html http www doc ic ac uk lab secondyear Antlr err html a and call the static convenience method tt Formatted Text Validator get Error Message original Text recognition Exception tt if you want to display or log a nice error message p p Uses an instance of tt Seam Text Parser tt by default override if you require validation with your customized instance of tt Seam Text Parser tt p author matthew drees author Christian Bauer public class Formatted Text Validator implements javax faces validator Validator Serializable private static final long serial Version private static final int private static final int private static final String String first Error String first Error Detail Validate the given value as well formed Seam Text If there are parse errors throw a Validator Exception including the first parse error public void validate Faces Context context Component component Object value throws Validator Exception first Error null first Error Detail null if value null return if value instanceof String throw new Illegal Argument Exception Value is not a string value String text String value Seam Text Parser parser get Seam Text Parser text try parser start Rule Error handling for lexer parser errors see http www doc ic ac uk lab secondyear Antlr err html catch Token Stream Exception tse Problem with the token input stream throw new Runtime Exception tse catch Recognition Exception re parser error if first Error null first Error get Parser Error Message text re first Error Detail re get Message replace u if first Error null throw new Validator Exception new Faces Message first Error first Error Detail Override to instantiate a custom tt Seam Text Lexer tt and tt Seam Text Parser tt param text the raw markup text return an instance of tt Seam Text Parser tt public Seam Text Parser get Seam Text Parser String text Reader r new String Reader text Seam Text Lexer lexer new Seam Text Lexer r return new Seam Text Parser lexer public String get Parser Error Message String original Text Recognition Exception re String parser Error Msg if No Viable Alt Exception class is Assignable From re get Class parser Error Msg get No Viable Alt Error Message re get Message get Error Location original Text re get Number Of Chars Before Error Location get Number Of Chars After Error Location else if Mismatched Token Exception class is Assignable From re get Class parser Error Msg get Mismatched Token Error Message re get Message get Error Location original Text re get Number Of Chars Before Error Location get Number Of Chars After Error Location else if Semantic Exception class is Assignable From re get Class parser Error Msg get Semantic Error Message re get Message else parser Error Msg re get Message return parser Error Msg public int get Number Of Chars Before Error Location return public int get Number Of Chars After Error Location return Override e g for i n parser error messages param original Message the parser error message of the Recognition Exception param location a snippet that indicates the location in the original markup might be null return a message that is thrown by this validator public String get No Viable Alt Error Message String original Message String location return location null Text parsing error at location trim Text parsing error original Message replace u Override e g for i n parser error messages param original Message the parser error message of the Recognition Exception param location a snippet that indicates the location in the original markup might be null return a message that is thrown by this validator public String get Mismatched Token Error Message String original Message String location return location null Text parsing error at location trim Text parsing error original Message replace u Override e g for i n parser error messages param original Message the parser error message of the Recognition Exception return a message that is thrown by this validator public String get Semantic Error Message String original Message return Text parsing error original Message replace u Extracts the error from the tt Recognition Exception tt and generates a location of the error by extracting the original text at the exceptions line and column param original Text the original Seam Text markup as fed into the parser param re an tt Recognition Exception tt thrown by the parser param chars Before characters before error location included in message param chars After characters after error location included in message return an error message with some helpful context about where the error occured public static String get Error Location String original Text Recognition Exception re int chars Before int chars After int begin Index Math max re get Column chars Before int end Index Math min re get Column chars After original Text length String location null Avoid even if what we show is wrong we need to figure out why the indexes are off sometimes if begin Index begin Index end Index end Index end Index original Text length location original Text substring begin Index end Index if location null return location Filter some dangerous characters we do not want in error messages return location replace n replace r replace Extracts the error from the tt Recognition Exception tt and generates a message including the location of the error param original Text the original Seam Text markup as fed into the parser param re an tt Recognition Exception tt thrown by the parser return an error message with some helpful context about where the error occured public static String get Error Message String original Text Recognition Exception re return re get Message replace u at get Error Location original Text re 
package org jboss seam pdf ui import javax faces component Component Base import javax faces context Faces Context public abstract class Form Component extends Component Base protected static final String acrofields protected static final String acrostamper protected Object value Of String name Object default Value Object value default Value if get Value Expression name null value get Value Expression name get Value Faces Context get Current Instance get Context return value 
package org jboss seam example wicket import org apache wicket ajax Ajax Request Target import org apache wicket ajax form Ajax Form Component Updating Behavior import org apache wicket feedback Container Feedback Message Filter import org apache wicket markup html basic Label import org apache wicket markup html border Border import org apache wicket markup html form Form Component import org apache wicket markup html panel Feedback Panel import org apache wicket model Model import org apache wicket model Model import org apache wicket model Property Model import org jboss seam wicket Model Validator import org jboss seam wicket Seam Property Model Wicket allows you to build powerful custom components easily Here we ve built generic border you can use to decorate a form input with a label a if the field is required and an feedback panel for displaying any error messages It also attaches a model validator which asks Seam to validate the input against Hibernate Validator based author Pete Muir public class Form Input Border extends Border private Feedback Panel feedback Panel private boolean ajax Validate private Model label Model Create a new form input border which validates using ajax param id Id of border component on page param label Label to add param component The component to wrap param model The model to attach the component to public Form Input Border String id String label Form Component component Property Model model boolean ajax Validate this id label component model ajax Validate model get Target get Class model get Property Expression public Form Input Border String id String label Form Component component Seam Property Model model boolean ajax Validate this id label component model ajax Validate model get Target get Class model get Property Expression public Form Input Border String id String label Form Component component Property Model model this id label component model true model get Target get Class model get Property Expression public Form Input Border String id String label Form Component component Seam Property Model model this id label component model true model get Target get Class model get Property Expression Create a new form input border which validates param id Id of border component on page param label Label to add param component The component to wrap param model The model to attach the component to param ajax Validate Whether to use ajax validation public Form Input Border String id String label Form Component component Model model boolean ajax Validate Class model Class String property Expression super id this ajax Validate ajax Validate label Model new Model label component set Label label Model if component is Required label else label Label label Component new Label label label add label Component feedback Panel new Feedback Panel message new Container Feedback Message Filter this add component model model Class property Expression add feedback Panel public Form Input Border add Form Component component Property Model model return add component model model get Target get Class model get Property Expression public Form Input Border add Form Component component Model model Class model Class String expression component add new Model Validator model Class expression component set Model model component set Label label Model add component if ajax Validate feedback Panel set Output Markup Id true component add new Ajax Form Component Updating Behavior onblur Override protected void on Update Ajax Request Target target get Form Component validate target add Component feedback Panel Override protected void on Error Ajax Request Target target Runtime Exception e target add Component feedback Panel Override protected boolean get Update Model return true return this 
package org jboss seam deployment import java io File import javax servlet Servlet Context public abstract class Forwarding Abstract Scanner extends Abstract Scanner Override public Deployment Strategy get Deployment Strategy return delegate get Deployment Strategy Override public long get Timestamp return delegate get Timestamp public void scan Directories File directories delegate scan Directories directories public void scan Resources String resources delegate scan Resources resources Override public boolean equals Object obj return delegate equals obj Override protected boolean handle String name return delegate handle name Override public int hash Code return delegate hash Code Override public String to String return delegate to String protected abstract Abstract Scanner delegate Deprecated public Forwarding Abstract Scanner public Forwarding Abstract Scanner Servlet Context servlet Context super servlet Context 
package org jboss seam deployment import java io File import java util List import java util Map import javax servlet Servlet Context decorator for Deployment Strategy author Dan Allen author Pete Muir public abstract class Forwarding Deployment Strategy extends Deployment Strategy Override public Class Loader get Class Loader return delegate get Class Loader Override public Servlet Context get Servlet Context return delegate get Servlet Context Override protected String get Deployment Handlers Key return delegate get Deployment Handlers Key Override public void scan delegate scan Override public boolean equals Object obj return delegate equals obj Override public Map String Deployment Handler get Deployment Handlers return delegate get Deployment Handlers Override public List File get Files return delegate get Files Override protected Scanner get Scanner return delegate get Scanner Override public long get Timestamp return delegate get Timestamp Override public int hash Code return delegate hash Code Override protected void post Scan delegate post Scan Override public void set Files List File files delegate set Files files Override public String to String return delegate to String protected abstract Deployment Strategy delegate 
package org jboss seam ui renderkit import java io Exception import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam ui component Fragment import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui renderkit Fragment Renderer Base family org jboss seam ui Fragment Renderer public class Fragment Renderer Base extends Renderer Base Override protected Class get Component Class return Fragment class Override public boolean get Renders Children return true Override protected void do Encode Children Response Writer writer Faces Context faces Context Component component throws Exception render Children faces Context component 
package org jboss seam example seamspace import static org jboss seam Scope Type import java io Serializable import java util Date import javax ejb Remove import javax persistence Entity Manager import javax persistence No Result Exception import org jboss seam annotations Begin import org jboss seam annotations Destroy import org jboss seam annotations End import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations Scope import org jboss seam annotations web Request Parameter import org jboss seam contexts Contexts import org jboss seam faces Faces Messages import org jboss seam security Identity Scope Name friend Action public class Friend Action implements Serializable private static final long serial Version Request Parameter name private String name Out required false private Friend Comment friend Comment Out required false private Member Friend friend Request In required false private Member authenticated Member In private Entity Manager entity Manager Factory friend Comment Begin public void create Comment try Member member Member entity Manager create Query from Member where member Name member Name set Parameter member Name name get Single Result Contexts get Method Context set friends member get Friends Identity instance check Permission member create Friend Comment friend Comment new Friend Comment friend Comment set Friend authenticated Member friend Comment set Member member catch No Result Exception ex Faces Messages instance add Member not found End public void save Comment friend Comment set Comment Date new Date entity Manager persist friend Comment Begin public void create Request try Member member Member entity Manager create Query from Member where member Name member Name set Parameter member Name name get Single Result Contexts get Method Context set friends member get Friends Identity instance check Permission member create Friend Request friend Request new Member Friend friend Request set Friend authenticated Member friend Request set Member member catch No Result Exception ex Faces Messages instance add Member not found End public void save Request friend Request get Member get Friends add friend Request entity Manager persist friend Request Faces Messages instance add Friend request sent Remove Destroy public void destroy 
package org jboss seam example seamspace import java io Serializable import java text Simple Date Format import java util Date import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Many To One import javax persistence Transient import org jboss seam annotations Name Entity Name friend Comment public class Friend Comment implements Serializable private static final long serial Version private static Simple Date Format df new Simple Date Format d yyyy hh mm a private Integer id private Member member private Member friend private Date comment Date private String comment Id Generated Value public Integer get Id return id public void set Id Integer id this id id public String get Comment return comment public void set Comment String comment this comment comment public Date get Comment Date return comment Date public void set Comment Date Date comment Date this comment Date comment Date Transient public String get Formatted Comment Date return df format comment Date Many To One Join Column name public Member get Friend return friend public void set Friend Member friend this friend friend Many To One Join Column name public Member get Member return member public void set Member Member member this member member 
Id Full Text Entity Manager Proxy java youngm package org jboss seam persistence import org hibernate search jpa Full Text Entity Manager Marker Interface here to show that a given Entity Manager is doing manipulation and for backwards compatibility with previous non proxy solution author Emmanuel Bernard author Sanne Grinovero author Mike Youngstrom public interface Full Text Entity Manager Proxy extends Entity Manager Proxy Full Text Entity Manager 
package org jboss seam persistence import org hibernate search Full Text Session Marker Interface here to show that a given Entity Manager is doing manipulation and for backwards compatibility with previous non proxy solution author Gavin King author Sanne Grinovero author Mike Youngstrom public interface Full Text Hibernate Session Proxy extends Hibernate Session Proxy Full Text Session 
Id Full Text Search java nrichards package com jboss dvd seam author Emmanuel Bernard public interface Full Text Search public String get Search Query public void set Search Query String search Query public Long get Selected Id public void set Selected Id Long id public int get Number Of Results public boolean is Last Page public boolean is First Page public void next Page public void prev Page public String do Search public void select From Request public void add To Cart public void add All To Cart public int get Page Size public void set Page Size int page Size public void reset public void destroy 
Id Full Text Search Action java norman richards jboss com package com jboss dvd seam import java io Serializable import java util Array List import java util Hash Map import java util List import java util Map import javax ejb Remove import javax ejb Stateful import org apache lucene search Query import org hibernate search jpa Full Text Entity Manager import org hibernate search jpa Full Text Query import org hibernate search query dsl Query Builder import org jboss seam Scope Type import org jboss seam annotations Begin import org jboss seam annotations Destroy import org jboss seam annotations End import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations datamodel Data Model import org jboss seam log Log Hibernate Search version of the store querying mechanism This version is updated to show the new Query capabilities of Hibernate Search which requires Hibernate and as such is the recommended minimal version to use for Boss This code resides in a separate src directory as it would n t compile with older Hibernate Search versions author Emmanuel Bernard author Sanne Grinovero Stateful Name search public class Full Text Search Action implements Full Text Search Serializable static final long serial Version In create true Shopping Cart cart Note that when using Seam s injection the entity Manager can be assigned directly to a Full Text Entity Manager Same trick applies to Full Text Session In Full Text Entity Manager entity Manager Logger Log log Request Parameter Long id int page Size int current Page boolean has More false int number Of Results String search Query Data Model List Product search Results Data Model Selection Product selected Product Out required false Product dvd Out scope Scope Type required false Map Product Boolean search Selections public String get Search Query return search Query public void set Search Query String search Query this search Query search Query public int get Number Of Results return number Of Results Begin join true public String do Search current Page update Results return browse public void next Page if is Last Page current Page update Results public void prev Page if is First Page current Page update Results Begin join true public void select From Request if id null dvd entity Manager find Product class id else if selected Product null dvd selected Product public boolean is Last Page return search Results null has More public boolean is First Page return search Results null current Page Suppress Warnings unchecked private void update Results javax persistence Query query null if search Query null equals search Query query entity Manager create Query from Product number Of Results query get Result List size else query search Query search Query number Of Results Full Text Query query get Result Size List Product items query set Max Results page Size set First Result page Size current Page get Result List if items size page Size search Results new Array List items sub List page Size has More true else search Results items has More false search Selections new Hash Map Product Boolean private Full Text Query search Query String text Query Query Builder query Builder entity Manager get Search Factory build Query Builder for Entity Product class get Hibernate Search fulltext query example query to match exact terms occurrence using custom boosts Query query To Find Exact Terms query Builder keyword on Fields title boosted To f and Field description boosted To f and Field actors name boosted To f and Field categories name boosted To f matching text Query create Query Similar query but using Gram matching instead of exact terms Query query To Find Mathing Grams query Builder keyword on Fields title ngrams boosted To f and Field description ngrams and Field actors name ngrams and Field categories name ngrams boosted To f matching text Query create Query Combine them for best results note exact uses an higher boost Query full Text Query query Builder bool should query To Find Mathing Grams should query To Find Exact Terms create Query log info Executing fulltext query full Text Query return entity Manager create Full Text Query full Text Query Product class Add the selected to the cart public void add To Cart cart add Product dvd Add many items to cart public void add All To Cart for Product item search Results Boolean selected search Selections get item if selected null selected search Selections put item false cart add Product item public int get Page Size return page Size public void set Page Size int page Size this page Size page Size public Long get Selected Id return id public void set Selected Id Long id this id id End public void reset Destroy Remove public void destroy 
package org jboss seam example numberguess import org jboss seam Scope Type import org jboss seam annotations Begin import org jboss seam annotations Create import org jboss seam annotations Name import org jboss seam annotations Scope Name game Scope Scope Type public class Game private int biggest private int smallest private int guess Count Create Begin pageflow number Guess public void begin guess Count biggest smallest public void increment Guess Count guess Count public int get Biggest return biggest public int get Smallest return smallest public int get Guess Count return guess Count public void set Biggest int biggest this biggest biggest public void set Smallest int smallest this smallest smallest 
package org jboss seam example numberguess import java io Externalizable import java io Exception import java io Object Input import java io Object Output import org drools Working Memory import org drools spi Activation import org drools spi Consequence Exception import org drools spi Consequence Exception Handler import org jboss seam Scope Type import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup Scope Scope Type Startup Name game Consequence Exception Handler public class Game Consequence Exception Handler implements Consequence Exception Handler Externalizable public void read External Object Input in throws Exception Class Not Found Exception public void write External Object Output out throws Exception public void handle Exception Activation activation Working Memory working Memory Exception exception throw new Consequence Exception exception activation get Rule 
package org jboss seam example restbay resteasy subresource import javax ws rs import javax ws rs Path import javax ws rs Produces import org jboss seam Component import org jboss seam annotations Name Path garage Produces text plain Name garage public class Garage public String get Info return garage Path public Vehicle get Vehicle return Vehicle Component get Instance Vehicle class 
import org hibernate dialect Derby Dialect import org hibernate id Identity Generator public class Glassfish Derby Dialect extends Derby Dialect public Glassfish Derby Dialect Override public Class get Native Identifier Generator Class return Identity Generator class 
package org jboss seam ui graphic Image import java io Exception import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam cache Cache Provider import org jboss seam ui graphic Image Graphic Image Store Image Wrapper import org jboss seam ui util import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer Renderer for image based components author mnovotny Jsf Renderer type org jboss seam ui graphic Image Graphic Image Renderer family org jboss seam ui Graphic Image Renderer public class Graphic Image Renderer Base extends Renderer Base Override protected Class get Component Class return Graphic Image class Override protected void do Encode Begin Response Writer writer Faces Context context Component component throws Exception Graphic Image graphic Image Graphic Image component Cache Provider cache Provider Cache Provider instance String key graphic Image get File Name String extension null Image Wrapper wrapper null Image image Image instance if graphic Image is Invalidate cache Provider remove graphic Image get Cache Key if graphic Image is Cache cache Provider get graphic Image get Cache Key null wrapper Image Wrapper cache Provider get graphic Image get Cache Key else image set Input graphic Image get Value Do transforms for Component cmp graphic Image get Children if cmp instanceof Image Transform Image Transform image Transform Image Transform cmp image Transform apply Transform image wrapper new Image Wrapper image get Image image get Content Type if graphic Image is Cache cache Provider put graphic Image get Cache Key wrapper key Graphic Image Store instance put wrapper key extension image get Content Type get Extension writer start Element graphic Image if graphic Image get Id null writer write Attribute graphic Image get Client Id context String url context get External Context get Request Context Path Graphic Image Resource key extension writer write Attribute url render Attributes writer component writer end Element Override public boolean get Renders Children return true 
package org jboss seam ui graphic Image import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Exception import javax servlet Servlet Exception import javax servlet Servlet Output Stream import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam servlet Contextual Http Servlet Request import org jboss seam ui graphic Image Graphic Image Store Image Wrapper import org jboss seam web Abstract Resource Serves images from the image store Scope Name org jboss seam ui graphic Image graphic Image Resource Install precedence Bypass Interceptors public class Graphic Image Resource extends Abstract Resource public static final String seam resource graphic Image private static final String graphic Image Override public String get Resource Path return Override public void get Resource final Http Servlet Request request final Http Servlet Response response throws Servlet Exception Exception new Contextual Http Servlet Request request Override public void process throws Exception do Work request response run private void do Work Http Servlet Request request Http Servlet Response response throws Exception String path Info request get Path Info substring get Resource Path length request get Path Info last Index Of Image Wrapper image Graphic Image Store instance remove path Info if image null image get Image null response set Content Type image get Content Type get Mime Type response set Status Http Servlet Response response set Content Length image get Image length Servlet Output Stream os response get Output Stream os write image get Image os flush else response send Error Http Servlet Response 
package org jboss seam ui graphic Image import java io Serializable import java rmi server import java util Hash Map import java util Map import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Abstract Mutable import org jboss seam log Log import org jboss seam log Logging Name org jboss seam ui graphic Image graphic Image Store Scope Scope Type Install precedence Install Bypass Interceptors public class Graphic Image Store extends Abstract Mutable implements Serializable private Log log Logging get Log Graphic Image Store class public static class Image Wrapper implements Serializable private byte image private Image Type content Type public Image Wrapper byte image Image Type content Type this image image this content Type content Type public Image Type get Content Type return content Type public byte get Image return image private Map String Image Wrapper store new Hash Map String Image Wrapper Put a image into the store param image return the key of the image public String put Image Wrapper image return put image null Put an image into the store param image param key The key to use if null a key will be generated return The key of the image public String put Image Wrapper image String key if key null key org jboss seam ui Graphic Image Store new to String replace store put key image set Dirty log debug Put image into to session with key key return key public Image Wrapper get String key log debug Get image into to session with key key Image Wrapper image store get key return image public Image Wrapper remove String key log debug Get image from session with key key Image Wrapper image Wrapper store remove key if image Wrapper null set Dirty return image Wrapper public boolean contains String key return store contains Key key public static Graphic Image Store instance return Graphic Image Store Component get Instance Graphic Image Store class 
package org jboss seam deployment import groovy lang Groovy Runtime Exception import java io Buffered Reader import java io Exception import java io Input Stream import java io Input Stream Reader import java util Hash Set import java util Set import org codehaus groovy control Compilation Failed Exception import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam log Log Provider import org jboss seam log Logging deployment handler for uncompiled Groovy Seam components author Pete Muir public class Groovy Deployment Handler extends Abstract Deployment Handler private class Groovy Deployment Handler Metadata implements Deployment Metadata private String groovy Extension public Groovy Deployment Handler Metadata String groovy Extension this groovy Extension groovy Extension public String get File Name Suffix return groovy Extension private Deployment Metadata metadata private static final Log Provider log Logging get Log Provider Groovy Deployment Handler class public static final String org jboss seam deployment Groovy Deployment Handler private final String groovy File Extension private Set Class Descriptor classes param groovy File Extension The extension to use for the groovy file public Groovy Deployment Handler String groovy File Extension this groovy File Extension groovy File Extension this classes new Hash Set Class Descriptor this metadata new Groovy Deployment Handler Metadata groovy File Extension Get all the Groovy Seam Components this handler has handled public Set Class Descriptor get Classes return classes Override public void post Process Class Loader class Loader for File Descriptor file Descriptor get Resources log debug Found a groovy file file Descriptor get Name String classname filename To Groovyname file Descriptor get Name String filename groovy Component Filename file Descriptor get Name Buffered Reader buff Reader null try Input Stream stream class Loader get Resource As Stream file Descriptor get Name is Buffered Input Stream necessary buff Reader new Buffered Reader new Input Stream Reader stream String line buff Reader read Line while line null if line index Of Name line index Of Name class get Name possibly a Seam component log debug Groovy file possibly a Seam component file Descriptor get Name Class Object groovy Class Class Object class Loader load Class classname Install install groovy Class get Annotation Install class boolean installable install null install value groovy Class is Annotation Present Name class class Loader get Resources filename has More Elements if installable log debug found groovy component class file Descriptor get Name classes add new Class Descriptor file Descriptor get Name file Descriptor get Url groovy Class break line buff Reader read Line catch Class Not Found Exception cnfe log debug could not load groovy class classname cnfe catch Linkage Error ncdfe log debug could not load groovy class missing dependency classname ncdfe catch Exception ioe log debug could not load groovy file classname ioe catch Compilation Failed Exception e log debug Compilation error in Groovy file classname e catch Groovy Runtime Exception e log debug Unknown error reading Groovy file classname e finally if buff Reader null try buff Reader close catch Exception e log trace Could not close stream private String filename To Groovyname String filename return filename substring filename last Index Of groovy File Extension replace replace private String groovy Component Filename String name return name substring name last Index Of groovy File Extension component xml public String get Name return public Deployment Metadata get Metadata return metadata 
package org jboss seam deployment import groovy lang Groovy Class Loader import java io File import java util Collections import java util Hash Set import java util Set import javax servlet Servlet Context import org codehaus groovy control Compiler Configuration deployment strategy for hot deploying Seam groovy components author Pete Muir public class Groovy Hot Deployment Strategy extends Hot Deployment Strategy private static final String new Compiler Configuration get Default Script Extension private Class Loader class Loader private Groovy Deployment Handler groovy Deployment Handler param class Loader The parent classloader of the hot deployment classloader param hot Deploy Directory The directory in which hot deployable java and groovy Seam components are placed public Groovy Hot Deployment Strategy Class Loader class Loader File hot Deploy Directory Servlet Context servlet Context boolean enabled super class Loader hot Deploy Directory servlet Context enabled if enabled groovy Deployment Handler new Groovy Deployment Handler get Deployment Handlers put Groovy Deployment Handler groovy Deployment Handler Override public Class Loader get Class Loader if class Loader null super get Class Loader null this class Loader new Groovy Class Loader super get Class Loader return class Loader Override public boolean is From Hot Deploy Class Loader Class component Class loaded by groovy or java if get Class Loader null return false else if super is From Hot Deploy Class Loader component Class return true Java Class Loader class Class Loader component Class get Class Loader get Parent Groovy use an Inner Delegate return class Class Loader get Class Loader class Class Loader get Class Loader get Parent Override public Set Class Descriptor get Scanned Component Classes Set Class Descriptor set new Hash Set Class Descriptor set add All super get Scanned Component Classes set add All groovy Deployment Handler get Classes return Collections unmodifiable Set set 
package org jboss seam example numberguess import org jboss seam Scope Type import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors Name guess Scope Scope Type Bypass Interceptors public class Guess private Integer value public void set Value Integer guess this value guess public Integer get Value return value 
package org jboss seam ioc guice import org jboss seam annotations intercept Interceptors import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Retention import java lang annotation Target Google Guice support Allows use of Guice injection inside Seam component author Pawel Wrzeszcz pwrzeszcz at jboss org Target Retention Interceptors Guice Interceptor class public interface Guice Name of the Guice injector component By default the injector specified in the components xml file is used String value default 
package org jboss seam ioc guice import static org jboss seam annotations Install import java io Serializable import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import com google inject Injector Guice support configuration component Holds reference to the default injector author Pawel Wrzeszcz pwrzeszcz at jboss org Name org jboss seam ioc guice init Scope Scope Type Startup Install precedence class Dependencies com google inject Injector Bypass Interceptors public class Guice Init implements Serializable private static final long serial Version private Injector injector public Injector get Injector return injector public void set Injector Injector injector this injector injector Override public String to String return org jboss seam ioc guice init injector 
package org jboss seam ioc guice import org jboss seam Component import org jboss seam contexts Contexts import org jboss seam util Reflections import org jboss seam util Strings import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam core Expressions import org jboss seam intercept Invocation Context import org jboss seam intercept Abstract Interceptor import org jboss seam log Log import org jboss seam log Logging import com google inject Injector import com google inject Inject import java lang reflect Field import java util Collection import java util Hash Map import java util Map Triggers Guice injection on a Seam component author Pawel Wrzeszcz pwrzeszcz at jboss org author Tomasz Szymanski tszymanski at jboss org Interceptor public class Guice Interceptor extends Abstract Interceptor private static final Log log Logging get Log Guice Interceptor class private static final long serial Version private static final String org jboss seam Guice Component Fields Map private transient Injector default Injector null Around Invoke public Object around Invoke Invocation Context invocation Context throws Exception inject invocation Context get Target Object result invocation Context proceed disinject invocation Context get Target return result private void inject Object target if log is Trace Enabled log trace Injecting members of component get Component get Name get Guice Injector inject Members target private void disinject Object target throws Exception for Field guice Field get Guice Annotated Fields if guice Field is Accessible guice Field set Accessible true Reflections set guice Field target null return a Guice injector for the current component private Injector get Guice Injector final String expr Guice guice get Component get Bean Class get Annotation Guice class if guice null expr guice value else expr null Optimize lookups for default injector return Strings is Empty expr get Cached Default Injector get Injector By Name expr private Injector get Cached Default Injector if default Injector null Guice Init init Guice Init Component get Instance Guice Init class if init null default Injector init get Injector if default Injector null throw new Illegal State Exception Default Guice injector not specified return default Injector private static Injector get Injector By Name final String expr Object result if expr starts With result Expressions instance create Value Expression expr get Value else result Component get Instance expr if result instanceof Injector throw new Illegal Argument Exception Expression expr does not evaluate to a Guice injector return Injector result return a collection of all component fields injected by Guice annotated with the Inject annotation private Collection Field get Guice Annotated Fields final Map Class Collection Field fields Map get Guice Component Fields Map Collection Field annotated Fields fields Map get get Component get Bean Class if annotated Fields null annotated Fields Reflections get Fields get Component get Bean Class Inject class fields Map put get Component get Bean Class annotated Fields return annotated Fields return a cache that stores fields annotated with the Inject annotation for the Guice component classes Suppress Warnings unchecked private Map Class Collection Field get Guice Component Fields Map if Contexts get Application Context get null Contexts get Application Context set new Hash Map Class Collection Field return Map Class Collection Field Contexts get Application Context get public boolean is Interceptor Enabled return true 
package org jboss seam remoting gwt import static org jboss seam Scope Type import static org jboss seam annotations Install import java lang reflect Constructor import java lang reflect Method import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import com google gwt user client rpc Serialization Exception import com google gwt user server rpc impl Server Serialization Stream Reader import com google gwt user server rpc impl Server Serialization Stream Writer author Shane Bryzak Scope Name org jboss seam remoting gwt gwt Remote Service Install precedence class Dependencies com google gwt user client rpc Remote Service Bypass Interceptors public class Service extends Service private static final String com google gwt user server rpc Serialization Policy Provider private static final String com google gwt user server rpc Serialization Policy private static final String com google gwt user server rpc impl Legacy Serialization Policy private Constructor stream Reader Constructor private Constructor stream Writer Constructor private Object legacy Serialization Policy Create public void startup throws Exception try log trace Service starting up Class policy Provider Class Class for Name Class serialization Policy Class Class for Name stream Reader Constructor Server Serialization Stream Reader class get Constructor new Class Class Loader class policy Provider Class stream Writer Constructor Server Serialization Stream Writer class get Constructor new Class serialization Policy Class Class legacy Serialization Policy Class Class for Name Method m legacy Serialization Policy Class get Declared Method get Instance legacy Serialization Policy m invoke null catch Exception ex log error Error initializing Service Please ensure the libraries are in the classpath throw ex Override protected String create Response Server Serialization Stream Writer stream Class response Type Object response Obj boolean is Exception stream prepare To Write if response Type void class try stream serialize Value response Obj response Type catch Serialization Exception e response Obj e is Exception true return is Exception stream to String Override public Server Serialization Stream Reader get Stream Reader try return Server Serialization Stream Reader stream Reader Constructor new Instance Thread current Thread get Context Class Loader null catch Exception ex throw new Runtime Exception Unable to create stream reader ex Override public Server Serialization Stream Writer get Stream Writer try return Server Serialization Stream Writer stream Writer Constructor new Instance legacy Serialization Policy catch Exception ex throw new Runtime Exception Unable to create stream writer ex 
package org jboss seam remoting gwt import java io Exception import java io Input Stream import java lang reflect Invocation Target Exception import java lang reflect Method import java net Malformed Exception import java net import java text Parse Exception import java util Arrays import java util Hash Map import java util Map import javax servlet Servlet Context import javax servlet Servlet Exception import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam core Conversation Propagation import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam servlet Contextual Http Servlet Request import org jboss seam web Abstract Resource import com google gwt user client rpc Incompatible Remote Service Exception import com google gwt user client rpc Remote Service import com google gwt user client rpc Serialization Exception import com google gwt user server rpc import com google gwt user server rpc Request import com google gwt user server rpc Servlet Utils import com google gwt user server rpc Remote Service Servlet import com google gwt user server rpc Serialization Policy import com google gwt user server rpc Serialization Policy Loader import com google gwt user server rpc Serialization Policy Provider import com google gwt user server rpc Unexpected Exception import com google gwt user server rpc impl Server Serialization Stream Reader import com google gwt user server rpc impl Server Serialization Stream Writer Abstract base class for integration author Shane Bryzak public abstract class Service extends Abstract Resource implements Serialization Policy Provider protected static final Log Provider log Logging get Log Provider Service class private static final Hash Map String Class static new Hash Map String Class put boolean class put byte class put char class put double class put float class put int class put long class put short class cache of module Base and serialization policy strong name to link Serialization Policy private final Map String Serialization Policy serialization Policy Cache new Hash Map String Serialization Policy Override public String get Resource Path return gwt protected abstract Server Serialization Stream Reader get Stream Reader protected abstract Server Serialization Stream Writer get Stream Writer protected abstract String create Response Server Serialization Stream Writer stream Class response Type Object response Obj boolean is Exception private final Set known Implemented Interfaces new Hash Set private final Thread Local Http Servlet Request per Thread Request new Thread Local Http Servlet Request private final Thread Local Http Servlet Response per Thread Response new Thread Local Http Servlet Response This is called internally see Remote Service Servlet do Post Override public final void get Resource final Http Servlet Request request final Http Servlet Response response throws Servlet Exception Exception try Store the request response objects in thread local storage per Thread Request set request per Thread Response set response new Contextual Http Servlet Request request Override public void process throws Exception try Read the request fully String request Payload Remote Service Servlet read Content request Remote Service Servlet on Before Request Deserialized request Payload Invoke the core dispatching logic which returns the serialized result String response Payload process Call request Payload Remote Service Servlet on After Response Serialized response Payload Write the response Remote Service Servlet write Response request response response Payload catch Throwable e Remote Service Servlet do Unexpected Failure e Override protected void restore Conversation Id Conversation Propagation instance set Conversation Id Service this per Thread Request get get Parameter conversation Id Override protected void handle Conversation Propagation run finally per Thread Request remove per Thread Response remove This is public so that it can be unit tested easily without public String process Call String payload throws Serialization Exception Create a stream to deserialize the request Server Serialization Stream Reader stream Reader get Stream Reader stream Reader prepare To Read payload Read the service interface String service Intf Name stream Reader read String Read the method name String method Name stream Reader read String Read the number and names of the parameter classes from the stream We have to do this so that we can find the correct overload of the method int param Count stream Reader read Int Class param Types new Class param Count for int i i param Types length i String param Class Name stream Reader read String try param Types i get Class Or Primitive From Name param Class Name catch Class Not Found Exception e throw new Serialization Exception Unknown parameter i type param Class Name e Deserialize the parameters Object args new Object param Count for int i i args length i args i stream Reader deserialize Value param Types i try Seam Request rpc Request decode Request payload this get Class this return invoke And Encode Response this rpc Request get Method rpc Request get Parameter Types rpc Request get Parameters rpc Request get Serialization Policy catch Incompatible Remote Service Exception ex get Servlet Context log An Incompatible Remote Service Exception was thrown while processing this call ex return encode Response For Failure null ex Make the call via reflection String response Payload Server Serialization Stream Writer stream Writer get Stream Writer Throwable caught null try To Seam Adapter Returned Object returned Object adapter call Web Remote Method service Intf Name method Name param Types args Class return Type returned Object return Type Object return Val returned Object returned Object Class return Type service Intf Method get Return Type Object return Val service Intf Method invoke this args response Payload create Response stream Writer return Type return Val false catch Illegal Argument Exception e caught e catch Illegal Access Exception e caught e catch Invocation Target Exception e Try to serialize the caught exception if the client is expecting it otherwise log the exception server side caught e Throwable cause e get Cause if cause null Update the caught exception to the underlying cause caught cause Serialize the exception back to the client if it s a declared exception if cause instanceof Serializable Exception Class thrown Class cause get Class response Payload create Response stream Writer thrown Class cause true Do n t log the exception on the server caught null if caught null response Payload Servlet Context servlet Context get Servlet Context servlet Context may be null for example when unit testing if servlet Context null Log the exception server side servlet Context log Exception while dispatching incoming call caught Gets the code Http Servlet Request code object for the current call It is stored thread locally so that simultaneous invocations can have different request objects protected final Http Servlet Request get Thread Local Request return per Thread Request get Gets the code Http Servlet Response code object for the current call It is stored thread locally so that simultaneous invocations can have different response objects protected final Http Servlet Response get Thread Local Response return per Thread Response get Returns an link Request that is built by decoding the contents of an encoded request and optionally validating that type can handle the request If the type parameter is not code null code the implementation checks that the type is assignable to the link com google gwt user client rpc Remote Service interface requested in the encoded request string p If the serialization Policy Provider parameter is not code null code it is asked for a link Serialization Policy to use to restrict the set of types that can be decoded from the request If this parameter is code null code then only subtypes of link com google gwt user client rpc Is Serializable Is Serializable or types which have custom field serializers can be decoded p p Invoking this method with code null code for the type parameter code decode Request encoded Request null code is equivalent to calling code decode Request encoded Request code p param encoded Request a string that encodes the link com google gwt user client rpc Remote Service interface the service method and the arguments to pass to the service method param type if not code null code the implementation checks that the type is assignable to the link com google gwt user client rpc Remote Service interface encoded in the encoded request string param serialization Policy Provider if not code null code the implementation asks this provider for a link Serialization Policy which will be used to restrict the set of types that can be decoded from this request return an link Request instance throws Null Pointer Exception if the encoded Request is code null code throws Illegal Argument Exception if the encoded Request is an empty string throws Incompatible Remote Service Exception if any of the following conditions apply ul li if the types in the encoded request can not be deserialized li li if the link Class Loader acquired from code Thread current Thread get Context Class Loader code can not load the service interface or any of the types specified in the encoded Request li li the requested interface is not assignable to link com google gwt user client rpc Remote Service li li the service method requested in the encoded Request is not a member of the requested service interface li li the type parameter is not code null code and is not assignable to the requested link com google gwt user client rpc Remote Service interface ul public static Seam Request decode Request String encoded Request Class type Serialization Policy Provider serialization Policy Provider if encoded Request null throw new Null Pointer Exception encoded Request can not be null if encoded Request length throw new Illegal Argument Exception encoded Request can not be empty Class Loader class Loader Thread current Thread get Context Class Loader try Server Serialization Stream Reader stream Reader new Server Serialization Stream Reader class Loader serialization Policy Provider stream Reader prepare To Read encoded Request Read the name of the Remote Service interface String service Intf Name stream Reader read String todo if type null if implements Interface type service Intf Name The service does not implement the requested interface throw new Incompatible Remote Service Exception Blocked attempt to access interface service Intf Name which is not implemented by print Type Name type this is either misconfiguration or a hack attempt Serialization Policy serialization Policy stream Reader get Serialization Policy Class service Intf try service Intf get Class From Serialized Name service Intf Name class Loader if Remote Service class is Assignable From service Intf The requested interface is not a Remote Service interface throw new Incompatible Remote Service Exception Blocked attempt to access interface print Type Name service Intf which does n t extend Remote Service this is either misconfiguration or a hack attempt catch Class Not Found Exception e throw new Incompatible Remote Service Exception Could not locate requested interface service Intf Name in default classloader e String service Method Name stream Reader read String int param Count stream Reader read Int Class parameter Types new Class param Count for int i i parameter Types length i String param Class Name stream Reader read String try parameter Types i get Class From Serialized Name param Class Name class Loader catch Class Not Found Exception e throw new Incompatible Remote Service Exception Parameter i of is of an unknown type param Class Name e try Method method service Intf get Method service Method Name parameter Types Object parameter Values new Object parameter Types length for int i i parameter Values length i parameter Values i stream Reader deserialize Value parameter Types i return new Seam Request method parameter Values parameter Types serialization Policy catch No Such Method Exception e throw new Incompatible Remote Service Exception format Method Not Found Error Message service Intf service Method Name parameter Types catch Serialization Exception ex throw new Incompatible Remote Service Exception ex get Message ex Returns the link Class instance for the named class or primitive type param serialized Name the serialized name of a class or primitive type param class Loader the class Loader used to load link Class es return Class instance for the given type name throws Class Not Found Exception if the named type was not found private static Class get Class From Serialized Name String serialized Name Class Loader class Loader throws Class Not Found Exception Class value get serialized Name if value null return value return Class for Name serialized Name false class Loader Returns a string that encodes the result of calling a service method which could be the value returned by the method or an exception thrown by it p If the serialization Policy parameter is not code null code it is used to determine what types can be encoded as part of this response If this parameter is code null code then only subtypes of link com google gwt user client rpc Is Serializable Is Serializable or types which have custom field serializers may be encoded p p This method does no security checking security checking must be done on the method prior to this invocation p param target instance on which to invoke the service Method param service Method the method to invoke param args arguments used for the method invocation param serialization Policy determines the serialization policy to be used return a string which encodes either the method s return or a checked exception thrown by the method throws Null Pointer Exception if the service Method or the serialization Policy are code null code throws Security Exception if the method can not be accessed or if the number or type of actual and formal arguments differ throws Serialization Exception if an object could not be serialized by the stream throws Unexpected Exception if the service Method throws a checked exception that is not declared in its signature public static String invoke And Encode Response Object target Method service Method Class param Types Object args Serialization Policy serialization Policy throws Serialization Exception if service Method null throw new Null Pointer Exception service Method if serialization Policy null throw new Null Pointer Exception serialization Policy String response Payload try To Seam Adapter adapter To Seam Adapter instance String service Intf Name service Method get Declaring Class get Name To Seam Adapter Returned Object returned Object adapter call Web Remote Method service Intf Name service Method get Name param Types args Object result service Method invoke target args response Payload encode Response For Success service Method returned Object returned Object serialization Policy catch Illegal Access Exception e Security Exception security Exception new Security Exception format Illegal Access Error Message target service Method security Exception init Cause e throw security Exception catch Illegal Argument Exception e Security Exception security Exception new Security Exception format Illegal Argument Error Message target service Method args security Exception init Cause e throw security Exception catch Invocation Target Exception e Try to encode the caught exception Throwable cause e get Cause response Payload encode Response For Failure service Method cause serialization Policy return response Payload Override this method to examine the serialized response that will be returned to the client The default implementation does nothing and need not be called by subclasses protected void Remote Service Servlet on After Response Serialized String serialized Response Override this method to examine the serialized version of the request payload before it is deserialized into objects The default implementation does nothing and need not be called by subclasses protected void Remote Service Servlet on Before Request Deserialized String serialized Request Override this method in order to control the parsing of the incoming request For example you may want to bypass the check of the Content Type and character encoding headers in the request as some proxies re write the request headers Note that bypassing these checks may expose the servlet to some cross site vulnerabilities param request the incoming request return the content of the incoming request encoded as a string protected String Remote Service Servlet read Content Http Servlet Request request throws Servlet Exception Exception return Servlet Utils read Content As Utf request true public final Serialization Policy get Serialization Policy String module Base String strong Name Serialization Policy serialization Policy get Cached Serialization Policy module Base strong Name if serialization Policy null return serialization Policy serialization Policy do Get Serialization Policy get Thread Local Request module Base strong Name if serialization Policy null Failed to get the requested serialization policy use the default get Servlet Context log Failed to get the Serialization Policy strong Name for module module Base a legacy compatible serialization policy will be used You may experience Serialization Exceptions as a result serialization Policy get Default Serialization Policy This could cache null or an actual instance Either way we will not attempt to lookup the policy again put Cached Serialization Policy module Base strong Name serialization Policy return serialization Policy private Serialization Policy get Cached Serialization Policy String module Base String strong Name synchronized serialization Policy Cache return serialization Policy Cache get module Base strong Name private void put Cached Serialization Policy String module Base String strong Name Serialization Policy serialization Policy synchronized serialization Policy Cache serialization Policy Cache put module Base strong Name serialization Policy Gets the link Serialization Policy for given module base and strong name if there is one Override this method to provide a link Serialization Policy using an alternative approach param request the request being serviced param module Base as specified in the incoming payload param strong Name a strong name that uniquely identifies a serialization policy file return a link Serialization Policy for the given module base and strong name or code null code if there is none protected Serialization Policy do Get Serialization Policy Http Servlet Request request String module Base String strong Name The request can tell you the path of the web app relative to the container root String context Path request get Context Path String module Path null if module Base null try module Path new module Base get Path catch Malformed Exception ex log the information we will default get Servlet Context log Malformed module Base module Base ex Serialization Policy serialization Policy null Check that the module path must be in the same web app as the servlet itself If you need to implement a scheme different than this override this method if module Path null module Path starts With context Path String message The module path requested module Path is not in the same web application as this servlet context Path Your module may not be properly configured or your client and server code maybe out of date get Servlet Context log message else Strip off the context path from the module base It should be a strict prefix String context Relative Path module Path substring context Path length String serialization Policy File Path Serialization Policy Loader get Serialization Policy File Name context Relative Path strong Name Open the resource file read its contents Input Stream is get Servlet Context get Resource As Stream serialization Policy File Path try if is null try serialization Policy Serialization Policy Loader load From Stream is null catch Parse Exception e get Servlet Context log Failed to parse the policy file serialization Policy File Path e catch Exception e get Servlet Context log Could not read the policy file serialization Policy File Path e else String message The serialization policy file serialization Policy File Path was not found did you forget to include it in this deployment get Servlet Context log message finally if is null try is close catch Exception e Ignore this error return serialization Policy private void Remote Service Servlet write Response Http Servlet Request request Http Servlet Response response String response Payload throws Exception boolean gzip Encode Servlet Utils accepts Gzip Encoding request should Compress Response request response response Payload Servlet Utils write Response get Servlet Context response response Payload gzip Encode Override this method to control what should happen when an exception escapes the link process Call String method The default implementation will log the failure and send a generic failure response to the client p An expected failure is an exception thrown by a service method that is declared in the signature of the service method These exceptions are serialized back to the client and are not passed to this method This method is called only for exceptions or errors that are not part of the service method s signature or that result from Security Exceptions Serialization Exceptions or other failures within the framework p Note that if the desired behavior is to both send the response to rethrow the exception then this method should first send the response itself using get Thread Local Response and then rethrow the exception Rethrowing the exception will cause it to escape into the servlet container param e the exception which was thrown protected void Remote Service Servlet do Unexpected Failure Throwable e Servlet Context servlet Context get Servlet Context Servlet Utils write Response For Unexpected Failure servlet Context get Thread Local Response e Determines whether the response to a given servlet request should or should not be compressed This method is only called in cases where the requester accepts encoding p This implementation currently returns code true code if the response string s estimated byte length is longer than bytes Subclasses can override this logic p param request the request being served param response the response that will be written into param response Payload the payload that is about to be sent to the client return code true code if response Payload should be compressed otherwise code false code protected boolean should Compress Response Http Servlet Request request Http Servlet Response response String response Payload return Servlet Utils exceeds Uncompressed Content Length Limit response Payload private static String format Method Not Found Error Message Class service Intf String service Method Name Class parameter Types String Buffer sb new String Buffer sb append Could not locate requested method sb append service Method Name sb append for int i i parameter Types length i if i sb append sb append print Type Name parameter Types i sb append sb append in interface sb append print Type Name service Intf sb append return sb to String private static String format Illegal Access Error Message Object target Method service Method String Buffer sb new String Buffer sb append Blocked attempt to access inaccessible method sb append get Source Representation service Method sb append if target null sb append on target sb append print Type Name target get Class sb append sb append this is either misconfiguration or a hack attempt return sb to String private static String format Illegal Argument Error Message Object target Method service Method Object args String Buffer sb new String Buffer sb append Blocked attempt to invoke method sb append get Source Representation service Method sb append if target null sb append on target sb append print Type Name target get Class sb append sb append with invalid arguments if args null args length sb append Arrays as List args return sb to String Returns the source representation for a method signature param method method to get the source signature for return source representation for a method signature private static String get Source Representation Method method return method to String replace Straight copy from link com google gwt dev util Type Info get Source Representation Class to avoid runtime dependency on gwt dev private static String print Type Name Class type Primitives if type equals Integer return int else if type equals Long return long else if type equals Short return short else if type equals Byte return byte else if type equals Character return char else if type equals Boolean return boolean else if type equals Float return float else if type equals Double return double Arrays if type is Array Class component Type type get Component Type return print Type Name component Type Everything else return type get Name replace 
package org jboss seam remoting gwt import static org jboss seam Scope Type import static org jboss seam annotations Install import java lang reflect Invocation Target Exception import java lang reflect Method import java util Hash Map import java util Map import org jboss seam Component import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations remoting Web Remote import org jboss seam util This class adapts mechanism to Seam actions author Michael Neale Scope Name org jboss seam remoting gwt gwt To Seam Adapter Bypass Interceptors Install precedence public class To Seam Adapter very simple cache of previously looked up methods private final Map new Hash Map public static To Seam Adapter instance To Seam Adapter adapter To Seam Adapter Component get Instance To Seam Adapter class if adapter null throw new Illegal State Exception No To Seam Adapter exists return adapter Call the service param service Intf Name The interface name this will be the fully qualified name of the remote service interface as understood by This correlates to a component name in seam param method Name The method name of the service being invoked param param Types The types of parameters needed for method lookup for polymorphism param args The values to be passed to the service method return populated Returned Object the returned object payload may be null but the type will not be throws Invocation Target Exception throws Illegal Access Exception public Returned Object call Web Remote Method String service Intf Name String method Name Class param Types Object args throws Invocation Target Exception Illegal Access Exception Security Exception Find the component we re calling Component component Component for Name service Intf Name if component null throw new Runtime Exception No such component service Intf Name Object instance get Service Component service Intf Name Class clz null if component get Type is Session Bean component get Business Interfaces size for Class c component get Business Interfaces if c is Annotation Present clz c break if clz null throw new Runtime Exception String format Type can not be determined for component s Please ensure that it has a local interface component if clz null clz component get Bean Class Method method get Method service Intf Name method Name clz param Types Object result method invoke instance args return new Returned Object method get Return Type result Get the method on the class including walking up the class heirarchy if needed Methods have to be marked as Web Remote to be allowed param method Name param clz param param Types private Method get Method String service Name String method Name Class clz Class param Types String key get Key service Name method Name param Types if contains Key key return Method get key else try synchronized Method m find Method clz method Name param Types if m null throw new No Such Method Exception put key m return m catch No Such Method Exception e throw new Security Exception Unable to access a service method called method Name on class clz get Name without the Web Remote attribute This may be a hack attempt or someone simply neglected to use the Web Remote attribute to indicate a method as remotely accessible private String get Key String service Name String method Name Class param Types if param Types null return service Name method Name else String p Types for int i i param Types length i p Types param Types i get Name return service Name method Name p Types Recurse up the class hierarchy looking for a compatable method that is marked as Web Remote If one is not found or we hit Object class then we barf basically trust nothing from the client other then what we want to allow them to call private Method find Method Class clz String method Name Class param Types throws No Such Method Exception if clz Object class return null else Method m clz get Method method Name param Types if is Web Remote Annotated m return m else return find Method clz get Superclass method Name param Types Only allow methods annotated with Web Remote for security reasons private boolean is Web Remote Annotated Method method if method null return false return method get Annotation Web Remote class null Return the service component that has been bound to the given name protected Object get Service Component String service Intf Name return Component get Instance service Intf Name This is used for returning results to the service endpoint The class is needed even if the result is null a void class response Type is perfectly acceptable author Michael Neale static class Returned Object public Returned Object Class type Object result this return Type type this returned Object result public Class return Type public Object returned Object 
package org jboss seam example seamspace import java security Message Digest import org jboss seam Component import org jboss seam annotations Name import org jboss seam util Hex Name hash public class Hash String hash Function String charset public String hash String password try Message Digest md Message Digest get Instance hash Function md update password get Bytes charset byte raw md digest return new String Hex encode Hex raw catch Exception e throw new Runtime Exception e public String get Charset return charset public void set Charset String charset this charset charset public String get Hash Function return hash Function public void set Hash Function String hash Function this hash Function hash Function public static Hash instance return Hash Component get Instance Hash class 
package org jboss seam example seamspace import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam security crypto Bin Tools import org jboss seam security management Jpa Identity Store import org jboss seam security management Password Hash Scope Scope Type Name hashgenerator public class Hash Generator In Jpa Identity Store identity Store private String password private String password Hash private String password Salt public String get Password return password public void set Password String password this password password public String get Password Hash return password Hash public void set Password Hash String password Hash this password Hash password Hash public String get Password Salt return password Salt public void set Password Salt String password Salt this password Salt password Salt public void generate byte salt if password Salt null equals password Salt trim salt Password Hash instance generate Random Salt password Salt Bin Tools bin hex salt else salt Bin Tools hex bin password Salt password Hash identity Store generate Password Hash password salt public String get Sql String Builder sb new String Builder sb append username password hash password salt values johnsmith sb append password Hash sb append sb append password Salt sb append return sb to String 
package org jboss seam navigation import javax servlet http Http Servlet Response import org jboss seam core Expressions Value Expression public class Header public String name public Value Expression Object expression public String get Name return name public void set Name String name this name name public Value Expression Object get Value return expression public void set Value Value Expression Object value Expression this expression value Expression public void send Header Http Servlet Response response send Header response name evaluate Value private String evaluate Value String result if expression null Object value expression get Value if value null result value to String return result public static void send Header Http Servlet Response response String name String value if response null name null value null response add Header name value 
Copyright the original author or authors Licensed under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam mock import java lang reflect Array import java util Arrays import java util Collection import java util Collections import java util Iterator import java util Linked List import java util List import java util Map Internal helper class that serves as value holder for request headers author Juergen Hoeller author Rick Evans since class Header Value Holder private final List values new Linked List public void set Value Object value this values clear this values add value public void add Value Object value this values add value public void add Values Collection values this values add All values public void add Value Array Object values Object arr to Object Array values this values add All Arrays as List arr public List get Values return Collections unmodifiable List this values public Object get Value return this values is Empty this values get null Find a Header Value Holder by name ignoring casing param headers the Map of header names to Header Value Holders param name the name of the desired header return the corresponding Header Value Holder or code null code if none found public static Header Value Holder get By Name Map headers String name for Iterator it headers key Set iterator it has Next String header Name String it next if header Name equals Ignore Case name return Header Value Holder headers get header Name return null public static Object to Object Array Object source if source instanceof Object return Object source if source null return new Object if source get Class is Array throw new Illegal Argument Exception Source is not an array source int length Array get Length source if length return new Object Class wrapper Type Array get source get Class Object new Array Object Array new Instance wrapper Type length for int i i length i new Array i Array get source i return new Array 
package org jboss seam example remoting import org jboss seam annotations Name import org jboss seam annotations remoting Web Remote Name hello Action public class Hello Action Web Remote public String say Hello String name return Hello name 
package org jboss seam example remoting gwt client import com google gwt core client Entry Point import com google gwt user client ui Root Panel This is the main entry point as per Generally this is a lean class you tend to use seperate widget classes after this point This is pretty much boiler plate you can mostly ignore this Entry point classes define code on Module Load code public class Hello World implements Entry Point This is the entry point method public void on Module Load Assume that the host has elements defined whose Ds are slot slot In a real app you probably would not want to hard code Ds Instead you could for example search for all elements with a particular class and replace them with widgets Root Panel get slot add new Ask Question Widget 
package org jboss seam util Hex encoder and decoder ripped off from commons codec Decoder Exception and Encoder Exception have been replaced by Runtime Exception author Apache Software Foundation public class Hex Used building output as Hex private static final char a b c d e f Converts an array of characters representing hexidecimal values into an array of bytes of those same values The returned array will be half the length of the passed array as it takes two characters to represent any given byte An exception is thrown if the passed char array has an odd number of elements param data An array of characters containing hexidecimal digits return byte array containing binary data decoded from the supplied char array throws Runtime Exception Thrown if an odd number or illegal of characters is supplied public static byte decode Hex char data throws Runtime Exception int len data length if len x throw new Runtime Exception Odd number of characters byte out new byte len two characters form the hex value for int i j j len i int f to Digit data j j j f f to Digit data j j j out i byte f x return out Converts a hexadecimal character to an integer param ch character to convert to an integer digit param index The index of the character in the source return An integer throws Runtime Exception Thrown if ch is an illegal hex character protected static int to Digit char ch int index throws Runtime Exception int digit Character digit ch if digit throw new Runtime Exception Illegal hexadecimal charcter ch at index index return digit Converts an array of bytes into an array of characters representing the hexidecimal values of each byte in order The returned array will be double the length of the passed array as it takes two characters to represent any given byte param data a byte to convert to Hex characters return char containing hexidecimal characters public static char encode Hex byte data int l data length char out new char l two characters form the hex value for int i j i l i out j x data i out j x data i return out Converts an array of character bytes representing hexidecimal values into an array of bytes of those same values The returned array will be half the length of the passed array as it takes two characters to represent any given byte An exception is thrown if the passed char array has an odd number of elements param array An array of character bytes containing hexidecimal digits return byte array containing binary data decoded from the supplied byte array representing characters throws Runtime Exception Thrown if an odd number of characters is supplied to this function see decode Hex char public byte decode byte array throws Runtime Exception return decode Hex new String array to Char Array Converts a String or an array of character bytes representing hexidecimal values into an array of bytes of those same values The returned array will be half the length of the passed String or array as it takes two characters to represent any given byte An exception is thrown if the passed char array has an odd number of elements param object String or an array of character bytes containing hexidecimal digits return byte array containing binary data decoded from the supplied byte array representing characters throws Runtime Exception Thrown if an odd number of characters is supplied to this function or the object is not a String or char see decode Hex char public Object decode Object object throws Runtime Exception try char char Array object instanceof String String object to Char Array char object return decode Hex char Array catch Class Cast Exception e throw new Runtime Exception e get Message Converts an array of bytes into an array of bytes for the characters representing the hexidecimal values of each byte in order The returned array will be double the length of the passed array as it takes two characters to represent any given byte param array a byte to convert to Hex characters return byte containing the bytes of the hexidecimal characters see encode Hex byte public byte encode byte array return new String encode Hex array get Bytes Converts a String or an array of bytes into an array of characters representing the hexidecimal values of each byte in order The returned array will be double the length of the passed String or array as it takes two characters to represent any given byte param object a String or byte to convert to Hex characters return char containing hexidecimal characters throws Runtime Exception Thrown if the given object is not a String or byte see encode Hex byte public Object encode Object object throws Runtime Exception try byte byte Array object instanceof String String object get Bytes byte object return encode Hex byte Array catch Class Cast Exception e throw new Runtime Exception e get Message 
package org jboss seam trinidad import org jboss seam framework Hibernate Entity Query import org jboss seam framework Query public class Hibernate Entity Collection Model extends Seam Collection Model private Hibernate Entity Query hibernate Entity Query public Hibernate Entity Collection Model Hibernate Entity Query query this hibernate Entity Query query Override protected Query get Query return hibernate Entity Query Override public Object get Row Key if get Row Index return null else return Hibernate Entity Key Manager instance get Key get Row Index get First Result get Wrapped List hibernate Entity Query get Session Override public void set Row Key Object row Key if row Key null set Row Index else set Row Index Hibernate Entity Key Manager instance get Index Integer row Key get Wrapped List hibernate Entity Query get Session get First Result 
package org jboss seam framework import java io Serializable import org hibernate Criteria import org hibernate Filter import org hibernate Hibernate Exception import org hibernate Lock Mode import org hibernate Query import org hibernate Query import org hibernate Session Base class for controller objects that perform persistence operations using Hibernate Adds convenience methods for access to the Hibernate Session object author Gavin King public class Hibernate Entity Controller extends Persistence Controller Session public Session get Session return get Persistence Context public void set Session Session session set Persistence Context session Override protected String get Persistence Context Name return hibernate Session protected Criteria create Criteria Class clazz return get Session create Criteria clazz protected Query create Query String hql throws Hibernate Exception return get Session create Query hql protected Query create Query String sql throws Hibernate Exception return get Session create Query sql protected void delete Object entity throws Hibernate Exception get Session delete entity protected Filter enable Filter String name return get Session enable Filter name protected void flush throws Hibernate Exception get Session flush Suppress Warnings deprecation protected get Class clazz Serializable id Lock Mode lock Mode throws Hibernate Exception return get Session get clazz id lock Mode protected get Class clazz Serializable id throws Hibernate Exception return get Session get clazz id protected Query get Named Query String name throws Hibernate Exception return get Session get Named Query name Suppress Warnings deprecation protected load Class clazz Serializable id Lock Mode lock Mode throws Hibernate Exception return get Session load clazz id lock Mode protected load Class clazz Serializable id throws Hibernate Exception return get Session load clazz id Suppress Warnings deprecation protected void lock Object entity Lock Mode lock Mode throws Hibernate Exception get Session lock entity lock Mode protected merge entity throws Hibernate Exception return get Session merge entity protected void persist Object entity throws Hibernate Exception get Session persist entity Suppress Warnings deprecation protected void refresh Object entity Lock Mode lock Mode throws Hibernate Exception get Session refresh entity lock Mode protected void refresh Object entity throws Hibernate Exception get Session refresh entity 
package org jboss seam framework import java io Serializable import org hibernate Session import org hibernate Transient Object Exception import org jboss seam annotations Transactional Base class for Home objects for Hibernate entities author Gavin King public class Hibernate Entity Home extends Home Session private static final long serial Version Override public void create super create if get Session null throw new Illegal State Exception hibernate Session is null Transactional public boolean is Managed return get Instance null get Session contains get Instance Transactional public String update get Session flush updated Message raise After Transaction Success Event return updated Transactional public String persist get Session persist get Instance get Session flush assign Id get Session get Identifier get Instance created Message raise After Transaction Success Event return persisted Transactional public String remove get Session delete get Instance get Session flush deleted Message raise After Transaction Success Event return removed Transactional Override public find if get Session is Open result load Instance if result null result handle Not Found return result else return null protected load Instance return get Session get get Entity Class Serializable get Id Override protected void join Transaction get Session is Open public Session get Session return get Persistence Context public void set Session Session session set Persistence Context session Override protected String get Persistence Context Name return hibernate Session Override protected String get Entity Name try return get Session get Entity Name get Instance catch Transient Object Exception e return get Session get Session Factory get Class Metadata get Instance get Class get Entity Name 
package org jboss seam framework import java io Serializable import org hibernate Session import org jboss seam persistence Hibernate Persistence Provider public class Hibernate Entity Identifier extends Identifier Session public Hibernate Entity Identifier Object entity Session session super Hibernate Persistence Provider instance get Bean Class entity session get Identifier entity public Hibernate Entity Identifier Class clazz Object id super clazz id Override public Object find Session session if session null throw new Illegal Argument Exception session must not be null return session get get Clazz Serializable get Id 
package org jboss seam trinidad import static org jboss seam Scope Type import static org jboss seam annotations Install import java util Array List import java util List import org hibernate Session import org jboss seam Component import org jboss seam annotations Install import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Transactional import org jboss seam core Abstract Mutable import org jboss seam framework Hibernate Entity Identifier Entity Identifier manager for Entity Collection Model author pmuir Name org jboss seam trinidad hibernate Entity Key Manager Scope Bypass Interceptors Install precedence public class Hibernate Entity Key Manager extends Abstract Mutable private List Hibernate Entity Identifier rows new Array List Hibernate Entity Identifier public static Hibernate Entity Key Manager instance return Hibernate Entity Key Manager Component get Instance Hibernate Entity Key Manager class Transactional public int get Index Integer key List wrapped List Session session Object entity rows get key find session int index wrapped List index Of entity return index Transactional public Object get Key int row Index List wrapped List Session session Hibernate Entity Identifier key new Hibernate Entity Identifier wrapped List get row Index session if rows contains key rows add key set Dirty return rows index Of key 
package org jboss seam ui import static org jboss seam Scope Type import static org jboss seam annotations Install import org hibernate Session import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam framework Hibernate Entity Identifier import org jboss seam framework Identifier Stores entity identifiers under a key which can be used on a page author Pete Muir Name org jboss seam ui entity Loader Install precedence class Dependencies org hibernate Session value false Scope public class Hibernate Entity Loader extends Abstract Entity Loader Session Override protected Identifier create Identifier Object entity return new Hibernate Entity Identifier entity get Persistence Context Override protected String get Persistence Context Name return hibernate Session Override public void validate if get Persistence Context null throw new Illegal State Exception Unable to access a Seam Managed Hibernate Session You must either have a Seam Managed Hibernate Session called hibernate Session or configure one in components xml public Session get Session return get Persistence Context public void set Session Session session set Persistence Context session 
package org jboss seam framework import java util Collection import java util List import org hibernate Session import org jboss seam annotations Transactional import org jboss seam persistence Query Parser Query object for Hibernate author Gavin King public class Hibernate Entity Query extends Query Session private List result List private single Result private Long result Count private Boolean cacheable private String cache Region private Integer fetch Size Override public void validate super validate if get Session null throw new Illegal State Exception hibernate Session is null Transactional Override public List get Result List if is Any Parameter Dirty refresh init Result List return trunc Result List result List private void init Result List if result List null org hibernate Query query create Query result List query null null query list Override Transactional public boolean is Next Exists return result List null get Max Results null result List size get Max Results Transactional Override public get Single Result if is Any Parameter Dirty refresh init Single Result return single Result private void init Single Result if single Result null org hibernate Query query create Query single Result query null null query unique Result Transactional Override public Long get Result Count if is Any Parameter Dirty refresh init Result Count return result Count private void init Result Count if result Count null org hibernate Query query create Count Query result Count query null null Long query unique Result Override public void refresh super refresh result Count null result List null single Result null public Session get Session return get Persistence Context public void set Session Session session set Persistence Context session Override protected String get Persistence Context Name return hibernate Session protected org hibernate Query create Query parse Ejbql evaluate All Parameters org hibernate Query query get Session create Query get Rendered Ejbql set Parameters query get Query Parameter Values set Parameters query get Restriction Parameter Values get Query Parameter Values size if get First Result null query set First Result get First Result if get Max Results null query set Max Results get Max Results add one so we can tell if there is another page if get Cacheable null query set Cacheable get Cacheable if get Cache Region null query set Cache Region get Cache Region if get Fetch Size null query set Fetch Size get Fetch Size return query protected org hibernate Query create Count Query parse Ejbql evaluate All Parameters org hibernate Query query get Session create Query get Count Ejbql set Parameters query get Query Parameter Values set Parameters query get Restriction Parameter Values get Query Parameter Values size return query private void set Parameters org hibernate Query query List Object parameters int start for int i i parameters size i Object parameter Value parameters get i if is Restriction Parameter Set parameter Value if parameter Value instanceof Collection query set Parameter List Query Parser get Parameter Name start i Collection parameter Value else query set Parameter Query Parser get Parameter Name start i parameter Value protected Boolean get Cacheable return cacheable protected void set Cacheable Boolean cacheable this cacheable cacheable protected String get Cache Region return cache Region protected void set Cache Region String cache Region this cache Region cache Region protected Integer get Fetch Size return fetch Size protected void set Fetch Size Integer fetch Size this fetch Size fetch Size 
package org jboss seam persistence import static org jboss seam annotations Install import java lang reflect Method import java lang reflect Proxy import java util Collection import java util Map import javax persistence Entity Manager import javax transaction Synchronization import org hibernate Entity Mode import org hibernate Flush Mode import org hibernate Hibernate import org hibernate Session import org hibernate Stale State Exception import org hibernate Transient Object Exception import org hibernate metadata Class Metadata import org hibernate proxy Hibernate Proxy import org hibernate type Version Type import org jboss seam Component import org jboss seam Entity import org jboss seam Entity Not Entity Exception import org jboss seam Scope Type import org jboss seam annotations Flush Mode Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Expressions Value Expression import org jboss seam log Log import org jboss seam log Logging Support for non standardized features of Hibernate when used as the persistence provider author Gavin King author Pete Muir Name org jboss seam persistence persistence Provider Scope Scope Type Bypass Interceptors Install precedence class Dependencies org hibernate Session javax persistence Entity Manager public class Hibernate Persistence Provider extends Persistence Provider private static Log log Logging get Log Hibernate Persistence Provider class private static Class private static Method private static Class private static Method static boolean hibernate Search Present false try Class for Name org hibernate search Version hibernate Search Present true catch Exception e log debug Hibernate Search not present e if hibernate Search Present try Class search Class Class for Name org hibernate search Search try search Class get Declared Method get Full Text Session Session class catch No Such Method Exception no Such Method log debug org hibernate search Search get Full Text Session Session not found trying deprecated method name create Full Text Session search Class get Declared Method create Full Text Session Session class Class for Name org jboss seam persistence Full Text Hibernate Session Proxy Class jpa Search Class Class for Name org hibernate search jpa Search try jpa Search Class get Declared Method get Full Text Entity Manager Entity Manager class catch No Such Method Exception no Such Method log debug org hibernate search jpa get Full Text Session Entity Manager not found trying deprecated method name create Full Text Entity Manager jpa Search Class get Declared Method create Full Text Entity Manager Entity Manager class Class for Name org jboss seam persistence Full Text Entity Manager Proxy log debug Hibernate Search is available catch Exception e log debug Unable to load Hibernate Search for e public Hibernate Persistence Provider super init feature Set add Feature Wrap the Hibernate Session in a proxy that supports interpolation and implements Full Text Session if Hibernate Search is available in the classpath static Session proxy Session Session session if null if session instanceof Hibernate Session Proxy return session else return Session Proxy new Proxy Instance Thread current Thread get Context Class Loader new Class Hibernate Session Proxy class new Hibernate Session Invocation Handler session Full Text Session session else try if is Assignable From session get Class return session else return Session Proxy new Proxy Instance Thread current Thread get Context Class Loader new Class new Hibernate Session Invocation Handler Session invoke null session catch Exception e log warn Unable to wrap into a Full Text Session Proxy regular Session Proxy returned e if session instanceof Hibernate Session Proxy return session else return Session Proxy new Proxy Instance Thread current Thread get Context Class Loader new Class Hibernate Session Proxy class new Hibernate Session Invocation Handler session Wrap the delegate Hibernate Session in a proxy that supports interpolation and implements Full Text Session if Hibernate Search is available in the classpath Override public Object proxy Delegate Object delegate try return proxy Session Session delegate catch Not Hibernate Exception nhe return super proxy Delegate delegate catch Exception e throw new Runtime Exception could not proxy delegate e Override public void set Flush Mode Manual Entity Manager entity Manager try get Session entity Manager set Flush Mode Flush Mode catch Not Hibernate Exception nhe super set Flush Mode Manual entity Manager Override public void set Render Flush Mode Persistence Contexts instance change Flush Mode Flush Mode Type true Override public boolean is Dirty Entity Manager entity Manager try return get Session entity Manager is Dirty catch Not Hibernate Exception nhe return super is Dirty entity Manager Override public Object get Id Object bean Entity Manager entity Manager try return get Session entity Manager get Identifier bean catch Not Hibernate Exception nhe return super get Id bean entity Manager catch Transient Object Exception e if bean instanceof Hibernate Proxy return super get Id Hibernate Proxy bean get Hibernate Lazy Initializer get Implementation entity Manager else return super get Id bean entity Manager Override public Object get Version Object bean Entity Manager entity Manager try return get Version bean get Session entity Manager catch Not Hibernate Exception nhe return super get Version bean entity Manager Override public void check Version Object bean Entity Manager entity Manager Object old Version Object version try check Version bean get Session entity Manager old Version version catch Not Hibernate Exception nhe super check Version bean entity Manager old Version version Override public void enable Filter Filter f Entity Manager entity Manager try org hibernate Filter filter get Session entity Manager enable Filter f get Name for Map Entry String Value Expression me f get Parameters entry Set Object filter Value me get Value get Value if filter Value instanceof Collection filter set Parameter List me get Key Collection filter Value else filter set Parameter me get Key filter Value filter validate catch Not Hibernate Exception nhe super enable Filter f entity Manager Override public boolean register Synchronization Synchronization sync Entity Manager entity Manager try just make sure that a Hibernate Entity Transaction delegates to the Hibernate Session transaction get Session entity Manager get Transaction register Synchronization sync return true catch Not Hibernate Exception nhe return super register Synchronization sync entity Manager Override public String get Name Object bean Entity Manager entity Manager throws Illegal Argument Exception try return get Session entity Manager get Entity Name bean catch Not Hibernate Exception nhe return super get Name bean entity Manager catch Transient Object Exception e return super get Name bean entity Manager Override public Entity Manager proxy Entity Manager Entity Manager entity Manager if null return super proxy Entity Manager entity Manager else try return Entity Manager Proxy new Proxy Instance Thread current Thread get Context Class Loader new Class new Entity Manager Invocation Handler Entity Manager invoke null super proxy Entity Manager entity Manager catch Exception e throw new Runtime Exception could not proxy Full Text Entity Manager e return super proxy Entity Manager entity Manager public static void check Version Object value Session session Object old Version Object version Class Metadata class Metadata get Class Metadata value session Version Type version Type Version Type class Metadata get Property Types class Metadata get Version Property if version Type is Equal old Version version throw new Stale State Exception current database version number does not match passivated version number public static Object get Version Object value Session session Class Metadata class Metadata get Class Metadata value session return class Metadata null class Metadata is Versioned class Metadata get Version value null private static Class Metadata get Class Metadata Object value Session session Class entity Class get Entity Class value Class Metadata class Metadata null if entity Class null class Metadata session get Session Factory get Class Metadata entity Class if class Metadata null throw new Illegal Argument Exception Could not find Class Metadata object for entity class entity Class get Name return class Metadata Returns the class of the specified Hibernate entity Override public Class get Bean Class Object bean return get Entity Class bean public static Class get Entity Class Object bean Class clazz null try clazz Entity for Bean bean get Bean Class catch Not Entity Exception e It s ok try some other methods if clazz null clazz Hibernate get Class bean return clazz private Session get Session Entity Manager entity Manager Object delegate entity Manager get Delegate if delegate instanceof Session return Session delegate else throw new Not Hibernate Exception Occurs when Hibernate is in the classpath but this particular Entity Manager is not from Hibernate author Gavin King static class Not Hibernate Exception extends Illegal Argument Exception public static Hibernate Persistence Provider instance return Hibernate Persistence Provider Component get Instance Hibernate Persistence Provider class Scope Type 
package org jboss seam security import static org jboss seam security Entity Action import static org jboss seam security Entity Action import static org jboss seam security Entity Action import static org jboss seam security Entity Action import java io Serializable import org hibernate Empty Interceptor import org hibernate Interceptor import org hibernate type Type import org jboss seam Entity Not Entity Exception Facilitates security checks for Hibernate entities author Shane Bryzak public class Hibernate Security Interceptor extends Empty Interceptor private Interceptor wrapped Interceptor public Hibernate Security Interceptor Interceptor wrapped Interceptor this wrapped Interceptor wrapped Interceptor Override public boolean on Load Object entity Serializable id Object state String property Names Type types try Entity Permission Checker instance check Entity Permission entity catch Not Entity Exception e Not a entity return wrapped Interceptor null wrapped Interceptor on Load entity id state property Names types false Override public void on Delete Object entity Serializable id Object state String property Names Type types try Entity Permission Checker instance check Entity Permission entity catch Not Entity Exception e Not a entity if wrapped Interceptor null wrapped Interceptor on Delete entity id state property Names types Override public boolean on Flush Dirty Object entity Serializable id Object current State Object previous State String property Names Type types try Entity Permission Checker instance check Entity Permission entity catch Not Entity Exception e Not a entity return wrapped Interceptor null wrapped Interceptor on Flush Dirty entity id current State previous State property Names types false Override public boolean on Save Object entity Serializable id Object state String property Names Type types try Entity Permission Checker instance check Entity Permission entity catch Not Entity Exception e Not a entity return wrapped Interceptor null wrapped Interceptor on Save entity id state property Names types false 
Id Hibernate Session Factory java gavin package org jboss seam persistence import java io File import java util Hashtable import java util List import java util Map import java util Properties import org hibernate Session Factory import org hibernate cfg Configuration import org hibernate cfg Environment import org hibernate cfg Naming Strategy import org hibernate internal util Reflect Helper import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam security Hibernate Security Interceptor import org jboss seam util Naming Seam component that bootstraps a Hibernate Session Factory p Loads Hibernate configuration options by checking li hibernate properties in root of the classpath li hibernate cfg xml in root of the classpath li cfg Resource Name as location of a cfg xml file li factory supplied cfg Properties options p Note that this factory only supports cfg xml files b or b programmatic tt cfg Properties tt supplied to the factory Any tt hibernate properties tt are always loaded from the classpath p Mapping metadata can be supplied via li mapping Classes equivalent to lt mapping class li mapping Files equivalent to lt mapping file li mapping Jars equivalent to lt mapping jar li mapping Packages equivalent to lt mapping package li mapping Resources equivalent to lt mapping resource p or via cfg xml files p The tt jndi Properties tt are convenience the factory will automatically prefix regular properties for use as Hibernate configuration properties author Gavin King author Christian Bauer Scope Scope Type Bypass Interceptors Startup public class Hibernate Session Factory private Session Factory session Factory private String cfg Resource Name private Map String String cfg Properties private List String mapping Classes private List String mapping Files private List String mapping Jars private List String mapping Packages private List String mapping Resources private Naming Strategy naming Strategy Unwrap public Session Factory get Session Factory throws Exception return session Factory Create public void startup throws Exception session Factory create Session Factory Destroy public void shutdown if session Factory null session Factory close protected Session Factory create Session Factory throws Class Not Found Exception Configuration configuration new Configuration setup non default naming strategy if naming Strategy null configuration set Naming Strategy naming Strategy Programmatic configuration if cfg Properties null Properties props new Properties props put All cfg Properties configuration set Properties props Hashtable String String jndi Properties Naming get Initial Context Properties if jndi Properties null Prefix regular properties for Hibernate for Map Entry String String entry jndi Properties entry Set configuration set Property Environment entry get Key entry get Value hibernate cfg xml configuration if cfg Properties null cfg Resource Name null configuration configure else if cfg Properties null cfg Resource Name null configuration configure cfg Resource Name Mapping metadata if mapping Classes null for String class Name mapping Classes configuration add Annotated Class Reflect Helper class For Name class Name if mapping Files null for String file Name mapping Files configuration add File file Name if mapping Jars null for String jar Name mapping Jars configuration add Jar new File jar Name if mapping Packages null for String package Name mapping Packages configuration add Package package Name if mapping Resources null for String resource Name mapping Resources configuration add Resource resource Name configuration set Interceptor new Hibernate Security Interceptor configuration get Interceptor return configuration build Session Factory public String get Cfg Resource Name return cfg Resource Name public void set Cfg Resource Name String cfg File Name this cfg Resource Name cfg File Name public Naming Strategy get Naming Strategy return naming Strategy public void set Naming Strategy Naming Strategy naming Strategy this naming Strategy naming Strategy public Map String String get Cfg Properties return cfg Properties public void set Cfg Properties Map String String cfg Properties this cfg Properties cfg Properties public List String get Mapping Classes return mapping Classes public void set Mapping Classes List String mapping Classes this mapping Classes mapping Classes public List String get Mapping Files return mapping Files public void set Mapping Files List String mapping Files this mapping Files mapping Files public List String get Mapping Jars return mapping Jars public void set Mapping Jars List String mapping Jars this mapping Jars mapping Jars public List String get Mapping Packages return mapping Packages public void set Mapping Packages List String mapping Packages this mapping Packages mapping Packages public List String get Mapping Resources return mapping Resources public void set Mapping Resources List String mapping Resources this mapping Resources mapping Resources 
package org jboss seam persistence import java io Serializable import java lang reflect Invocation Handler import java lang reflect Invocation Target Exception import java lang reflect Method import java sql Connection import java util Iterator import java util List import java util Map import java util Set import org hibernate Cache Mode import org hibernate Criteria import org hibernate Filter import org hibernate Flush Mode import org hibernate Hibernate Exception import org hibernate Identifier Load Access import org hibernate Interceptor import org hibernate Lob Helper import org hibernate Lock Mode import org hibernate Lock Options import org hibernate Natural Id Load Access import org hibernate Query import org hibernate Replication Mode import org hibernate Query import org hibernate Scroll Mode import org hibernate Scrollable Results import org hibernate Session import org hibernate Session Factory import org hibernate Shared Session Builder import org hibernate Simple Natural Id Load Access import org hibernate Transaction import org hibernate Type Helper import org hibernate cache spi Cache Key import org hibernate collection spi Persistent Collection import org hibernate engine jdbc spi Jdbc Connection Access import org hibernate engine query spi sql Native Query Specification import org hibernate engine spi Action Queue import org hibernate engine spi Entity Entry import org hibernate engine spi Entity Key import org hibernate engine spi Load Query Influencers import org hibernate engine spi Non Flushed Changes import org hibernate engine spi Persistence Context import org hibernate engine spi Query Parameters import org hibernate engine spi Session Factory Implementor import org hibernate engine spi Session Implementor import org hibernate engine transaction spi Transaction Coordinator import org hibernate event spi Event Source import org hibernate internal Criteria Impl import org hibernate jdbc Returning Work import org hibernate jdbc Work import org hibernate loader custom Custom Query import org hibernate persister entity Entity Persister import org hibernate stat Session Statistics import org hibernate type Type Invocation Handler that proxies the Session and implements interpolation in Needs to implement Session Implementor because Detached Criteria casts the Session to Session Implementor author Gavin King author Emmanuel Bernard author Mike Youngstrom author Marek Novotny public class Hibernate Session Invocation Handler implements Invocation Handler Serializable Event Source private static final long serial Version private Session delegate public Hibernate Session Invocation Handler Session param Delegate this delegate param Delegate public Object invoke Object proxy Method method Object args throws Throwable try if create Query equals method get Name method get Parameter Types length method get Parameter Types equals String class return handle Create Query With String method args if reconnect equals method get Name method get Parameter Types length return handle Reconnect No Arg method return method invoke delegate args catch Invocation Target Exception e throw e get Target Exception protected Object handle Create Query With String Method method Object args throws Throwable if args null return method invoke get Delegate method args return method invoke delegate args String ejbql String args if ejbql index Of Query Parser qp new Query Parser ejbql Object new Args args clone new Args qp get Ejbql Query query Query method invoke get Delegate method new Args Query query Query method invoke delegate new Args for int i i qp get Parameter Value Bindings size i query set Parameter Query Parser get Parameter Name i qp get Parameter Value Bindings get i get Value return query else return method invoke delegate args protected Object handle Reconnect No Arg Method method throws Throwable throw new Unsupported Operation Exception deprecated public Interceptor get Interceptor return Session Implementor delegate get Interceptor public void set Auto Clear boolean param Boolean Session Implementor delegate set Auto Clear param Boolean public boolean is Transaction In Progress return Session Implementor delegate is Transaction In Progress public void initialize Collection Persistent Collection param Persistent Collection boolean param Boolean throws Hibernate Exception Session Implementor delegate initialize Collection param Persistent Collection param Boolean public Object internal Load String param String Serializable param Serializable boolean param Boolean boolean param Boolean throws Hibernate Exception return Session Implementor delegate internal Load param String param Serializable param Boolean param Boolean public Object immediate Load String param String Serializable param Serializable throws Hibernate Exception return Session Implementor delegate immediate Load param String param Serializable public long get Timestamp return Session Implementor delegate get Timestamp public Session Factory Implementor get Factory return Session Implementor delegate get Factory public List list String param String Query Parameters param Query Parameters throws Hibernate Exception return Session Implementor delegate list param String param Query Parameters public Iterator iterate String param String Query Parameters param Query Parameters throws Hibernate Exception return Session Implementor delegate iterate param String param Query Parameters public Scrollable Results scroll String param String Query Parameters param Query Parameters throws Hibernate Exception return Session Implementor delegate scroll param String param Query Parameters public Scrollable Results scroll Criteria Impl param Criteria Impl Scroll Mode param Scroll Mode return Session Implementor delegate scroll param Criteria Impl param Scroll Mode public List list Criteria Impl param Criteria Impl return Session Implementor delegate list param Criteria Impl public List list Filter Object param Object String param String Query Parameters param Query Parameters throws Hibernate Exception return Session Implementor delegate list Filter param Object param String param Query Parameters public Iterator iterate Filter Object param Object String param String Query Parameters param Query Parameters throws Hibernate Exception return Session Implementor delegate iterate Filter param Object param String param Query Parameters public Entity Persister get Entity Persister String param String Object param Object throws Hibernate Exception return Session Implementor delegate get Entity Persister param String param Object public Object get Entity Using Interceptor Entity Key param Entity Key throws Hibernate Exception return Session Implementor delegate get Entity Using Interceptor param Entity Key public Serializable get Context Entity Identifier Object param Object return Session Implementor delegate get Context Entity Identifier param Object public String best Guess Entity Name Object param Object return Session Implementor delegate best Guess Entity Name param Object public String guess Entity Name Object param Object throws Hibernate Exception return Session Implementor delegate guess Entity Name param Object public Object instantiate String param String Serializable param Serializable throws Hibernate Exception return Session Implementor delegate instantiate param String param Serializable public List list Custom Query Custom Query param Custom Query Query Parameters param Query Parameters throws Hibernate Exception return Session Implementor delegate list Custom Query param Custom Query param Query Parameters public Scrollable Results scroll Custom Query Custom Query param Custom Query Query Parameters param Query Parameters throws Hibernate Exception return Session Implementor delegate scroll Custom Query param Custom Query param Query Parameters public List list Native Query Specification param Native Query Specification Query Parameters param Query Parameters throws Hibernate Exception return Session Implementor delegate list param Native Query Specification param Query Parameters public Scrollable Results scroll Native Query Specification param Native Query Specification Query Parameters param Query Parameters throws Hibernate Exception return Session Implementor delegate scroll param Native Query Specification param Query Parameters public Object get Filter Parameter Value String param String return Session Implementor delegate get Filter Parameter Value param String public Type get Filter Parameter Type String param String return Session Implementor delegate get Filter Parameter Type param String public Map get Enabled Filters return Session Implementor delegate get Enabled Filters public int get Dont Flush From Find return Session Implementor delegate get Dont Flush From Find public Persistence Context get Persistence Context return Session Implementor delegate get Persistence Context public int execute Update String param String Query Parameters param Query Parameters throws Hibernate Exception return Session Implementor delegate execute Update param String param Query Parameters public int execute Native Update Native Query Specification param Native Query Specification Query Parameters param Query Parameters throws Hibernate Exception return Session Implementor delegate execute Native Update param Native Query Specification param Query Parameters public Cache Mode get Cache Mode return Session Implementor delegate get Cache Mode public void set Cache Mode Cache Mode param Cache Mode Session Implementor delegate set Cache Mode param Cache Mode public boolean is Open return Session Implementor delegate is Open public boolean is Connected return Session Implementor delegate is Connected public Flush Mode get Flush Mode return Session Implementor delegate get Flush Mode public void set Flush Mode Flush Mode param Flush Mode Session Implementor delegate set Flush Mode param Flush Mode public Connection connection return Session Implementor delegate connection public void flush Session Implementor delegate flush public Query get Named Query String param String return Session Implementor delegate get Named Query param String public Query get Named Query String param String return Session Implementor delegate get Named Query param String public boolean is Event Source return Session Implementor delegate is Event Source public void after Scroll Operation Session Implementor delegate after Scroll Operation public String get Fetch Profile return Session Implementor delegate get Fetch Profile public void set Fetch Profile String param String Session Implementor delegate set Fetch Profile param String public boolean is Closed return Session Implementor delegate is Closed public Session Factory get Session Factory return delegate get Session Factory public Connection close throws Hibernate Exception return delegate close public void cancel Query throws Hibernate Exception delegate cancel Query public boolean is Dirty throws Hibernate Exception return delegate is Dirty public boolean is Default Read Only return Hibernate Session Invocation Handler delegate is Default Read Only public void set Default Read Only boolean param Boolean Hibernate Session Invocation Handler delegate set Default Read Only param Boolean public Serializable get Identifier Object param Object throws Hibernate Exception return delegate get Identifier param Object public boolean contains Object param Object return delegate contains param Object public void evict Object param Object throws Hibernate Exception delegate evict param Object public Object load Class param Class Serializable param Serializable Lock Mode param Lock Mode throws Hibernate Exception return delegate load param Class param Serializable param Lock Mode public Object load String param String Serializable param Serializable Lock Mode param Lock Mode throws Hibernate Exception return delegate load param String param Serializable param Lock Mode public Object load Class param Class Serializable param Serializable throws Hibernate Exception return delegate load param Class param Serializable public Object load String param String Serializable param Serializable throws Hibernate Exception return delegate load param String param Serializable public void load Object param Object Serializable param Serializable throws Hibernate Exception delegate load param Object param Serializable public void replicate Object param Object Replication Mode param Replication Mode throws Hibernate Exception delegate replicate param Object param Replication Mode public void replicate String param String Object param Object Replication Mode param Replication Mode throws Hibernate Exception delegate replicate param String param Object param Replication Mode public Serializable save Object param Object throws Hibernate Exception return delegate save param Object public Serializable save String param String Object param Object throws Hibernate Exception return delegate save param String param Object public void save Or Update Object param Object throws Hibernate Exception delegate save Or Update param Object public void save Or Update String param String Object param Object throws Hibernate Exception delegate save Or Update param String param Object public void update Object param Object throws Hibernate Exception delegate update param Object public void update String param String Object param Object throws Hibernate Exception delegate update param String param Object public Object merge Object param Object throws Hibernate Exception return delegate merge param Object public Object merge String param String Object param Object throws Hibernate Exception return delegate merge param String param Object public void persist Object param Object throws Hibernate Exception delegate persist param Object public void persist String param String Object param Object throws Hibernate Exception delegate persist param String param Object public void delete Object param Object throws Hibernate Exception delegate delete param Object public void delete String param String Object param Object throws Hibernate Exception Event Source delegate delete param String param Object public void lock Object param Object Lock Mode param Lock Mode throws Hibernate Exception delegate lock param Object param Lock Mode public void lock String param String Object param Object Lock Mode param Lock Mode throws Hibernate Exception delegate lock param String param Object param Lock Mode public void refresh Object param Object throws Hibernate Exception delegate refresh param Object public void refresh Object param Object Lock Mode param Lock Mode throws Hibernate Exception delegate refresh param Object param Lock Mode public Lock Mode get Current Lock Mode Object param Object throws Hibernate Exception return delegate get Current Lock Mode param Object public Transaction begin Transaction throws Hibernate Exception return delegate begin Transaction public Transaction get Transaction return delegate get Transaction public Criteria create Criteria Class param Class return delegate create Criteria param Class public Criteria create Criteria Class param Class String param String return delegate create Criteria param Class param String public Criteria create Criteria String param String return delegate create Criteria param String public Criteria create Criteria String param String String param String return delegate create Criteria param String param String public Query create Query String param String throws Hibernate Exception return delegate create Query param String public Query create Query String param String throws Hibernate Exception return delegate create Query param String public Query create Filter Object param Object String param String throws Hibernate Exception return delegate create Filter param Object param String public void clear delegate clear public Object get Class param Class Serializable param Serializable throws Hibernate Exception return delegate get param Class param Serializable public Object get Class param Class Serializable param Serializable Lock Mode param Lock Mode throws Hibernate Exception return delegate get param Class param Serializable param Lock Mode public Object get String param String Serializable param Serializable throws Hibernate Exception return delegate get param String param Serializable public Object get String param String Serializable param Serializable Lock Mode param Lock Mode throws Hibernate Exception return delegate get param String param Serializable param Lock Mode public String get Entity Name Object param Object throws Hibernate Exception return delegate get Entity Name param Object public Filter enable Filter String param String return delegate enable Filter param String public Filter get Enabled Filter String param String return delegate get Enabled Filter param String public void disable Filter String param String delegate disable Filter param String public Session Statistics get Statistics return delegate get Statistics public boolean is Read Only Object param Object return Hibernate Session Invocation Handler delegate is Read Only param Object public void set Read Only Object param Object boolean param Boolean delegate set Read Only param Object param Boolean public void do Work Work param Work throws Hibernate Exception delegate do Work param Work public Connection disconnect throws Hibernate Exception return delegate disconnect public void reconnect Connection param Connection throws Hibernate Exception delegate reconnect param Connection public boolean is Fetch Profile Enabled String param String return Hibernate Session Invocation Handler delegate is Fetch Profile Enabled param String public void enable Fetch Profile String param String Hibernate Session Invocation Handler delegate enable Fetch Profile param String public void disable Fetch Profile String param String Hibernate Session Invocation Handler delegate disable Fetch Profile param String public Action Queue get Action Queue return Event Source delegate get Action Queue public Object instantiate Entity Persister param Entity Persister Serializable param Serializable throws Hibernate Exception return Event Source delegate instantiate param Entity Persister param Serializable public void force Flush Entity Entry param Entity Entry throws Hibernate Exception Event Source delegate force Flush param Entity Entry public void merge String param String Object param Object Map param Map throws Hibernate Exception Event Source delegate merge param String param Object param Map public void persist String param String Object param Object Map param Map throws Hibernate Exception Event Source delegate persist param String param Object param Map public void persist On Flush String param String Object param Object Map param Map Event Source delegate persist On Flush param String param Object param Map public void refresh Object param Object Map param Map throws Hibernate Exception Event Source delegate refresh param Object param Map public void delete String param String Object param Object boolean param Boolean Set param Set Event Source delegate delete param String param Object param Boolean param Set public String get Tenant Identifier return delegate get Tenant Identifier public Jdbc Connection Access get Jdbc Connection Access return Session Implementor delegate get Jdbc Connection Access public Entity Key generate Entity Key Serializable id Entity Persister persister return Session Implementor delegate generate Entity Key id persister public Cache Key generate Cache Key Serializable id Type type String entity Or Role Name return Session Implementor delegate generate Cache Key id type entity Or Role Name public void disable Transaction Auto Join Session Implementor delegate disable Transaction Auto Join public Non Flushed Changes get Non Flushed Changes throws Hibernate Exception return Session Implementor delegate get Non Flushed Changes public void apply Non Flushed Changes Non Flushed Changes non Flushed Changes throws Hibernate Exception Session Implementor delegate apply Non Flushed Changes non Flushed Changes public Transaction Coordinator get Transaction Coordinator return Session Implementor delegate get Transaction Coordinator public Load Query Influencers get Load Query Influencers return Session Implementor delegate get Load Query Influencers public execute Callback callback return Session Implementor delegate execute callback public Shared Session Builder session With Options return Event Source delegate session With Options public Object load Class the Class Serializable id Lock Options lock Options throws Hibernate Exception return Event Source delegate load the Class id lock Options public Object load String entity Name Serializable id Lock Options lock Options throws Hibernate Exception return Event Source delegate load entity Name id lock Options public Lock Request build Lock Request Lock Options lock Options return Event Source delegate build Lock Request lock Options public void refresh String entity Name Object object throws Hibernate Exception Event Source delegate refresh entity Name object public void refresh Object object Lock Options lock Options throws Hibernate Exception Event Source delegate refresh object lock Options public void refresh String entity Name Object object Lock Options lock Options throws Hibernate Exception Event Source delegate refresh entity Name object lock Options public Object get Class clazz Serializable id Lock Options lock Options throws Hibernate Exception return Event Source delegate get clazz id lock Options public Object get String entity Name Serializable id Lock Options lock Options throws Hibernate Exception return Event Source delegate get entity Name id lock Options public do Returning Work Returning Work work throws Hibernate Exception return Event Source delegate do Returning Work work public Type Helper get Type Helper return Event Source delegate get Type Helper public Lob Helper get Lob Helper return Event Source delegate get Lob Helper public Identifier Load Access by Id String entity Name return delegate by Id entity Name public Identifier Load Access by Id Class entity Class return delegate by Id entity Class public Natural Id Load Access by Natural Id String entity Name return delegate by Natural Id entity Name public Natural Id Load Access by Natural Id Class entity Class return delegate by Natural Id entity Class public Simple Natural Id Load Access by Simple Natural Id String entity Name return delegate by Simple Natural Id entity Name public Simple Natural Id Load Access by Simple Natural Id Class entity Class return delegate by Simple Natural Id entity Class public Scrollable Results scroll Criteria criteria Scroll Mode scroll Mode return Session Implementor delegate scroll criteria scroll Mode public List list Criteria criteria return Session Implementor delegate list criteria 
package org jboss seam persistence import org hibernate Session import org hibernate engine spi Session Implementor import org hibernate event spi Event Source Marker interface that signifies a proxy is using the Hibernate Session Invocation Handler Also here for backwards compatibility with previous Hibernate Session Proxy author Gavin King author Emmanuel Bernard author Mike Youngstrom public interface Hibernate Session Proxy extends Session Session Implementor Event Source 
package org jboss seam persistence import static org jboss seam Component Type import static org jboss seam Component Type import org hibernate Session import org jboss seam Component Bijected Attribute import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam annotations intercept Post Activate import org jboss seam annotations intercept Post Construct import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context import org jboss seam util Reflections Proxy the Hibernate Session if injected using Persistence Context author Pete Muir Interceptor stateless true public class Hibernate Session Proxy Interceptor extends Abstract Interceptor Around Invoke public Object around Invoke Invocation Context ic throws Exception return ic proceed Post Activate public void post Activate Invocation Context invocation throws Exception just in case the container does some special handling of serialization proxy Persistence Contexts invocation get Target invocation proceed Post Construct public void post Construct Invocation Context invocation throws Exception proxy Persistence Contexts invocation get Target invocation proceed private void proxy Persistence Contexts Object bean wrap any Persistence Context attributes in our proxy for Bijected Attribute ba get Component get Persistence Context Attributes Object object ba get bean if object instanceof Hibernate Session Proxy object instanceof Session ba set bean Hibernate Persistence Provider proxy Session Session object public boolean is Interceptor Enabled return get Component get Type get Component get Type Reflections is Class Available org hibernate Session 
package org jboss seam transaction import static org jboss seam annotations Install import javax persistence Entity Manager import javax transaction Heuristic Mixed Exception import javax transaction Heuristic Rollback Exception import javax transaction Not Supported Exception import javax transaction Rollback Exception import javax transaction Status import javax transaction Synchronization import javax transaction System Exception import org hibernate Session import org hibernate Transaction import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Expressions import org jboss seam core Expressions Value Expression import org jboss seam log Log Provider import org jboss seam log Logging Support for the Hibernate Transaction Adapts Hibernate transaction management to a Seam User Transaction interface For use in non capable environments author Gavin King Name org jboss seam transaction transaction Scope Scope Type Install value false precedence Bypass Interceptors public class Hibernate Transaction extends Abstract User Transaction private static final Log Provider log Logging get Log Provider Hibernate Transaction class private Value Expression Session session private Session current Session private boolean rollback Only Hibernate Transaction does n t have a rollback only state Create public void validate if session null session Expressions instance create Value Expression session Session class private org hibernate Transaction get Delegate if current Session null should never occur throw new Illegal State Exception session is null return current Session get Transaction private void init Session current Session session get Value if current Session null throw new Illegal State Exception session was null session get Expression String public void begin throws Not Supported Exception System Exception log debug beginning Hibernate transaction assert Not Active init Session try get Delegate begin catch Runtime Exception re clear Session throw re public void commit throws Rollback Exception Heuristic Mixed Exception Heuristic Rollback Exception Security Exception Illegal State Exception System Exception log debug committing Hibernate transaction translate exceptions that occur into the correct exception assert Active Transaction delegate get Delegate clear Session if rollback Only rollback Only false delegate rollback throw new Rollback Exception else delegate commit public void rollback throws Illegal State Exception Security Exception System Exception log debug rolling back Hibernate transaction translate exceptions that occur into the correct exception assert Active Transaction delegate get Delegate clear Session rollback Only false delegate rollback public void set Rollback Only throws Illegal State Exception System Exception log debug marking Hibernate transaction for rollback assert Active rollback Only true public int get Status throws System Exception if rollback Only return Status else if is Session Set get Delegate is Active return Status else return Status public void set Transaction Timeout int timeout throws System Exception assert Active get Delegate set Timeout timeout private boolean is Session Set return current Session null private void clear Session current Session null private void assert Active if is Session Set throw new Illegal State Exception transaction is not active private void assert Not Active throws Not Supported Exception translate exceptions that occur into the correct exception if is Session Set throw new Not Supported Exception transaction is already active Override public void register Synchronization Synchronization sync if log is Debug Enabled log debug registering synchronization sync assert Active get Delegate register Synchronization sync Override public void enlist Entity Manager entity Manager throws System Exception throw new Unsupported Operation Exception Entity Manager should not be used with Hibernate Transaction Override public boolean is Conversation Context Required return true public Value Expression Session get Session return session public void set Session Value Expression Session entity Manager this session entity Manager 
package domain import javax persistence Column import javax persistence Entity import javax persistence Id import javax persistence Join Column import javax persistence One To One Entity public class Hit Count Id Column name blog name private String blog Name One To One optional false Join Column insertable false updatable false private Blog blog private int pageviews public int get Pageviews return pageviews public void hit pageviews 
Licensed to the Apache Software Foundation under one or more contributor license agreements See the file distributed with this work for additional information regarding copyright ownership The licenses this file to You under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam example wicket import javax security auth login Login Exception import org apache wicket Page Parameters import org apache wicket markup html Web Page import org apache wicket markup html form Form import org apache wicket markup html form Password Text Field import org apache wicket markup html form Text Field import org apache wicket markup html link Bookmarkable Page Link import org apache wicket markup html panel Feedback Panel import org apache wicket model Property Model import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam log Log import org jboss seam security Identity public class Home extends Web Page In private Identity identity Logger private Log log private static final long serial Version public Home final Page Parameters parameters add new Login Form login public class Login Form extends Form public Login Form String id super id add new Text Field username new Property Model identity username add new Password Text Field password new Property Model identity password add new Bookmarkable Page Link register Register class add new Feedback Panel messages Override protected void on Submit try identity authenticate log info Login succeeded set Response Page Main class catch Login Exception e error Login failed log error Login failed e 
package org jboss seam web import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Exception import javax servlet Filter Chain import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Http Servlet Request import org jboss seam Seam import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter import org jboss seam core Init import org jboss seam init Initialization import org jboss seam log Log Provider import org jboss seam log Logging Name org jboss seam web hot Deploy Filter Install debug true precedence Bypass Interceptors Scope Filter public class Hot Deploy Filter extends Abstract Filter private static Log Provider log Logging get Log Provider Hot Deploy Filter class public void do Filter Servlet Request request Servlet Response response Filter Chain chain throws Exception Servlet Exception if request instanceof Http Servlet Request Init init Init get Servlet Context get Attribute Seam get Component Name Init class if init null try new Initialization get Servlet Context redeploy Http Servlet Request request init catch Interrupted Exception e log warn Unable to redeploy please try again chain do Filter request response 
package org jboss seam deployment import java io File import java lang reflect Constructor import java net Malformed Exception import java net import java net Class Loader import java util Collections import java util Map import java util Set import javax servlet Servlet Context import org jboss seam contexts Contexts import org jboss seam util Reflections deployment strategy for hot deployable Java Seam components author Pete Muir public class Hot Deployment Strategy extends Deployment Strategy The default path at which hot deployable Seam components are placed public static final String dev The contextual variable name this deployment strategy is made available at during Seam startup public static final String hot Deployment Strategy The key under which to list extra hot deployment directories This can be specified as a System property or in seam deployment properties public static final String org jboss seam deployment hot Deployment Directories The key under which to list extra deployment handlers This can be specified as a System property or in seam deployment properties public static final String org jboss seam deployment hot Deployment Handlers private Class Loader hot Deploy Class Loader private Component Deployment Handler component Deployment Handler private Annotation Deployment Handler annotation Deployment Handler private Class Loader class Loader private Servlet Context servlet Context param class Loader The parent classloader of the hot deployment classloader param hot Deploy Directory The directory in which hot deployable Seam components are placed public Hot Deployment Strategy Class Loader class Loader File hot Deploy Directory Servlet Context servlet Context boolean enabled if enabled this servlet Context servlet Context this class Loader Thread current Thread get Context Class Loader if hot Deploy Directory null hot Deploy Directory exists init Hot Deploy Class Loader class Loader hot Deploy Directory component Deployment Handler new Component Deployment Handler get Deployment Handlers put Component Deployment Handler component Deployment Handler annotation Deployment Handler new Annotation Deployment Handler new Seam Deployment Properties class Loader get Property Values Annotation Deployment Handler class Loader get Deployment Handlers put Annotation Deployment Handler annotation Deployment Handler private void init Hot Deploy Class Loader Class Loader class Loader File hot Deploy Directory try url hot Deploy Directory to urls url hot Deploy Class Loader new Class Loader urls class Loader get Files add hot Deploy Directory catch Malformed Exception mue throw new Runtime Exception mue It is both enabled and the classpath was detected Admittedly this seems like a redundant confirmation public boolean available return is Enabled is Hot Deploy Class Loader Enabled public boolean is Enabled return class Loader null public boolean is Hot Deploy Class Loader Enabled return hot Deploy Class Loader null Override protected String get Deployment Handlers Key return Get all hot deployable paths public File get Hot Deployment Paths return get Files to Array new File Return true if the component is from a hot deployment classloader public boolean is From Hot Deploy Class Loader Class component Class return component Class get Class Loader hot Deploy Class Loader Dynamically instantiate a link Hot Deployment Strategy Needed to prevent dependency on optional librarires param class Name The strategy to use param class Loader The classloader to use with this strategy param hot Deploy Directory The directory which contains hot deployable Seam components public static Hot Deployment Strategy create Instance String class Name Class Loader class Loader File hot Deploy Directory Servlet Context servlet Context boolean enabled try Class initializer Reflections class For Name class Name Constructor ctr initializer get Constructor Class Loader class File class Servlet Context class boolean class return Hot Deployment Strategy ctr new Instance class Loader hot Deploy Directory servlet Context enabled catch Exception e throw new Illegal Argument Exception No such deployment strategy class Name e Override public Class Loader get Class Loader return hot Deploy Class Loader null hot Deploy Class Loader class Loader Get all Components which the strategy has scanned and handled public Set Class Descriptor get Scanned Component Classes return Collections unmodifiable Set component Deployment Handler get Classes public Map String Set Class get Annotated Classes return Collections unmodifiable Map annotation Deployment Handler get Class Map Override public void scan get Scanner scan Directories get Files to Array new File post Scan public static Hot Deployment Strategy instance if Contexts get Event Context is Set return Hot Deployment Strategy Contexts get Event Context get return null Override public Servlet Context get Servlet Context return servlet Context 
Id Hotel java nrichards package org jboss seam example spring import java io Serializable import java math Big Decimal import javax persistence Column import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax validation constraints Size import javax validation constraints Not Null import org jboss seam annotations Name Entity Name hotel public class Hotel implements Serializable private Long id private String name private String address private String city private String state private String zip private String country private Big Decimal price Id Generated Value public Long get Id return id public void set Id Long id this id id Size max Not Null public String get Name return name public void set Name String name this name name Size max Not Null public String get Address return address public void set Address String address this address address Size max Not Null public String get City return city public void set City String city this city city Size min max Not Null public String get Zip return zip public void set Zip String zip this zip zip Size min max Not Null public String get State return state public void set State String state this state state Size min max Not Null public String get Country return country public void set Country String country this country country Column precision scale public Big Decimal get Price return price public void set Price Big Decimal price this price price Override public String to String return Hotel name address city zip 
Id Hotel Booking java v gavin Exp package org jboss seam example booking import javax ejb Local Local public interface Hotel Booking public void select Hotel Hotel selected Hotel public void book Hotel public void set Booking Details public boolean is Booking Valid public void confirm public void cancel public void destroy 
Id Hotel Booking Action java pete muir jboss org package org jboss seam example spring import java util Calendar import javax faces application Faces Message import org jboss seam annotations Begin import org jboss seam annotations End import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam core Events import org jboss seam faces Faces Messages import org jboss seam log Log Name hotel Booking public class Hotel Booking Action In booking Service private Booking Service booking Service In private User user In required false Out private Hotel hotel In required false Out required false private Booking booking In private Faces Messages faces Messages In private Events events Logger private Log log private boolean booking Valid Begin public void select Hotel Hotel selected Hotel hotel booking Service find Hotel By Id selected Hotel get Id public void book Hotel booking new Booking hotel user Calendar calendar Calendar get Instance booking set Checkin Date calendar get Time calendar add Calendar booking set Checkout Date calendar get Time public void set Booking Details booking Valid true try booking Service validate Booking booking catch Validation Exception e faces Messages add Faces Message e get Message booking Valid false public boolean is Booking Valid return booking Valid End public String confirm try booking Service book Hotel booking catch Validation Exception e faces Messages add Faces Message e get Message return null Booking Service current Thread set true Can not call this send Register Email because it wo n t hit the Asynchronous intercepter booking Service send Register Email booking get User get Username Booking Service current Thread set null faces Messages add Thank you user name your confimation number for hotel name is booking id log info New booking booking id for user username events raise Event booking Confirmed return main End public void cancel 
Id Hotel Searching java v gavin Exp package org jboss seam example booking import java util List import javax ejb Local import javax faces event Value Change Event import javax faces model Select Item Local public interface Hotel Searching public int get Page Size public void set Page Size int page Size public String get Search String public void set Search String String search String public void handle Search String Change Value Change Event e public void handle Page Size Change Value Change Event e public List Select Item get Cities public void find public void next Page public boolean is Next Page Available public void destroy 
Id Hotel Searching Action java myoungstrom package org jboss seam example spring import java io Serializable import java util List import org jboss seam annotations In import org jboss seam annotations datamodel Data Model public class Hotel Searching Action implements Serializable In booking Service private Booking Service booking Service private String search String private int page Size private int page Data Model private List Hotel hotels public void find page query Hotels public void next Page page query Hotels private void query Hotels String search Pattern search String null search String to Lower Case replace hotels booking Service find Hotels search Pattern page page Size page Size public boolean is Next Page Available return hotels null hotels size page Size public int get Page Size return page Size public void set Page Size int page Size this page Size page Size public String get Search String return search String public void set Search String String search String this search String search String 
package org jboss seam example wicket import java text Decimal Format import java util Locale import org apache wicket markup html basic Label import org apache wicket markup html panel Panel import org jboss seam example wicket action Hotel public class Hotel View Panel extends Panel public Hotel View Panel String id Hotel hotel super id add new Output Border hotel Name Border Name new Label hotel Name hotel get Name add new Output Border hotel Address Border Address new Label hotel Address hotel get Address add new Output Border hotel City Border City new Label hotel City hotel get City add new Output Border hotel State Border State new Label hotel State hotel get State add new Output Border hotel Zip Border Zip new Label hotel Zip hotel get Zip add new Output Border hotel Country Border Country new Label hotel Country hotel get Country add new Output Border hotel Price Border Nightly Rate new Label hotel Price Decimal Format get Currency Instance Locale format hotel get Price 
Copyright The Apache Software Foundation Licensed under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam ui util import java io Exception import javax faces component Component import javax faces context Response Writer Constant declarations for rendering author Manfred Geiler author Anton Koinov version Revision Date t public final class private static String concat String x int len for String y x len y length String result new String len int i for String y x for String s y result i s return result return true if an attribute was written throws java io Exception public static boolean render Attributes Response Writer writer Component component String attributes throws Exception boolean something Done false for int i len attributes length i len i String attr Name attributes i if render Attribute writer component attr Name attr Name something Done true return something Done return true if the attribute was written throws java io Exception public static boolean render Attribute Response Writer writer Component component String component Property String html Attr Name throws Exception Object value component get Attributes get component Property return render Attribute writer component Property html Attr Name value return true if the attribute was written throws java io Exception public static boolean render Attribute Response Writer writer String component Property String attr Name Object value throws Exception if is Default Attribute Value value render style Class attribute as class String html Attr Name attr Name equals attr Name writer write Attribute html Attr Name value component Property return true return false See Spec Table param value return boolean public static boolean is Default Attribute Value Object value if value null return true else if value instanceof Boolean return Boolean value boolean Value false else if value instanceof Number if value instanceof Integer return Number value int Value Integer else if value instanceof Double return Number value double Value Double else if value instanceof Long return Number value long Value Long else if value instanceof Byte return Number value byte Value Byte else if value instanceof Float return Number value float Value Float else if value instanceof Short return Number value short Value Short return false private disable instantiation Common attributes public static final String align public static final String datafld public static final String datasrc public static final String dataformatas public static final String border public static final String width public static final String readonly public static final String file public static final String accept Common event handler attributes public static final String onclick public static final String ondblclick public static final String onmousedown public static final String onmouseup public static final String onmouseover public static final String onmousemove public static final String onmouseout public static final String onkeypress public static final String onkeydown public static final String onkeyup public static final String public static final String concat new String Input field event handler attributes public static final String onfocus public static final String onblur public static final String onselect public static final String onchange public static final String public static final String universal attributes public static final String dir public static final String lang public static final String style public static final String title public static final String style Class class can not be used as property name public static final String if changed please verify universal attributes in Html Message Renderer public static final String concat new String universal but not the same property name style Class attribute is rendered as such public static final String class common form field attributes public static final String accesskey public static final String tabindex public static final String disabled public static final String public static final String concat new String Common Attributes public static final String concat public static final String concat public static final String concat public static final String concat public static final String concat public static final String concat public static final String concat public static final String concat a public static final String target used by a and form public static final String charset public static final String coords public static final String href public static final String hreflang public static final String rel public static final String rev public static final String shape public static final String type public static final String public static final String concat public static final String concat public static final String concat form public static final String accept charset public static final String enctype public static final String onreset public static final String onsubmit public static final String public static final String concat img public static final String src public static final String alt public static final String height public static final String hspace public static final String ismap public static final String longdesc public static final String usemap public static final String vspace public static final String public static final String concat input public static final String size private static final String autocomplete public static final String checked public static final String maxlength public static final String public static final String concat public static final String concat values for input type attribute public static final String submit public static final String image public static final String hidden public static final String checkbox public static final String password public static final String text public static final String radio public static final String button button public static final String public static final String concat public static final String concat iframe public static final String frameborder public static final String scrolling label public static final String for public static final String is no pass through public static final String concat select public static final String multiple public static final String public static final String concat table public static final String bgcolor public static final String cellpadding public static final String cellspacing public static final String frame public static final String rules public static final String summary public static final String public static final String concat textarea public static final String cols public static final String rows public static final String public static final String concat input type file public static final String public static final String concat public static final String concat new String public static final String concat new String select One Many table public static final String new String public static final String compact public static final String public static final String concat attributes needed for renderding only public static final String id public static final String name public static final String value public static final String method public static final String action public static final String colspan public static final String scope public static final String label public static final String selected attributes values public static final String colgroup element constants public static final String span public static final String div public static final String input public static final String button public static final String select public static final String option public static final String optgroup public static final String textarea public static final String form public static final String a public static final String h public static final String h public static final String h public static final String h public static final String h public static final String h public static final String iframe public static final String img public static final String label public static final String table public static final String tr public static final String th public static final String td public static final String tbody public static final String tfoot public static final String thead public static final String style public static final String script public static final String type public static final String text javascript public static final String language public static final String Java Script public static final String ul public static final String ol public static final String li simple element constants public static final String br entities public static final String public static final String public static final String public static final String public static final String 
Id Http Error java gavin package org jboss seam faces import static org jboss seam annotations Install import java io Exception import javax faces context Faces Context import javax servlet http Http Servlet Response import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts Convenient errors author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam faces http Error Install precedence class Dependencies javax faces context Faces Context public class Http Error Send a error as the response public void send int code try get Response send Error code catch Exception ioe throw new Illegal State Exception ioe Faces Context get Current Instance response Complete Send a error as the response public void send int code String message try get Response send Error code message catch Exception ioe throw new Illegal State Exception ioe Faces Context get Current Instance response Complete private static Http Servlet Response get Response return Http Servlet Response Faces Context get Current Instance get External Context get Response public static Http Error instance if Contexts is Application Context Active throw new Illegal State Exception No active application scope return Http Error Component get Instance Http Error class Scope Type 
package org jboss seam ui facelet import static org jboss seam Scope Type import java io Serializable import javax servlet http Http Session import org jboss seam Component import org jboss seam annotations Auto Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam mock Mock Http Session Name org jboss seam ui facelet mock Http Session Scope Bypass Interceptors Install dependencies org jboss seam faces renderer Auto Create public class Http Session Manager implements Serializable private transient Http Session session Unwrap public Http Session get Session if session null this session new Mock Http Session Servlet Context Manager instance return session public static Http Session instance if Contexts is Session Context Active throw new Illegal State Exception Session context is not active return Http Session Component get Instance Http Session Manager class 
Id Id java nrichards package org jboss seam util import org jboss seam core Conversation Id Generator public class Id Deprecated public static String next Id return Conversation Id Generator instance get Next Id 
package org jboss seam annotations security permission import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target import org jboss seam security permission Identifier Strategy Configures the Identifier strategy to use for instance based permissions The specified class should implement the Identifier Strategy interface author Shane Bryzak Target Documented Retention Inherited public interface Identifier Class extends Identifier Strategy value default Identifier Strategy class String name default 
package org jboss seam security permission import static org jboss seam Scope Type import java io Serializable import java util Hash Set import java util Map import java util Set import java util concurrent Concurrent Hash Map import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations security permission Identifier policy for the generation of object identifiers unique Strings that identify a specific instance of an object policy can consist of numerous identifier strategies each with the ability to generate identifiers for specific classes of objects author Shane Bryzak Name org jboss seam security identifier Policy Scope Bypass Interceptors Install precedence Install public class Identifier Policy implements Serializable private static final long serial Version private Map Class Identifier Strategy strategies new Concurrent Hash Map Class Identifier Strategy private Set Identifier Strategy registered Strategies new Hash Set Identifier Strategy Create public void create if registered Strategies is Empty registered Strategies add new Entity Identifier Strategy registered Strategies add new Class Identifier Strategy public String get Identifier Object target if target instanceof String return String target Identifier Strategy strategy strategies get target get Class if strategy null if target get Class is Annotation Present Identifier class Class extends Identifier Strategy strategy Class target get Class get Annotation Identifier class value if strategy Class Identifier Strategy class try strategy strategy Class new Instance strategies put target get Class strategy catch Exception ex throw new Runtime Exception Error instantiating Identifier Strategy for object target ex for Identifier Strategy s registered Strategies if s can Identify target get Class strategy s strategies put target get Class strategy break return strategy null strategy get Identifier target null public Set Identifier Strategy get Registered Strategies return registered Strategies public void set Registered Strategies Set Identifier Strategy registered Strategies this registered Strategies registered Strategies 
package org jboss seam security permission Strategy for generating permission target identifiers author Shane Bryzak public interface Identifier Strategy boolean can Identify Class target Class String get Identifier Object target 
package org jboss seam security import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java security Principal import java security acl Group import java util Array List import java util Collection import java util Enumeration import java util List import javax security auth Subject import javax security auth login Login Context import javax security auth login Login Exception import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Events import org jboss seam core Expressions import org jboss seam core Expressions Method Expression import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security permission Permission Mapper import org jboss seam web Session for authorization and authentication via Seam security This base implementation supports role based authorization only Subclasses may add more sophisticated permissioning mechanisms author Shane Bryzak Name org jboss seam security identity Scope Install precedence Bypass Interceptors Startup public class Identity implements Serializable private static final long serial Version Event keys public static final String org jboss seam security login Successful public static final String org jboss seam security login Failed public static final String org jboss seam security not Logged In public static final String org jboss seam security not Authorized public static final String org jboss seam security pre Authenticate public static final String org jboss seam security post Authenticate public static final String org jboss seam security logged Out public static final String org jboss seam security already Logged In public static final String org jboss seam security quiet Login protected static boolean security Enabled true public static final String Roles Context variables private static final String org jboss seam security login Tried private static final String org jboss seam security silent Login private static final Log Provider log Logging get Log Provider Identity class private Credentials credentials private Method Expression authenticate Method private Principal principal private Subject subject private Remember Me remember Me private transient Thread Local Boolean system Op private String jaas Config Name null private List String pre Authentication Roles new Array List String private Permission Mapper permission Mapper Flag that indicates we are in the process of authenticating private boolean authenticating false Create public void create subject new Subject if Contexts is Application Context Active permission Mapper Permission Mapper Component get Instance Permission Mapper class if Contexts is Session Context Active remember Me Remember Me Component get Instance Remember Me class true credentials Credentials Component get Instance Credentials class if credentials null Must have credentials for unit tests credentials new Credentials public static boolean is Security Enabled return security Enabled public static void set Security Enabled boolean enabled security Enabled enabled public static Identity instance if Contexts is Session Context Active throw new Illegal State Exception No active session context Identity instance Identity Component get Instance Identity class Scope Type if instance null throw new Illegal State Exception No Identity could be created return instance Simple check that returns true if the user is logged in without attempting to authenticate return true if the user is logged in public boolean is Logged In If there is a principal set then the user is logged in return get Principal null Will attempt to authenticate quietly if the user s credentials are set and they have n t authenticated already quiet authentication does n t throw any exceptions if authentication fails return true if the user is logged in false otherwise public boolean try Login if authenticating get Principal null credentials is Set Contexts is Event Context Active Contexts get Event Context is Set Contexts get Event Context set true quiet Login return is Logged In Deprecated public boolean is Logged In boolean attempt Login return attempt Login try Login is Logged In public void accept Externally Authenticated Principal Principal principal get Subject get Principals add principal this principal principal public Principal get Principal return principal public Subject get Subject return subject Performs an authorization check based on the specified security expression param expr The security expression to evaluate throws Not Logged In Exception Thrown if the authorization check fails and the user is not authenticated throws Authorization Exception Thrown if the authorization check fails and the user is authenticated public void check Restriction String expr if security Enabled return if evaluate Expression expr if is Logged In if Events exists Events instance raise Event log debug String format Error evaluating expression s User not logged in expr throw new Not Logged In Exception else if Events exists Events instance raise Event throw new Authorization Exception String format Authorization check failed for expression s expr Attempts to authenticate the user This method is distinct to the authenticate method in that it raises events in response to whether authentication is successful or not The following events may be raised by calling login org jboss seam security login Successful raised when authentication is successful org jboss seam security login Failed raised when authentication fails org jboss seam security already Logged In raised if the user is already authenticated return String returns logged In if user is authenticated or null if not public String login try if is Logged In If authentication has already occurred during this request via a silent login and login is explicitly called then we still want to raise the event and then return if Contexts is Event Context Active Contexts get Event Context is Set if Events exists Events instance raise Event return logged In if Events exists Events instance raise Event return logged In authenticate if is Logged In throw new Login Exception if log is Debug Enabled log debug Login successful for get Credentials get Username if Events exists Events instance raise Event return logged In catch Login Exception ex credentials invalidate if log is Debug Enabled log debug Login failed for get Credentials get Username ex if Events exists Events instance raise Event ex return null Attempts a quiet login suppressing any login exceptions and not creating any faces messages This method is intended to be used primarily as an internal call however has been made public for convenience public void quiet Login try if Events exists Events instance raise Event Ensure that we have n t been authenticated as a result of the event if is Logged In if credentials is Set authenticate if is Logged In Contexts is Event Context Active Contexts get Event Context set true catch Login Exception ex credentials invalidate throws Login Exception public synchronized void authenticate throws Login Exception If we re already authenticated then do n t authenticate again if is Logged In credentials is Invalid principal null subject new Subject authenticate get Login Context protected void authenticate Login Context login Context throws Login Exception try authenticating true pre Authenticate login Context login post Authenticate finally Set password to null whether authentication is successful or not credentials set Password null authenticating false Clears any roles added by calling add Role while not authenticated This method may be overridden by a subclass if different pre authentication logic should occur protected void pre Authenticate pre Authentication Roles clear if Events exists Events instance raise Event Extracts the principal from the subject and populates the roles of the authenticated user This method may be overridden by a subclass if different post authentication logic should occur protected void post Authenticate Populate the working memory with the user s principals for Principal p get Subject get Principals if p instanceof Group if principal null principal p break if pre Authentication Roles is Empty is Logged In for String role pre Authentication Roles add Role role pre Authentication Roles clear credentials set Password null if Events exists Events instance raise Event this Resets all security state and credentials public void un Authenticate principal null subject new Subject credentials clear protected Login Context get Login Context throws Login Exception if get Jaas Config Name null return new Login Context get Jaas Config Name get Subject credentials create Callback Handler return new Login Context Configuration get Subject credentials create Callback Handler Configuration instance public void logout if is Logged In un Authenticate Session instance invalidate if Events exists Events instance raise Event Checks if the authenticated user is a member of the specified role param role String The name of the role to check return boolean True if the user is a member of the specified role public boolean has Role String role if security Enabled return true if system Op null Boolean equals system Op get return true try Login for Group sg get Subject get Principals Group class if equals sg get Name return sg is Member new Role role return false Adds a role to the authenticated user If the user is not logged in the role will be added to a list of roles that will be granted to the user upon successful authentication but only during the authentication process param role The name of the role to add public boolean add Role String role if role null equals role return false if is Logged In pre Authentication Roles add role return false else for Group sg get Subject get Principals Group class if equals sg get Name return sg add Member new Role role Simple Group role Group new Simple Group role Group add Member new Role role get Subject get Principals add role Group return true Removes a role from the authenticated user param role The name of the role to remove public void remove Role String role for Group sg get Subject get Principals Group class if equals sg get Name Enumeration e sg members while e has More Elements Principal member Principal e next Element if member get Name equals role sg remove Member member break Checks that the current authenticated user is a member of the specified role param role String The name of the role to check throws Authorization Exception if the authenticated user is not a member of the role public void check Role String role try Login if has Role role if is Logged In if Events exists Events instance raise Event throw new Not Logged In Exception else if Events exists Events instance raise Event throw new Authorization Exception String format Authorization check failed for role s role Checks that the current authenticated user has permission for the specified name and action param name String The permission name param action String The permission action param arg Object Optional object parameter used to make a permission decision throws Authorization Exception if the user does not have the specified permission public void check Permission String name String action Object arg if system Op null Boolean equals system Op get return try Login if has Permission name action arg if is Logged In if Events exists Events instance raise Event throw new Not Logged In Exception else if Events exists Events instance raise Event throw new Authorization Exception String format Authorization check failed for permission s s name action public void check Permission Object target String action if system Op null Boolean equals system Op get return try Login if has Permission target action if is Logged In if Events exists Events instance raise Event throw new Not Logged In Exception else if Events exists Events instance raise Event throw new Authorization Exception String format Authorization check failed for permission s s target action Performs a permission check for the specified name and action param name String The permission name param action String The permission action param arg Object Optional object parameter used to make a permission decision return boolean True if the user has the specified permission public boolean has Permission String name String action Object arg if security Enabled return true if system Op null Boolean equals system Op get return true if permission Mapper null return false if arg null return permission Mapper resolve Permission arg action else return permission Mapper resolve Permission name action public void filter By Permission Collection collection String action permission Mapper filter By Permission collection action public boolean has Permission Object target String action if security Enabled return true if system Op null Boolean equals system Op get return true if permission Mapper null return false if target null return false return permission Mapper resolve Permission target action Evaluates the specified security expression which must return a boolean value param expr String The expression to evaluate return boolean The result of the expression evaluation protected boolean evaluate Expression String expr return Expressions instance create Value Expression expr Boolean class get Value see org jboss seam security Credentials get Username Deprecated public String get Username return credentials get Username see org jboss seam security Credentials set Username String Deprecated public void set Username String username credentials set Username username see org jboss seam security Credentials get Password Deprecated public String get Password return credentials get Password see org jboss seam security Credentials set Password String Deprecated public void set Password String password credentials set Password password see org jboss seam security Remember Me is Enabled Deprecated public boolean is Remember Me return remember Me null remember Me is Enabled false see org jboss seam security Remember Me set Enabled boolean Deprecated public void set Remember Me boolean remember if remember Me null remember Me set Enabled remember public Credentials get Credentials return credentials public Method Expression get Authenticate Method return authenticate Method public void set Authenticate Method Method Expression auth Method this authenticate Method auth Method public String get Jaas Config Name return jaas Config Name public void set Jaas Config Name String jaas Config Name this jaas Config Name jaas Config Name synchronized void run As Run As Operation operation Principal saved Principal get Principal Subject saved Subject get Subject try principal operation get Principal subject operation get Subject if system Op null system Op new Thread Local Boolean system Op set operation is System Operation operation execute finally system Op set false principal saved Principal subject saved Subject 
package org jboss seam web import java io Exception import javax servlet Filter Chain import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Http Servlet Request import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter filter that provides integration between Servlet Security and the Seam identity component This integration is accomplished by wrapping the Http Servlet Request with an Http Servlet Request Wrapper implementation that delegates security related calls to the Seam identity component author Dan Allen Scope Scope Type Name org jboss seam web identity Filter Install precedence Install dependencies org jboss seam security identity Bypass Interceptors Filter within org jboss seam web multipart Filter public class Identity Filter extends Abstract Filter public void do Filter Servlet Request request Servlet Response response Filter Chain chain throws Exception Servlet Exception if request instanceof Http Servlet Request throw new Servlet Exception This filter can only process Http Servlet Request requests Http Servlet Request http Request Http Servlet Request request chain do Filter new Identity Request Wrapper http Request response 
package org jboss seam security management Thrown when an exception is encountered during account creation author Shane Bryzak public class Identity Management Exception extends Runtime Exception public Identity Management Exception String message super message public Identity Management Exception String message Throwable cause super message cause 
package org jboss seam security management import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java security Principal import java util Collections import java util Comparator import java util List import org jboss seam Component import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security Identity import org jboss seam util Strings Identity Management deals with user name password based identity management author Shane Bryzak Scope Name org jboss seam security identity Manager Install precedence Bypass Interceptors public class Identity Manager implements Serializable public static final String seam user public static final String seam role public static final String create public static final String read public static final String update public static final String delete private static final Log Provider log Logging get Log Provider Identity Manager class private Identity Store identity Store private Identity Store role Identity Store Create public void create init Identity Store protected void init Identity Store Default to Jpa Identity Store if identity Store null identity Store Identity Store Component get Instance Jpa Identity Store class true if role Identity Store null identity Store null role Identity Store identity Store if identity Store null role Identity Store null log warn no identity store available please configure an identity Store if identity management is required public static Identity Manager instance if Contexts is Event Context Active throw new Illegal State Exception No active event context Identity Manager instance Identity Manager Component get Instance Identity Manager class if instance null throw new Illegal State Exception No Identity Manager could be created return instance public boolean create User String name String password return create User name password null null public boolean create User String name String password String firstname String lastname Identity instance check Permission return identity Store create User name password firstname lastname public boolean delete User String name Identity instance check Permission return identity Store delete User name public boolean enable User String name Identity instance check Permission return identity Store enable User name public boolean disable User String name Identity instance check Permission return identity Store disable User name public boolean change Password String name String password Identity instance check Permission return identity Store change Password name password public boolean is User Enabled String name Identity instance check Permission return identity Store is User Enabled name public boolean grant Role String name String role Identity instance check Permission return role Identity Store grant Role name role public boolean revoke Role String name String role Identity instance check Permission return role Identity Store revoke Role name role public boolean create Role String role Identity instance check Permission return role Identity Store create Role role public boolean delete Role String role Identity instance check Permission return role Identity Store delete Role role public boolean add Role To Group String role String group Identity instance check Permission return role Identity Store add Role To Group role group public boolean remove Role From Group String role String group Identity instance check Permission return role Identity Store remove Role From Group role group public boolean user Exists String name Identity instance check Permission return identity Store user Exists name public boolean role Exists String name return role Identity Store role Exists name public List String list Users Identity instance check Permission List String users identity Store list Users Collections sort users new Comparator String public int compare String value String value return value compare To value return users public List String list Users String filter Identity instance check Permission List String users identity Store list Users filter Collections sort users new Comparator String public int compare String value String value return value compare To value return users public List String list Roles Identity instance check Permission List String roles role Identity Store list Roles Collections sort roles new Comparator String public int compare String value String value return value compare To value return roles public List String list Grantable Roles List String roles role Identity Store list Grantable Roles Collections sort roles new Comparator String public int compare String value String value return value compare To value return roles Returns a list of the roles that are explicitly granted to the specified user param name The user for which to return a list of roles return List containing the names of the granted roles public List String get Granted Roles String name return role Identity Store get Granted Roles name Returns a list of roles that are either explicitly or indirectly granted to the specified user param name The user for which to return the list of roles return List containing the names of the implied roles public List String get Implied Roles String name return role Identity Store get Implied Roles name public List Principal list Members String role Identity instance check Permission return role Identity Store list Members role public List String get Role Groups String name return role Identity Store get Role Groups name public boolean authenticate String username String password if Strings is Empty username return false return identity Store authenticate username password public Identity Store get Identity Store return identity Store public void set Identity Store Identity Store identity Store this identity Store identity Store public Identity Store get Role Identity Store return role Identity Store public void set Role Identity Store Identity Store role Identity Store this role Identity Store role Identity Store public boolean is Enabled return identity Store null role Identity Store null 
package org jboss seam web import java security Principal import javax servlet http Http Servlet Request import javax servlet http Http Servlet Request Wrapper import org jboss seam Seam import org jboss seam security Identity An Http Servlet Request Wrapper implementation that provides integration between Servlet Security and the Seam identity component author Dan Allen public class Identity Request Wrapper extends Http Servlet Request Wrapper private Identity identity public Identity Request Wrapper Http Servlet Request request super request identity Identity request get Session get Attribute Seam get Component Name Identity class Override public String get Remote User return get User Principal null get User Principal get Name null Override public Principal get User Principal return seam Security Is Active identity get Principal super get User Principal Override public boolean is User In Role String role return seam Security Is Active identity has Role role super is User In Role role private boolean seam Security Is Active return Identity is Security Enabled identity null 
package org jboss seam security management import java security Principal import java util Hash Set import java util List import java util Set The identity store does the actual work of persisting user accounts in a database directory etc author Shane Bryzak public interface Identity Store public enum Feature create User delete User enable User disable User change Password create Role delete Role grant Role revoke Role Represents a set of optional features that an Identity Store implementation might support public class Feature Set private Set Feature features public Feature Set this null public Feature Set Set Feature features if features null this features features else this features new Hash Set Feature public Set Feature get Features return features public boolean supports Feature feature return features contains feature public void add Feature Feature feature features add feature public void remove Feature Feature feature features remove feature public void enable All for Feature f Feature values add Feature f Returns true if the Identity Store implementation supports the specified feature boolean supports Feature Feature feature Creates a new user with the specified username and password return true if the user was successfully created boolean create User String username String password Creates a new user with the specified username password first name and last name return true if the user was successfully created boolean create User String username String password String firstname String lastname Deletes the user with the specified username return true if the user was successfully deleted boolean delete User String name Enables the user with the specified username Enabled users are able to authenticate return true if the specified user was successfully enabled boolean enable User String name Disables the user with the specified username Disabled users are unable to authenticate return true if the specified user was successfully disabled boolean disable User String name Returns true if the specified user is enabled boolean is User Enabled String name Changes the password of the specified user to the specified password return true if the user s password was successfully changed boolean change Password String name String password Returns true if the specified user exists boolean user Exists String name Creates a new role with the specified role name return true if the role was created successfully boolean create Role String role Grants the specified role to the specified user param name The name of the user param role The name of the role to grant to the user return true if the role was successfully granted boolean grant Role String name String role Revokes the specified role from the specified user param name The name of the user param role The name of the role to grant to the user return true if the role was successfully revoked boolean revoke Role String name String role Deletes the specified role return true if the role was successfully deleted boolean delete Role String role Returns true if the specified role exists boolean role Exists String name Adds the specified role as a member of the specified group param role The name of the role to add as a member param group The name of the group that the specified role will be added to return true if the role was successfully added to the group boolean add Role To Group String role String group Removes the specified role from the specified group param role The name of the role to remove from the group param group The group from which to remove the role return true if the role was successfully removed from the group boolean remove Role From Group String role String group Returns a list of all users List String list Users Returns a list of all users containing the specified filter text within their username List String list Users String filter Returns a list of all the roles List String list Roles Returns a list of roles that can be granted i e excluding conditional roles List String list Grantable Roles Returns a list of all the roles explicitly granted to the specified user List String get Granted Roles String name Returns a list of all roles that the specified user is a member of This list may contain roles that may not have been explicitly granted to the user which are indirectly implied due to group memberships List String get Implied Roles String name Returns a list of all the groups that the specified role is a member of List String get Role Groups String name Lists the members of the specified role List Principal list Members String role Authenticates the specified user using the specified password return true if authentication is successful boolean authenticate String username String password 
package org jboss seam ui graphic Image import java awt Color import java awt Graphics import java awt Rendering Hints import java awt image Buffered Image import java awt image Convolve Op import java awt image Kernel import java io Byte Array Input Stream import java io Byte Array Output Stream import java io File import java io Exception import java io Input Stream import java io Serializable import java net import java util Arrays import java util Iterator import java util List import javax imageio Image import javax imageio Image Read Param import javax imageio Image Reader import javax imageio stream Image Input Stream import org jboss seam Component import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Resource Loader Image manipulation and interrogation author pmuir Name org jboss seam graphic Image image Install precedence Install Bypass Interceptors public class Image implements Serializable public enum Type image png png image jpeg jpg image jpg image gif gif image bmp bmp private String mime Type private String extension private String image Format Name private List String alternative Mime Types Type String mime Type String extension String image Format Name String alternative Mime Types this mime Type mime Type this extension extension this alternative Mime Types Arrays as List alternative Mime Types this image Format Name image Format Name public String get Mime Type return mime Type public String get Extension return extension public List String get Alternative Mime Types return alternative Mime Types protected String get Image Format Name return image Format Name public static Type get Type By Mime Type String mime Type for Type type values if type get Mime Type equals mime Type type alternative Mime Types contains mime Type return type return null public static Type get Type By Format Name String format Name for Type type values if type get Image Format Name equals Ignore Case format Name return type return null public static final int Buffered Image public static final int Buffered Image private static final Type Type private transient Object input private byte output private boolean dirty private Type content Type private transient Buffered Image buffered Image public Image Set the image This can be one of String loaded from the classpath a a File an Input Stream or a byte param value throws Exception public Image set Input Object value throws Exception this input value read Image return this Get the image as a byte any conversions having been applied Returns null if the image could not be read public byte get Image throws Exception if dirty output null buffered Image null Byte Array Output Stream output Stream new Byte Array Output Stream Image write buffered Image get Content Type get Image Format Name output Stream output output Stream to Byte Array return output The content type of the output image by default public Type get Content Type return content Type public void set Content Type Type content Type this content Type content Type public Buffered Image get Buffered Image return buffered Image public void set Buffered Image Buffered Image buffered Image this buffered Image buffered Image dirty true The aspect ratio of the image public Double get Ratio throws Exception if buffered Image null return null Do the operation with double precision Double ratio double buffered Image get Width double buffered Image get Height return ratio Check whether the image is of a given ratio to within a given precision public Boolean is Ratio double ratio double precision throws Exception if buffered Image null return null double error ratio precision return ratio error get Ratio get Ratio ratio error The width of the image public Integer get Width throws Exception if buffered Image null return null return buffered Image get Width The height of the image public Integer get Height throws Exception if buffered Image null return null return buffered Image get Height Alter the ratio of the output image b without b altering the ratio of the input by adding transparent strips If the image is already of the correct ratio to within the given precision nothing happens public Image adjust Ratio double desired Ratio double precision throws Interrupted Exception Exception if buffered Image null return this if is Ratio desired Ratio precision if get Ratio desired Ratio The image is too wide add a transparent strip across the top bottom to make the image squarer double desired Height get Ratio get Height desired Ratio double strip Height desired Height get Height Buffered Image new Image new Buffered Image get Width int get Height strip Height get Image Type Graphics graphics create Graphics new Image graphics draw Image buffered Image int strip Height null buffered Image new Image else if get Ratio desired Ratio The image is too wide add a transparent strip across the top bottom to make the image squarer double desired Width get Ratio get Width desired Ratio double strip Width desired Width get Width Buffered Image new Image new Buffered Image int get Width strip Width get Height get Image Type Graphics graphics create Graphics new Image graphics draw Image buffered Image int strip Width null buffered Image new Image dirty true return this Blur the output image using a convolution public Image blur int radius throws Exception if buffered Image null return this Buffered Image new Image new Buffered Image get Width get Height get Image Type int blur Width radius int pixels blur Width blur Width float weight f pixels float elements new float pixels for int i i pixels i elements i weight Kernel kernel new Kernel blur Width blur Width elements Convolve Op simple Blur new Convolve Op kernel simple Blur filter buffered Image new Image buffered Image new Image dirty true return this Scale the image to the given width public Image scale To Width int width throws Exception if buffered Image null return this Always scale never stretch We do n t care if the requested scaled ratio is different from the current int height width get Height get Width Buffered Image new Image new Buffered Image width height get Image Type Graphics graphics create Graphics new Image graphics draw Image buffered Image width height null buffered Image new Image dirty true return this public Image scale To Fit int height int width throws Exception float hratio float height get Height float wratio float width get Width if hratio wratio return scale To Height height else return scale To Width width Scale the image to the given height public Image scale To Height int height throws Exception if buffered Image null return this Always scale never stretch We do n t care if the requested scaled ratio is different from the current int width height get Width get Height Buffered Image new Image new Buffered Image width height get Image Type Graphics graphics create Graphics new Image graphics draw Image buffered Image width height null buffered Image new Image dirty true return this Scale the image by the given factor public Image scale double factor throws Exception if buffered Image null return this int width int get Width factor int height int get Height factor Buffered Image new Image new Buffered Image width height get Image Type Graphics graphics create Graphics new Image graphics draw Image buffered Image width height null buffered Image new Image dirty true return this Resize the image to the given width and height changing the ratio if necessary public Image resize int width int height if buffered Image null return this Buffered Image new Image new Buffered Image width height get Image Type Graphics graphics create Graphics new Image graphics draw Image buffered Image width height null buffered Image new Image dirty true return this private void read Image throws Exception if input instanceof read Image input open Stream else if input instanceof File read Image File input to open Stream else if input instanceof String read Image Resource Loader instance get Resource As Stream String input else if input instanceof Input Stream read Image Input Stream input else if input null input get Class is Array if input get Class get Component Type is Assignable From Byte byte b byte input read Image new Byte Array Input Stream b Create Canvas set some defaults bg colour rendering hints param image private Graphics create Graphics Buffered Image image if image null return null Graphics graphics image create Graphics graphics set Background new Color if Type equals get Content Type graphics set Composite java awt Alpha Composite Src graphics clear Rect image get Width image get Height graphics set Rendering Hint Rendering Hints Rendering Hints return graphics public static Image instance if Contexts is Conversation Context Active throw new Illegal State Exception No active conversation scope return Image Component get Instance Image class private void read Image Input Stream input Stream throws Exception if input Stream null throw new Illegal Argument Exception Image pointed to must exist input stream must not be null Image Input Stream stream Image create Image Input Stream input Stream if stream null throw new Illegal Argument Exception Error creating image input stream from image Iterator iter Image get Image Readers stream if iter has Next return Image Reader reader Image Reader iter next Image Read Param param reader get Default Read Param reader set Input stream true true String type reader get Format Name set Content Type Type get Type By Format Name type buffered Image reader read param stream close reader dispose dirty true input Stream close private int get Image Type if Type equals get Content Type return else return 
package org jboss seam example seamspace import static org jboss seam Scope Type import java io Serializable import java security Principal import java util Array List import java util List import javax persistence Entity Manager import org jboss seam annotations Begin import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam core Conversation import org jboss seam faces Faces Messages import org jboss seam security Role import org jboss seam security Simple Principal import org jboss seam security management Identity Manager import org jboss seam security permission Permission import org jboss seam security permission Permission Manager import org jboss seam security permission action Permission Search Name image Permission Scope public class Image Permission implements Serializable private static final long serial Version private List String selected Roles private List Member selected Friends private List String selected Actions private List String original Actions private List Member available Friends In Identity Manager identity Manager In Permission Manager permission Manager In Entity Manager entity Manager In Permission Search permission Search private Member Image target private Principal recipient Suppress Warnings unchecked Begin nested true public void create Permission target Member Image permission Search get Target selected Friends new Array List Member available Friends entity Manager create Query select f friend from Member Friend f where f member member and f authorized true set Parameter member target get Member get Result List Begin nested true public void edit Permission target Member Image permission Search get Target recipient permission Search get Selected Recipient List Permission permissions permission Manager list Permissions target selected Actions new Array List String for Permission permission permissions if permission get Recipient equals recipient if selected Actions contains permission get Action selected Actions add permission get Action original Actions new Array List String selected Actions public List String get Selected Roles return selected Roles public void set Selected Roles List String selected Roles this selected Roles selected Roles public List Member get Selected Friends return selected Friends public void set Selected Friends List Member selected Friends this selected Friends selected Friends public List String get Selected Actions return selected Actions public void set Selected Actions List String selected Actions this selected Actions selected Actions public String apply Permissions If the recipient is n t null it means we re editing existing permissions if recipient null List Permission granted Permissions new Array List Permission List Permission revoked Permissions new Array List Permission for String action selected Actions if original Actions contains action granted Permissions add new Permission target action recipient for String action original Actions if selected Actions contains action revoked Permissions add new Permission target action recipient if granted Permissions is Empty permission Manager grant Permissions granted Permissions if revoked Permissions is Empty permission Manager revoke Permissions revoked Permissions otherwise this is a set of new permissions else if selected Actions size Faces Messages instance add You must select at least one action return failure List Permission permissions new Array List Permission for String role selected Roles Principal r new Role role for String action selected Actions permissions add new Permission target action r for Member friend selected Friends Member Account acct Member Account entity Manager create Query select a from Member Account a where a member member set Parameter member friend get Single Result Principal p new Simple Principal acct get Username for String action selected Actions permissions add new Permission target action p permission Manager grant Permissions permissions Conversation instance end Before Redirect return success public List Member get Available Friends return available Friends public Member Image get Target return target public Principal get Recipient return recipient 
package org jboss seam ui graphic Image import java io Exception public interface Image Transform public static final String org jboss seam ui Image Transform public abstract void apply Transform Image image throws Exception 
package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Allows use of unqualified names in In by a component or by all components in a package The semantics are similar to a import in Java author Gavin King Target Retention Documented public interface Import Specifies the name qualifiers for which unqualified names may be used return an array of name qualifiers String value 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam Scope Type Specifies that a seam component should be injected to the annotated field or setter method of a seam component author Gavin King Target Retention Documented public interface In The context variable name Defaults to the name of the annotated field or getter method String value default Specifies that a component should be instantiated if the context variable is null boolean create default false Specifies that the injected value must not be null by default boolean required default true Explicitly specify the scope to search instead of searching all scopes More efficient as it avoids scanning all contexts Scope Type scope default Scope Type 
package org jboss seam web import java util Array List import java util List import java util regex Matcher public class Incoming Pattern String view String pattern Servlet Mapping view Mapping java util regex Pattern regexp List String regexp Args new Array List String public Incoming Pattern Servlet Mapping view Mapping String view String pattern this view view this pattern pattern this view Mapping view Mapping parse Pattern pattern public Rewrite rewrite String path return new Incoming Rewrite path public void parse Pattern String value String Buffer expr new String Buffer expr append while value length int pos value index Of if pos expr append regexp Literal value value else int pos value index Of if pos throw new Illegal Argument Exception invalid pattern expr append regexp Literal value substring pos String arg value substring pos pos expr append regexp Arg arg regexp Args add arg value value substring pos expr append regexp java util regex Pattern compile expr to String private String regexp Arg String substring return private String regexp Literal String value String Buffer res new String Buffer for int i i value length i char c value char At i if Character is Letter Or Digit c res append c else res append append c return res to String public class Incoming Rewrite implements Rewrite String incoming String query Args Boolean is Match null private List String matched Args new Array List String public Incoming Rewrite String incoming int query Pos incoming index Of if query Pos this incoming incoming this query Args else this incoming incoming substring query Pos this query Args incoming substring query Pos do n t match trailing slash it might indicate an empty arg this incoming strip Trailing Slash this incoming private String strip Trailing Slash String text if text ends With return strip Trailing Slash text substring text length return text public boolean is Match if is Match null is Match match return is Match protected boolean match if incoming null return false Matcher matcher regexp matcher incoming if matcher find for int i i regexp Args size i matched Args add matcher group i return true return false public String rewrite String Buffer result new String Buffer result append mapped view boolean first true if query Args length result append append query Args first false for int i i regexp Args size i String key regexp Args get i String value matched Args get i if first result append first false else result append result append key append append value return result to String private String mapped String view Id return view Mapping map View Id To view Id 
Id Indexer java gavin package com jboss dvd seam import java util Date author Emmanuel Bernard public interface Indexer Date get Last Indexing Time void index void stop 
package com jboss dvd seam import java util Date import javax ejb Remove import javax ejb Stateful import org hibernate search jpa Full Text Entity Manager import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup At startup we need to reindex all entities from the database This is an optional step in a real application we need it in the demo as the database is volatile and was just filled with a dump see import sql author Sanne Grinovero Name indexer Stateful Scope Scope Type Startup public class Indexer Action implements Indexer private Date last Indexing Time In private Full Text Entity Manager entity Manager public Date get Last Indexing Time return last Indexing Time Create public void index Re build the index for the whole database entity Manager create Indexer start last Indexing Time new Date Remove Destroy public void stop 
Id Indexer Service java sannegrinovero package actions import javax ejb Remove import org hibernate search jpa Full Text Entity Manager import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup Index Blog entry at startup author Emmanuel Bernard author Sanne Grinovero Name indexer Service Scope Scope Type Startup public class Indexer Service In private Full Text Entity Manager entity Manager Create public void index entity Manager create Indexer start Remove Destroy public void stop 
package org jboss seam cache import static org jboss seam Scope Type import static org jboss seam annotations Install import java lang reflect Method import org infinispan Cache import org infinispan tree Fqn import org infinispan tree Tree Cache import org infinispan tree Tree Cache Factory import org infinispan configuration cache Configuration import org infinispan configuration cache Configuration Builder import org infinispan manager Default Cache Manager import org jboss seam annotations Auto Create import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Reflections Implementation of Cache Provider backed by Infinispan x for simple objects author Marek Novotny Name org jboss seam cache cache Provider Scope Bypass Interceptors Install value false precedence class Dependencies org infinispan tree Tree Cache org jgroups Membership Listener Auto Create Suppress Warnings rawtypes public class Infinispan Cache Provider extends Abstract Infinispan Cache Provider Tree Cache Object Object private org infinispan tree Tree Cache cache private static final Log Provider log Logging get Log Provider Infinispan Cache Provider class private static Method private static Method private static Method private static Method static try Tree Cache class get Declared Method get Fqn class Object class Tree Cache class get Declared Method put Fqn class Object class Object class Tree Cache class get Declared Method remove Fqn class Object class Tree Cache class get Declared Method remove Node Fqn class catch Exception e log error e throw new Illegal State Exception Unable to use Infinispan Cache e Suppress Warnings unchecked Create public void create log debug Starting Infinispan Cache try Default Cache Manager manager new Default Cache Manager get Configuration As Stream Cache default Cache manager get Cache cache new Tree Cache Factory create Tree Cache default Cache catch Exception e throw new Illegal State Exception Error starting Infinispan Cache e Destroy public void destroy log debug Stopping Infinispan Cache try cache stop cache null catch Exception e throw new Illegal State Exception Error stopping Infinispan Cache e Override public Object get String region String key return Reflections invoke And Wrap cache get Fqn region key Override public void put String region String key Object object Reflections invoke And Wrap cache get Fqn region key object Override public void remove String region String key Reflections invoke And Wrap cache get Fqn region key Override public void clear Reflections invoke And Wrap cache get Fqn null Override public Tree Cache get Delegate return cache 
Id Init java dan j allen package org jboss seam core import static org jboss seam annotations Install import java io File import java lang reflect Method import java util Array List import java util Arrays import java util Collection import java util Hash Map import java util Hash Set import java util List import java util Map import java util Set import java util String Tokenizer import org jboss seam Component import org jboss seam Namespace import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam async Asynchronous Interceptor import org jboss seam bpm Business Process Interceptor import org jboss seam contexts Contexts import org jboss seam core Expressions Method Expression import org jboss seam core Expressions Value Expression import org jboss seam ejb Remove Interceptor import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam persistence Entity Manager Proxy Interceptor import org jboss seam persistence Hibernate Session Proxy Interceptor import org jboss seam persistence Managed Entity Interceptor import org jboss seam security Identity import org jboss seam security Security Interceptor import org jboss seam transaction Rollback Interceptor import org jboss seam transaction Transaction Interceptor import org jboss seam util Resources import org jboss seam webservice Security Interceptor Seam component that holds Seam configuration settings author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam core init Install value false precedence public class Init public static List String new Array List String Arrays as List Synchronization Interceptor class get Name Asynchronous Interceptor class get Name Remove Interceptor class get Name Hibernate Session Proxy Interceptor class get Name Entity Manager Proxy Interceptor class get Name Method Context Interceptor class get Name Event Interceptor class get Name Conversational Interceptor class get Name Business Process Interceptor class get Name Conversation Interceptor class get Name Bijection Interceptor class get Name Rollback Interceptor class get Name Transaction Interceptor class get Name Security Interceptor class get Name Security Interceptor class get Name private Log Provider log Logging get Log Provider Init class private Namespace root Namespace new Namespace null private Collection Namespace global Imports new Array List Namespace private boolean is Client Side Conversations false private boolean jbpm Installed private String jndi Pattern private boolean debug private boolean my Faces Lifecycle Bug private boolean transaction Management Enabled true private boolean distributable false private List String interceptors new Array List String private Map String List Observer Method observer Methods new Hash Map String List Observer Method private Map String List Observer Method Expression observer Method Bindings new Hash Map String List Observer Method Expression private Map String Factory Method factories new Hash Map String Factory Method private Map String Factory Expression factory Method Expressions new Hash Map String Factory Expression private Map String Factory Expression factory Value Expressions new Hash Map String Factory Expression private Set String autocreate Variables new Hash Set String private Set String installed Filters new Hash Set String private Set String resource Providers new Hash Set String private Set String permission Resolvers new Hash Set String private Set String hot Deployable Components new Hash Set String private Map String String converters new Hash Map String String private Map String String validators new Hash Map String String private Map Class String converters By Class new Hash Map Class String private long timestamp private long war Timestamp private File hot Deploy Paths public static Init instance if Contexts is Application Context Active throw new Illegal State Exception No active application scope Init init Init Contexts get Application Context get Init class commented out because of some test cases if init null throw new Illegal State Exception No Init exists return init public boolean is Client Side Conversations return is Client Side Conversations public void set Client Side Conversations boolean is Client Side Conversations this is Client Side Conversations is Client Side Conversations public static class Factory Method private Method method private Component component private Scope Type scope Factory Method Method method Component component this method method this component component scope method get Annotation org jboss seam annotations Factory class scope public Scope Type get Scope return scope public Component get Component return component public Method get Method return method Override public String to String return Factory Method method public static class Factory Expression private String expression private Scope Type scope Factory Expression String expression Scope Type scope this expression expression this scope scope public Method Expression get Method Binding figure out some way to cache this return Expressions instance create Method Expression expression public Value Expression get Value Binding figure out some way to cache this return Expressions instance create Value Expression expression public Scope Type get Scope return scope Override public String to String return Factory Binding expression public Factory Method get Factory String variable return factories get variable public Factory Expression get Factory Method Expression String variable return factory Method Expressions get variable public Factory Expression get Factory Value Expression String variable return factory Value Expressions get variable private void check Duplicate Factory String variable if factories contains Key variable throw new Illegal State Exception duplicate factory for variable duplicate is specified in a component check Duplicate Factory Expressions variable private void check Duplicate Factory Expressions String variable if factory Method Expressions contains Key variable factory Value Expressions contains Key variable throw new Illegal State Exception duplicate factory for variable duplicate is specified in components xml private void check Duplicate Factory String variable Component component if factories contains Key variable String other Component Name factories get variable get Component get Name String component Name component get Name if component Name null component Name equals other Component Name throw new Illegal State Exception duplicate factory for variable duplicates are specified in component Name and other Component Name check Duplicate Factory Expressions variable makes sure appropriate namespaces exist for a name is Component indicates the name is for a component type in which case we do n t create a namespace for the last part public Namespace init Namespace For Name String name boolean is Component Namespace namespace get Root Namespace String Tokenizer tokens new String Tokenizer name while tokens has More Tokens String token tokens next Token if tokens has More Tokens is Component we do n t want to create a namespace for a component Name namespace namespace get Or Create Child token return namespace public void add Factory Method String variable Method method Component component check Duplicate Factory variable component factories put variable new Factory Method method component init Namespace For Name variable true public void add Factory Method Expression String variable String method Binding Expression Scope Type scope check Duplicate Factory variable factory Method Expressions put variable new Factory Expression method Binding Expression scope init Namespace For Name variable true public void add Factory Value Expression String variable String value Binding Expression Scope Type scope check Duplicate Factory variable factory Value Expressions put variable new Factory Expression value Binding Expression scope init Namespace For Name variable true public static class Observer Method private Method method private Component component private boolean create Observer Method Method method Component component boolean create this method method this component component this create create public Component get Component return component public Method get Method return method public boolean is Create return create Override public String to String return Observer Method method Override public boolean equals Object obj if obj instanceof Observer Method return false Observer Method other Observer Method obj return this component equals other component Arrays equals this method get Parameter Types other method get Parameter Types this method get Name equals other get Method get Name public static class Observer Method Expression private Method Expression method Binding Observer Method Expression Method Expression method this method Binding method public Method Expression get Method Binding return method Binding Override public String to String return Observer Method Binding method Binding public List Observer Method get Observer Methods String event Type return observer Methods get event Type public List Observer Method Expression get Observer Method Expressions String event Type return observer Method Bindings get event Type public void add Observer Method String event Type Method method Component component boolean create List Observer Method observer List observer Methods get event Type if observer List null observer List new Array List Observer Method observer Methods put event Type observer List Observer Method observer Method new Observer Method method component create if observer List contains observer Method observer List add observer Method public void add Observer Method Expression String event Type Method Expression method Binding List Observer Method Expression observer List observer Method Bindings get event Type if observer List null observer List new Array List Observer Method Expression observer Method Bindings put event Type observer List observer List add new Observer Method Expression method Binding Remove any observer methods registered on the component Needed to clean out old observer methods on hot deploy param component public void remove Observer Methods Component component Better implementation for String event Type observer Methods key Set List Observer Method observer Methods To Remove new Array List Observer Method for Observer Method observer Method observer Methods get event Type if observer Method get Component equals component observer Methods To Remove add observer Method observer Methods get event Type remove All observer Methods To Remove public boolean is Jbpm Installed return jbpm Installed public String get Jndi Pattern return jndi Pattern public void set Jndi Pattern String jndi Pattern this jndi Pattern jndi Pattern public boolean is Debug return debug public void set Debug boolean debug this debug debug The debug page is considered available if debug is on the classpath and Seam is running in debug mode to prevent it from being enabling in the event the is inadvertently packaged public boolean is Debug Page Available return debug Resources get Resource resources debug xhtml null null public boolean is My Faces Lifecycle Bug return my Faces Lifecycle Bug public void set My Faces Lifecycle Bug boolean my Faces Lifecycle Bug Exists this my Faces Lifecycle Bug my Faces Lifecycle Bug Exists public void set Jbpm Installed boolean jbpm Installed this jbpm Installed jbpm Installed public boolean is Autocreate Variable String name return autocreate Variables contains name public void add Autocreate Variable String name autocreate Variables add name public Namespace get Root Namespace return root Namespace public void import Namespace String namespace Name Namespace namespace get Root Namespace String Tokenizer tokens new String Tokenizer namespace Name while tokens has More Tokens namespace namespace get Or Create Child tokens next Token global Imports add namespace public void add Installed Filter String name installed Filters add name public Set String get Installed Filters return installed Filters public void add Resource Provider String name resource Providers add name public Set String get Resource Providers return resource Providers public void add Permission Resolver String name permission Resolvers add name public Set String get Permission Resolvers return permission Resolvers public Set String get Hot Deployable Components return hot Deployable Components public void add Hot Deployable Component String name this hot Deployable Components add name public Map String String get Converters return converters public Map Class String get Converters By Class return converters By Class public Map String String get Validators return validators public boolean has Hot Deployable Components return hot Deploy Paths null public File get Hot Deploy Paths return hot Deploy Paths public void set Hot Deploy Paths File hot Deploy Jars this hot Deploy Paths hot Deploy Jars public long get Timestamp return timestamp public void set Timestamp long timestamp this timestamp timestamp public long get War Timestamp return war Timestamp public void set War Timestamp long war Timestamp this war Timestamp war Timestamp public boolean is Transaction Management Enabled return transaction Management Enabled public void set Transaction Management Enabled boolean transaction Management Enabled this transaction Management Enabled transaction Management Enabled public boolean is Security Enabled return Identity is Security Enabled public void set Security Enabled boolean security Enabled Identity set Security Enabled security Enabled public Collection Namespace get Global Imports return global Imports public List String get Interceptors return interceptors public void set Interceptors List String interceptors this interceptors interceptors public boolean is Distributable return distributable public void set Distributable boolean distributable this distributable distributable Sanity check to warn users if they have disabled core interceptors public void check Default Interceptors for String default Interceptor if interceptors contains default Interceptor log warn The built in interceptor default Interceptor is missing This application may not function as expected if distributable interceptors contains Managed Entity Interceptor class get Name interceptors add Managed Entity Interceptor class get Name 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam init import static org jboss seam util Resources get Real File import java io File import java io Exception import java io Input Stream import java net import java util Array List import java util Collection import java util Enumeration import java util Hash Map import java util Hash Set import java util Iterator import java util Linked Hash Map import java util List import java util Map import java util Properties import java util Set import java util String Tokenizer import java util Tree Set import java util regex Matcher import java util regex Pattern import javax servlet Servlet Context import javax servlet http Http Servlet Request import org dom j Attribute import org dom j Document Exception import org dom j Element import org jboss seam Component import org jboss seam Scope Type import org jboss seam Seam import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Namespace import org jboss seam annotations Role import org jboss seam annotations Roles import org jboss seam bpm Jbpm import org jboss seam contexts Context import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam contexts Servlet Lifecycle import org jboss seam core Expressions import org jboss seam core Init import org jboss seam deployment Class Descriptor import org jboss seam deployment Deployment Strategy import org jboss seam deployment File Descriptor import org jboss seam deployment Hot Deployment Strategy import org jboss seam deployment Seam Deployment Properties import org jboss seam deployment Standard Deployment Strategy import org jboss seam deployment Timestamp Check Forwarding Deployment Strategy import org jboss seam deployment War Root Deployment Strategy import org jboss seam exception Exceptions import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Pages import org jboss seam util Conversions import org jboss seam util Naming import org jboss seam util Reflections import org jboss seam util Resources import org jboss seam util Strings import org jboss seam util Builds configuration metadata when Seam first initialized author Gavin King author a href mailto theute jboss org Thomas Heute a author Pete Muir public class Initialization public static final String http jboss org schema seam components public static final String component public static final String org jboss seam init duplicate Jars Patterns private static final Log Provider log Logging get Log Provider Initialization class private Servlet Context servlet Context private Map String Conversions Property Value properties new Hash Map String Conversions Property Value private Map String Set Component Descriptor component Descriptors new Hash Map String Set Component Descriptor private List Factory Descriptor factory Descriptors new Array List Factory Descriptor private Set Class installed Component Classes new Hash Set Class private Set String imported Packages new Hash Set String private Map String Namespace Descriptor namespace Map new Hash Map String Namespace Descriptor private Namespace Package Resolver namespace Package Resolver new Namespace Package Resolver private Map String Event Listener Descriptor event Listener Descriptors new Hash Map String Event Listener Descriptor private Collection String global Imports new Array List String private Standard Deployment Strategy standard Deployment Strategy private Hot Deployment Strategy hot Deployment Strategy private War Root Deployment Strategy war Root Deployment Strategy private File war Classes Directory private File war Lib Directory private File hot Deploy Directory private File war Root private Set String non Property Attributes new Hash Set String non Property Attributes add name non Property Attributes add installed non Property Attributes add scope non Property Attributes add startup non Property Attributes add startup Depends non Property Attributes add class non Property Attributes add jndi name non Property Attributes add precedence non Property Attributes add auto create public Initialization Servlet Context servlet Context this servlet Context servlet Context this war Root get Real File servlet Context this war Classes Directory get Real File servlet Context classes this war Lib Directory get Real File servlet Context lib this hot Deploy Directory get Real File servlet Context Hot Deployment Strategy public Initialization create standard Deployment Strategy new Standard Deployment Strategy Thread current Thread get Context Class Loader servlet Context standard Deployment Strategy scan add Namespaces init Components From Xml Document components xml init Components From Xml Document events xml deprecated init Components From Xml Documents init Properties From Servlet Context init Properties From Resource init Jndi Properties init Properties From System return this private void init Components From Xml Documents Enumeration resources try resources Thread current Thread get Context Class Loader get Resources components xml catch Exception ioe throw new Runtime Exception error scanning components xml files ioe List String seen Documents new Array List String Properties replacements get Replacements Set Pattern duplicate Jar Patterns new Hash Set Pattern for String duplicate Jar Regex new Hash Set String new Seam Deployment Properties Thread current Thread get Context Class Loader get Property Values duplicate Jar Patterns add Pattern compile duplicate Jar Regex while resources has More Elements url resources next Element boolean skip false String path url get Path String prefix Pattern jar Pattern pattern Pattern compile prefix Pattern Matcher matcher pattern matcher path String jar Name String file Name if matcher matches jar Name matcher group file Name matcher group Set String document Names new Hash Set String for Pattern duplicate Jar Pattern duplicate Jar Patterns Matcher duplicate Matcher duplicate Jar Pattern matcher jar Name if duplicate Matcher matches jar Name duplicate Matcher group document Names add jar Name file Name for String document Name document Names if seen Documents contains document Name skip true seen Documents add All document Names if skip try Input Stream stream url open Stream log debug reading url try install Components From Xml Elements get Root Element stream replacements finally Resources close Stream stream catch Exception e throw new Runtime Exception error while reading url e else log trace skipping read of duplicate components xml url private void init Components From Xml Document String resource Input Stream stream Resources get Resource As Stream resource servlet Context if stream null log info reading resource try install Components From Xml Elements get Root Element stream get Replacements catch Exception e throw new Runtime Exception error while reading components xml e finally Resources close Stream stream private Properties get Replacements Input Stream replace Stream null try Properties replacements new Properties replace Stream Resources get Resource As Stream components properties servlet Context if replace Stream null replacements load replace Stream return replacements catch Exception ioe throw new Runtime Exception error reading components properties ioe finally Resources close Stream replace Stream private List Element elements Element root Element String name return root Element elements name Suppress Warnings unchecked private void install Components From Xml Elements Element root Element Properties replacements throws Document Exception Class Not Found Exception List Element import Java Elements root Element elements import java package for Element import Element import Java Elements String pkg Name import Element get Text Trim imported Packages add pkg Name add Namespace Package get Package pkg Name for Element import Element elements root Element import global Imports add import Element get Text Trim for Element component elements root Element component install Component From Xml Element component component attribute Value name component attribute Value class replacements for Element factory elements root Element factory install Factory From Xml Element factory for Element event elements root Element event install Event Listener From Xml Element event for Element elem List Element root Element elements String ns elem get Namespace get Namespace Descriptor ns Info resolve Namespace ns if ns Info null if ns equals log warn namespace declared in components xml does not resolve to a package ns else String name elem attribute Value name String elem Name to Camel Case elem get Name true String class Name elem attribute Value class if class Name null for String package Name ns Info get Package Names try Try each of the packages in the namespace descriptor for a matching class class Name package Name elem Name Reflections class For Name class Name break catch Class Not Found Exception ex class Name null try Class Object clazz null Name name Annotation null if class Name null get the class implied by the namespaced element name clazz Reflections class For Name class Name name Annotation clazz get Annotation Name class if the name attribute is not explicitly specified in the imply the name from the Name annotation on the class implied by the element name if name null name Annotation null name name Annotation value if this class already has the Name annotation the element is just adding configuration to the existing component do n t add another Component Descriptor this is super important to allow overriding if name Annotation null name Annotation value equals name Install install clazz get Annotation Install class if install null install value class Name null catch Class Not Found Exception cnfe there is no class implied by the element name so the component must be defined some other way assume that we are just adding configuration do n t add a Component Descriptor this is problematic it results in elements getting ignored when mis spelled or given the wrong namespace class Name null catch Exception e throw new Runtime Exception Error loading element elem Name with component name name and component class class Name e finally if we could not get the name from the name attribute or from an Name annotation on the class imply it if name null String prefix ns Info get Component Prefix String component Name to Camel Case elem get Name false name Strings is Empty prefix component Name prefix component Name install Component From Xml Element elem name class Name replacements private Namespace Descriptor resolve Namespace String namespace if Strings is Empty namespace namespace equals return null Namespace Descriptor descriptor namespace Map get namespace if descriptor null try String package Name namespace Package Resolver resolve namespace descriptor new Namespace Descriptor namespace package Name namespace Map put namespace descriptor catch Exception e log warn Could not determine java package for namespace namespace e return descriptor Suppress Warnings unchecked private void install Event Listener From Xml Element Element event String type event attribute Value type if type null throw new Illegal Argument Exception must specify type for event declaration Event Listener Descriptor event Listener event Listener Descriptors get type if event Listener null event Listener new Event Listener Descriptor type event Listener Descriptors put type event Listener List Element actions event elements action for Element action actions String execute action attribute Value execute if execute null String action Expression action attribute Value expression if action Expression null log warn action expression action Expression has been deprecated use action execute action Expression instead execute action Expression else throw new Illegal Argument Exception must specify execute for action declaration event Listener get Listener Method Bindings add execute private void install Factory From Xml Element Element factory String scope Name factory attribute Value scope String name factory attribute Value name if name null throw new Illegal Argument Exception must specify name in factory declaration String method factory attribute Value method String value factory attribute Value value if method null value null throw new Illegal Argument Exception must specify either method or value in factory declaration for variable name Scope Type scope scope Name null Scope Type Scope Type value Of scope Name to Upper Case boolean auto Create Boolean parse Boolean factory attribute Value auto create factory Descriptors add new Factory Descriptor name scope method value auto Create private String replace String value Properties replacements if value starts With value replacements get Property value substring value length return value Suppress Warnings unchecked private void install Component From Xml Element Element component String name String class Name Properties replacements throws Class Not Found Exception String install Text component attribute Value installed boolean installed false if install Text null Boolean parse Boolean replace install Text replacements installed true String scope Name component attribute Value scope String jndi Name component attribute Value jndi name String precedence String component attribute Value precedence int precedence precedence String null Install Integer value Of precedence String Scope Type scope scope Name null null Scope Type value Of scope Name to Upper Case String autocreate Attribute component attribute Value auto create Boolean auto Create autocreate Attribute null null Boolean parse Boolean autocreate Attribute String startup Attribute component attribute Value startup Boolean startup startup Attribute null null Boolean parse Boolean startup Attribute String startup Depends Attribute component attribute Value startup Depends String startup Depends startup Depends Attribute null new String startup Depends Attribute split if class Name null Class clazz get Class Using Imports class Name if name null if clazz is Annotation Present Name class throw new Illegal Argument Exception Component class must have Name annotation or name must be specified in components xml clazz get Name name clazz get Annotation Name class value Component Descriptor descriptor new Component Descriptor name clazz scope auto Create startup startup Depends jndi Name installed precedence add Component Descriptor descriptor installed Component Classes add clazz else if name null throw new Illegal Argument Exception must specify either class or name in component declaration if there is the same component with highest precedence do not set properties for it Component Descriptor highest Priority Component get Highest Priority Descriptor name if highest Priority Component null if precedence highest Priority Component get Precedence return else have to remove all properties for lower priority component Iterator String iterator properties key Set iterator while iterator has Next String qualified Prop Name iterator next if qualified Prop Name starts With name iterator remove for Element prop List Element component elements String prop Name prop attribute Value name if prop Name null prop Name prop get Name get Name String qualified Prop Name name to Camel Case prop Name false if properties contains Key qualified Prop Name if is Set Properties name precedence properties put qualified Prop Name get Property Value prop qualified Prop Name replacements else properties put qualified Prop Name get Property Value prop qualified Prop Name replacements for Attribute prop List Attribute component attributes String attribute Name prop get Name if is Property prop get Namespace attribute Name String qualified Prop Name name to Camel Case prop get Name get Name false Conversions Property Value prop Value null try prop Value get Property Value prop replacements if is Set Properties name precedence properties put qualified Prop Name prop Value catch Exception ex throw new Illegal Argument Exception String format Exception setting property s on component s Expression s evaluated to s qualified Prop Name name prop get Value prop Value ex Get the highest priority component for the component name param component Name return private Component Descriptor get Highest Priority Descriptor String component Name Tree Set Component Descriptor current Set Tree Set Component Descriptor component Descriptors get component Name if current Set null return current Set first else return null private boolean is Set Properties String name int precedence Component Descriptor highest Priority Descriptor get Highest Priority Descriptor name if highest Priority Descriptor null return precedence highest Priority Descriptor get Precedence else return true component properties are non namespaced and not in the reserved attribute list private boolean is Property String namespace String attribute Name return namespace null namespace length non Property Attributes contains attribute Name private Class get Class Using Imports String class Name throws Class Not Found Exception Class clazz null try clazz Reflections class For Name class Name catch Class Not Found Exception cnfe for String pkg imported Packages try clazz Reflections class For Name pkg class Name break catch Exception e if clazz null throw cnfe return clazz private void add Component Descriptor Component Descriptor descriptor String name descriptor get Name Set Component Descriptor set component Descriptors get name if set null set new Tree Set Component Descriptor new Component Descriptor Precedence Comparator component Descriptors put name set if set is Empty log info two components with same name higher precedence wins name if set add descriptor Component Descriptor other null for Component Descriptor d set if descriptor compare To d other d break for the same component name and the same class in classpath do n t throw exception use the first in classpath as standard order Class clazz descriptor get Component Class if clazz get Name equals other get Component Class get Name throw new Illegal State Exception Two components with the same name and precedence component name name component classes descriptor get Component Class get Name other null other get Component Class get Name unknown private Conversions Property Value get Property Value Attribute prop Properties replacements return new Conversions Flat Property Value trimmed Text prop replacements Suppress Warnings unchecked private Conversions Property Value get Property Value Element prop String prop Name Properties replacements String type Name prop attribute Value type Class type null try if type Name null type Class for Name type Name catch Class Not Found Exception e throw new Runtime Exception Can not find class type Name when setting up property prop Name List Element key Elements prop elements key List Element value Elements prop elements value if value Elements is Empty key Elements is Empty return new Conversions Flat Property Value trimmed Text prop prop Name replacements else if key Elements is Empty a list like structure int len value Elements size String values new String len for int i i len i values i trimmed Text value Elements get i prop Name replacements return new Conversions Multi Property Value values type else a map like structure if value Elements size key Elements size throw new Illegal Argument Exception value elements must match key elements prop Name Map String String keyed Values new Linked Hash Map String String for int i i key Elements size i String key trimmed Text key Elements get i prop Name replacements String value trimmed Text value Elements get i prop Name replacements keyed Values put key value return new Conversions Associative Property Value keyed Values type private String trimmed Text Element element String prop Name Properties replacements String text element get Text Trim if text null throw new Illegal Argument Exception property value must be specified in element body prop Name return replace text replacements private String trimmed Text Attribute attribute Properties replacements return replace attribute get Text replacements public Initialization set Property String name Conversions Property Value value properties put name value return this public Initialization init log debug initializing Seam if standard Deployment Strategy null throw new Illegal State Exception No deployment strategy Servlet Lifecycle begin Initialization Contexts get Application Context set Component properties add Component new Component Descriptor Init class Contexts get Application Context Init init Init Component get Instance Init class Scope Type Make the deployment strategies available in the contexts This gives access to custom deployment handlers for processing custom annotations Contexts get Event Context set Standard Deployment Strategy standard Deployment Strategy scan For Components Component Descriptor desc find Descriptor Jbpm class if desc null desc is Installed init set Jbpm Installed true init check Default Interceptors init set Timestamp System current Time Millis add Special Components init Add the war root deployment war Root Deployment Strategy new War Root Deployment Strategy Thread current Thread get Context Class Loader war Root servlet Context new File war Classes Directory war Lib Directory hot Deploy Directory Contexts get Event Context set War Root Deployment Strategy war Root Deployment Strategy war Root Deployment Strategy scan init set War Timestamp System current Time Millis hot Deployment Strategy create Hot Deployment Thread current Thread get Context Class Loader is Hot Deploy Enabled init Contexts get Event Context set Hot Deployment Strategy hot Deployment Strategy init set Hot Deploy Paths hot Deployment Strategy get Hot Deployment Paths if hot Deployment Strategy available hot Deployment Strategy scan install Hot Deployable Components install Components init for String global Import global Imports init import Namespace global Import Servlet Lifecycle end Initialization log debug done initializing Seam return this public void redeploy Http Servlet Request request throws Interrupted Exception redeploy request Init servlet Context get Attribute Seam get Component Name Init class public void redeploy Http Servlet Request request Init init throws Interrupted Exception It s possible to have the Hot Deploy Filter installed but disabled if is Hot Deploy Enabled init return try hot Deployment Strategy create Hot Deployment Thread current Thread get Context Class Loader is Hot Deploy Enabled init boolean changed new Timestamp Check Forwarding Deployment Strategy Override protected Deployment Strategy delegate return hot Deployment Strategy changed Since init get Timestamp if hot Deployment Strategy available changed Servlet Lifecycle begin Reinitialization request Contexts get Event Context set Hot Deployment Strategy hot Deployment Strategy hot Deployment Strategy scan if hot Deployment Strategy get Timestamp init get Timestamp log debug redeploying components Seam clear Component Name Cache for String name init get Hot Deployable Components Component component Component for Name name if component null Scope Type scope component get Scope if scope Scope Type scope is Context Active scope get Context remove name init remove Observer Methods component Contexts get Application Context remove name init get Hot Deployable Components clear install Hot Deployable Components install Components init log debug done redeploying components update the timestamp outside of the second timestamp check to be sure we do n t cause an unnecessary scan the second scan checks annotations the slow part which might happen to exclude the most recent file init set Timestamp System current Time Millis Servlet Lifecycle end Reinitialization final War Root Deployment Strategy war Root Deployment Strategy new War Root Deployment Strategy Thread current Thread get Context Class Loader war Root servlet Context new File war Classes Directory war Lib Directory hot Deploy Directory changed new Timestamp Check Forwarding Deployment Strategy Override protected Deployment Strategy delegate return war Root Deployment Strategy changed Since init get War Timestamp if changed war Root Deployment Strategy scan if war Root Deployment Strategy get Timestamp init get War Timestamp log debug redeploying page descriptors Pages pages Pages Servlet Lifecycle get Servlet Context get Attribute Seam get Component Name Pages class if pages null application context is needed for creating expressions Lifecycle setup Application pages initialize war Root Deployment Strategy get Dot Page Dot Xml File Names Lifecycle cleanup Application Servlet Lifecycle get Servlet Context remove Attribute Seam get Component Name Exceptions class init set War Timestamp war Root Deployment Strategy get Timestamp log debug done redeploying page descriptors finally private void install Hot Deployable Components for Class Descriptor class Descriptor hot Deployment Strategy get Scanned Component Classes Class scanned Class class Descriptor get Clazz install Scanned Component And Roles scanned Class private Hot Deployment Strategy create Hot Deployment Class Loader class Loader boolean hot Deploy Enabled if is Groovy Present log debug Using Java Groovy hot deploy return Hot Deployment Strategy create Instance org jboss seam deployment Groovy Hot Deployment Strategy class Loader hot Deploy Directory servlet Context hot Deploy Enabled else log debug Using Java hot deploy return new Hot Deployment Strategy class Loader hot Deploy Directory servlet Context hot Deploy Enabled private boolean is Hot Deploy Enabled Init init return init is Debug private boolean is Groovy Present try Reflections class For Name groovy lang Groovy Object return true catch Class Not Found Exception e groovy is not there return false private void scan For Components for Class Descriptor class Descriptor standard Deployment Strategy get Annotated Components Class scanned Class class Descriptor get Clazz install Scanned Component And Roles scanned Class for File Descriptor file Descriptor standard Deployment Strategy get Xml Components install Components From Descriptor file Descriptor standard Deployment Strategy get Class Loader private static String class Filename From Descriptor String descriptor int pos descriptor last Index Of component xml if pos return null return descriptor substring pos replace replace private void install Components From Descriptor File Descriptor file Descriptor Class Loader loader note this is correct we do not need to scan other classloaders Input Stream stream null try stream file Descriptor get Url open Stream catch Exception e No op if stream null try Properties replacements get Replacements Element root get Root Element stream if root get Name equals components install Components From Xml Elements root replacements else install Component From Xml Element root root attribute Value name class Filename From Descriptor file Descriptor get Name replacements catch Exception e throw new Runtime Exception error while reading file Descriptor get Name e finally Resources close Stream stream private void install Scanned Component And Roles Class scanned Class try if scanned Class is Annotation Present Name class add Component Descriptor new Component Descriptor scanned Class if scanned Class is Annotation Present Role class install Role scanned Class scanned Class get Annotation Role class if scanned Class is Annotation Present Roles class Role roles scanned Class get Annotation Roles class value for Role role roles install Role scanned Class role catch Type Not Present Exception e log info Failed to install scanned Class get Name e get Message private void install Role Class scanned Class Role role Scope Type scope Seam get Component Role Scope scanned Class role add Component Descriptor new Component Descriptor role name scanned Class scope private void add Namespace Package pkg if pkg null Namespace ns pkg get Annotation Namespace class if ns null log debug Namespace ns value package pkg get Name prefix ns prefix Namespace Descriptor descriptor namespace Map get ns value if descriptor null descriptor add Package Name pkg get Name else namespace Map put ns value new Namespace Descriptor ns pkg private void add Namespaces for Package pkg standard Deployment Strategy get Scanned Namespaces add Namespace pkg private void init Properties From Servlet Context Enumeration params servlet Context get Init Parameter Names while params has More Elements String name String params next Element properties put name new Conversions Flat Property Value servlet Context get Init Parameter name private void init Properties From System Properties filtered new Properties String prefix Component for Map Entry me System get Properties entry Set if String me get Key starts With prefix filtered put String me get Key substring prefix length me get Value init Properties From Map filtered private void init Properties From Resource init Properties From Map load From Resource seam properties private void init Properties From Map Properties props for Map Entry me props entry Set properties put String me get Key new Conversions Flat Property Value String me get Value private void init Jndi Properties Properties jndi Properties new Properties jndi Properties put All load From Resource jndi properties jndi Properties put All load From Resource seam jndi properties Naming set Initial Context Properties jndi Properties private Properties load From Resource String resource Properties props new Properties Input Stream stream Resources get Resource As Stream resource servlet Context if stream null try log info reading properties from resource try props load stream catch Exception ioe log error could not read resource ioe finally Resources close Stream stream else log debug not found resource return props protected Component Descriptor find Descriptor Class component Class for Set Component Descriptor components component Descriptors values for Component Descriptor component components if component get Component Class equals component Class return component return null private void add Special Components Init init private void install Components Init init log debug Installing components Context context Contexts get Application Context Dependency Manager manager new Dependency Manager component Descriptors Set Component Descriptor installable manager installed Set for Component Descriptor component Descriptor installable String comp Name component Descriptor get Name if context is Set comp Name add Component component Descriptor context if component Descriptor is Auto Create init add Autocreate Variable component Descriptor get Name if component Descriptor is Filter init add Installed Filter component Descriptor get Name if component Descriptor is Resource Provider if component Descriptor get Scope equals Scope Type throw new Runtime Exception Resource providers must be application scoped components init add Resource Provider component Descriptor get Name if component Descriptor is Permission Resolver init add Permission Resolver component Descriptor get Name for Factory Descriptor factory Descriptor factory Descriptors if factory Descriptor is Value Binding init add Factory Value Expression factory Descriptor get Name factory Descriptor get Value factory Descriptor get Scope else init add Factory Method Expression factory Descriptor get Name factory Descriptor get Method factory Descriptor get Scope if factory Descriptor is Auto Create init add Autocreate Variable factory Descriptor get Name for Event Listener Descriptor listener Descriptor event Listener Descriptors values for String expression listener Descriptor get Listener Method Bindings init add Observer Method Expression listener Descriptor get Type Expressions instance create Method Expression expression This actually creates a real Component and should only be called when we want to install a component protected void add Component Component Descriptor descriptor Context context String name descriptor get Name String component Name name try Component component new Component descriptor get Component Class name descriptor get Scope descriptor is Startup descriptor get Startup Dependencies descriptor get Jndi Name context set component Name component if hot Deployment Strategy null hot Deployment Strategy is Enabled hot Deployment Strategy is From Hot Deploy Class Loader descriptor get Component Class Init instance add Hot Deployable Component component get Name catch Throwable e throw new Runtime Exception Could not create Component name e private static String to Camel Case String hyphenated boolean initial Upper String Tokenizer tokens new String Tokenizer hyphenated String Builder result new String Builder hyphenated length String first Token tokens next Token if initial Upper result append Character to Upper Case first Token char At append first Token substring else result append first Token while tokens has More Tokens String token tokens next Token result append Character to Upper Case token char At append token substring return result to String private static class Event Listener Descriptor private String type private List String listener Method Bindings new Array List String Event Listener Descriptor String type this type type public String get Type return type public List String get Listener Method Bindings return listener Method Bindings Override public String to String return Event Listener Descriptor type 
package org jboss seam wicket ioc import java lang annotation Annotation import java lang reflect Member public interface Injected Attribute extends Annotation public abstract get Annotation public abstract Class get Type public abstract void set Object bean Object value public abstract Member get Member 
package org jboss seam wicket ioc import java lang annotation Annotation import java lang reflect Field import org jboss seam util Reflections public class Injected Field extends Annotation implements Injected Attribute protected Field field protected annotation public Injected Field Field field annotation this field field this annotation annotation public Field get Member return field public get Annotation return annotation public Class get Type return field get Type public void set Object bean Object value field set Accessible true Reflections set And Wrap field bean value Override public String to String return Injected Field Reflections to String field 
package org jboss seam ioc guice import com google inject Guice import com google inject Module import org jboss seam Scope Type import org jboss seam annotations import static org jboss seam annotations Install import org jboss seam log Log Provider import org jboss seam log Logging import java io Serializable import java util Array List import java util Arrays import java util List Creates Guice injector from a list of modules author Pawel Wrzeszcz pwrzeszcz at jboss org Name org jboss seam ioc guice injector Scope Scope Type Startup Install value false precedence public class Injector implements Serializable private static final long serial Version private static final Log Provider log Logging get Log Provider Injector class private String modules private com google inject Injector injector null Unwrap public com google inject Injector get Injector return injector Create public void create Injector throws Illegal Access Exception Instantiation Exception Class Not Found Exception if modules null modules length throw new Illegal Argument Exception No Guice module specified log debug Creating injector from modules Arrays to String modules final List Module module List get Module List modules injector Guice create Injector module List private static List Module get Module List String modules throws Illegal Access Exception Instantiation Exception Class Not Found Exception List Module module List new Array List Module for String m modules Module module get Module m module List add module return module List private static Module get Module String class Name try final Class clazz Class for Name class Name true Thread current Thread get Context Class Loader return Module clazz new Instance catch Exception e throw new Illegal Argument Exception Unable to create guice module class Name e public String get Modules return modules public void set Modules String modules this modules modules 
package org jboss seam navigation import org jboss seam Component public class Input extends Put public void in Object object get Scope null Component get Instance get Name get Scope get Context get get Name get Value set Value object 
package org jboss seam annotations security import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target author Shane Bryzak Target Documented Retention Inherited Permission Check public interface Insert Class value default void class 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations import java lang annotation Documented import java lang annotation Element Type import java lang annotation Retention import java lang annotation Retention Policy import java lang annotation Target Specifies whether or not a component should be installed if it is scanned Target Element Type Retention Retention Policy Documented public interface Install Precedence of all built in Seam components public static final int Precedence to use for components of frameworks which extend Seam public static final int Predence of application components the default precedence public static final int Precedence to use for components which override application components in a particular deployment public static final int Precedence to use for mock objects in tests public static final int Is this component installed by default return indicates if the component should be installed boolean value default true Is this a debug component return indicates that the component should only be installed in debug mode boolean debug default false Indicates that the component should not be installed unless the dependent components are installed return the dependent component names String dependencies default Indicates that the component should not be installed unless the dependent components are installed return the dependent component types Class generic Dependencies default Indicates that the component should not be installed unless the the given class definitions are available on the classpath return the dependent classes String class Dependencies default The precedence of the component If multiple components with the same name exist the one with the higher precedence will be installed public int precedence default 
package org jboss seam public interface Instance public Component get Component 
Id Instantiation Exception java gavin package org jboss seam Thrown when Seam can not instantiate a component author Gavin King public class Instantiation Exception extends Runtime Exception The serial Version private static final long serial Version public Instantiation Exception String message Throwable cause super message cause public Instantiation Exception Throwable cause super cause 
package org jboss seam wicket ioc public interface Instrumented Component public Wicket Handler get Handler public Instrumented Component get Enclosing Instance 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java util List import javax ejb Application Exception rollback true public class Insufficient Quantity Exception extends Exception private static final long serial Version List Product products null public Insufficient Quantity Exception List Product products this products products public List Product get Products return products 
package org jboss seam annotations intercept import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Annotates an interceptor class and specifies what kind of interceptor it is client side or server side and its ordering with respect to other interceptors in the stack author Gavin King Target Retention Documented public interface Interceptor Specifies that the interceptor is a or side interceptor return by default Interceptor Type type default Interceptor Type Specifies that an interceptor is called around another interceptor or interceptors Class around default Specifies that an interceptor is called within another interceptor or interceptors Class within default Performance optimization for stateless interceptors boolean stateless default false 
Id Interceptors java gavin package org jboss seam annotations intercept import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Synonym for javax interceptors Interceptors for use in a pre Java environment Note that this may only be used as a meta annotation author Gavin King Target Retention Documented public interface Interceptors Class value 
package org jboss seam annotations intercept The type of an Interceptor client side around the proxy object or server side inside the interceptor stack author Gavin King public enum Interceptor Type An interceptor that wraps the proxy object and intercepts invocations before itself does any work An interceptor that runs as part of the interceptor stack 
package org jboss seam remoting import java io Byte Array Output Stream import java io Exception import java io Output Stream import java lang reflect Field import java lang reflect Method import java lang reflect Modifier import java lang reflect Parameterized Type import java lang reflect Type import java math Big Decimal import java math Big Integer import java util Calendar import java util Collection import java util Date import java util Enumeration import java util Hash Map import java util Hash Set import java util Map import java util Set import javax servlet Servlet Exception import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam Component import org jboss seam Component Type import org jboss seam Seam import org jboss seam annotations Name import org jboss seam annotations remoting Web Remote import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam servlet Contextual Http Servlet Request import org jboss seam util import org jboss seam util Reflections import org jboss seam web Servlet Contexts Generates Java Script interface code author Shane Bryzak public class Interface Generator extends Base Request Handler implements Request Handler private static final Log Provider log Logging get Log Provider Interface Generator class Maintain a cache of the accessible fields private static Map Class Set String accessible Properties new Hash Map Class Set String cache of component interfaces keyed by component name private Map String byte interface Cache new Hash Map String byte param request Http Servlet Request param response Http Servlet Response throws Exception public void handle final Http Servlet Request request final Http Servlet Response response throws Exception new Contextual Http Servlet Request request Override public void process throws Exception Servlet Contexts instance set Request request if request get Query String null throw new Servlet Exception Invalid request no component specified Set Component components new Hash Set Component Set Type types new Hash Set Type response set Content Type text javascript Enumeration e request get Parameter Names while e has More Elements String component Name String e next Element trim Component component Component for Name component Name if component null log error String format Component not found s component Name throw new Servlet Exception Invalid request component not found else components add component generate Component Interface components response get Output Stream types run Generates the Java Script code required to invoke the methods of a component s param components Component The components to generate javascript for param out Output Stream The Output Stream to write the generated javascript to throws Exception Thrown if there is an error writing to the Output Stream public void generate Component Interface Set Component components Output Stream out Set Type types throws Exception for Component c components if c null if interface Cache contains Key c get Name synchronized interface Cache if interface Cache contains Key c get Name Byte Array Output Stream b Out new Byte Array Output Stream append Component Source b Out c types interface Cache put c get Name b Out to Byte Array out write interface Cache get c get Name helper method used internally by Interface Generator and also when serializing responses Returns a list of the property names for the specified class which should be included in the generated interface for the type param cls Class return List public static Set String get Accessible Properties Class cls todo This is a hack to get the real class find out if there is an method in that can be used instead if cls get Name contains Enhancer By cls cls get Superclass if accessible Properties contains Key cls synchronized accessible Properties if accessible Properties contains Key cls Set String properties new Hash Set String Class c cls while c null c equals Object class for Field f c get Declared Fields if Modifier is Transient f get Modifiers Modifier is Static f get Modifiers String field Name f get Name substring to Upper Case f get Name substring String getter Name String format get s field Name String setter Name String format set s field Name Method get Method null Method set Method null try get Method c get Method getter Name catch Security Exception ex catch No Such Method Exception ex it might be an is method getter Name String format is s field Name try get Method c get Method getter Name catch No Such Method Exception ex do n t care try set Method c get Method setter Name new Class f get Type catch Security Exception ex catch No Such Method Exception ex do n t care if Modifier is Public f get Modifiers get Method null Modifier is Public get Method get Modifiers set Method null Modifier is Public set Method get Modifiers properties add f get Name for Method m c get Declared Methods if m get Name starts With get m get Name starts With is int start Idx m get Name starts With get try c get Method String format set s m get Name substring start Idx m get Return Type catch No Such Method Exception ex continue String property Name String format s s Character to Lower Case m get Name char At start Idx m get Name substring start Idx if properties contains property Name properties add property Name c c get Superclass accessible Properties put cls properties return accessible Properties get cls Appends component interface code to an outputstream for a specified component param out Output Stream The Output Stream to write to param component Component The component to generate an interface for param types Set list of types that have already been generated for this request If this component has already been generated i e it is in the list then it wo n t be generated again throws Exception If there is an error writing to the Output Stream private void append Component Source Output Stream out Component component Set Type types throws Exception String Builder component Src new String Builder Set Class component Types new Hash Set Class if component get Type is Session Bean component get Business Interfaces size for Class c component get Business Interfaces Use the Local interface if c is Annotation Present component Types add c break if component Types is Empty throw new Runtime Exception String format Type can not be determined for component s Please ensure that it has a local interface component else if component get Type equals Component Type append Type Source out component get Bean Class types return else if component get Type equals Component Type Check if any of the methods are annotated with Web Remote and if so treat it as an action component instead of a type component for Method m component get Bean Class get Declared Methods if m get Annotation Web Remote class null component Types add component get Bean Class break if component Types is Empty append Type Source out component get Bean Class types return else component Types add component get Bean Class If types already contains all the component types then return boolean found New false for Class type component Types if types contains type found New true break if found New return if component get Name contains component Src append Seam Remoting create Namespace component Src append component get Name substring component get Name last Index Of component Src append n component Src append Seam Remoting type component Src append component get Name component Src append function n component Src append this callback new Object n for Class type component Types if types contains type break else types add type for Method m type get Declared Methods if m get Annotation Web Remote class null continue Append the return type to the source block append Type Source out m get Generic Return Type types component Src append Seam Remoting type component Src append component get Name component Src append prototype component Src append m get Name component Src append function Insert parameters p p for int i i m get Generic Parameter Types length i append Type Source out m get Generic Parameter Types i types if i component Src append component Src append p component Src append i if m get Generic Parameter Types length component Src append component Src append callback exception Handler n component Src append return Seam Remoting execute this component Src append m get Name component Src append for int i i m get Parameter Types length i if i component Src append component Src append p component Src append i component Src append callback exception Handler n component Src append n component Src append n Set the component name component Src append Seam Remoting type component Src append component get Name component Src append name component Src append component get Name component Src append n n Register the component component Src append Seam Component register Seam Remoting type component Src append component get Name component Src append n n out write component Src to String get Bytes Append Javascript interface code for a specified class to a block of code param source String Builder The code block to append to param type Class The type to generate a Javascript interface for param types Set list of the types already generated only include each type once private void append Type Source Output Stream out Type type Set Type types throws Exception if type instanceof Class Class class Type Class type if class Type is Array append Type Source out class Type get Component Type types return if class Type get Name starts With java types contains type class Type is Primitive return Keep track of which types we ve already added types add type append Class Source out class Type types else if type instanceof Parameterized Type for Type t Parameterized Type type get Actual Type Arguments append Type Source out t types Appends the interface code for a non component class to an Output Stream param out Output Stream param class Type Class param types Set throws Exception private void append Class Source Output Stream out Class class Type Set Type types throws Exception Do n t generate interfaces for enums if class Type is Enum return String Builder type Source new String Builder Determine whether this class is a component if so use its name otherwise use its class name String component Name Seam get Component Name class Type if component Name null component Name class Type get Name String type Name component Name replace type Source append Seam Remoting type type Source append type Name type Source append function n String Builder fields new String Builder String Builder accessors new String Builder String Builder mutators new String Builder Map String String metadata new Hash Map String String String get Method Name null String set Method Name null for String property Name get Accessible Properties class Type Type property Type null Field f null try f class Type get Declared Field property Name property Type f get Generic Type catch No Such Field Exception ex set Method Name String format set s s Character to Upper Case property Name char At property Name substring try get Method Name String format get s s Character to Upper Case property Name char At property Name substring property Type class Type get Method get Method Name get Generic Return Type catch No Such Method Exception ex try get Method Name String format is s s Character to Upper Case property Name char At property Name substring property Type class Type get Method get Method Name get Generic Return Type catch No Such Method Exception ex continue append Type Source out property Type types Include types referenced by generic declarations if property Type instanceof Parameterized Type for Type t Parameterized Type property Type get Actual Type Arguments if t instanceof Class append Type Source out t types if f null String field Name property Name substring to Upper Case property Name substring String getter Name String format get s field Name String setter Name String format set s field Name try class Type get Method getter Name get Method Name getter Name catch Security Exception ex catch No Such Method Exception ex getter Name String format is s field Name try if Modifier is Public class Type get Method getter Name get Modifiers get Method Name getter Name catch No Such Method Exception ex do n t care try if Modifier is Public class Type get Method setter Name f get Type get Modifiers set Method Name setter Name catch Security Exception ex catch No Such Method Exception ex do n t care Construct the list of fields if get Method Name null set Method Name null metadata put property Name get Field Type property Type fields append this fields append property Name fields append undefined n if get Method Name null accessors append Seam Remoting type accessors append type Name accessors append prototype accessors append get Method Name accessors append function return this accessors append property Name accessors append n if set Method Name null mutators append Seam Remoting type mutators append type Name mutators append prototype mutators append set Method Name mutators append function mutators append property Name mutators append this mutators append property Name mutators append mutators append property Name mutators append n type Source append fields type Source append accessors type Source append mutators type Source append n n Append the type name type Source append Seam Remoting type type Source append type Name type Source append name type Source append component Name type Source append n Append the metadata type Source append Seam Remoting type type Source append type Name type Source append metadata n boolean first true for String key metadata key Set if first type Source append n type Source append field type Source append key type Source append type type Source append metadata get key type Source append first false type Source append n n Register the type under Seam Component if it is a component otherwise register it under Seam Remoting if class Type is Annotation Present Name class type Source append Seam Component register Seam Remoting type else type Source append Seam Remoting register Type Seam Remoting type type Source append type Name type Source append n n out write type Source to String get Bytes Returns the remoting type for a specified class param type Class return String protected String get Field Type Type type if type equals String class type instanceof Class Class type is Enum type equals Big Integer class type equals Big Decimal class return str else if type equals Boolean class type equals Boolean return bool else if type equals Short class type equals Short type equals Integer class type equals Integer type equals Long class type equals Long type equals Float class type equals Float type equals Double class type equals Double type equals Byte class type equals Byte return number else if type instanceof Class Class cls Class type if Date class is Assignable From cls Calendar class is Assignable From cls return date else if cls is Array return bag else if cls is Assignable From Map class return map else if cls is Assignable From Collection class return bag else if type instanceof Parameterized Type Parameterized Type pt Parameterized Type type if pt get Raw Type instanceof Class Map class is Assignable From Class pt get Raw Type return map else if pt get Raw Type instanceof Class Collection class is Assignable From Class pt get Raw Type return bag return bean 
package org jboss seam core import static org jboss seam Scope Type import static org jboss seam annotations Install import java text Message Format import java util String Tokenizer import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam log Log Provider import org jboss seam log Logging Interpolates expressions in Strings author Gavin King Bypass Interceptors Scope Name org jboss seam core interpolator Install precedence public class Interpolator private static final Log Provider log Logging get Log Provider Interpolator class public static Interpolator instance if Contexts is Application Context Active return Interpolator Component get Instance Interpolator class Scope Type else return new Interpolator for unit testing Replace all expressions in the form with their evaluated values param string a template return the interpolated string public String interpolate String string Object params if params null params new Object if params length throw new Illegal Argument Exception more than parameters if string null string if string index Of string index Of string interpolate Expressions string params return string private String interpolate Expressions String string Object params String Tokenizer tokens new String Tokenizer string true String Builder builder new String Builder string length while tokens has More Tokens String tok tokens next Token if equals tok tokens has More Tokens String next Tok tokens next Token while next Tok equals tokens has More Tokens builder append tok next Tok tokens next Token if equals next Tok String expression tokens next Token try Object value Expressions instance create Value Expression expression get Value if value null builder append value catch Exception e log debug exception interpolating string string e tokens next Token the trailing else if next Tok equals could be trailing builder append else int index try index Integer parse Int next Tok substring if index params length log warn parameter index out of bounds index in string builder append append next Tok else builder append params index append next Tok substring catch Number Format Exception nfe builder append append next Tok else if equals tok String Builder expr new String Builder expr append tok int level while tokens has More Tokens String next Tok tokens next Token expr append next Tok if next Tok equals level else if next Tok equals if level try if params length builder append expr to String else String value new Message Format expr to String Locale instance format params builder append value catch Exception e if it is a bad message use the expression itself builder append expr expr null break if expr null builder append expr else builder append tok return builder to String 
package org jboss seam annotations async import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target The unix cron expression to specify the frequency and other conditions for the repeating asynchronous call to be invoked after the initial delay specified in Expiration or Duration parameters If this parameter is set the Interval Duration parameter will have no effect This annotation occurs on a parameter of type String of a method marked Asynchronous author Michael Yuan Target Retention Documented public interface Interval Cron 
package org jboss seam annotations async import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target The interval between occurrences of a repeating asynchronous call This annotation occurs on a parameter of type long or Long of a method marked Asynchronous author Gavin King Target Retention Documented public interface Interval Duration 
package org jboss seam debug import static org jboss seam annotations Install import java beans Bean Info import java beans Introspection Exception import java beans Property Descriptor import java lang reflect Invocation Target Exception import java lang reflect Method import java util Arrays import java util List import java util Map import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations web Request Parameter import org jboss seam contexts Contexts Name org jboss seam debug introspector Install debug true precedence public class Introspector Request Parameter private String name public Attribute get Attributes throws Exception if name null return null Object component Contexts lookup In Stateful Contexts name if component null return null else if component instanceof Map return get Map Attributes Map component else if component instanceof List return get List Attributes List component else return get Component Attributes component public Attribute get Map Attributes Map Object Object map Attribute attributes new Attribute map size int i for Map Entry me map entry Set attributes i new Attribute me get Key to String me get Value return attributes public Attribute get List Attributes List list Attribute attributes new Attribute list size for int i i list size i attributes i new Attribute Integer to String i list get i return attributes private Attribute get Component Attributes Object component throws Introspection Exception Illegal Access Exception Bean Info bi java beans Introspector get Bean Info component get Class Method Descriptor methods bi get Method Descriptors Property Descriptor properties bi get Property Descriptors Attribute attributes new Attribute properties length for int i i properties length i Object value try Method read Method properties i get Read Method if read Method null continue value read Method invoke component catch Invocation Target Exception ite Throwable e ite get Cause value to String e boolean convert Array To List value null value get Class is Array value get Class get Component Type is Primitive if convert Array To List value Arrays as List Object value attributes i new Attribute properties i get Display Name value String to String try to String component to String catch Exception e to String e get Class get Name e get Message attributes properties length new Attribute to String to String return attributes private static String to String Throwable e return e get Class get Name e get Message public static class Attribute private String name private Object value public Attribute String name Object value this name name this value value public String get Name return name public Object get Value return value public String get String Value try return value null null value to String catch Throwable e return Introspector to String e 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import javax persistence Entity Table name public class Inventory implements Serializable private static final long serial Version int quantity int sales long inventory Id Product product Id Generated Value Column name public long get Inventory Id return inventory Id public void set Inventory Id long id this inventory Id id One To One optional false Join Column name public Product get Product return product public void set Product Product product this product product Column name nullable false public int get Quantity return quantity public void set Quantity int quantity this quantity quantity Column name nullable false public int get Sales return sales public void set Sales int sales this sales sales public boolean order int howmany if howmany quantity return false quantity howmany sales howmany return true 
package org jboss seam wicket ioc import java lang reflect Accessible Object import java lang reflect Constructor import java lang reflect Member import java lang reflect Method import org jboss seam wicket Wicket Component public class Invocation Context private Constructor constructor private Method method private bean private Wicket Component component public Invocation Context Method method bean Wicket Component component this method method this bean bean this component component public Invocation Context Constructor constructor bean Wicket Component component Write the constructor discovery code this constructor constructor this bean bean this component component public Constructor get Constructor return constructor public Method get Method return method public Member get Member if method null return method else if constructor null return constructor else throw new Illegal State Exception No member public Accessible Object get Accessible Object if method null return method else if constructor null return constructor else throw new Illegal State Exception No member public get Bean return bean public Wicket Component get Component return component public Instrumented Component get Instrumented Component return Instrumented Component bean 
package org jboss seam test unit import java util concurrent Count Down Latch public class Invocation Control private String name private Count Down Latch start new Count Down Latch private Count Down Latch started new Count Down Latch private Count Down Latch finish new Count Down Latch private Count Down Latch finished new Count Down Latch public Invocation Control String name this name name public String get Name return this name public void init await start public void start start count Down await started public void mark Started started count Down await finish public void finish finish count Down await finished public void mark Finished finished count Down private void await Count Down Latch l try l await catch Interrupted Exception e 
Boss Home of Professional Open Source Copyright Boss Inc and individual contributors as indicated by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam ioc import java util Arrays import java util Hash Set import java util Set import javax servlet http Http Session Activation Listener import org jboss seam Component import org jboss seam Scope Type import org jboss seam core Mutable import org jboss seam intercept Proxy import org jboss seam log Log Provider import org jboss seam log Logging An extension of Component that allows external Io to provide the base instance for a Seam component author a href mailto ales justin jboss com Ales Justin a public abstract class Io Component extends Component protected final Log Provider log Logging get Log Provider get Class Creates a Seam Component from other Io container param clazz class param name component name param scope component scope public Io Component Class clazz String name Scope Type scope super clazz name scope false new String null protected abstract String get Io Name protected abstract Object instantiate Io Bean throws Exception Instantiates a Io bean and provides it as a java bean to be wrapped by Seam see org jboss seam Component instantiate Java Bean Override protected Object instantiate Java Bean throws Exception Object bean instantiate Io Bean initialize the bean following Component instantiate Java Bean s pattern if is Interception Enabled initialize bean Only call post Construct if the bean is not stateless otherwise in the case of a singleton it wowuld be called every time seam request the bean not just when it is created if get Scope Scope Type call Post Construct Method bean else if bean instanceof Proxy Add all of the interfaces of the bean instance into the Seam proxy bean because spring s proxies add a bunch of interfaces too that should be accessible Set Class interfaces new Hash Set Class Arrays as List bean get Class get Interfaces interfaces add Http Session Activation Listener class interfaces add Mutable class interfaces add Proxy class enhance bean bean Proxy Utils enhance bean interfaces this return bean 
package org jboss seam faces import static org jboss seam annotations Install import javax faces context Faces Context import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors Manager component for a map of roles assigned to the current user as exposed via the External Context author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam web is User In Role Install precedence class Dependencies javax faces context Faces Context public class Is User In Role extends org jboss seam web Is User In Role Override protected Boolean is User In Role String role Faces Context faces Context Faces Context get Current Instance if faces Context null return faces Context get External Context is User In Role role return super is User In Role role 
Id Iterator Enumeration java gavin package org jboss seam util import java util Enumeration import java util Iterator public class Iterator Enumeration implements Enumeration private Iterator iterator public Iterator Enumeration Iterator iterator this iterator iterator public boolean has More Elements return iterator has Next public Object next Element return iterator next 
package org jboss seam pdf ui import java io Exception import java io String Writer import javax el Value Expression import javax faces Faces Exception import javax faces component Component import javax faces component Component Base import javax faces context Faces Context import javax faces context Response Writer import org jboss seam ui util import com lowagie text Chunk import com lowagie text Document import com lowagie text Document Exception import com lowagie text Font import com lowagie text xml simpleparser Entities To Unicode public abstract class Text Component extends Component Base public static final String org jboss seam pdf protected String in Facet protected Object current Facet get the current Itext object abstract public Object get Text Object signal that the component should create it s managed object throws Exception throws Document Exception abstract public void create Text Object Faces Context context throws Exception Document Exception remove the itext objext abstract public void remove Text Object subcomponents should implement this to add child components to themselves abstract public void handle Add Object other final public void add Object other if in Facet null handle Facet in Facet other else handle Add other public void handle Facet String facet Name Object obj current Facet obj facets put facet Name obj look up the tree for an itext font public Font get Font Font font Component Font find Text Parent this Font class return font Component null null font Component get Font look up the tree for the itext document public Document find Document Text Component parent find Text Parent this Document class if parent null return Document parent get Text Object else return null find the first parent that is an itext component public Text Component find Text Parent Component parent return find Text Parent parent null find the first parent that is an itext component of a given type public Text Component find Text Parent Component parent Class c if parent null return null if parent instanceof Text Component if c null c is Assignable From parent get Class return Text Component parent return find Text Parent parent get Parent c add a component usually the current itext object to the itext parent s itext object public void add To Text Parent Object obj Text Component parent find Text Parent get Parent if parent null parent add obj else no Text Parent Found public void no Text Parent Found throw new Runtime Exception Could n t find Text Component parent for component this get Class get Name public Object process Facet String facet Name if in Facet null in Facet equals facet Name return null Component facet this get Facet facet Name Object result null if facet null current Facet null in Facet facet Name try encode Faces Context get Current Instance facet catch Exception e throw new Runtime Exception e finally in Facet null result current Facet current Facet null return result public Object value Binding Faces Context context String property Object default Value Object value default Value Value Expression expression get Value Expression property if expression null value expression get Value context get Context return value public Object value Binding String property Object default Value return value Binding Faces Context get Current Instance property default Value Override public String get Family return Override public boolean get Renders Children return true Override public void encode Begin Faces Context context throws Exception try create Text Object context catch Document Exception e throw new Faces Exception e Override public void encode End Faces Context context throws Exception Object obj get Text Object if obj null add To Text Parent get Text Object remove Text Object Suppress Warnings unchecked Override public void encode Children Faces Context context throws Exception for Component child this get Children ugly hack to be able to capture facelets text if child get Family equals facelets Literal Text String text Entities To Unicode decode String extract Text context child Font font get Font Chunk chunk null if font null chunk new Chunk text else chunk new Chunk text get Font add chunk else encode context child public String extract Text Faces Context context Component child throws Exception Response Writer response context get Response Writer String Writer string Writer new String Writer Response Writer caching Response Writer response clone With Writer string Writer context set Response Writer caching Response Writer render Child context child context set Response Writer response return string Writer get Buffer to String Suppress Warnings unchecked public void encode Faces Context context Component component throws Exception if component is Rendered return component encode Begin context if component get Child Count if component get Renders Children component encode Children context else for Component child component get Children encode context child component encode End context 
package org jboss seam pdf import java awt Color import java util Hash Map import java util Map import com lowagie text Element Tags import com lowagie text Page Size import com lowagie text Rectangle import com lowagie text pdf Pdf Writer public class Text Utils static Map String Color color Map new Hash Map String Color static color Map put white Color white color Map put gray Color gray color Map put lightgray Color light Gray color Map put darkgray Color dark Gray color Map put black Color black color Map put red Color red color Map put pink Color pink color Map put yellow Color yellow color Map put green Color green color Map put magenta Color magenta color Map put cyan Color cyan color Map put blue Color blue color Map put orange Color orange not all itext objects accept a string value as input so we ll copy that logic here public static int alignment Value String alignment return Element Tags alignment Value alignment public static Rectangle page Size Value String name return Page Size get Rectangle name return a color value from a string specification public static Color color Value String color Name if color Name null return null color Name color Name trim to Lower Case Color color color Map get color Name if color null color Name starts With rgb color rgb String To Color color Name if color null color Color decode color Name return color Returns color of the form rgb r g b or rgb r g b a r g b a values can be or float values with a sign public static Color rgb String To Color String rgb String String rgb rgb String split if rgb length return new Color parse Single Chanel rgb parse Single Chanel rgb parse Single Chanel rgb else if rgb length return new Color parse Single Chanel rgb parse Single Chanel rgb parse Single Chanel rgb parse Single Chanel rgb throw new Runtime Exception invalid rgb color specification rgb String private static int parse Single Chanel String chanel if chanel contains float percent Float parse Float chanel replace All return int percent return Integer parse Int chanel replace All public static float string To Float Array String text String parts text split s float values new float parts length for int i i parts length i values i Float value Of parts i return values public static int string To Int Array String text String parts text split s int values new int parts length for int i i parts length i values i Integer value Of parts i return values public static int run Direction String direction if direction null direction equals Ignore Case default return Pdf Writer else if direction equals Ignore Case rtl return Pdf Writer else if direction equals Ignore Case ltr return Pdf Writer else if direction equals Ignore Case no bidi return Pdf Writer else throw new Runtime Exception unknown run direction direction 
Id Java Bean Interceptor java dan j allen package org jboss seam intercept import java lang reflect Method import javassist util proxy Method Handler import javassist util proxy Proxy Object import javax servlet http Http Session Activation Listener import javax servlet http Http Session Event import org jboss seam Component import org jboss seam Component Type import org jboss seam annotations Read Only import org jboss seam annotations intercept Interceptor Type import org jboss seam core Mutable Controller interceptor for Java Bean components author Gavin King author Marel Novotny public class Java Bean Interceptor extends Root Interceptor implements Method Handler private static final long serial Version private final Object bean private final Class bean Class private transient boolean dirty public Java Bean Interceptor Object bean Component component super Interceptor Type this bean bean this bean Class component get Bean Class init component public Object invoke final Object proxy final Method method final Method proceed final Object params throws Throwable if params null if params length String method Name method get Name if finalize equals method Name return proceed invoke proxy params else if write Replace equals method Name return this else if clear Dirty equals method Name bean instanceof Mutable clear and return the dirty flag boolean result dirty dirty false return result else if get Component equals method Name return get Component else if params length params instanceof Http Session Event String method Name method get Name if session Did Activate equals method Name call Post Activate return bean instanceof Http Session Activation Listener method invoke bean params null else if session Will Passivate equals method Name call Pre Passivate return bean instanceof Http Session Activation Listener method invoke bean params null else if params length method get Name equals equals make default equals method return true when called on itself by unwrapping the proxy We do n t let calling this equals make us dirty as we assume it is without side effects this assumption is required as Mojarra calls equals during Session Map put see if method get Parameter Types Object class we need to skip the intercept Invocation in case of Object equals other Object if params proxy return method invoke bean new Object bean else return method invoke bean params if mark Dirty method mark it dirty each time it gets called this flag will be ignored if the bean implements Mutable dirty true Object result intercept Invocation method params return result bean proxy result private boolean mark Dirty Method method return get Component get Bean Class is Annotation Present Read Only class method is Annotation Present Read Only class public void post Construct super post Construct bean call Post Construct private void call Post Construct final Component component get Component if component has Post Construct Method return Invocation Context context new Root Invocation Context bean component get Post Construct Method new Object Override public Object proceed throws Exception component call Post Construct Method bean return null invoke And Handle context Event Type private void call Pre Passivate final Component component get Component if component has Pre Passivate Method return Invocation Context context new Root Invocation Context bean component get Pre Passivate Method new Object Override public Object proceed throws Exception component call Pre Passivate Method bean return null invoke And Handle context Event Type private void call Post Activate final Component component get Component if component has Post Activate Method return Root Invocation Context context new Root Invocation Context bean component get Post Activate Method new Object Override public Object proceed throws Exception component call Post Activate Method bean return null invoke And Handle context Event Type private Object intercept Invocation final Method method final Object params throws Exception return invoke new Root Invocation Context bean method params Event Type copy paste from Client Side interceptor Object read Resolve Component comp null try comp get Component catch Illegal State Exception ise this can occur when tomcat deserializes persistent sessions try if comp null Proxy Object proxy Component create Proxy Factory Component Type bean Class Component get Business Interfaces bean Class new Instance proxy set Handler this return proxy else return comp wrap bean this catch Exception e throw new Runtime Exception e 
package org jboss seam wicket ioc import java io Byte Array Input Stream import java io Exception import java lang instrument Class File Transformer import java lang instrument Illegal Class Format Exception import java lang instrument Instrumentation import java security Protection Domain import java util Hash Set import java util Set import javassist Cannot Compile Exception import javassist Class Pool import javassist Ct Behavior import javassist Ct Class import javassist Ct Constructor import javassist Ct Field import javassist Ct Method import javassist Ct New Method import javassist Modifier import javassist Not Found Exception import javassist Ct Field Initializer import org jboss seam annotations Name import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam wicket Wicket Component This class is responsible for instrumenting wicket component classes so that they can be seam enabled The exact notion of what seam enabled means is left to the implementation in Wicket Component and Wicket Handler and their delegate classes in particular the interceptor chains they create The instrumentations that take place are ul li Add a to add a synthetic Wicket Handler field similar to pre Wicket Handler handler Wicket Handler create this pre as well as a synthetic getter for this field li li Add a static reference to Wicket Component is created to ensure that the instrumented class is registered with Wicket Component pre static Wicket Component component new org jboss seam wicket Wicket Component This Class Name class pre li li Make the instrumented class implement org jboss seam wicket ioc Instrumented Component which includes adding this method pre public Instrumented Component get Enclosing Instance return handler null null handler get Enclosing Instance this pre li li For each non abstract non synthetic non static method not constructor named foobar in this class create a synthetic private instance method call it foobar which contains the original code from foobar Then instrument foobar to do the following pre Some Return Type foobar arguments Method method Our Class class get Declared Method foobar argument Signature if this handler null this handler before Invoke this method Some Return Type result try result foobar arguments catch Exception e throw new Runtime Exception this handler null e this handler handle Exception this method e if this handler null this handler affter Invoke this method result return Some Return Type pre li li similar instrumentation occurs for constructors with the except that a super or this call must precede the invocation of the handler li ul This instrumentor can be activated in several ways ul li The Wicket Class Loader will use it to instrument any class in wicket li li The Wicket Instrumentation Task an ant task will use it to instrument classes specified in ant li li The seam wicket maven plugin will use it to instrument classes specified by maven configuration properties li li This class implements the Class File Transformer interface from the java lang instrument package which means it can be specified with javaagent path to jboss seam wicket jar In this case the system property org jboss seam wicket instrumented packages should specify a comma separated list of package names to instrument li ul see java lang instrument Class File Transformer see org jboss seam wicket ioc Wicket Class Loader see org jboss seam wicket ioc Wicket Instrumentation Task author pmuir cpopetz public class Javassist Instrumentor implements Class File Transformer private static Log Provider log Logging get Log Provider Javassist Instrumentor class The javassist Classpool used for obtaining references to needed Ct Classes private Class Pool class Pool If the constructor is used which specifies a list of packages to instrument for example when using the javaagent startup option this is the list of packages private Set String packages To Instrument The Ct Class for the Instrumented Component interface private Ct Class instrumented Component If true only instrument classes annotated with Wicket Component and their non static inner classes private boolean scan Annotations If we re only instrumenting a specific set of classes these are the names of those classes private Set String only These Classes public Javassist Instrumentor Class Pool class Pool this class Pool false public Javassist Instrumentor Class Pool class Pool boolean scan Annotations this class Pool class Pool this scan Annotations scan Annotations public Javassist Instrumentor Class Pool class Pool Set String packages To Instrument boolean scan Annotations this class Pool scan Annotations this packages To Instrument packages To Instrument public Ct Class instrument Class String class Name throws Not Found Exception Cannot Compile Exception log debug Examining class Name Ct Class implementation class Pool get class Name if is Instrumentable implementation log debug Instrumenting class Name instrument Class implementation return implementation public Ct Class instrument Class byte bytes throws Exception Runtime Exception Not Found Exception Cannot Compile Exception Ct Class clazz class Pool make Class new Byte Array Input Stream bytes if is Instrumentable clazz instrument Class clazz return clazz else return null The main entry point for instrumenting a given class Note that this will not check if the class is instrumentable but will assume that you have param implementation The Ct Class representing the class to instrument throws Not Found Exception throws Cannot Compile Exception public void instrument Class Ct Class implementation throws Not Found Exception Cannot Compile Exception String class Name implementation get Name Ct Class handler Class class Pool get Wicket Handler class get Name Ct Class component Class class Pool get Wicket Component class get Name We only want one Wicket Handler field per bean so do n t add that field to classes whose parent has been or is to be be instrumented Ct Class superclass implementation get Superclass if is Instrumented superclass if is Instrumentable superclass we re the top most instrumentable class so add the handler field Ct Field handler Field new Ct Field handler Class handler implementation handler Field set Modifiers Modifier Initializer handler Initializer Initializer by Call handler Class create implementation add Field handler Field handler Initializer Ct Method get Handler Method Ct New Method getter get Handler handler Field implementation add Method get Handler Method else in order for the below code to make reference to the handler instance we need to recursively instrument until we reach the top of the instrumentable class tree instrument Class superclass Ct Field wicket Component Field new Ct Field component Class component implementation wicket Component Field set Modifiers Modifier Initializer component Init Initializer by Expr new org jboss seam wicket Wicket Component class Name class implementation add Field wicket Component Field component Init Ct Class exception class Pool get Exception class get Name implementation add Interface get Instrumented Component Interface Ct Method get Enclosing Instance Ct New Method make public Instrumented Component class get Name get Enclosing Instance return get Handler null null get Handler get Enclosing Instance this implementation implementation add Method get Enclosing Instance for Ct Method method implementation get Declared Methods if Modifier is Static method get Modifiers Modifier is Abstract method get Modifiers if get Handler equals method get Name get Enclosing Instance equals method get Name String new Name implementation make Unique Name method get Name Ct Method new Method Ct New Method copy method new Name implementation null new Method set Modifiers Modifier implementation add Method new Method method set Body create Body implementation method new Method log trace instrumented method method get Name for Ct Constructor constructor implementation get Constructors if constructor is Constructor String constructor Object create Constructor Object class Name constructor constructor insert Before Body constructor Object get Handler before Invoke this constructor constructor add Catch constructor Object throw new Runtime Exception get Handler handle Exception this constructor e exception e constructor insert After constructor Object get Handler after Invoke this constructor log trace instrumented constructor constructor get Name Create the body of the synthetic method param clazz in this class param method for this method param new Method the synthetic method return the string of code for the body throws Not Found Exception private static String create Body Ct Class clazz Ct Method method Ct Method new Method throws Not Found Exception String src create Method Object clazz method if get Handler null get Handler before Invoke this method create Method Delegation new Method if this handler null result r this handler after Invoke this method w result return r result log trace Creating method clazz get Name new Method get Name new Method get Signature src return src Create the code for delegating to a given method including handling exceptions param method The method to which we are delegating return the string of code for the delegation throws Not Found Exception private static String create Method Delegation Ct Method method throws Not Found Exception Ct Class return Type method get Return Type if return Type equals Ct Class void Type return Object result null wrap In Exception Handler method get Name else String src return Type get Name result src wrap In Exception Handler result method get Name return src Wrap some code in an exception handler that uses the Wicket Handler to handle the exception param src The code to wrap return The wrapped code private static String wrap In Exception Handler String src return try src catch Exception e throw new Runtime Exception get Handler null e get Handler handle Exception this method e Create an arrray of parameter types for a given method or constructor param behavior The method or constructor return The source string representing the declaration and initialization of the parameter Types array throws Not Found Exception private static String create Parameter Types Array Ct Behavior behavior throws Not Found Exception String src Class parameter Types new Class behavior get Parameter Types length for int i i behavior get Parameter Types length i src parameter Types i behavior get Parameter Types i get Name class return src Create the code for initializing a Method object for a given method param clazz The class in which the method can be looked up param method The method in question return Source for looking up the method and declaring initializing the method local variable throws Not Found Exception private static String create Method Object Ct Class clazz Ct Method method throws Not Found Exception String src create Parameter Types Array method src java lang reflect Method method clazz get Name class get Declared Method method get Name parameter Types return src Create the code for initializing a Constructor object for a given constructor param class Name The name of the class in which the constructor can be looked up param constructor The constructor to look up return Source for looking up the constructor and declaring initializing the consturctor local variable throws Not Found Exception private static String create Constructor Object String class Name Ct Constructor constructor throws Not Found Exception String src create Parameter Types Array constructor src java lang reflect Constructor constructor class Name class get Declared Constructor parameter Types return src Does this class alone have the Seam Wicket Annotation public boolean has Wicket Annotation Ct Class clazz try for Object a clazz get Annotations if a instanceof Seam Wicket Component return true catch Class Not Found Exception e throw new Runtime Exception e return false Does this class or any of its nonstatic enclosing classes or any of its superclasses contain the Seam Wicket Component marker annotation public boolean marked Instrumentable Ct Class clazz if has Wicket Annotation clazz return true try Ct Class enclosing Modifier is Static clazz get Modifiers null clazz get Declaring Class if enclosing null marked Instrumentable enclosing return true Ct Class superclass clazz get Superclass if superclass null marked Instrumentable superclass return true catch Exception e throw new Runtime Exception e return false Returns true if the given class can be instrumented This will return false if ul li The class is an interface or an enum li The class is annotated with Seam s Name annotation or is a non static inner class of a Named class li The class is already instrumented We check this by checking if it already implements the Instrumented Component interface ul param clazz The class to check return boolean value if the class can be instrumented or not public boolean is Instrumentable Ct Class clazz int modifiers clazz get Modifiers if Modifier is Interface modifiers Modifier is Enum modifiers return false if only These Classes null only These Classes contains clazz get Name return false try do not instrument Named components or nested non static classes inside named components Ct Class check Name clazz do for Object a check Name get Annotations if a instanceof Name return false check Name Modifier is Static clazz get Modifiers null check Name get Declaring Class while check Name null if scan Annotations marked Instrumentable clazz return false do not instrument something we ve already instrumented ca n t use is Subtype because the superclass may be instrumented while we are not if is Instrumented clazz return false catch Exception e throw new Runtime Exception e return true private boolean is Instrumented Ct Class clazz for String inf clazz get Class File get Interfaces if inf equals get Instrumented Component Interface get Name return true return false We have to look this up lazily because when our constructor is called we may not have the appropriate paths added to our Class Pool particularly if we are doing runtime instrumentation using wicket private Ct Class get Instrumented Component Interface if instrumented Component null try instrumented Component class Pool get Instrumented Component class get Name catch Not Found Exception e throw new Runtime Exception e return instrumented Component This is the implementation of the Class File Transformer interface see java lang instrument Class File Transformer public byte transform Class Loader loader String class Name Class class Being Redefined Protection Domain protection Domain byte classfile Buffer throws Illegal Class Format Exception int index class Name last Index Of if index return null String package Name class Name substring index do if packages To Instrument contains package Name class Name contains javassist try Ct Class clazz class Pool get class Name if clazz is Modified return clazz to Bytecode clazz instrument Class classfile Buffer if clazz null return null else return clazz to Bytecode catch Exception e e print Stack Trace throw new Runtime Exception e index package Name last Index Of if index package Name else package Name package Name substring index while package Name length return null This premain will be called if the vm is started with javaagent path to jar with this class public static void premain String args Instrumentation instrumentation init Agent instrumentation This premain will be called if the vm is told to use this agent after startup which is done in a vm dependent way public static void agentmain String args Instrumentation instrumentation init Agent instrumentation Set up instrumentation This adds ourselves as a transformer to the instrumentation and loads the set of packages to transform from the org jboss seam wicket instrumented packages System property private static void init Agent Instrumentation instrumentation Set String packages To Instrument new Hash Set String String list System get Property org jboss seam wicket instrumented packages String scan Annotations Property System get Property org jboss seam wicket scan Annotations boolean scan Annotations scan Annotations Property null false scan Annotations Property equals true if list null return for String package Name list split packages To Instrument add package Name replace All Class Pool class Pool new Class Pool class Pool append System Path instrumentation add Transformer new Javassist Instrumentor class Pool packages To Instrument scan Annotations This instruments a specific set of classes and writes their classes to the specified directory if that directory is non null param to Instrument the set of class names to instrument param path where to write the modified classes or null to not write anything throws Cannot Compile Exception throws Not Found Exception public void instrument Class Set Set String to Instrument String path throws Cannot Compile Exception Not Found Exception this only These Classes to Instrument for String class Name to Instrument Ct Class clazz instrument Class class Name if path null clazz is Modified try clazz write File path catch Exception e throw new Runtime Exception e 
package org jboss seam cache import static org jboss seam Scope Type import static org jboss seam annotations Install import java lang reflect Method import org jboss cache Cache import org jboss cache Cache Factory import org jboss cache Default Cache Factory import org jboss cache Fqn import org jboss seam annotations Auto Create import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Reflections Implementation of Cache Provider backed by Boss Cache x for simple objects author Sebastian Hennebrueder author Pete Muir Name org jboss seam cache cache Provider Scope Bypass Interceptors Install value false precedence class Dependencies org jboss cache Cache org jgroups Membership Listener Auto Create public class Jboss Cache Provider extends Abstract Boss Cache Provider Cache private org jboss cache Cache cache private static final Log Provider log Logging get Log Provider Jboss Cache Provider class private static Method private static Method private static Method private static Method static try Cache class get Declared Method get Fqn class Object class Cache class get Declared Method put Fqn class Object class Object class Cache class get Declared Method remove Fqn class Object class Cache class get Declared Method remove Node Fqn class catch Exception e throw new Illegal State Exception Unable to use Boss Cache e Create public void create log debug Starting Boss Cache try Cache Factory factory new Default Cache Factory cache factory create Cache get Configuration As Stream cache create cache start catch Exception e log error e e throw new Illegal State Exception Error starting Boss Cache e Destroy public void destroy log debug Stopping Boss Cache try cache stop cache destroy cache null catch Exception e throw new Illegal State Exception Error stopping Boss Cache e Override public Object get String region String key return Reflections invoke And Wrap cache get Fqn region key Override public void put String region String key Object object Reflections invoke And Wrap cache get Fqn region key object Override public void remove String region String key Reflections invoke And Wrap cache get Fqn region key Override public void clear Reflections invoke And Wrap cache get Fqn null Override public Cache get Delegate return cache 
package org jboss seam cache import static org jboss seam Scope Type import static org jboss seam annotations Install import org jboss cache Cache Exception import org jboss cache Node import org jboss cache Property Configurator import org jboss cache Tree Cache import org jboss seam annotations Auto Create import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging Implementation of Cache Provider backed by Boss Cache x author Sebastian Hennebrueder author Pete Muir Name org jboss seam cache cache Provider Scope Bypass Interceptors Install precedence class Dependencies org jboss cache Tree Cache org jgroups Membership Listener Auto Create public class Jboss Cache Provider extends Abstract Boss Cache Provider Tree Cache private Tree Cache cache private static final Log Provider log Logging get Log Provider Jboss Cache Provider class Create public void create log debug Starting Boss Treecache x try cache new Tree Cache new Property Configurator configure cache get Configuration As Stream cache create Service cache start Service catch Exception e throw new Illegal State Exception Error starting Boss Treecache x e Destroy public void destroy log debug Stopping Boss Treecache x try cache stop Service cache destroy Service catch Runtime Exception e throw new Illegal State Exception Error stopping Boss Treecache x e cache null Override public Object get String region String key try Node node cache get get Fqn region if node null return node get key else return null catch Cache Exception e throw new Illegal State Exception String format Cache throw exception when trying to get s from region s key region e Override public void put String region String key Object object try cache put get Fqn region key object catch Cache Exception e throw new Illegal State Exception String format Boss Cache throw exception when adding object for key s to region s key region e Override public void remove String region String key try cache remove get Fqn region key catch Cache Exception e throw new Illegal State Exception String format Boss Cache throw exception when removing object for key s in region s key region e Override public Tree Cache get Delegate return cache Override public void clear try cache remove get Fqn null catch Cache Exception e throw new Illegal State Exception String format Boss Cache throw exception when clearing default cache e 
package org jboss seam jmx import static org jboss seam Scope Type import static org jboss seam annotations Install import java util Vector import javax management Bean Server import javax management Bean Server Factory import javax management Malformed Object Name Exception import javax management Object Name import javax servlet Servlet Context import org jboss seam Seam import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log import org jboss seam log Logging The purpose of this component is to detect a clustered environment and to inform the Http Session Listener whether the origin of a session destroyed event is the failover of a session from one node to the next If a node is failing over we do n t want the Bs referenced by the session to be destroyed author Dan Allen Name org jboss seam jmx jboss Cluster Monitor Bypass Interceptors Scope Startup Install precedence class Dependencies org jgroups Membership Listener public class Boss Cluster Monitor private static Log log Logging get Log Boss Cluster Monitor class private Bean Server jboss Bean Server private boolean clustered private Object Name clustering Cache Object Name private Object Name server Object Name Create public void create jboss Bean Server locate Boss if is Boss return try clustering Cache Object Name new Object Name jboss cache service Tomcat Clustering Cache server Object Name new Object Name jboss system type Server catch Malformed Object Name Exception e log warn Invalid name e get Message try jboss Bean Server get Bean Info clustering Cache Object Name clustered true log info Boss cluster detected catch Exception e public boolean is Clustered return clustered Consults the jboss system type Server Bean to determine if this instance of Boss is currently being shutdown Note that the flag only returns true if the shutdown method on this Bean is used It does not detect a force halt via a process signal i e public boolean node Is Shutting Down if is Boss return false try return Boolean jboss Bean Server get Attribute server Object Name In Shutdown catch Exception e return false public boolean is Last Node if clustered return true other options object name jboss jgroups cluster Default Partition type channel object name jboss jgroups cluster Tomcat Cluster type channel attribute Number Of Tasks In Timer try return Vector jboss Bean Server get Attribute clustering Cache Object Name Members size catch Exception e log warn Could not determine number of members in cluster e return true public boolean failover return is Clustered node Is Shutting Down is Last Node public boolean is Boss return jboss Bean Server null protected Bean Server locate Boss for Object o Bean Server Factory find Bean Server null Bean Server server Bean Server o if jboss equals server get Default Domain return server return null my sense is that this could lookup could be more elegant or conforming public static Boss Cluster Monitor get Instance Servlet Context ctx return Boss Cluster Monitor ctx get Attribute Seam get Component Name Boss Cluster Monitor class 
package org jboss seam el import org jboss el util Reflection Util import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup Name org jboss seam el reference Cache Scope Scope Type Startup public class Boss Reference Cache Create public void start Reflection Util startup Destroy public void stop Reflection Util shutdown 
package org jboss seam cache import static org jboss seam Scope Type import static org jboss seam annotations Install import org jboss cache Cache Exception import org jboss cache Node import org jboss cache aop Pojo Cache import org jboss seam annotations Auto Create import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging Implementation of Cache Provider backed by Boss Cache x author Sebastian Hennebrueder author Pete Muir Name org jboss seam cache cache Provider Scope Bypass Interceptors Install value false precedence class Dependencies org jboss cache aop Pojo Cache org jgroups Membership Listener org jboss aop Dispatcher Auto Create public class Jboss Pojo Cache Provider extends Abstract Boss Cache Provider Pojo Cache private Pojo Cache cache private static final Log Provider log Logging get Log Provider Jboss Pojo Cache Provider class Create public void create log debug Starting Boss Cache x try cache new Pojo Cache new org jboss cache Property Configurator configure cache get Configuration As Stream cache create Service cache start Service catch Exception e throw new Illegal State Exception Error starting Boss Cache x e Destroy public void destroy log debug Stopping Boss Treecache x try cache stop Service cache destroy Service catch Runtime Exception e throw new Illegal State Exception Error stopping Boss Treecache x e cache null Override public Object get String region String key try Node node cache get get Fqn region if node null return node get key else return null catch Cache Exception e throw new Illegal State Exception String format Cache throw exception when trying to get s from region s key region e Override public void put String region String key Object object try cache put get Fqn region key object catch Cache Exception e throw new Illegal State Exception String format Boss Cache throw exception when adding object for key s to region s key region e Override public void remove String region String key try cache remove get Fqn region key catch Cache Exception e throw new Illegal State Exception String format Boss Cache throw exception when removing object for key s in region s key region e Override public Pojo Cache get Delegate return cache Override public void clear try cache remove get Fqn null catch Cache Exception e throw new Illegal State Exception String format Boss Cache throw exception when clearing default cache e 
package org jboss seam bpm import static org jboss seam annotations Install import java io Input Stream import java io Reader import java io String Reader import java util Arrays import java util Hash Map import java util Hashtable import java util Linked Hash Set import java util Map import java util Properties import java util Set import javax naming Naming Exception import org dom j Element import org hibernate Hibernate Exception import org hibernate cfg Environment import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Init import org jboss seam core Resource Loader import org jboss seam deployment Deployment Strategy import org jboss seam deployment File Descriptor import org jboss seam deployment Standard Deployment Strategy import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Naming import org jboss seam util Resources import org jbpm Jbpm Configuration import org jbpm Jbpm Context import org jbpm graph def Process Definition import org jbpm graph node Db Sub Process Resolver import org jbpm graph node Process State import org jbpm graph node Sub Process Resolver import org jbpm instantiation User Code Interceptor Config import org jbpm jpdl Jpdl Exception import org jbpm jpdl el impl Jbpm Expression Evaluator import org jbpm persistence db Db Persistence Service Factory import org xml sax Input Source seam component that boostraps a Session Factory author Gavin King author a href mailto steve hibernate org Steve Ebersole a author Norman Richards author a href mailto theute jboss org Thomas Heute a Scope Scope Type Bypass Interceptors Startup Name org jboss seam bpm jbpm Install value false precedence public class Jbpm private static final Log Provider log Logging get Log Provider Jbpm class private Jbpm Configuration jbpm Configuration private String jbpm Configuration Jndi Name private String process Definitions private String pageflow Definitions private Map String Process Definition pageflow Process Definitions new Hash Map String Process Definition Create public void startup throws Exception log debug Starting j Process State set Default Sub Process Resolver new Seam Sub Process Resolver install Process Definitions install Pageflow Definitions Jbpm Expression Evaluator set Variable Resolver new Seam Variable Resolver Jbpm Expression Evaluator set Function Mapper new Seam Function Mapper Jbpm Expression Evaluator set Expression Evaluator new Seam Expression Evaluator User Code Interceptor Config set User Code Interceptor new Seam User Code Interceptor Destroy public void shutdown if jbpm Configuration null jbpm Configuration close public Jbpm Configuration get Jbpm Configuration if jbpm Configuration null init Jbpm Configuration return jbpm Configuration private void init Jbpm Configuration if jbpm Configuration Jndi Name null jbpm Configuration Jbpm Configuration get Instance else try jbpm Configuration Jbpm Configuration Naming get Initial Context lookup jbpm Configuration Jndi Name catch Naming Exception ne throw new Illegal Argument Exception Jbpm Configuration not found in ne Db Persistence Service Factory dbpsf Db Persistence Service Factory jbpm Configuration get Service Factory persistence if Naming get Initial Context Properties null Prefix regular properties for Hibernate Hashtable String String hash Naming get Initial Context Properties Properties prefixed new Properties for Map Entry String String entry hash entry Set prefixed set Property Environment entry get Key entry get Value try dbpsf get Configuration get Properties put All prefixed catch Hibernate Exception he log warn could not set properties for j persistence he get Message public Process Definition get Pageflow Process Definition String pageflow Name return pageflow Process Definitions get pageflow Name public boolean is Pageflow Process Definition String pageflow Name return pageflow Process Definitions contains Key pageflow Name public static Process Definition get Pageflow Definition From Resource String resource Name Input Stream resource Resource Loader instance get Resource As Stream resource Name if resource null throw new Illegal Argument Exception pageflow resource not found resource Name try return Jbpm parse Input Source new Input Source resource catch Jpdl Exception e throw new Jpdl Exception Unable to parse process definition resource Name e finally Resources close Stream resource public Process Definition get Process Definition From Resource String resource Name Input Stream resource Resource Loader instance get Resource As Stream resource Name if resource null throw new Illegal Argument Exception process definition resource not found resource Name try return Process Definition parse Xml Input Stream resource finally Resources close Stream resource public String get Pageflow Definitions return pageflow Definitions public void set Pageflow Definitions String pageflow Definitions this pageflow Definitions pageflow Definitions public String get Process Definitions return process Definitions public void set Process Definitions String process Definitions this process Definitions process Definitions Dynamically deploy a page flow definition if a pageflow with an identical name already exists the pageflow is updated return true if the pageflow definition has been updated public boolean deploy Pageflow Definition Process Definition pageflow Definition return pageflow Process Definitions put pageflow Definition get Name pageflow Definition null Read a pageflow definition param pageflow Definition the pageflow as an string public Process Definition get Pageflow Definition From Xml String pageflow Definition Reader reader null try reader new String Reader pageflow Definition stream new Reader Input Stream new String Reader pageflow Definition return Jbpm parse Reader Source reader finally Resources close Reader reader Read a process definition param process Definition the process as an string public Process Definition get Process Definition From Xml String process Definition Input Stream stream null Reader reader null try stream new Reader Input Stream new String Reader process Definition reader new String Reader process Definition return Process Definition parse Xml Reader reader finally Resources close Reader reader Remove a pageflow definition param pageflow Name Name of the pageflow to remove return true if the pageflow definition has been removed public boolean undeploy Pageflow Definition String pageflow Name return pageflow Process Definitions remove pageflow Name null private void install Pageflow Definitions Set String merged Pageflow Definitions new Linked Hash Set String if pageflow Definitions null merged Pageflow Definitions add All Arrays as List pageflow Definitions for File Descriptor file Descriptor Pageflow Deployment Handler Deployment Strategy Contexts get Event Context get Standard Deployment Strategy get Deployment Handlers get Pageflow Deployment Handler get Resources merged Pageflow Definitions add file Descriptor get Name for String pageflow merged Pageflow Definitions Process Definition pd get Pageflow Definition From Resource pageflow pageflow Process Definitions put pd get Name pd private void install Process Definitions if is Process Deployment Enabled Jbpm Context jbpm Context get Jbpm Configuration create Jbpm Context try if process Definitions null for String definition Resource process Definitions deploy Process jbpm Context definition Resource catch Runtime Exception e throw new Runtime Exception could not deploy a process definition e finally jbpm Context close private void deploy Process Jbpm Context jbpm Context String definition Resource Process Definition process Definition Process Definition parse Xml Resource definition Resource if log is Debug Enabled log debug deploying process definition process Definition get Name jbpm Context deploy Process Definition process Definition protected boolean is Process Deployment Enabled return process Definitions null process Definitions length public static Jbpm instance if Contexts is Application Context Active throw new Illegal State Exception No application context active if Init instance is Jbpm Installed throw new Illegal State Exception j support is not installed use components xml to install it return Jbpm Component get Instance Jbpm class Scope Type protected String get Jbpm Configuration Jndi Name return jbpm Configuration Jndi Name protected void set Jbpm Configuration Jndi Name String jbpm Configuration Jndi Name this jbpm Configuration Jndi Name jbpm Configuration Jndi Name public static Jbpm Configuration pageflow Configuration Jbpm Configuration parse Resource org jboss seam bpm jbpm pageflow cfg xml public static Jbpm Context create Pageflow Context return pageflow Configuration create Jbpm Context public static Process Definition parse Input Source Input Source input Source Jbpm Context jbpm Context create Pageflow Context try return new Pageflow Parser input Source read Process Definition finally jbpm Context close public static Process Definition parse Reader Source Reader reader Jbpm Context jbpm Context create Pageflow Context try return new Pageflow Parser reader read Process Definition finally jbpm Context close private static final Db Sub Process Resolver new Db Sub Process Resolver class Seam Sub Process Resolver implements Sub Process Resolver public Process Definition find Sub Process Element element String sub Process Name element attribute Value name Process Definition pageflow pageflow Process Definitions get sub Process Name return pageflow null find Sub Process element pageflow 
package org jboss seam bpm import java beans Feature Descriptor import java util Iterator import javax el Context import javax el Resolver import org jbpm jpdl el Variable Resolver Resolves j variables for Unified author Gavin King final class Jbpm Resolver extends Resolver private final Variable Resolver resolver Jbpm Resolver Variable Resolver resolver this resolver resolver Override public Object get Value Context context Object base Object property if base null property null context set Property Resolved true return resolver resolve Variable String property else return null Override public boolean is Read Only Context context Object base Object property return true Override public Class get Common Property Type Context context Object base throw new Unsupported Operation Exception Override public Iterator Feature Descriptor get Feature Descriptors Context context Object base throw new Unsupported Operation Exception Override public Class get Type Context context Object base Object property throw new Unsupported Operation Exception Override public void set Value Context context Object base Object property Object value throw new Unsupported Operation Exception 
package org jboss seam log import java util logging Level import java util logging Logger class Provider implements Log Provider private final Logger logger private final boolean is Wrapped Provider String category boolean wrapped this logger Logger get Logger category this is Wrapped wrapped private void log Level level Object object Throwable ex if logger is Loggable level Throwable dummy Exception new Throwable Stack Trace Element locations dummy Exception get Stack Trace String class Name unknown String method Name unknown int depth is Wrapped if locations null locations length depth Stack Trace Element caller locations depth class Name caller get Class Name method Name caller get Method Name if ex null logger logp level class Name method Name String value Of object else logger logp level class Name method Name String value Of object ex public void debug Object object Throwable t log Level object t public void debug Object object log Level object null public void error Object object Throwable t log Level object t public void error Object object log Level object null public void fatal Object object Throwable t log Level object t public void fatal Object object log Level object null public void info Object object Throwable t log Level object t public void info Object object log Level object null public boolean is Debug Enabled return logger is Loggable Level public boolean is Error Enabled return logger is Loggable Level public boolean is Fatal Enabled return logger is Loggable Level public boolean is Info Enabled return logger is Loggable Level public boolean is Trace Enabled return logger is Loggable Level public boolean is Warn Enabled return logger is Loggable Level public void trace Object object Throwable t log Level object t public void trace Object object log Level object null public void warn Object object Throwable t log Level object t public void warn Object object log Level object null 
package org jboss seam example pdf import org jboss seam annotations import java awt Color import java awt Dimension import java awt Font import java awt Gradient Paint import java awt Paint import java awt geom Rectangle import javax swing Panel import org jfree chart Chart Factory import org jfree chart Chart Panel import org jfree chart Free Chart import org jfree chart Legend Item import org jfree chart Legend Item Collection import org jfree chart axis Number Axis import org jfree chart plot Category Plot import org jfree chart plot Plot Orientation import org jfree chart renderer category Bar Renderer import org jfree chart title Legend Title import org jfree chart title Text Title import org jfree data category Category Dataset import org jfree data category Default Category Dataset import org jfree ui Application Frame import org jfree ui Horizontal Alignment import org jfree ui Rectangle Edge import org jfree ui Rectangle Insets import org jfree ui Refinery Utilities Name jfree public class Free Data public Free Chart get Chart return create Chart get Dataset public Category Dataset get Dataset Default Category Dataset dataset new Default Category Dataset dataset add Value Against all torture Italy dataset add Value Against all torture Great Britain dataset add Value Against all torture dataset add Value Against all torture Israel dataset add Value Against all torture Russia dataset add Value Against all torture India dataset add Value Against all torture Average dataset add Value Italy dataset add Value Great Britain dataset add Value dataset add Value Israel dataset add Value Russia dataset add Value India dataset add Value Average dataset add Value Some degree permissible Italy dataset add Value Some degree permissible Great Britain dataset add Value Some degree permissible dataset add Value Some degree permissible Israel dataset add Value Some degree permissible Russia dataset add Value Some degree permissible India dataset add Value Some degree permissible Average return dataset Creates a sample chart param dataset the dataset return The chart private Free Chart create Chart Category Dataset dataset create the chart Free Chart chart Chart Factory create Stacked Bar Chart Public Opinion Torture of Prisoners Country domain axis label range axis label dataset data Plot Orientation orientation false include legend true tooltips false Ls set the background color for the chart chart set Background Paint Color white chart get Title set Margin Text Title tt new Text Title Source http news bbc co uk hi world stm new Font Dialog Font tt set Position Rectangle Edge tt set Horizontal Alignment Horizontal Alignment tt set Margin chart add Subtitle tt Text Title t new Text Title Across respondents in countries new Font Dialog Font t set Position Rectangle Edge t set Horizontal Alignment Horizontal Alignment t set Margin chart add Subtitle t get a reference to the plot for further customisation Category Plot plot Category Plot chart get Plot Legend Item Collection items new Legend Item Collection items add new Legend Item Against all torture null null null new Rectangle Double Color green items add new Legend Item Some degree permissible null null null new Rectangle Double Color red plot set Fixed Legend Items items plot set Insets new Rectangle Insets Legend Title legend new Legend Title plot legend set Position Rectangle Edge chart add Subtitle legend plot set Background Paint Color light Gray plot set Domain Gridline Paint Color white plot set Domain Gridlines Visible true plot set Range Gridline Paint Color white set the range axis to display integers only Number Axis range Axis Number Axis plot get Range Axis range Axis set Standard Tick Units Number Axis create Integer Tick Units range Axis set Upper Margin disable bar outlines Bar Renderer renderer Bar Renderer plot get Renderer renderer set Draw Bar Outline false set up gradient paints for series Gradient Paint gp new Gradient Paint f f Color green f f new Color Paint gp new Color Gradient Paint gp new Gradient Paint f f Color red f f new Color renderer set Series Paint gp renderer set Series Paint Color green renderer set Series Paint gp renderer set Series Paint gp renderer set Series Paint Color red return chart 
package org jboss seam jmx import java io Serializable import java lang reflect Invocation Handler import java lang reflect Method import java lang reflect Proxy import java util Hash Map import javax management Attribute import javax management Attribute List import javax management Attribute Not Found Exception import javax management Dynamic Bean import javax management Instance Not Found Exception import javax management Introspection Exception import javax management Invalid Attribute Value Exception import javax management Bean Attribute Info import javax management Bean Exception import javax management Bean Info import javax management Bean Operation Info import javax management Bean Server import javax management Object Name import javax management Reflection Exception import javax management Runtime Error Exception import javax management Runtime Bean Exception import javax management Runtime Operations Exception Invocation handler for Bean proxies author a href mailto juha jboss org Juha Lindfors a version Revision public class Invocation Handler implements Proxy Context Invocation Handler Serializable private static final long serial Version Attributes Reference to the Bean server this proxy connects to protected Bean Server server null The object name of the Bean this proxy represents protected Object Name object Name null Default exception handler for the proxy private Proxy Exception Handler handler new Default Exception Handler Bean attribute meta data private Hash Map attribute Map new Hash Map Indicates whether Object to String should be delegated to the resource or handled by the proxy private boolean delegate To String To Resource false Indicates whether Object equals should be delegated to the resource or handled by the proxy private boolean delegate Equals To Resource false Indicates whether Object hash Code should be delegated to the resource or handled by the proxy private boolean delegate Hash Code To Resource false Constructors Constructs a new Bean Proxy invocation handler param server reference to the Bean server this proxy connects to param name object name of the Bean this proxy represents throws Bean Proxy Creation Exception wraps underlying exceptions in case the proxy creation fails public Invocation Handler Bean Server server Object Name name throws Bean Proxy Creation Exception try if server null throw new Bean Proxy Creation Exception null agent reference this server server this object Name name Bean Info info server get Bean Info object Name Bean Attribute Info attributes info get Attributes Bean Operation Info operations info get Operations collect the Bean attribute metadata for standard mbean proxies for int i i attributes length i attribute Map put attributes i get Name attributes i Check whether the target resource exposes the common object methods Dynamic Proxy will delegate these methods automatically to the invoke implementation for int i i operations length i if operations i get Name equals to String operations i get Return Type equals java lang String operations i get Signature length delegate To String To Resource true else if operations i get Name equals equals operations i get Return Type equals Boolean get Name operations i get Signature length operations i get Signature get Type equals java lang Object delegate Equals To Resource true else if operations i get Name equals hash Code operations i get Return Type equals Integer get Name operations i get Signature length delegate Hash Code To Resource true catch Instance Not Found Exception e throw new Bean Proxy Creation Exception Object name name not found e to String catch Introspection Exception e throw new Bean Proxy Creation Exception e to String catch Reflection Exception e throw new Bean Proxy Creation Exception e to String Invocation Handler implementation public Object invoke Object proxy Method method Object args throws Exception Class declaring Class method get Declaring Class Handle methods from Object class If the target resource exposes operation metadata with same signature then the invocations will be delegated to the target Otherwise this instance of invocation handler will execute them if declaring Class Object class return handle Object Methods method args Check methods from Proxy Context interface If invoked delegate to the context implementation part of this invocation handler if declaring Class Proxy Context class return method invoke this args Check methods from Dynamic Bean interface This allows the proxy to be used in cases where the underlying metadata has changed a la Dynamic Bean if declaring Class Dynamic Bean class return handle Dynamic Bean Invocation method args try String method Name method get Name Assume a get set Attribute convention on the typed proxy interface If the Bean metadata exposes a matching attribute then use the Bean Server attribute accessors to read modify the value If not fallback to Bean Server invoke assuming this is an operation invocation despite the accessor naming convention getter if method Name starts With get args null String attr Name method Name substring method Name length check that the metadata exists Bean Attribute Info info Bean Attribute Info attribute Map get attr Name if info null String ret Type method get Return Type get Name check for correct return type on the getter if ret Type equals info get Type return server get Attribute object Name attr Name boolean getter else if method Name starts With is args null String attr Name method Name substring method Name length check that the metadata exists Bean Attribute Info info Bean Attribute Info attribute Map get attr Name if info null info is Is Class ret Type method get Return Type check for correct return type on the getter if ret Type equals Boolean class ret Type equals Boolean return server get Attribute object Name attr Name setter else if method Name starts With set args null args length String attr Name method Name substring method Name length check that the metadata exists Bean Attribute Info info Bean Attribute Info attribute Map get attr Name if info null method get Return Type equals Void Class Loader cl Thread current Thread get Context Class Loader Class signature Class null String class Type info get Type if is Primitive class Type signature Class get Primitive Class class Type else signature Class cl load Class info get Type if signature Class is Assignable From args get Class server set Attribute object Name new Attribute attr Name args return null String signature null if args null signature new String args length Class sign method get Parameter Types for int i i sign length i signature i sign i get Name return server invoke object Name method Name args signature catch Instance Not Found Exception e return get Exception Handler handle Instance Not Found this e method args catch Attribute Not Found Exception e return get Exception Handler handle Attribute Not Found this e method args catch Invalid Attribute Value Exception e return get Exception Handler handle Invalid Attribute Value this e method args catch Bean Exception e return get Exception Handler handle Bean Exception this e method args catch Reflection Exception e return get Exception Handler handle Reflection Exception this e method args catch Runtime Operations Exception e return get Exception Handler handle Runtime Operations Exception this e method args catch Runtime Bean Exception e return get Exception Handler handle Runtime Bean Exception this e method args catch Runtime Error Exception e return get Exception Handler handle Runtime Error this e method args public Proxy Exception Handler get Exception Handler return handler Proxy Context implementation The proxy provides an access point for the client to methods not part of the Bean s management interface It can be used to configure the invocation with context client side interceptors exception handling act as an access point to Bean server interface and so on public void set Exception Handler Proxy Exception Handler handler this handler handler public Bean Server get Bean Server return server public Object Name get Object Name return object Name Object overrides Override public String to String return Bean Proxy for object Name Agent Agent get server Private private Object handle Object Methods Method method Object args throws Instance Not Found Exception Reflection Exception Introspection Exception Bean Exception if method get Name equals to String if delegate To String To Resource return server invoke object Name to String null null else return to String else if method get Name equals equals if delegate Equals To Resource return server invoke object Name equals new Object args new String java lang Object else if Proxy is Proxy Class args get Class Proxy prxy Proxy args return new Boolean this equals Proxy get Invocation Handler prxy else return new Boolean this equals args else if method get Name equals hash Code if delegate Hash Code To Resource return server invoke object Name hash Code null null else return new Integer this hash Code else throw new Error Unexpected method invocation private Object handle Dynamic Bean Invocation Method method Object args throws Instance Not Found Exception Reflection Exception Introspection Exception Bean Exception Attribute Not Found Exception Invalid Attribute Value Exception String method Name method get Name if method Name equals set Attribute server set Attribute object Name Attribute args return null else if method Name equals set Attributes return server set Attributes object Name Attribute List args else if method Name equals get Attribute return server get Attribute object Name String args else if method Name equals get Attributes return server get Attributes object Name String args else if method Name equals invoke return server invoke object Name String args Object args String args else if method Name equals get Bean Info return server get Bean Info object Name else throw new Error Unexpected method invocation private boolean is Primitive String type if type equals Integer get Name return true if type equals Long get Name return true if type equals Boolean get Name return true if type equals Byte get Name return true if type equals Character get Name return true if type equals Short get Name return true if type equals Float get Name return true if type equals Double get Name return true if type equals Void get Name return true return false private Class get Primitive Class String type if type equals Integer get Name return Integer if type equals Long get Name return Long if type equals Boolean get Name return Boolean if type equals Byte get Name return Byte if type equals Character get Name return Character if type equals Short get Name return Short if type equals Float get Name return Float if type equals Double get Name return Double if type equals Void get Name return Void return null 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Retention import java lang annotation Target Specifies the name of a seam component author Gavin King Target Retention public interface Jndi Name String value 
package org jboss seam ui import static org jboss seam Scope Type import static org jboss seam annotations Install import javax persistence Entity Manager import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam framework Entity Identifier import org jboss seam framework Identifier Stores entity identifiers under a key which can be used on a page author Pete Muir Name org jboss seam ui entity Loader Install precedence value true class Dependencies javax persistence Entity Manager Scope public class Jpa Entity Loader extends Abstract Entity Loader Entity Manager Override protected Identifier create Identifier Object entity return new Entity Identifier entity get Persistence Context Override protected String get Persistence Context Name return entity Manager Override public void validate if get Persistence Context null throw new Illegal State Exception Unable to access a persistence context You must either have a called entity Manager or configure one in components xml public Entity Manager get Entity Manager return get Persistence Context public void set Entity Manager Entity Manager entity Manager set Persistence Context entity Manager 
package org jboss seam security management import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java lang reflect Parameterized Type import java lang reflect Type import java security General Security Exception import java security Principal import java util Array List import java util Collection import java util Hash Set import java util List import java util Set import javax persistence Entity Manager import javax persistence No Result Exception import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Observer import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations security management Password Salt import org jboss seam annotations security management Role Conditional import org jboss seam annotations security management Role Groups import org jboss seam annotations security management Role Name import org jboss seam annotations security management User Enabled import org jboss seam annotations security management User First Name import org jboss seam annotations security management User Last Name import org jboss seam annotations security management User Password import org jboss seam annotations security management User Principal import org jboss seam annotations security management User Roles import org jboss seam contexts Contexts import org jboss seam core Events import org jboss seam core Expressions import org jboss seam core Expressions Value Expression import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security Identity import org jboss seam security Role import org jboss seam security Simple Principal import org jboss seam security crypto Bin Tools import org jboss seam util Annotated Bean Property import org jboss seam util Typed Bean Property The default identity store implementation uses as its persistence mechanism author Shane Bryzak Name org jboss seam security identity Store Install precedence value false Scope Bypass Interceptors public class Jpa Identity Store implements Identity Store Serializable private static final long serial Version public static final String org jboss seam security management authenticated User public static final String org jboss seam security management user Created public static final String org jboss seam security management pre Persist User public static final String org jboss seam security management user Authenticated public static final String org jboss seam security management pre Persist User Role private static final Log Provider log Logging get Log Provider Jpa Identity Store class protected Feature Set feature Set private Value Expression Entity Manager entity Manager private Class user Class private Class role Class private Class xref Class private Typed Bean Property xref User Property private Typed Bean Property xref Role Property private Annotated Bean Property User Principal user Principal Property private Annotated Bean Property User Password user Password Property private Annotated Bean Property Password Salt password Salt Property private Annotated Bean Property User Roles user Roles Property private Annotated Bean Property User Enabled user Enabled Property private Annotated Bean Property User First Name user First Name Property private Annotated Bean Property User Last Name user Last Name Property private Annotated Bean Property Role Name role Name Property private Annotated Bean Property Role Groups role Groups Property private Annotated Bean Property Role Conditional role Conditional Property public Set Feature get Features return feature Set get Features public void set Features Set Feature features feature Set new Feature Set features public boolean supports Feature Feature feature return feature Set supports feature Create public void init if feature Set null feature Set new Feature Set feature Set enable All if entity Manager null entity Manager Expressions instance create Value Expression entity Manager Entity Manager class if user Class null log error Error in Jpa Identity Store configuration user Class must be configured return init Properties private void init Properties user Principal Property new Annotated Bean Property user Class User Principal class user Password Property new Annotated Bean Property user Class User Password class password Salt Property new Annotated Bean Property user Class Password Salt class user Roles Property new Annotated Bean Property user Class User Roles class user Enabled Property new Annotated Bean Property user Class User Enabled class user First Name Property new Annotated Bean Property user Class User First Name class user Last Name Property new Annotated Bean Property user Class User Last Name class if user Principal Property is Set throw new Identity Management Exception Invalid user Class user Class get Name required annotation User Principal not found on any Field or Method if user Roles Property is Set throw new Identity Management Exception Invalid user Class user Class get Name required annotation User Roles not found on any Field or Method if role Class null role Name Property new Annotated Bean Property role Class Role Name class role Groups Property new Annotated Bean Property role Class Role Groups class role Conditional Property new Annotated Bean Property role Class Role Conditional class if role Name Property is Set throw new Identity Management Exception Invalid role Class role Class get Name required annotation Role Name not found on any Field or Method Type type user Roles Property get Property Type if type instanceof Parameterized Type Collection class is Assignable From Class Parameterized Type type get Raw Type Type gen Type Object class for Type t Parameterized Type type get Actual Type Arguments gen Type t break If the User Roles property is n t a collection of role Class then assume the relationship is going through a cross reference table if gen Type equals role Class xref Class Class gen Type xref User Property new Typed Bean Property xref Class user Class xref Role Property new Typed Bean Property xref Class role Class if xref User Property is Set throw new Identity Management Exception Error configuring Jpa Identity Store it looks like you re using a cross reference table however the user property can not be determined if xref Role Property is Set throw new Identity Management Exception Error configuring Jpa Identity Store it looks like you re using a cross reference table however the role property can not be determined public boolean create User String username String password String firstname String lastname try if user Class null throw new Identity Management Exception Could not create account user Class not set if user Exists username throw new Identity Management Exception Could not create account already exists Object user user Class new Instance user Principal Property set Value user username if user First Name Property is Set user First Name Property set Value user firstname if user Last Name Property is Set user Last Name Property set Value user lastname if password null if user Enabled Property is Set user Enabled Property set Value user false else set User Password user password if user Enabled Property is Set user Enabled Property set Value user true if Events exists Events instance raise Event user persist Entity user if Events exists Events instance raise Event user return true catch Exception ex if ex instanceof Identity Management Exception throw Identity Management Exception ex else throw new Identity Management Exception Could not create account ex protected void set User Password Object user String password if password Salt Property is Set byte salt generate User Salt user password Salt Property set Value user Bin Tools bin hex salt user Password Property set Value user generate Password Hash password salt else user Password Property set Value user generate Password Hash password get User Account Salt user deprecated Use Jpa Identity Store generate Random Salt Object instead Deprecated protected String get User Account Salt Object user By default we ll use the user s username as the password salt return user Principal Property get Value user to String Generates a bit random salt value public byte generate User Salt Object user return Password Hash instance generate Random Salt public boolean create User String username String password return create User username password null null public boolean delete User String name Object user lookup User name if user null throw new No Such User Exception Could not delete user name does not exist remove Entity user return true public boolean grant Role String username String role if role Class null return false Object user lookup User username if user null if user Password Property is Set If no user Password Property is set it means that authentication is being performed by another identity store and this one is just managing roles throw new No Such User Exception Could not grant role no such user username else We need to create a new user object if create User username null user lookup User username else throw new Identity Management Exception Could not grant role user does not exist and an attempt to create the user failed Object role To Grant lookup Role role if role To Grant null throw new No Such Role Exception Could not grant role role role does not exist Collection user Roles Collection user Roles Property get Value user if user Roles null Type prop Type user Roles Property get Property Type Class collection Type if prop Type instanceof Class Collection class is Assignable From Class prop Type collection Type Class prop Type else if prop Type instanceof Parameterized Type Collection class is Assignable From Class Parameterized Type prop Type get Raw Type collection Type Class Parameterized Type prop Type get Raw Type else throw new Illegal State Exception Could not determine collection type for user roles This should either be a Set or a List if Set class is Assignable From collection Type user Roles new Hash Set else if List class is Assignable From collection Type user Roles new Array List user Roles Property set Value user user Roles else if Collection user Roles Property get Value user contains role To Grant return false if xref Class null If this is a Many To Many relationship simply add the role Collection user Roles Property get Value user add role To Grant else Otherwise we need to insert a cross reference entity instance try Object xref xref Class new Instance xref User Property set Value xref user xref Role Property set Value xref role To Grant Events instance raise Event xref Collection user Roles Property get Value user add merge Entity xref catch Exception ex throw new Identity Management Exception Error creating cross reference role record ex return true public boolean revoke Role String username String role Object user lookup User username if user null throw new No Such User Exception Could not revoke role no such user username Object role To Revoke lookup Role role if role To Revoke null throw new No Such Role Exception Could not revoke role role role does not exist boolean success false if xref Class null success Collection user Roles Property get Value user remove role To Revoke else Collection roles Collection user Roles Property get Value user for Object xref roles if xref Role Property get Value xref equals role To Revoke success roles remove xref break return success public boolean add Role To Group String role String group if role Groups Property is Set return false Object target Role lookup Role role if target Role null throw new No Such User Exception Could not add role to group no such role role Object target Group lookup Role group if target Group null throw new No Such Role Exception Could not grant role group group does not exist Collection role Groups Collection role Groups Property get Value target Role if role Groups null This should either be a Set or a List Class raw Type null if role Groups Property get Property Type instanceof Parameterized Type raw Type Class Parameterized Type role Groups Property get Property Type get Raw Type else return false if Set class is Assignable From raw Type role Groups new Hash Set else if List class is Assignable From raw Type role Groups new Array List role Groups Property set Value target Role role Groups else if Collection role Groups Property get Value target Role contains target Group return false Collection role Groups Property get Value target Role add target Group return true public boolean remove Role From Group String role String group if role Groups Property is Set return false Object role To Remove lookup Role role if role null throw new No Such User Exception Could not remove role from group no such role role Object target Group lookup Role group if target Group null throw new No Such Role Exception Could not remove role from group no such group group boolean success Collection role Groups Property get Value role To Remove remove target Group return success public boolean create Role String role try if role Class null throw new Identity Management Exception Could not create role role Class not set if role Exists role throw new Identity Management Exception Could not create role already exists Object instance role Class new Instance role Name Property set Value instance role persist Entity instance return true catch Exception ex if ex instanceof Identity Management Exception throw Identity Management Exception ex else throw new Identity Management Exception Could not create role ex public boolean delete Role String role Object role To Delete lookup Role role if role To Delete null throw new No Such Role Exception Could not delete role role role does not exist if xref Class null lookup Entity Manager create Query delete xref Class get Name where role role set Parameter role role To Delete execute Update else List String users list User Members role for String user users revoke Role user role List String roles list Role Members role for String r roles remove Role From Group r role remove Entity role To Delete return true public boolean enable User String name if user Enabled Property is Set log debug Can not enable user no User Enabled property configured in user Class user Class get Name return false Object user lookup User name if user null throw new No Such User Exception Could not enable user user name does not exist Ca n t enable an already enabled user return false if Boolean user Enabled Property get Value user true return false user Enabled Property set Value user true return true public boolean disable User String name if user Enabled Property is Set log debug Can not disable user no User Enabled property configured in user Class user Class get Name return false Object user lookup User name if user null throw new No Such User Exception Could not disable user user name does not exist Ca n t disable an already disabled user return false if Boolean user Enabled Property get Value user false return false user Enabled Property set Value user false return true public boolean change Password String username String password Object user lookup User username if user null throw new No Such User Exception Could not change password user username does not exist set User Password user password return true public boolean user Exists String name return lookup User name null public boolean role Exists String name return lookup Role name null public boolean is User Enabled String name Object user lookup User name return user null user Enabled Property is Set Boolean user Enabled Property get Value user true public List String get Granted Roles String name Object user lookup User name if user null throw new No Such User Exception No such user name List String roles new Array List String Collection user Roles Collection user Roles Property get Value user if user Roles null for Object role user Roles if xref Class null roles add String role Name Property get Value role else Object xref role Name Property get Value role Object user Role xref Role Property get Value xref roles add String role Name Property get Value user Role return roles public List String get Role Groups String name Object role lookup Role name if role null throw new No Such User Exception No such role name List String groups new Array List String if role Groups Property is Set Collection role Groups Collection role Groups Property get Value role if role Groups null for Object group role Groups groups add String role Name Property get Value group return groups public List String get Implied Roles String name Object user lookup User name if user null throw new No Such User Exception No such user name Set String roles new Hash Set String Collection user Roles Collection user Roles Property get Value user if user Roles null for Object role user Roles add Role And Memberships String role Name Property get Value role roles return new Array List String roles private void add Role And Memberships String role Set String roles if roles add role Object instance lookup Role role if role Groups Property is Set Collection groups Collection role Groups Property get Value instance if groups null for Object group groups add Role And Memberships String role Name Property get Value group roles public String generate Password Hash String password byte salt if password Salt Property is Set try return Password Hash instance create Password Key password to Char Array salt user Password Property get Annotation iterations catch General Security Exception ex throw new Identity Management Exception Exception generating password hash ex else return generate Password Hash password new String salt deprecated Use Jpa Identity Store generate Password Hash String byte instead Deprecated protected String generate Password Hash String password String salt String algorithm user Password Property get Annotation hash if algorithm null equals algorithm if salt null equals salt return Password Hash instance generate Hash password else return Password Hash instance generate Salted Hash password salt else if none equals Ignore Case algorithm return password else if salt null equals salt return Password Hash instance generate Hash password algorithm else return Password Hash instance generate Salted Hash password salt algorithm public boolean authenticate String username String password Object user lookup User username if user null user Enabled Property is Set Boolean user Enabled Property get Value user false return false String password Hash null if password Salt Property is Set String encoded Salt String password Salt Property get Value user if encoded Salt null throw new Identity Management Exception Password Salt property was found on entity user but it contains no value password Hash generate Password Hash password Bin Tools hex bin encoded Salt else password Hash generate Password Hash password get User Account Salt user boolean success password Hash equals user Password Property get Value user if success Events exists if Contexts is Event Context Active Contexts get Event Context set user Events instance raise Event user return success Observer Identity public void set User Account For Session if Contexts is Event Context Active Contexts is Session Context Active Contexts get Session Context set Contexts get Event Context get public Object lookup User String username try Object user lookup Entity Manager create Query select u from user Class get Name u where user Principal Property get Name username set Parameter username username get Single Result return user catch No Result Exception ex return null public String get User Name Object user return String user Principal Property get Value user public String get Role Name Object role return String role Name Property get Value role public boolean is Role Conditional String role return role Conditional Property is Set Boolean role Conditional Property get Value lookup Role role false public Object lookup Role String role try Object value lookup Entity Manager create Query select r from role Class get Name r where role Name Property get Name role set Parameter role role get Single Result return value catch No Result Exception ex return null public List String list Users return lookup Entity Manager create Query select u user Principal Property get Name from user Class get Name u get Result List public List String list Users String filter return lookup Entity Manager create Query select u user Principal Property get Name from user Class get Name u where lower user Principal Property get Name like username set Parameter username filter null filter to Lower Case get Result List public List String list Roles return lookup Entity Manager create Query select r role Name Property get Name from role Class get Name r get Result List public List Principal list Members String role List Principal members new Array List Principal for String user list User Members role members add new Simple Principal user for String role Name list Role Members role members add new Role role Name return members private List String list User Members String role Object role Entity lookup Role role if xref Class null return lookup Entity Manager create Query select u user Principal Property get Name from user Class get Name u where role member of u user Roles Property get Name set Parameter role role Entity get Result List else List xrefs lookup Entity Manager create Query select x from xref Class get Name x where x xref Role Property get Name role set Parameter role role Entity get Result List List String members new Array List String for Object xref xrefs Object user xref User Property get Value xref members add user Principal Property get Value user to String return members private List String list Role Members String role if role Groups Property is Set Object role Entity lookup Role role return lookup Entity Manager create Query select r role Name Property get Name from role Class get Name r where role member of r role Groups Property get Name set Parameter role role Entity get Result List return new Array List String public List String list Grantable Roles String Builder role Query new String Builder role Query append select r role Query append role Name Property get Name role Query append from role Query append role Class get Name role Query append r if role Conditional Property is Set role Query append where r role Query append role Conditional Property get Name role Query append false return lookup Entity Manager create Query role Query to String get Result List protected void persist Entity Object entity lookup Entity Manager persist entity protected Object merge Entity Object entity return lookup Entity Manager merge entity protected void remove Entity Object entity lookup Entity Manager remove entity public Class get User Class return user Class public void set User Class Class user Class this user Class user Class public Class get Role Class return role Class public void set Role Class Class role Class this role Class role Class private Entity Manager lookup Entity Manager return entity Manager get Value public Value Expression get Entity Manager return entity Manager public void set Entity Manager Value Expression expression this entity Manager expression 
package org jboss seam security permission import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java security Principal import java util Array List import java util Hash Map import java util Hash Set import java util List import java util Map import java util Set import javax persistence Entity Manager import javax persistence Query import org jboss seam Component import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations security permission Permission Action import org jboss seam annotations security permission Permission Discriminator import org jboss seam annotations security permission Permission Role import org jboss seam annotations security permission Permission Target import org jboss seam annotations security permission Permission User import org jboss seam core Expressions import org jboss seam core Expressions Value Expression import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security Role import org jboss seam security Simple Principal import org jboss seam security management Identity Manager import org jboss seam security management Identity Store import org jboss seam security management Jpa Identity Store import org jboss seam security permission Permission Metadata Action Set import org jboss seam util Annotated Bean Property permission store implementation that uses as its persistence mechanism author Shane Bryzak Name org jboss seam security jpa Permission Store Install precedence value false Scope Bypass Interceptors public class Jpa Permission Store implements Permission Store Serializable private static final Log Provider log Logging get Log Provider Jpa Permission Store class private enum Discrimination user role either private Value Expression Entity Manager entity Manager private Class user Permission Class private Class role Permission Class private Annotated Bean Property Permission User user Property private Annotated Bean Property Permission Role role Property private Annotated Bean Property Permission Target target Property private Annotated Bean Property Permission Action action Property private Annotated Bean Property Permission Discriminator discriminator Property private Annotated Bean Property Permission Target role Target Property private Annotated Bean Property Permission Action role Action Property private Map Integer String query Cache new Hash Map Integer String private Identifier Policy identifier Policy private Permission Metadata metadata Create public void init metadata new Permission Metadata see if we can scan for this automatically if user Permission Class null log debug No permission Class set Jpa Permission Store will be unavailable return if entity Manager null entity Manager Expressions instance create Value Expression entity Manager Entity Manager class init Properties identifier Policy Identifier Policy Component get Instance Identifier Policy class true protected void init Properties user Property new Annotated Bean Property Permission User user Permission Class Permission User class target Property new Annotated Bean Property Permission Target user Permission Class Permission Target class action Property new Annotated Bean Property Permission Action user Permission Class Permission Action class if role Permission Class null role Property new Annotated Bean Property Permission Role role Permission Class Permission Role class if role Property is Set role Target Property new Annotated Bean Property Permission Target role Permission Class Permission Target class role Action Property new Annotated Bean Property Permission Action role Permission Class Permission Action class else role Property new Annotated Bean Property Permission Role user Permission Class Permission Role class if role Property is Set discriminator Property new Annotated Bean Property Permission Discriminator user Permission Class Permission Discriminator class if user Property is Set throw new Runtime Exception Invalid user Permission Class user Permission Class get Name required annotation Permission User not found on any Field or Method if role Permission Class null if role Property is Set throw new Runtime Exception Invalid role Permission Class role Permission Class get Name required annotation Permission Role not found on any Field or Method if role Target Property is Set throw new Runtime Exception Invalid role Permission Class role Permission Class get Name required annotation Permission Target not found on any Field or Method if role Action Property is Set throw new Runtime Exception Invalid role Permission Class role Permission Class get Name required annotation Permission Action not found on any Field or Method else if discriminator Property is Set throw new Runtime Exception Invalid user Permission Class user Permission Class get Name no role Permission Class set and Permission Discriminator annotation not found on any Field or Method Creates a Query that returns a list of permission records for the specified parameters param target The target of the permission may be null param targets set of permission targets may be null param recipient The permission recipient may be null param discrimination discrimination either user role or both required return Query The query generated for the provided parameters protected Query create Permission Query Object target Set targets Principal recipient Discrimination discrimination if target null targets null throw new Illegal Argument Exception Can not specify both target and targets int query Key target null query Key targets null query Key recipient null query Key discrimination equals Discrimination user query Key discrimination equals Discrimination role query Key discrimination equals Discrimination either boolean is Role discrimination equals Discrimination role boolean use Role Table is Role role Permission Class null if query Cache contains Key query Key boolean conditions Added false String Builder q new String Builder q append select p from q append use Role Table role Permission Class get Name user Permission Class get Name q append p if target null q append where p q append use Role Table role Target Property get Name target Property get Name q append target conditions Added true if targets null q append where p q append use Role Table role Target Property get Name target Property get Name q append in targets conditions Added true if recipient null q append conditions Added and p where p q append is Role role Property get Name user Property get Name q append recipient conditions Added true If there is no discrimination then do n t add such a condition to the query if discrimination equals Discrimination either discriminator Property null q append conditions Added and p where p q append discriminator Property get Name q append discriminator conditions Added true query Cache put query Key q to String Query query lookup Entity Manager create Query query Cache get query Key if target null query set Parameter target identifier Policy get Identifier target if targets null Set String identifiers new Hash Set String for Object t targets identifiers add identifier Policy get Identifier t query set Parameter targets identifiers if recipient null query set Parameter recipient resolve Principal Entity recipient if discrimination equals Discrimination either discriminator Property null query set Parameter discriminator get Discriminator Value discrimination equals Discrimination role return query public boolean grant Permission Permission permission return update Permission Actions permission get Target permission get Recipient new String permission get Action true public boolean revoke Permission Permission permission return update Permission Actions permission get Target permission get Recipient new String permission get Action false This is where the bulk of the actual work happens param target The target object to update permissions for param recipient The recipient to update permissions for param actions The actions that will be updated param set true if the specified actions are to be granted false if they are to be revoked return true if the operation is successful protected boolean update Permission Actions Object target Principal recipient String actions boolean set boolean recipient Is Role recipient instanceof Role try if recipient Is Role if role Permission Class null List permissions create Permission Query target null recipient Discrimination role get Result List if permissions is Empty if set return true Action Set action Set metadata create Action Set target get Class null for String action actions action Set add action Object instance role Permission Class new Instance role Target Property set Value instance identifier Policy get Identifier target role Action Property set Value instance action Set to String role Property set Value instance resolve Principal Entity recipient lookup Entity Manager persist instance return true Object instance permissions get Action Set action Set metadata create Action Set target get Class role Action Property get Value instance to String for String action actions if set action Set add action else action Set remove action if permissions size This is where it gets a little messy if there is more than one permission record then we need to consolidate them all into just the first one for Object p permissions action Set add Members role Action Property get Value p to String if p equals instance lookup Entity Manager remove p if action Set is Empty role Action Property set Value instance action Set to String lookup Entity Manager merge instance else No actions remaining in set so just remove the record lookup Entity Manager remove instance return true if discriminator Property is Set throw new Runtime Exception Could not grant permission role Permission Class not set if user Permission Class null throw new Runtime Exception Could not grant permission user Permission Class not set List permissions create Permission Query target null recipient recipient Is Role Discrimination role Discrimination user get Result List if permissions is Empty if set return true Action Set action Set metadata create Action Set target get Class null for String action actions action Set add action Object instance user Permission Class new Instance target Property set Value instance identifier Policy get Identifier target action Property set Value instance action Set to String if recipient Is Role role Property set Value instance resolve Principal Entity recipient else user Property set Value instance resolve Principal Entity recipient if discriminator Property is Set Permission Discriminator discriminator discriminator Property get Annotation discriminator Property set Value instance recipient Is Role discriminator role Value discriminator user Value lookup Entity Manager persist instance return true Object instance permissions get Action Set action Set metadata create Action Set target get Class action Property get Value instance to String for String action actions if set action Set add action else action Set remove action if permissions size Same as with roles consolidate the records if there is more than one for Object p permissions action Set add Members action Property get Value p to String if p equals instance lookup Entity Manager remove p if action Set is Empty action Property set Value instance action Set to String lookup Entity Manager merge instance else No actions remaining in set so just remove the record lookup Entity Manager remove instance return true catch Exception ex throw new Runtime Exception Could not grant permission ex public boolean grant Permissions List Permission permissions Target Recipient Action map Map Object Map Principal List Permission grouped Permissions group Permissions permissions for Object target grouped Permissions key Set Map Principal List Permission recipient Permissions grouped Permissions get target for Principal recipient recipient Permissions key Set List Permission ps recipient Permissions get recipient String actions new String ps size for int i i ps size i actions i ps get i get Action update Permission Actions target recipient actions true return true public boolean revoke Permissions List Permission permissions Target Recipient Action map Map Object Map Principal List Permission grouped Permissions group Permissions permissions for Object target grouped Permissions key Set Map Principal List Permission recipient Permissions grouped Permissions get target for Principal recipient recipient Permissions key Set List Permission ps recipient Permissions get recipient String actions new String ps size for int i i ps size i actions i ps get i get Action update Permission Actions target recipient actions false return true Groups a list of arbitrary permissions into a more easily consumed structure param permissions The list of permissions to group return private Map Object Map Principal List Permission group Permissions List Permission permissions Target Recipient Action map Map Object Map Principal List Permission grouped Permissions new Hash Map Object Map Principal List Permission for Permission permission permissions if grouped Permissions contains Key permission get Target grouped Permissions put permission get Target new Hash Map Principal List Permission Map Principal List Permission recipient Permissions grouped Permissions get permission get Target if recipient Permissions contains Key permission get Recipient List Permission perms new Array List Permission perms add permission recipient Permissions put permission get Recipient perms else recipient Permissions get permission get Recipient add permission return grouped Permissions private String get Discriminator Value boolean is Role Permission Discriminator discriminator discriminator Property get Annotation return is Role discriminator role Value discriminator user Value If the user or role properties in the entity class refer to other entities then this method uses the Jpa Identity Store if available to lookup that user or role entity Otherwise it simply returns the name of the recipient param recipient return The entity or name representing the permission recipient protected Object resolve Principal Entity Principal recipient boolean recipient Is Role recipient instanceof Role Jpa Identity Store identity Store Jpa Identity Store Component get Instance Jpa Identity Store class true if identity Store null if recipient Is Role role Property is Set role Property get Property Type equals identity Store get Role Class return identity Store lookup Role recipient get Name else if user Property get Property Type equals identity Store get User Class return identity Store lookup User recipient get Name return recipient get Name protected Principal resolve Principal Object principal boolean is User Identity Store ids Identity Manager instance get Role Identity Store Jpa Identity Store identity Store null if ids instanceof Jpa Identity Store identity Store Jpa Identity Store ids if principal instanceof String return is User new Simple Principal String principal new Role String principal identity Store null false identity Store is Role Conditional String principal if identity Store null if is User identity Store get User Class is Assignable From principal get Class return new Simple Principal identity Store get User Name principal if is User identity Store get Role Class is Assignable From principal get Class String name identity Store get Role Name principal return new Role name identity Store is Role Conditional name throw new Illegal Argument Exception Can not resolve principal name for principal principal Returns a list of all user and role permissions for the specified action for all specified target objects public List Permission list Permissions Set Object targets String action limit the number of targets passed at a single time to return list Permissions null targets action Returns a list of all user and role permissions for a specific permission target and action public List Permission list Permissions Object target String action return list Permissions target null action protected List Permission list Permissions Object target Set Object targets String action if target null targets null throw new Illegal Argument Exception Can not specify both target and targets List Permission permissions new Array List Permission if targets null targets is Empty return permissions First query for user permissions Query permission Query targets null create Permission Query null targets null Discrimination either create Permission Query target null null Discrimination either List user Permissions permission Query get Result List Map String Principal principal Cache new Hash Map String Principal boolean use Discriminator role Permission Class null discriminator Property is Set Map String Object identifier Cache null if targets null identifier Cache new Hash Map String Object for Object t targets identifier Cache put identifier Policy get Identifier t t for Object permission user Permissions Action Set action Set null if targets null target identifier Cache get target Property get Value permission if target null action Set metadata create Action Set target get Class action Property get Value permission to String else action Set metadata create Action Set target get Class action Property get Value permission to String if target null action null action Set null action Set contains action boolean is User true if use Discriminator discriminator Property get Annotation role Value equals discriminator Property get Value permission is User false Principal principal lookup Principal principal Cache permission is User if action null permissions add new Permission target action principal else for String a action Set members permissions add new Permission target a principal If we have a separate class for role permissions then query them now if role Permission Class null permission Query targets null create Permission Query null targets null Discrimination role create Permission Query target null null Discrimination role List role Permissions permission Query get Result List for Object permission role Permissions Action Set action Set null if targets null target identifier Cache get role Target Property get Value permission if target null action Set metadata create Action Set target get Class role Action Property get Value permission to String else action Set metadata create Action Set target get Class role Action Property get Value permission to String if target null action null action Set null action Set contains action Principal principal lookup Principal principal Cache permission false if action null permissions add new Permission target action principal else for String a action Set members permissions add new Permission target a principal return permissions private Principal lookup Principal Map String Principal cache Object permission boolean is User Principal principal resolve Principal is User user Property get Value permission role Property get Value permission is User String key is User u r principal get Name if cache contains Key key cache put key principal else principal cache get key return principal public List Permission list Permissions Object target return list Permissions target null public List String list Available Actions Object target return metadata list Allowable Actions target get Class private Entity Manager lookup Entity Manager return entity Manager get Value public Value Expression get Entity Manager return entity Manager public void set Entity Manager Value Expression expression this entity Manager expression public Class get User Permission Class return user Permission Class public void set User Permission Class Class user Permission Class this user Permission Class user Permission Class public Class get Role Permission Class return role Permission Class public void set Role Permission Class Class role Permission Class this role Permission Class role Permission Class public void clear Permissions Object target Entity Manager em lookup Entity Manager String identifier identifier Policy get Identifier target em create Query delete from user Permission Class get Name p where p target Property get Name target set Parameter target identifier execute Update if role Permission Class null em create Query delete from role Permission Class get Name p where p role Target Property get Name target set Parameter target identifier execute Update 
package org jboss seam security import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import javax persistence Entity Manager import javax persistence No Result Exception import javax persistence Query import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations security Token Username import org jboss seam annotations security Token Value import org jboss seam core Expressions import org jboss seam core Expressions Value Expression import org jboss seam security management Identity Management Exception import org jboss seam util Annotated Bean Property Token Store implementation stores tokens inside a database table author Shane Bryzak Name org jboss seam security token Store Install precedence value false Scope Bypass Interceptors public class Jpa Token Store implements Token Store Serializable private Class token Class private Value Expression Entity Manager entity Manager private Annotated Bean Property Token Username token Username Property private Annotated Bean Property Token Value token Value Property Create public void create if entity Manager null entity Manager Expressions instance create Value Expression entity Manager Entity Manager class token Username Property new Annotated Bean Property Token Username token Class Token Username class token Value Property new Annotated Bean Property Token Value token Class Token Value class if token Username Property is Set throw new Illegal State Exception Invalid token Class token Class get Name required annotation Token Username not found on any Field or Method if token Value Property is Set throw new Illegal State Exception Invalid token Class token Class get Name required annotation Token Value not found on any Field or Method public void create Token String username String value if token Class null throw new Illegal State Exception Could not create token token Class not set try Object token token Class new Instance token Username Property set Value token username token Value Property set Value token value lookup Entity Manager persist token catch Exception ex if ex instanceof Identity Management Exception throw Identity Management Exception ex else throw new Identity Management Exception Could not create account ex public boolean validate Token String username String value return lookup Token username value null public void invalidate Token String username String value Object token lookup Token username value if token null lookup Entity Manager remove token public void invalidate All String username Query query lookup Entity Manager create Query select t from token Class get Name t where token Username Property get Name username set Parameter username username for Object token query get Result List lookup Entity Manager remove token public Object lookup Token String username String value try Object token lookup Entity Manager create Query select t from token Class get Name t where token Username Property get Name username and token Value Property get Name value set Parameter username username set Parameter value value get Single Result return token catch No Result Exception ex return null public Class get Token Class return token Class public void set Token Class Class token Class this token Class token Class private Entity Manager lookup Entity Manager return entity Manager get Value public Value Expression get Entity Manager return entity Manager public void set Entity Manager Value Expression expression this entity Manager expression 
package org jboss seam util import java lang reflect Method public class public static final Class public static final Class public static final Class public static final Class public static final Class public static final Method public static final Method public static final Method public static final Object public static final Object public static final Object public static final Object static class Dummy static class For Name javax faces event Phase Id class For Name javax faces event Faces Event class For Name javax faces model Data Model class For Name javax faces validator Validator Exception class For Name javax faces convert Converter Exception method For Name get Wrapped Data method For Name set Wrapped Data Object class method For Name get Row Count constant Value For Name constant Value For Name constant Value For Name constant Value For Name private static Class class For Name String name try return Reflections class For Name name catch Class Not Found Exception cnfe return Dummy class private static Method method For Name Class clazz String name Class param Types if clazz equals Dummy class return null try return clazz get Declared Method name param Types catch Exception e throw new Runtime Exception e private static Object constant Value For Name Class clazz String name if clazz equals Dummy class return null try return clazz get Field name get null catch Exception e throw new Runtime Exception e public static int get Row Count Object data Model return Integer Reflections invoke And Wrap data Model public static Object get Wrapped Data Object data Model return Reflections invoke And Wrap data Model public static Object set Wrapped Data Object data Model Object data return Reflections invoke And Wrap data Model data 
package org jboss seam example guice author Pawel Wrzeszcz pwrzeszcz at jboss org public interface Juice public String get Name public int get Price 
package org jboss seam example guice import org jboss seam annotations Name import org jboss seam ioc guice Guice import com google inject Inject author Pawel Wrzeszcz pwrzeszcz at jboss org Name juice Bar Guice Activates Inject on a Seam component public class Juice Bar Inject protected Juice juice Of The Day Guice looks at the variable type not name Inject Orange protected Juice another Juice public Juice get Juice Of The Day return juice Of The Day public Juice get Another Juice return another Juice 
package org jboss seam example guice import com google inject Module import com google inject Binder import com google inject Scopes author Pawel Wrzeszcz pwrzeszcz at jboss org public class Juice Bar Module implements Module public void configure Binder binder binder bind Juice class to Apple Juice class Create a new instance every time binder bind Juice class annotated With Orange class to Orange Juice class in Scopes 
package org jboss seam excel jxl import java awt image Buffered Image import java io Byte Array Output Stream import java io Exception import java io Input Stream import java net Malformed Exception import java net import java net import java util List import javax faces component Component import javax imageio Image import jxl Cell View import jxl Workbook import jxl Workbook Settings import jxl write Writable Cell import jxl write Writable Hyperlink import jxl write Writable Image import jxl write Writable Sheet import jxl write Writable Workbook import jxl write Write Exception import org jboss seam core Interpolator import org jboss seam document Document Data import org jboss seam document Document Data Document Type import org jboss seam excel Excel Workbook import org jboss seam excel Excel Workbook Exception import org jboss seam excel Worksheet Item import org jboss seam excel ui Cell import org jboss seam excel ui Column import org jboss seam excel ui Hyperlink import org jboss seam excel ui Image import org jboss seam excel ui Link import org jboss seam excel ui Workbook import org jboss seam excel ui Worksheet import org jboss seam excel ui command Command import org jboss seam excel ui command Group Columns import org jboss seam excel ui command Group Rows import org jboss seam excel ui command Merge Cells import org jboss seam excel ui command Row Page Break import org jboss seam log Log import org jboss seam log Logging Class that encapsulates the Excel Api Workbook and Worksheet concepts and internal state author Nicklas Karlsson nickarls gmail com author Daniel Roth danielc roth gmail com public class Excel Workbook implements Excel Workbook private static final int private static final int private Log log Logging get Log get Class The maximum number of columns allowed by the Excel specification private static final int The maximum number of columns allowed by the Excel specification This will be worked around in future versions of this class by automatically creating new sheets private static final int The default worksheet naming base private static final String Sheet The temporary array of data which represents the binary worksheet This will be passed on to the Document Store private Byte Array Output Stream byte Stream new Byte Array Output Stream The Excel abstraction of a workbook There will only be one per instance of this class private Writable Workbook workbook The Excel abstraction of a worksheet This also represents the current worksheet begin worked on private Writable Sheet worksheet The row index to start from Used for placing a data block at another location than the default top left private int start Row Index The current index of the row being worked on the row where the next cell will be added private int current Row Index The column index to start from Used for placing a data block at another location than the default top left private int start Column Index The current index of the column being worked on the column where the next cell will be added private int current Column Index The current index of the worksheet being worked on It s not that important right now we are moving forward linearly but later when be support worksheets with more that k rows we have to keep track on where we are because starting with the next column could mean jumping back several worksheets For this we will also require some sort of low and high indexes for the current worksheet when we add support for multiple user defined worksheets in the workbook private int current Worksheet Index The maximum row index we have seen Used for determining where to place the worksheet footer if any private int max Row Index private Helper jxl Helper new Helper Moves the row pointer to the next row Used internally when adding data private void next Row if log is Trace Enabled log trace Moving from row to current Row Index current Row Index current Row Index if current Row Index throw new Excel Workbook Exception Interpolator instance interpolate Excel only supports rows Moves the internal column pointer to the next column called by the tag to indicate that a new column has been started If the pointer exceeds the maximum allowed throws an exception Resets the styles and row indexes etc public void next Column if log is Trace Enabled log trace Moving from column to current Column Index current Column Index current Column Index if current Column Index throw new Excel Workbook Exception Interpolator instance interpolate Excel does n t support more than columns if current Row Index max Row Index max Row Index current Row Index current Row Index start Row Index Checks if the workbook contains a sheet param name The name to look for return true if found false otherwise private boolean workbook Contains Sheet String name if log is Trace Enabled log trace Checking if workbook contains sheet named name if workbook null throw new Excel Workbook Exception Ca n t search for sheets before creating a workbook boolean found false for String sheet Name workbook get Sheet Names if sheet Name equals Ignore Case name return true if log is Trace Enabled log trace Result found return found Creates a new worksheet or selects one if it exists in the workbook Will require a rework for auto renaming when support for auto adding of new worksheets if there are more than k rows Resets the internal state row and column indexes current styles etc param ui Worksheet The worksheet to create or select in the workbook public void create Or Select Worksheet Worksheet ui Worksheet if workbook null throw new Excel Workbook Exception You can not create a worksheet before creating a workbook if log is Debug Enabled log debug Creating worksheet named starting at column and row ui Worksheet get Name ui Worksheet get Start Column ui Worksheet get Start Row if workbook Contains Sheet ui Worksheet get Name if log is Trace Enabled log trace Sheet found selecting worksheet workbook get Sheet ui Worksheet get Name else if log is Trace Enabled log trace Sheet not found creating String name ui Worksheet get Name null ui Worksheet get Name Interpolator instance interpolate current Worksheet Index worksheet workbook create Sheet name current Worksheet Index jxl Helper apply Worksheet Settings worksheet ui Worksheet current Worksheet Index start Column Index ui Worksheet get Start Column null ui Worksheet get Start Column current Column Index start Column Index start Row Index ui Worksheet get Start Row null ui Worksheet get Start Row current Row Index start Row Index max Row Index current Row Index Creates and adds a data cell to the worksheet using the data cell format If the cell format is null initializes the cell format Finally moves the internal pointer to the next row param ui Cell The cell to be created and added to the workbook param the type header or data of the cell private void add Cell Cell ui Cell if log is Trace Enabled log trace Adding a cell with data at column and row ui Cell get Value current Column Index current Row Index if worksheet null throw new Excel Workbook Exception Ca n t add cells before creating worksheet Determine where to really place the cell int use Row ui Cell get Row null ui Cell get Row current Row Index int use Column ui Cell get Column null ui Cell get Column current Column Index Cell Info cell Info jxl Helper get Cell Info ui Cell Writable Cell cell Helper create Cell use Column use Row cell Info get Cell Type ui Cell get Value cell Info get Cell Format if cell Info get Cell Features null cell set Cell Features cell Info get Cell Features try worksheet add Cell cell catch Write Exception e throw new Excel Workbook Exception Could not add cell e Only increase row if cell had no explicit placing if ui Cell get Column null ui Cell get Row null next Row Returns the binary data from the internal representation of the workbook return the data throws Excel Workbook Exception If there is a problem producing the binary data public byte get Bytes if log is Trace Enabled log trace Returning bytes from workbook if workbook null throw new Excel Workbook Exception You ca n t get workbook data before creating a workbook You will get an Index Out Of Bound Exception if trying to write a workbook without sheets creating a dummy Could also throw an exception if workbook get Sheets length if log is Trace Enabled log trace Creating dummy sheet workbook create Sheet dummy try workbook write workbook close catch Write Exception e throw new Excel Workbook Exception There was an exception writing the workbook e catch Exception e throw new Excel Workbook Exception There was an exception closing the workbook e return byte Stream to Byte Array Intitializes a new workbook Must be called first Not that pretty but the has different constructors for all permutations of workbook settings and template usage param ui Workbook In Workbook to create throws Excel Workbook Exception if there were any errors creating the workbook public void create Workbook Workbook ui Workbook String url String ui Workbook get Template Input Stream template Stream null if url String null try if url String index Of template Stream get Class get Resource As Stream url String else template Stream new url String open Stream catch Exception e throw new Excel Workbook Exception Could not handle template e Workbook Settings workbook Settings null if ui Workbook has Settings workbook Settings jxl Helper create Workbook Settings ui Workbook if log is Debug Enabled log debug Creating workbook with creation type ui Workbook get Creation Type The joys of multiple constructors and no setters try switch ui Workbook get Creation Type case workbook Workbook create Workbook byte Stream Workbook get Workbook template Stream workbook Settings break case workbook Workbook create Workbook byte Stream workbook Settings break case workbook Workbook create Workbook byte Stream Workbook get Workbook template Stream break case workbook Workbook create Workbook byte Stream break catch Exception e throw new Excel Workbook Exception Could not create workbook e if ui Workbook get Workbook Protected null workbook set Protected ui Workbook get Workbook Protected current Worksheet Index workbook get Number Of Sheets Gets the document type of the data for the Document Store return the document type Excel workbook public Document Type get Document Type return new Document Data Document Type xls application vnd ms excel Applies column settings for the current column param ui Column the column to inspect for settings public void apply Column Settings Column ui Column if worksheet null throw new Excel Workbook Exception You ca n t set column settings before creating a worksheet jxl Helper apply Column Settings ui Column worksheet current Column Index Adds an image to the worksheet First converts it to since it s what the library wants If starting rows or columns are given uses them otherwise uses the current indexes If column and rowspannings are given uses them otherwise tries to determine them from the image dimensions and default cell dimensions param ui Image The image to add private void add Image Image ui Image if worksheet null throw new Excel Workbook Exception Ca n t add an image before creating a worksheet Buffered Image image null Byte Array Output Stream png Stream null try image Image read new ui Image get to png Stream new Byte Array Output Stream Image write image png Stream catch Exception e throw new Excel Workbook Exception Could not load or process image e int use Start Column ui Image get Start Column null current Column Index ui Image get Start Row int use Start Row ui Image get Start Row null current Row Index ui Image get Start Row double estimated Row Span double image get Height double double estimated Col Span double image get Width double double use Column Span ui Image get Column Span null estimated Row Span ui Image get Column Span double use Row Span ui Image get Row Span null estimated Col Span ui Image get Row Span worksheet add Image new Writable Image use Start Column use Start Row use Column Span use Row Span png Stream to Byte Array Creates a hyperlink to an in the worksheet param column The target column of the link if null defaults to current column param row The target row of the link if null defaults to current row param url The target private void add Hyperlink Hyperlink ui Hyperlink if worksheet null throw new Excel Workbook Exception Ca n t add a hyperlink before creating a worksheet int use Start Column ui Hyperlink get Start Column null current Column Index ui Hyperlink get Start Column int use Start Row ui Hyperlink get Start Row null current Row Index ui Hyperlink get Start Row int use End Column ui Hyperlink get End Column null use Start Column ui Hyperlink get End Column int use End Row ui Hyperlink get End Row null use Start Row ui Hyperlink get End Row String use Description ui Hyperlink get Description null ui Hyperlink get ui Hyperlink get Description use null try use new ui Hyperlink get catch Malformed Exception e throw new Excel Workbook Exception Bad url e try worksheet add Hyperlink new Writable Hyperlink use Start Column use Start Row use End Column use End Row use use Description catch Exception e throw new Excel Workbook Exception Could not add hyperlink e Adds an item cell image hyperlink to add to the worksheet param item The item to add public void add Item Worksheet Item item if Component item is Rendered return if item get Value null equals item get Value if item get Column null item get Row null next Row return switch item get Item Type case cell add Cell Cell item break case hyperlink add Hyperlink Hyperlink item break case image add Image Image item break default throw new Excel Workbook Exception Interpolator instance interpolate Unknown item type item get Item Type Executes a command for a worksheet param command The command to execute public void execute Command Command command switch command get Command Type case merge cells merge Cells Merge Cells command break case group columns group Columns Group Columns command break case group rows group Rows Group Rows command break case add row pagebreak add Row Page Break Row Page Break command break default throw new Excel Workbook Exception Interpolator instance interpolate Unknown command command get Command Type Adds a row page break to the worksheet param command the page break command to interpret private void add Row Page Break Row Page Break command if log is Trace Enabled log trace Adding row page break command if worksheet null throw new Excel Workbook Exception Ca n t add row page breaks before creating a worksheet int use Row command get Row null command get Row current Row Index worksheet add Row Page Break use Row Groups worksheet rows param command The group command to interpret private void group Rows Group Rows command if log is Trace Enabled log trace Grouping rows command if worksheet null throw new Excel Workbook Exception Ca n t group rows before creating a worksheet if command get Start Row null command get End Row null throw new Excel Workbook Exception Must define starting and ending rows when grouping rows boolean collapse command get Collapse null false command get Collapse try worksheet set Row Group command get Start Row command get End Row collapse catch Exception e throw new Excel Workbook Exception Could not group columns e Groups columns in the worksheet param command The group command to interpret private void group Columns Group Columns command if log is Trace Enabled log trace Grouping columns command if worksheet null throw new Excel Workbook Exception Ca n t group columns before creating a worksheet if command get Start Column null command get End Column null throw new Excel Workbook Exception Must define starting and ending columns when grouping columns Excel bug workaround for int i command get Start Column i command get End Column i worksheet set Column View i new Cell View boolean collapse command get Collapse null false command get Collapse try worksheet set Column Group command get Start Column command get End Column collapse catch Exception e throw new Excel Workbook Exception Could not group columns e Merge cells in the worksheet param command The merge command to interpret private void merge Cells Merge Cells command if log is Trace Enabled log trace Merging cells command if worksheet null throw new Excel Workbook Exception Ca n t merge cells before creating a worksheet if command get Start Column null command get Start Row null command get End Column null command get End Row null throw new Excel Workbook Exception All start end columns rows must be set when merging cells try worksheet merge Cells command get Start Column command get Start Row command get End Column command get End Row catch Exception e throw new Excel Workbook Exception Could n t merge cells e Places an item in the worksheet footer param item The item to add param colspan The number of columns to span public void add Worksheet Footer Worksheet Item item int colspan current Column Index start Column Index current Row Index max Row Index Merge Cells merge Command new Merge Cells merge Command set Start Column current Column Index merge Command set Start Row current Row Index merge Command set End Column current Column Index colspan merge Command set End Row current Row Index execute Command merge Command add Item item Places an item in the worksheet header param item The item to add param colspan The number of columns to span public void add Worksheet Header Worksheet Item item int colspan Merge Cells merge Command new Merge Cells merge Command set Start Column current Column Index merge Command set Start Row current Row Index merge Command set End Column current Column Index colspan merge Command set End Row current Row Index execute Command merge Command add Item item start Row Index Sets stylesheets for the workbook param stylesheets The stylesheet to register public void set Stylesheets List Link stylesheets try jxl Helper set Stylesheets stylesheets catch Exception e throw new Excel Workbook Exception Could not parse stylesheet e 
package org jboss seam excel jxl import java io Exception import java lang reflect Field import java lang reflect Modifier import java util Array List import java util List import javax faces component Component import javax faces context Faces Context import jxl Header Footer import jxl Header Footer Contents import jxl biff Display Format import jxl biff Font Record import jxl format Alignment import jxl format Border import jxl format Border Line Style import jxl format Colour import jxl format Orientation import jxl format Page Orientation import jxl format Paper Size import jxl format Pattern import jxl format Script Style import jxl format Underline Style import jxl format Vertical Alignment import jxl write Writable Font import jxl write Write Exception import org jboss seam core Interpolator import org jboss seam excel Excel Workbook Exception import org jboss seam excel css Cell Style import org jboss seam excel ui Excel Component import org jboss seam log Log import org jboss seam log Logging Factory for creating Excel objects author karlsnic public class Factory Class names for Excel objects private static final String jxl write Date Formats private static final String jxl write Number Formats private static final String jxl format Alignment private static final String jxl format Orientation private static final String jxl format Vertical Alignment private static final String jxl format Colour private static final String jxl format Border private static final String jxl format Border Line Style private static final String jxl format Pattern private static final String jxl format Page Orientation private static final String jxl format Paper Size private static final String jxl format Script Style private static final String jxl format Underline Style private static final String private static final String private static final String font size private static final String font name private static final String underline private static final String superscript private static final String subscript private static final String strikethrough private static final String shadow private static final String outline private static final String italics private static final String double underline private static final String bold private static final String worksheet name private static final String workbook name private static final String total pages private static final String time private static final String page number private static final Log log Logging get Log Factory class Checks if text is a border line style param text The text to check return True if border line style false otherwise public static boolean is Border Line Style String text return get Valid Contants contains text to Lower Case Checks if text is a pattern param text The text to check return True if pattern false otherwise public static boolean is Pattern String text return get Valid Contants contains text to Lower Case Checks if text is a color param text The text to check return True if color false otherwise public static boolean is Color String text return get Valid Contants contains text to Lower Case Checks if text is an alignment param text The text to check return True if alignment false otherwise public static boolean is Alignment String text return get Valid Contants contains text to Lower Case Checks if text is an orientation param text The text to check return True if orientation false otherwise public static boolean is Orientation String text return get Valid Contants contains text to Lower Case Checks if text is an vertical alignment param text The text to check return True if vertical alignment false otherwise public static boolean is Vertical Alignment String text return get Valid Contants contains text to Lower Case Checks if text is an underline style param text The text to check return True if underline style false otherwise public static boolean is Underline Style String text return get Valid Contants contains text to Lower Case Checks if text is a script style param text The text to check return True if script style false otherwise public static boolean is Script Style String text return get Valid Contants contains text to Lower Case Gets a list of constants from a class param class Name The class to examine return list of constants private static List String get Valid Contants String class Name List String constants new Array List String if log is Trace Enabled log trace Getting valid constants from class Name Class clazz null try clazz Class for Name class Name catch Class Not Found Exception e throw new Excel Workbook Exception Could not find class while getting valid constants e Loop through the fields for Field field clazz get Fields int modifiers field get Modifiers Append to list if it s public and static as most our constants are if Modifier is Public modifiers Modifier is Static modifiers constants add field get Name to Lower Case return constants Gets a suggestion string of available constants from a class param class Name The class to examine return The suggestion string public static String get Valid Constants Suggestion String class Name List String constants get Valid Contants class Name String Buffer buffer new String Buffer int i Loop through the fields for String field constants buffer append i field field return Interpolator instance interpolate buffer to String Gets a constant from a class param class Name The class name to examine param field Name The field to read return The constant throws No Such Field Exception If the field is not available private static Object get Constant String class Name String field Name throws No Such Field Exception if log is Trace Enabled log trace Looking for constant in class field Name to Upper Case class Name try return Class for Name class Name get Field field Name to Upper Case get null catch No Such Field Exception e throw e catch Exception e throw new Excel Workbook Exception Interpolator instance interpolate Could not read field from class field Name class Name e Creates a Excel representation of an alignment param alignment The requested alignment return The alignment representation see a href http jexcelapi sourceforge net resources javadocs docs jxl format Alignment html Alignment a public static Alignment create Alignment String alignment if log is Trace Enabled log trace Creating alignment for alignment try return alignment null Alignment Alignment get Constant alignment to Upper Case catch No Such Field Exception e String message Interpolator instance interpolate Alignment not supported try alignment get Valid Constants Suggestion throw new Excel Workbook Exception message e Creates a Excel representation of an script style param mask The requested script style return The script style representation see a href http jexcelapi sourceforge net resources javadocs docs jxl format Script Style html Script Style a private static Script Style create Script Style String script Style if log is Trace Enabled log trace Creating script style for script Style try return script Style null Script Style Script Style get Constant script Style to Upper Case catch No Such Field Exception e String message Interpolator instance interpolate Script style not supported try script Style get Valid Constants Suggestion throw new Excel Workbook Exception message e Creates a Excel representation of an underline style param mask The requested underline style return The underline style representation see a href http jexcelapi sourceforge net resources javadocs docs jxl format Underline Style html Underline Style a private static Underline Style create Underline Style String underline Style if log is Trace Enabled log trace Creating underline style for underline Style try return underline Style null Underline Style Underline Style get Constant underline Style to Upper Case catch No Such Field Exception e String message Interpolator instance interpolate Underline style not supported try underline Style get Valid Constants Suggestion throw new Excel Workbook Exception message e Creates a Excel representation of a font param fontspecs The font specifications return The font see a href http jexcelapi sourceforge net resources javadocs docs jxl write Writable Font html Writable Font a public static Font Record create Font Cell Style Font fontspecs throws Write Exception Writable Font font null if fontspecs family null font new Writable Font Writable Font create Font fontspecs family else font new Writable Font Writable Font if fontspecs point Size null font set Point Size fontspecs point Size if fontspecs color null font set Colour create Color fontspecs color if fontspecs bold null font set Bold Style fontspecs bold Writable Font Writable Font if fontspecs italic null font set Italic fontspecs italic if fontspecs struck Out null font set Struckout fontspecs struck Out if fontspecs script Style null font set Script Style create Script Style fontspecs script Style if fontspecs underline Style null font set Underline Style create Underline Style fontspecs underline Style return font Creates a Excel number display format param format Mask The format mask return The display format see a href http jexcelapi sourceforge net resources javadocs docs jxl write Number Format html Number Format a public static Display Format create Number Format String format Mask if log is Trace Enabled log trace Creating number format for mask format Mask try return Display Format get Constant format Mask catch No Such Field Exception e Look An empty catch block But this one is documented We are using this to see if there is a constant defines for this in the class return null Creates a Excel date display format param mask The format mask return The display format see a href http jexcelapi sourceforge net resources javadocs docs jxl write Date Format html Date Format a public static Display Format create Date Format String mask if log is Trace Enabled log trace Creating date format for mask mask try return Display Format get Constant mask to Upper Case catch No Such Field Exception e Look An empty catch block But this one is documented We are using this to see if there is a constant defines for this in the class return null Creates a Excel representation of an color param color The requested color return The color representation see a href http jexcelapi sourceforge net resources javadocs docs jxl format Color html Color a public static Colour create Color String color if log is Trace Enabled log trace Creating color for color Workaround for the feature that black is well not always black in Excel ref Andy Khan on yahoo groups if color equals Ignore Case black color palette black try return color null Colour Colour get Constant color to Upper Case catch No Such Field Exception e String message Interpolator instance interpolate Color not supported try color get Valid Constants Suggestion throw new Excel Workbook Exception message e Creates a Excel representation of an orientation param orientation The requested orientation return The orientation representation see a href http jexcelapi sourceforge net resources javadocs docs jxl format Orientation html Orientation a public static Orientation create Orientation String orientation if log is Trace Enabled log trace Creating orientation for orientation try return orientation null Orientation Orientation get Constant orientation to Upper Case catch No Such Field Exception e String message Interpolator instance interpolate Orientation not supported try orientation get Valid Constants Suggestion throw new Excel Workbook Exception message e Creates a Excel representation of a vertical alignment param vertical Alignment The requested alignment return The alignment representation see a href http jexcelapi sourceforge net resources javadocs docs jxl format Vertical Alignment html Vertical Alignment a public static Vertical Alignment create Vertical Alignment String vertical Alignment if log is Trace Enabled log trace Creating verical alignment for vertical Alignment try return vertical Alignment null Vertical Alignment Vertical Alignment get Constant vertical Alignment to Upper Case catch No Such Field Exception e String message Interpolator instance interpolate Verical alignment not supported try vertical Alignment get Valid Constants Suggestion throw new Excel Workbook Exception message e Creates a Excel representation of a border param border The requested border return border representation see a href http jexcelapi sourceforge net resources javadocs docs jxl format Border html Border a public static Border create Border String border if log is Trace Enabled log trace Creating border for border try return border null Border Border get Constant border to Upper Case catch No Such Field Exception e String message Interpolator instance interpolate Border not supported try border get Valid Constants Suggestion throw new Excel Workbook Exception message e Creates a Excel representation of a border line style param border Line Style The requested border line style return The border line style representation see a href http jexcelapi sourceforge net resources javadocs docs jxl format Border Line Style html Border Line Style a public static Border Line Style create Line Style String border Line Style if log is Trace Enabled log trace Creating border line style for border Line Style try return border Line Style null Border Line Style Border Line Style get Constant border Line Style to Upper Case catch No Such Field Exception e String message Interpolator instance interpolate Border line style not supported try border Line Style get Valid Constants Suggestion throw new Excel Workbook Exception message e Creates a Excel representation of a pattern param pattern The requested pattern return The pattern representation see a href http jexcelapi sourceforge net resources javadocs docs jxl format Pattern html Pattern a public static Pattern create Pattern String pattern if log is Trace Enabled log trace Creating pattern for pattern try return pattern null Pattern Pattern get Constant pattern to Upper Case catch No Such Field Exception e String message Interpolator instance interpolate Pattern not supported try pattern get Valid Constants Suggestion throw new Excel Workbook Exception message e Creates a Excel representation of a page orientation param orientation The type of orientation to create return The page orientation representation public static Page Orientation create Page Orientation String orientation if log is Trace Enabled log trace Creating page orientation for orientation try return orientation null Page Orientation Page Orientation get Constant orientation to Upper Case catch No Such Field Exception e String message Interpolator instance interpolate Page orientation not supported try orientation get Valid Constants Suggestion throw new Excel Workbook Exception message e Creates a Excel representation of a paper size param paper Size The type of paper size to create return The paper size representation public static Paper Size create Paper Size String paper Size if log is Trace Enabled log trace Creating paper size for paper Size try return paper Size null Paper Size Paper Size get Constant paper Size to Upper Case catch No Such Field Exception e String message Interpolator instance interpolate Page size not supported try paper Size get Valid Constants Suggestion throw new Excel Workbook Exception message e Creates a Excel header or footer representation Processes the left center and right facets using a helper method param ui Header Footer The header or footer to interpret param header Footer The Excel header or footer representation to add to return The Excel header or footer representation public static Header Footer create Header Footer Component ui Header Footer Header Footer header Footer if log is Trace Enabled log trace Processing header footer ui Header Footer process Header Footer Facet header Footer get Left ui Header Footer get Facet left process Header Footer Facet header Footer get Centre ui Header Footer get Facet center process Header Footer Facet header Footer get Right ui Header Footer get Facet right return header Footer Processes a header or footer facet header or footer facet in Excel is split into three parts left center and right and the representation has facets with the same namings Gets the requested facet from the component and calls helper methods for processing the header commands in sequence param header Footer The Excel header or footer facet to process param facet Name The name of the facet to process left center right param ui Header Footer The representation to interpret private static void process Header Footer Facet Header Footer Contents contents Component facet if log is Trace Enabled log trace Processing facet of header footer facet contents No facet found if facet null return String facet Content null try facet Content Excel Component cmp String Faces Context get Current Instance facet catch Exception e throw new Excel Workbook Exception Could not get content from header facet e if facet Content null return facet Content facet Content trim int first Hash int second Hash String command String pre while equals facet Content first Hash second Hash first Hash facet Content index Of if first Hash second Hash facet Content index Of first Hash if first Hash second Hash first Hash second Hash pre facet Content substring first Hash if equals pre contents append pre command facet Content substring first Hash second Hash process Command contents command facet Content facet Content substring second Hash else contents append facet Content facet Content Processes a header or footer command adding itself to the contents param contents The target contents param command The command to execute private static void process Command Contents contents String command command command to Lower Case if command starts With date contents append Date else if command starts With contents append Page Number else if command starts With contents append Time else if command starts With contents append Total Pages else if command starts With contents append Workbook Name else if command starts With contents append Work Sheet Name else if command starts With contents toggle Bold else if command starts With contents toggle Double Underline else if command starts With contents toggle Italics else if command starts With contents toggle Outline else if command starts With contents toggle Shadow else if command starts With contents toggle Strikethrough else if command starts With contents toggle Sub Script else if command starts With contents toggle Super Script else if command starts With contents toggle Underline else if command starts With String parts command split if parts length log warn Header Footer font name error in command contents set Font Name parts trim else if command starts With String parts command split if parts length log warn Header Footer font size error in command contents set Font Size Integer parse Int parts trim 
package org jboss seam excel jxl import java io File import java io Exception import java net Malformed Exception import java util Array List import java util Date import java util List import java util Locale import javax faces component Component import jxl Cell View import jxl Sheet Settings import jxl Workbook Settings import jxl biff Display Format import jxl write Date Format import jxl write Date Formats import jxl write Date Time import jxl write Formula import jxl write Label import jxl write Number Format import jxl write Number Formats import jxl write Writable Cell import jxl write Writable Cell Features import jxl write Writable Cell Format import jxl write Writable Sheet import jxl write Write Exception import org jboss seam core Interpolator import org jboss seam core Resource Bundle import org jboss seam excel Excel Workbook Exception import org jboss seam excel css Cell Style import org jboss seam excel css Column Style import org jboss seam excel css Parser import org jboss seam excel ui Excel Component import org jboss seam excel ui Cell import org jboss seam excel ui Cell Base import org jboss seam excel ui Column import org jboss seam excel ui Footer import org jboss seam excel ui Header import org jboss seam excel ui Link import org jboss seam excel ui Print Area import org jboss seam excel ui Print Titles import org jboss seam excel ui Workbook import org jboss seam excel ui Worksheet import org jboss seam excel ui Cell Cell Type import org jboss seam excel ui validation List Validation import org jboss seam excel ui validation List Validation Item import org jboss seam excel ui validation Numeric Validation import org jboss seam excel ui validation Range Validation import org jboss seam excel ui validation Validation import org jboss seam excel ui validation Numeric Validation Validation Condition import org jboss seam log Log import org jboss seam log Logging helper class for the Excel Workbook caches cell info and holds parser author Nicklas Karlsson nickarls gmail com public class Helper private static Log log Logging get Log Helper class The parser private Parser parser new Parser cache of cell info private Cell Info Cache cell Info Cache new Cell Info Cache Tries to get a general display format number first then date param format Mask The format mask to attempt return The format mask or null if not possible private Display Format get Generic Display Format String format Mask if format Mask null return null Display Format display Format Factory create Number Format format Mask if display Format null return display Format display Format Factory create Date Format format Mask if display Format null return display Format try display Format new Number Format format Mask catch Illegal Argument Exception e no op it was worth a try if display Format null return display Format try display Format new Date Format format Mask catch Illegal Argument Exception e no op it was worth a try return display Format Creates a cell format param ui Cell The cell to model return The cell format throws Write Exception if the creation failed public Writable Cell Format create Cell Format Cell ui Cell Cell Type cell Type throws Write Exception Writable Cell Format cell Format null Cell Style cell Style new Cell Style parser get Cascaded Style Map ui Cell Cell Type cell Type cell Style force Type null Cell Type value Of cell Style force Type ui Cell get Data Type switch cell Type case text Creates a basic text format cell Format new Writable Cell Format Number Formats break case number If there is no mask creates a default number format cell If there is a mask tries to match it against a constant name If the constant ca n t be created creates a custom number format from the mask if cell Style format Mask null cell Format new Writable Cell Format Number Formats else Display Format display Format Factory create Number Format cell Style format Mask if display Format null cell Format new Writable Cell Format display Format else try cell Format new Writable Cell Format new Number Format cell Style format Mask catch Illegal Argument Exception e throw new Excel Workbook Exception Interpolator instance interpolate Could not create number format for mask cell Style format Mask e break case date If there is no mask creates a default date format cell If there is a mask tries to match it against a constant name If the constant ca n t be created creates a custom date format from the mask if cell Style format Mask null cell Format new Writable Cell Format Date Formats else Display Format display Format Factory create Date Format cell Style format Mask if display Format null cell Format new Writable Cell Format display Format else try cell Format new Writable Cell Format new Date Format cell Style format Mask catch Illegal Argument Exception e throw new Excel Workbook Exception Interpolator instance interpolate Could not create date format for mask cell Style format Mask e break case formula Display Format display Format get Generic Display Format cell Style format Mask cell Format display Format null new Writable Cell Format display Format new Writable Cell Format break case bool cell Format new Writable Cell Format break default cell Format new Writable Cell Format break if cell Style alignment null cell Format set Alignment Factory create Alignment cell Style alignment if cell Style indentation null cell Format set Indentation cell Style indentation if cell Style locked null cell Format set Locked cell Style locked if cell Style orientation null cell Format set Orientation Factory create Orientation cell Style orientation if cell Style shrink To Fit null cell Format set Shrink To Fit cell Style shrink To Fit if cell Style vertical Alignment null cell Format set Vertical Alignment Factory create Vertical Alignment cell Style vertical Alignment if cell Style wrap null cell Format set Wrap cell Style wrap if cell Style font is Used cell Format set Font Factory create Font cell Style font if cell Style left Border is Used cell Format set Border Factory create Border left Factory create Line Style cell Style left Border line Style Factory create Color cell Style left Border color if cell Style top Border is Used cell Format set Border Factory create Border top Factory create Line Style cell Style top Border line Style Factory create Color cell Style top Border color if cell Style right Border is Used cell Format set Border Factory create Border right Factory create Line Style cell Style right Border line Style Factory create Color cell Style right Border color if cell Style bottom Border is Used cell Format set Border Factory create Border bottom Factory create Line Style cell Style bottom Border line Style Factory create Color cell Style bottom Border color if cell Style background is Used cell Format set Background Factory create Color cell Style background color Factory create Pattern cell Style background pattern return cell Format Sets the stylesheets for the parser param stylesheets The stylesheets to set throws Malformed Exception If the was bad throws Exception If the could not be read public void set Stylesheets List Link stylesheets throws Malformed Exception Exception parser set Stylesheets stylesheets Applied worksheet settings param worksheet The worksheet to apply the settings to param ui Worksheet The settings to set protected void apply Worksheet Settings Writable Sheet worksheet Worksheet ui Worksheet Sheet Settings settings worksheet get Settings if ui Worksheet get Automatic Formula Calculation null settings set Automatic Formula Calculation ui Worksheet get Automatic Formula Calculation if ui Worksheet get Bottom Margin null settings set Bottom Margin ui Worksheet get Bottom Margin if ui Worksheet get Copies null settings set Copies ui Worksheet get Copies if ui Worksheet get Default Column Width null settings set Default Column Width ui Worksheet get Default Column Width if ui Worksheet get Default Row Height null settings set Default Row Height ui Worksheet get Default Row Height if ui Worksheet get Display Zero Values null settings set Display Zero Values ui Worksheet get Display Zero Values if ui Worksheet get Fit Height null settings set Fit Height ui Worksheet get Fit Height if ui Worksheet get Fit To Pages null settings set Fit To Pages ui Worksheet get Fit To Pages if ui Worksheet get Fit Width null settings set Fit Width ui Worksheet get Fit Width if ui Worksheet get Footer Margin null settings set Footer Margin ui Worksheet get Footer Margin if ui Worksheet get Header Margin null settings set Header Margin ui Worksheet get Header Margin if ui Worksheet get Hidden null settings set Hidden ui Worksheet get Hidden if ui Worksheet get Horizontal Centre null settings set Horizontal Centre ui Worksheet get Horizontal Centre if ui Worksheet get Horizontal Freeze null settings set Horizontal Freeze ui Worksheet get Horizontal Freeze if ui Worksheet get Horizontal Print Resolution null settings set Horizontal Print Resolution ui Worksheet get Horizontal Print Resolution if ui Worksheet get Left Margin null settings set Left Margin ui Worksheet get Left Margin if ui Worksheet get Normal Magnification null settings set Normal Magnification ui Worksheet get Normal Magnification if ui Worksheet get Orientation null settings set Orientation Factory create Page Orientation ui Worksheet get Orientation if ui Worksheet get Page Break Preview Magnification null settings set Page Break Preview Magnification ui Worksheet get Page Break Preview Magnification if ui Worksheet get Page Break Preview Mode null settings set Page Break Preview Mode ui Worksheet get Page Break Preview Mode if ui Worksheet get Page Start null settings set Page Start ui Worksheet get Page Start if ui Worksheet get Paper Size null settings set Paper Size Factory create Paper Size ui Worksheet get Paper Size if ui Worksheet get Password null settings set Password ui Worksheet get Password if ui Worksheet get Password Hash null settings set Password Hash ui Worksheet get Password Hash if ui Worksheet get Print Grid Lines null settings set Print Grid Lines ui Worksheet get Print Grid Lines if ui Worksheet get Print Headers null settings set Print Headers ui Worksheet get Print Headers if ui Worksheet get Sheet Protected null settings set Protected ui Worksheet get Sheet Protected if ui Worksheet get Recalculate Formulas Before Save null settings set Recalculate Formulas Before Save ui Worksheet get Recalculate Formulas Before Save if ui Worksheet get Right Margin null settings set Right Margin ui Worksheet get Right Margin if ui Worksheet get Scale Factor null settings set Scale Factor ui Worksheet get Scale Factor if ui Worksheet get Selected null settings set Selected ui Worksheet get Selected if ui Worksheet get Show Grid Lines null settings set Show Grid Lines ui Worksheet get Show Grid Lines if ui Worksheet get Top Margin null settings set Top Margin ui Worksheet get Top Margin if ui Worksheet get Vertical Centre null settings set Vertical Centre ui Worksheet get Vertical Centre if ui Worksheet get Vertical Freeze null settings set Vertical Freeze ui Worksheet get Vertical Freeze if ui Worksheet get Vertical Print Resolution null settings set Vertical Print Resolution ui Worksheet get Vertical Print Resolution if ui Worksheet get Zoom Factor null settings set Zoom Factor ui Worksheet get Zoom Factor Iterates through the worksheet ui Worksheet child elements print areas print titles and headers footers for Component child ui Worksheet get Children if child get Class Print Area class Print Area print Area Print Area child settings set Print Area print Area get First Column print Area get First Row print Area get Last Column print Area get Last Row else if child get Class Print Titles class Print Titles print Titles Print Titles child settings set Print Titles print Titles get First Col print Titles get First Row print Titles get Last Col print Titles get Last Row else if child get Class Header class Header ui Header Header child settings set Header Factory create Header Footer ui Header settings get Header else if child get Class Footer class Footer ui Footer Footer child settings set Footer Factory create Header Footer ui Footer settings get Footer Gets cell info needed for cell creation param ui Cell The cell to get info for return The cell info protected Cell Info get Cell Info Cell ui Cell Cell Info cell Info new Cell Info cell Info set Cell Features create Cell Features ui Cell cell Info set Cell Type get Cell Data Type ui Cell cell Info set Cell Format get Cell Format ui Cell cell Info get Cell Type return cell Info Creates cell features from a template param ui Cell Format The cell format to apply return The cell features public Writable Cell Features create Cell Features Cell Base ui Cell Format if log is Trace Enabled log trace Creating cell features for ui Cell Format Writable Cell Features cell Features new Writable Cell Features if ui Cell Format get Comment null if ui Cell Format get Comment Height null ui Cell Format get Comment Width null cell Features set Comment ui Cell Format get Comment ui Cell Format get Comment Width ui Cell Format get Comment Height else cell Features set Comment ui Cell Format get Comment List Validation validations Excel Component get Children Of Type ui Cell Format get Children Validation class for Validation validation validations switch validation get Type case numeric add Numeric Validation cell Features Numeric Validation validation break case range add Range Validation cell Features Range Validation validation break case list add List Validation cell Features List Validation validation break default throw new Excel Workbook Exception Interpolator instance interpolate Unknown validation type validation get Type return cell Features Gets the cell type for a cell Tries to look it up in a cache based on the component id of the cell If it s not found it s created and cached param ui Cell The cell to look up return The data type of a cell private Cell Type get Cell Data Type Cell ui Cell if log is Trace Enabled log trace Getting cell data type from cache for ui Cell get Id Cell Type cell Data Type cell Info Cache get Cached Cell Type ui Cell get Id if cell Data Type null Cell Style cell Style new Cell Style parser get Cascaded Style Map ui Cell cell Data Type cell Style force Type null Cell Type value Of cell Style force Type ui Cell get Data Type cell Info Cache set Cached Cell Type ui Cell get Id cell Data Type return cell Data Type Gets a cell format for a cell Tries to look it up in a cache based on the component id of the cell If it s not found it s created and cached param ui Cell The cell to format return The cell format private Writable Cell Format get Cell Format Cell ui Cell Cell Type cell Type if log is Trace Enabled log trace Getting cell format for ui Cell get Id Writable Cell Format cell Format cell Info Cache get Cached Cell Format ui Cell get Id if cell Format null try cell Format create Cell Format ui Cell cell Type catch Write Exception e throw new Excel Workbook Exception Could not create cellformat e cell Info Cache set Cached Cell Format ui Cell get Id cell Format return cell Format Adds list validation to a cell param cell Features The cell features to add validation to param validation The validation to parse private static void add List Validation Writable Cell Features cell Features List Validation validation List List Validation Item items Excel Component get Children Of Type validation get Children List Validation Item class if items is Empty throw new Excel Workbook Exception No items in validation list List String validations new Array List String for List Validation Item item items validations add item get Value cell Features set Data Validation List validations Adds range validation to a cell param cell Features The cell features to apply the validation to param validation The validation to add private static void add Range Validation Writable Cell Features cell Features Range Validation validation if validation get Start Column null validation get Start Row null validation get End Column null validation get End Row null throw new Excel Workbook Exception Must set all start end columns rows for range validation cell Features set Data Validation Range validation get Start Column validation get Start Row validation get End Column validation get End Row Adds numeric validation to a cell param cell Features Features to add validation to param validation Validation to add private static void add Numeric Validation Writable Cell Features cell Features Numeric Validation validation if validation get Value null throw new Excel Workbook Exception Must define value in validation if Validation Condition between equals validation get Condition Validation Condition not between equals validation get Condition validation get Value null throw new Excel Workbook Exception Must define both values in validation for between not between switch validation get Condition case equal cell Features set Number Validation validation get Value Writable Cell Features break case not equal cell Features set Number Validation validation get Value Writable Cell Features break case greater equal cell Features set Number Validation validation get Value Writable Cell Features break case less equal cell Features set Number Validation validation get Value Writable Cell Features break case less than cell Features set Number Validation validation get Value Writable Cell Features break case between cell Features set Number Validation validation get Value validation get Value Writable Cell Features break case not between cell Features set Number Validation validation get Value validation get Value Writable Cell Features break Creates a Excel cell representation from the given input param column The row based to place the cell at param row The column based to place the cell at param type The type of cell param data The contents of the cell param cell Format The cell format settings of the cell return The prepared cell representation see a href http jexcelapi sourceforge net resources javadocs docs jxl write Writable Cell html Writable Cell a public static Writable Cell create Cell int column int row Cell Type type Object data Writable Cell Format cell Format if log is Trace Enabled log trace Creating cell at of type with data column row type data switch type case text return new Label column row data to String cell Format case number try return new jxl write Number column row Double parse Double data to String cell Format catch Number Format Exception e String message Interpolator instance interpolate Resource Bundle instance get String org jboss seam excel not a number data to String return new Label column row message cell Format case date try return new Date Time column row Date data cell Format catch Class Cast Exception e String message Interpolator instance interpolate Resource Bundle instance get String org jboss seam excel not a date data to String return new Label column row message cell Format case formula return new Formula column row data to String cell Format case bool return new jxl write Boolean column row Boolean parse Boolean data to String cell Format default return new Label column row data to String cell Format Creates a Excel Workbook settings object from the counterpart Starts with an empty object and adds the setting only if it is non null param ui Workbook The element to interpret return The created workbook settings public Workbook Settings create Workbook Settings Workbook ui Workbook if log is Trace Enabled log trace Creating workbook settings from ui Workbook Workbook Settings workbook Settings new Workbook Settings if ui Workbook get Array Grow Size null workbook Settings set Array Grow Size ui Workbook get Array Grow Size if ui Workbook get Auto Filter Disabled null workbook Settings set Auto Filter Disabled ui Workbook get Auto Filter Disabled if ui Workbook get Auto Filter Disabled null workbook Settings set Cell Validation Disabled ui Workbook get Auto Filter Disabled if ui Workbook get Character Set null workbook Settings set Character Set ui Workbook get Character Set if ui Workbook get Drawings Disabled null workbook Settings set Drawings Disabled ui Workbook get Drawings Disabled if ui Workbook get Encoding null workbook Settings set Encoding ui Workbook get Encoding if ui Workbook get Excel Display Language null workbook Settings set Excel Display Language ui Workbook get Excel Display Language if ui Workbook get Excel Regional Settings null workbook Settings set Excel Regional Settings ui Workbook get Excel Regional Settings if ui Workbook get Formula Adjust null workbook Settings set Formula Adjust ui Workbook get Formula Adjust if ui Workbook get Gc Disabled null workbook Settings set Disabled ui Workbook get Gc Disabled if ui Workbook get Ignore Blanks null workbook Settings set Ignore Blanks ui Workbook get Ignore Blanks if ui Workbook get Locale null workbook Settings set Locale new Locale ui Workbook get Locale if ui Workbook get Merged Cell Checking Disabled null workbook Settings set Merged Cell Checking ui Workbook get Merged Cell Checking Disabled if ui Workbook get Names Disabled null workbook Settings set Names Disabled ui Workbook get Names Disabled if ui Workbook get Property Sets null workbook Settings set Property Sets ui Workbook get Property Sets if ui Workbook get Rationalization null workbook Settings set Rationalization ui Workbook get Rationalization if ui Workbook get Supress Warnings null workbook Settings set Suppress Warnings ui Workbook get Supress Warnings if ui Workbook get Temporary File During Write Directory null workbook Settings set Temporary File During Write Directory new File ui Workbook get Temporary File During Write Directory if ui Workbook get Use Temporary File During Write null workbook Settings set Use Temporary File During Write ui Workbook get Use Temporary File During Write return workbook Settings Applies column settings to a column param ui Column The settings to apply param worksheet The worksheet to apply the column to param column Index The column index to the column public void apply Column Settings Column ui Column Writable Sheet worksheet int column Index Column Style column Style new Column Style parser get Cascaded Style Map ui Column if log is Trace Enabled log trace Applying column settings on column column Style column Index Cell View cell View worksheet get Column View column Index if column Style auto Size null cell View set Autosize column Style auto Size if column Style hidden null cell View set Hidden column Style hidden if column Style width null cell View set Size column Style width worksheet set Column View column Index cell View 
package org jboss seam pdf import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope Name org jboss seam pdf pdf Key Store Install false Scope Scope Type public class Key Store Config String key Store null String key Store Password null String key Password null String key Alias null public String get Key Store return key Store public void set Key Store String key Store this key Store key Store public String get Key Alias return key Alias public void set Key Alias String key Alias this key Alias key Alias public String get Key Store Password return key Store Password public void set Key Store Password String key Store Password this key Store Password key Store Password public String get Key Password return key Password public void set Key Password String key Password this key Password key Password public static Key Store Config instance return Key Store Config Component get Instance Key Store Config class 
package org jboss seam security management import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java security Principal import java util Array List import java util Hash Set import java util List import java util Properties import java util Set import javax naming Context import javax naming Naming Enumeration import javax naming Naming Exception import javax naming directory Attribute import javax naming directory Attributes import javax naming directory Basic Attribute import javax naming directory Basic Attributes import javax naming directory Dir Context import javax naming directory Modification Item import javax naming directory Search Controls import javax naming directory Search Result import javax naming ldap Initial Ldap Context import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging An Identity Store implementation that integrates with a directory service author Shane Bryzak Name org jboss seam security identity Store Install precedence value false Scope Bypass Interceptors public class Ldap Identity Store implements Identity Store Serializable constants for syntax boolean private static final String private static final String private static final Log Provider log Logging get Log Provider Ldap Identity Store class protected Feature Set feature Set new Feature Set private String server Address localhost private int server Port private String user Context ou Person dc acme dc com private String user Prefix uid private String user Suffix ou Person dc acme dc com private String role Context ou Role dc acme dc com private String role Prefix cn private String role Suffix ou Roles dc acme dc com private String bind cn Manager dc acme dc com private String bind Credentials secret private String user Role Attribute roles private boolean role Attribute Is true private String user Name Attribute uid private String user Password Attribute user Password private String first Name Attribute null private String last Name Attribute sn private String full Name Attribute cn private String enabled Attribute null private String role Name Attribute cn private String object Class Attribute object Class private String role Object Classes organizational Role private String user Object Classes person uid Object private String security Authentication Type simple private int search Scope Search Controls Time limit for searches in milliseconds private int search Time Limit public String get Server Address return server Address public void set Server Address String server Address this server Address server Address public int get Server Port return server Port public void set Server Port int server Port this server Port server Port public String get User Context return user Context public void set User Context String user Context this user Context user Context public String get Role Context return role Context public void set Role Context String role Context this role Context role Context public String get User Prefix return user Prefix public void set User Prefix String value this user Prefix value public String get User Suffix return user Suffix public void set User Suffix String value this user Suffix value public String get Role Prefix return role Prefix public void set Role Prefix String value this role Prefix value public String get Role Suffix return role Suffix public void set Role Suffix String value this role Suffix value public String get Bind return bind public void set Bind String bind this bind bind public String get Bind Credentials return bind Credentials public void set Bind Credentials String bind Credentials this bind Credentials bind Credentials public String get User Role Attribute return user Role Attribute public void set User Role Attribute String user Role Attribute this user Role Attribute user Role Attribute public boolean get Role Attribute Is return role Attribute Is public void set Role Attribute Is boolean value this role Attribute Is value public String get Role Name Attribute return role Name Attribute public void set Role Name Attribute String role Name Attribute this role Name Attribute role Name Attribute public String get User Name Attribute return user Name Attribute public void set User Name Attribute String user Name Attribute this user Name Attribute user Name Attribute public String get User Password Attribute return user Password Attribute public void set User Password Attribute String user Password Attribute this user Password Attribute user Password Attribute public String get First Name Attribute return first Name Attribute public void set First Name Attribute String first Name Attribute this first Name Attribute first Name Attribute public String get Last Name Attribute return last Name Attribute public void set Last Name Attribute String last Name Attribute this last Name Attribute last Name Attribute public String get Full Name Attribute return full Name Attribute public void set Full Name Attribute String full Name Attribute this full Name Attribute full Name Attribute public String get Enabled Attribute return enabled Attribute public void set Enabled Attribute String enabled Attribute this enabled Attribute enabled Attribute public String get Object Class Attribute return object Class Attribute public void set Object Class Attribute String object Class Attribute this object Class Attribute object Class Attribute public String get Role Object Classes return role Object Classes public void set Role Object Class String role Object Classes this role Object Classes role Object Classes public String get User Object Classes return user Object Classes public void set User Object Classes String user Object Classes this user Object Classes user Object Classes public int get Search Time Limit return search Time Limit public void set Search Time Limit int search Time Limit this search Time Limit search Time Limit public String get Security Authentication Type return security Authentication Type public void set Security Authentication Type String value this security Authentication Type value public String get Search Scope switch search Scope case Search Controls return case Search Controls return case Search Controls return default return public void set Search Scope String value if equals value search Scope Search Controls else if equals value search Scope Search Controls else search Scope Search Controls if equals value log warn Invalid search scope specified value search scope set to public Set Feature get Features return feature Set get Features public void set Features Set Feature features feature Set new Feature Set features public boolean supports Feature Feature feature return feature Set supports feature protected final Initial Ldap Context initialise Context throws Naming Exception return initialise Context get Bind get Bind Credentials protected final Initial Ldap Context initialise Context String principal String credentials throws Naming Exception Properties env new Properties env set Property Context com sun jndi ldap Ldap Ctx Factory env set Property Context security Authentication Type String provider Url String format ldap s d get Server Address get Server Port env set Property Context provider Url env set Property Context principal env set Property Context credentials Initial Ldap Context ctx new Initial Ldap Context env null return ctx protected String get User String username return String format s s s get User Prefix username get User Suffix protected String get Role String role return String format s s s get Role Prefix role get Role Suffix public boolean authenticate String username String password final String security Principal get User username Initial Ldap Context ctx null try ctx initialise Context security Principal password if get Enabled Attribute null Attributes attribs ctx get Attributes security Principal new String get Enabled Attribute Attribute enabled Attrib attribs get get Enabled Attribute if enabled Attrib null for int r r enabled Attrib size r Object value enabled Attrib get r if equals value return true return false return true catch Naming Exception ex throw new Identity Management Exception Authentication error ex finally if ctx null try ctx close catch Naming Exception ex public boolean change Password String name String password Initial Ldap Context ctx null try ctx initialise Context Basic Attribute password Attrib new Basic Attribute get User Password Attribute password Modification Item mod new Modification Item Dir Context password Attrib ctx modify Attributes get User name new Modification Item mod return true catch Naming Exception ex throw new Identity Management Exception Failed to change password ex finally if ctx null try ctx close catch Naming Exception ex public boolean create Role String role Initial Ldap Context ctx null try ctx initialise Context Attributes role Attribs new Basic Attributes Basic Attribute role Class new Basic Attribute get Object Class Attribute for String object Class get Role Object Classes role Class add object Class role Attribs put role Class role Attribs put new Basic Attribute get Role Name Attribute role String role get Role role ctx create Subcontext role role Attribs return true catch Naming Exception ex throw new Identity Management Exception Failed to create role ex finally if ctx null try ctx close catch Naming Exception ex public boolean create User String username String password String firstname String lastname Initial Ldap Context ctx null try ctx initialise Context Attributes user Attribs new Basic Attributes Basic Attribute user Class new Basic Attribute get Object Class Attribute for String object Class get User Object Classes user Class add object Class user Attribs put user Class user Attribs put new Basic Attribute get User Name Attribute username user Attribs put new Basic Attribute get User Password Attribute password if get First Name Attribute null firstname null user Attribs put new Basic Attribute get First Name Attribute firstname if get Last Name Attribute null lastname null user Attribs put new Basic Attribute get Last Name Attribute lastname if get Full Name Attribute null firstname null lastname null user Attribs put new Basic Attribute get Full Name Attribute firstname lastname if get Enabled Attribute null user Attribs put new Basic Attribute get Enabled Attribute String user String format s s s get User Name Attribute username get User Context ctx create Subcontext user user Attribs return true catch Naming Exception ex throw new Identity Management Exception Failed to create user ex finally if ctx null try ctx close catch Naming Exception ex public boolean create User String username String password return create User username password null null public boolean delete Role String role Initial Ldap Context ctx null try ctx initialise Context Delete the role entry itself String role String format s s s get Role Name Attribute role get Role Context ctx destroy Subcontext role Then delete all user attributes that point to this role int search Scope Search Controls int search Time Limit String role Attr get User Role Attribute Search Controls controls new Search Controls controls set Search Scope search Scope controls set Returning Attributes role Attr controls set Time Limit search Time Limit String Builder role Filter new String Builder Object filter Args new Object get User Object Classes length filter Args role role Filter append role Filter append get User Role Attribute role Filter append for int i i get User Object Classes length i role Filter append role Filter append get Object Class Attribute role Filter append role Filter append i role Filter append filter Args i get User Object Classes i role Filter append Naming Enumeration answer ctx search get User Context role Filter to String filter Args controls while answer has More Search Result sr Search Result answer next Attributes attrs sr get Attributes Attribute user attrs get get User Role Attribute user remove role ctx modify Attributes sr get Name In Namespace new Modification Item new Modification Item Dir Context user answer close return true catch Naming Exception ex throw new Identity Management Exception Failed to delete role ex finally if ctx null try ctx close catch Naming Exception ex public boolean role Exists String role Initial Ldap Context ctx null try ctx initialise Context int search Scope Search Controls int search Time Limit String role Attr get Role Name Attribute Search Controls controls new Search Controls controls set Search Scope search Scope controls set Returning Attributes role Attr controls set Time Limit search Time Limit String role Filter get Object Class Attribute get Role Name Attribute Object filter Args get Role Object Classes role Naming Enumeration answer ctx search get Role Context role Filter filter Args controls while answer has More Search Result sr Search Result answer next Attributes attrs sr get Attributes Attribute user attrs get get Role Name Attribute for int i i user size i Object value user get i if role equals value return true answer close return false catch Naming Exception ex throw new Identity Management Exception Error getting roles ex finally if ctx null try ctx close catch Naming Exception ex public boolean delete User String name Initial Ldap Context ctx null try ctx initialise Context String user get User name ctx destroy Subcontext user return true catch Naming Exception ex throw new Identity Management Exception Failed to delete user ex finally if ctx null try ctx close catch Naming Exception ex public boolean is User Enabled String name if get Enabled Attribute null return true Initial Ldap Context ctx null try ctx initialise Context String user get User name Attributes attribs ctx get Attributes user new String get Enabled Attribute Attribute enabled Attrib attribs get get Enabled Attribute if enabled Attrib null for int r r enabled Attrib size r Object value enabled Attrib get r if equals value return true return false catch Naming Exception ex throw new Identity Management Exception Failed to delete user ex finally if ctx null try ctx close catch Naming Exception ex public boolean disable User String name if get Enabled Attribute null return false Initial Ldap Context ctx null try ctx initialise Context String user get User name Basic Attribute enabled Attrib new Basic Attribute get Enabled Attribute Modification Item mod new Modification Item Dir Context enabled Attrib ctx modify Attributes user new Modification Item mod return true catch Naming Exception ex throw new Identity Management Exception Failed to disable user ex finally if ctx null try ctx close catch Naming Exception ex public boolean enable User String name if get Enabled Attribute null return false Initial Ldap Context ctx null try ctx initialise Context String user get User name Basic Attribute enabled Attrib new Basic Attribute get Enabled Attribute Modification Item mod new Modification Item Dir Context enabled Attrib ctx modify Attributes user new Modification Item mod return true catch Naming Exception ex throw new Identity Management Exception Failed to disable user ex finally if ctx null try ctx close catch Naming Exception ex public List String get Granted Roles String name Set String user Roles new Hash Set String Initial Ldap Context ctx null try ctx initialise Context String user Filter get User Name Attribute String role Attr get User Role Attribute Search Controls controls new Search Controls controls set Search Scope search Scope controls set Returning Attributes role Attr controls set Time Limit get Search Time Limit Object filter Args name Naming Enumeration answer ctx search get User Context user Filter filter Args controls while answer has More Search Result sr Search Result answer next Attributes attrs sr get Attributes Attribute roles attrs get get User Role Attribute if roles null for int r r roles size r Object value roles get r String role Name null if get Role Attribute Is true String role value to String String return Attribute get Role Name Attribute try Attributes result ctx get Attributes role return Attribute Attribute roles result get get Role Name Attribute if roles null for int m m roles size m role Name String roles get m user Roles add role Name catch Naming Exception ex throw new Identity Management Exception Failed to query roles ex else The role attribute value is the role name role Name value to String user Roles add role Name answer close return new Array List String user Roles catch Naming Exception ex throw new Identity Management Exception Error getting roles ex finally if ctx null try ctx close catch Naming Exception ex public List String get Implied Roles String name return get Granted Roles name public boolean grant Role String name String role Initial Ldap Context ctx null try ctx initialise Context String user get User name Basic Attribute role Attrib new Basic Attribute get User Role Attribute get Role Attribute Is get Role role role Modification Item mod new Modification Item Dir Context role Attrib ctx modify Attributes user new Modification Item mod return true catch Naming Exception ex throw new Identity Management Exception Failed to grant role ex finally if ctx null try ctx close catch Naming Exception ex public boolean revoke Role String name String role Initial Ldap Context ctx null try ctx initialise Context String user get User name Attributes role Attribs ctx get Attributes user new String get User Role Attribute Attribute role Attrib role Attribs get get User Role Attribute if role Attrib null boolean modified false for int i role Attrib size i i if get Role Attribute Is Attributes attribs ctx get Attributes String role Attrib get i new String get Role Name Attribute Attribute role Name Attrib attribs get get Role Name Attribute for int j j role Name Attrib size j if role equals role Name Attrib get j modified true role Attrib remove i else if role equals role Attrib get i modified true role Attrib remove i if modified Modification Item mod new Modification Item Dir Context role Attrib ctx modify Attributes user new Modification Item mod catch Naming Exception ex throw new Identity Management Exception Failed to grant role ex finally if ctx null try ctx close catch Naming Exception ex return false public List String list Roles List String roles new Array List String Initial Ldap Context ctx null try ctx initialise Context String role Attr get Role Name Attribute Search Controls controls new Search Controls controls set Search Scope search Scope controls set Returning Attributes role Attr controls set Time Limit get Search Time Limit String Builder role Filter new String Builder Object filter Args new Object get Role Object Classes length for int i i get Role Object Classes length i role Filter append role Filter append get Object Class Attribute role Filter append role Filter append i role Filter append filter Args i get Role Object Classes i Naming Enumeration answer ctx search get Role Context role Filter to String filter Args controls while answer has More Search Result sr Search Result answer next Attributes attrs sr get Attributes Attribute user attrs get get Role Name Attribute for int i i user size i Object value user get i roles add value to String answer close return roles catch Naming Exception ex throw new Identity Management Exception Error getting roles ex finally if ctx null try ctx close catch Naming Exception ex public List String list Grantable Roles should we support conditional roles with return list Roles public List String list Users return list Users null public List String list Users String filter List String users new Array List String Initial Ldap Context ctx null try ctx initialise Context String user Attr get User Name Attribute Search Controls controls new Search Controls controls set Search Scope search Scope controls set Returning Attributes user Attr controls set Time Limit get Search Time Limit String Builder user Filter new String Builder Object filter Args new Object get User Object Classes length for int i i get User Object Classes length i user Filter append user Filter append get Object Class Attribute user Filter append user Filter append i user Filter append filter Args i get User Object Classes i user Filter append Naming Enumeration answer ctx search get User Context user Filter to String filter Args controls while answer has More Search Result sr Search Result answer next Attributes attrs sr get Attributes Attribute user attrs get get User Name Attribute for int i i user size i Object value user get i if filter null if value to String to Lower Case contains filter to Lower Case users add value to String else users add value to String answer close return users catch Naming Exception ex throw new Identity Management Exception Error getting users ex finally if ctx null try ctx close catch Naming Exception ex public boolean user Exists String name Initial Ldap Context ctx null try ctx initialise Context String user Attr get User Name Attribute Search Controls controls new Search Controls controls set Search Scope search Scope controls set Returning Attributes user Attr controls set Time Limit get Search Time Limit String Builder user Filter new String Builder Object filter Args new Object get User Object Classes length for int i i get User Object Classes length i user Filter append user Filter append get Object Class Attribute user Filter append user Filter append i user Filter append filter Args i get User Object Classes i Naming Enumeration answer ctx search get User Context user Filter to String filter Args controls while answer has More Search Result sr Search Result answer next Attributes attrs sr get Attributes Attribute user attrs get get User Name Attribute for int i i user size i Object value user get i if name equals value answer close return true answer close return false catch Naming Exception ex throw new Identity Management Exception Error getting users ex finally if ctx null try ctx close catch Naming Exception ex public List String get Role Groups String name Auto generated method stub return null public List Principal list Members String role implement return null public boolean add Role To Group String role String group Auto generated method stub return false public boolean remove Role From Group String role String group Auto generated method stub return false 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam contexts import java util Map import java util Set import org jboss seam Scope Type import org jboss seam core Conversation Entries import org jboss seam core Manager import org jboss seam log Log Provider import org jboss seam log Logging Methods for setup and teardown of Seam contexts author Gavin King author a href mailto theute jboss org Thomas Heute a public class Lifecycle private static final Log Provider log Logging get Log Provider Lifecycle class private static Thread Local Boolean destroying new Thread Local Boolean private static Map String Object application public static Map String Object get Application if is Application Initialized throw new Illegal State Exception Attempted to invoke a Seam component outside an initialized application return application public static boolean is Application Initialized return application null public static void begin Application Map String Object app application app public static void end Application end Application application public static void end Application Map String Object app log debug Shutting down application and destroying contexts Context temp Application Context new Application Context app Contexts application Context set temp Application Context Contexts destroy temp Application Context Contexts application Context set null Contexts event Context set null Contexts session Context set null Contexts conversation Context set null application null public static void start Destroying destroying set true public static void stop Destroying destroying set false public static boolean is Destroying Boolean value destroying get return value null value boolean Value public static void begin Call log debug Begin call Contexts application Context set new Application Context get Application Contexts event Context set new Basic Context Scope Type Contexts session Context set new Basic Context Scope Type Contexts conversation Context set new Basic Context Scope Type Contexts business Process Context set new Business Process Context public static void end Call try Contexts destroy Contexts get Session Context Contexts flush And Destroy Contexts if Manager instance is Long Running Conversation throw new Illegal State Exception Do not start long running conversations in direct calls to Bs finally clear Threadlocals log debug End call deprecated Use link Lifecycle setup Application Deprecated public static void mock Application setup Application null deprecated Use link Lifecycle cleanup Application Deprecated public static void unmock Application cleanup Application public static void setup Application Contexts application Context set new Application Context get Application public static void setup Application Map String Object app Ctx Contexts application Context set new Application Context app Ctx public static void cleanup Application Contexts application Context set null public static Context begin Method Context result Contexts method Context get Contexts method Context set new Basic Context Scope Type return result public static void end Method Context context Contexts method Context set context public static void end Request log debug After request destroying contexts try Contexts flush And Destroy Contexts finally clear Threadlocals log debug End web request static void clear Threadlocals Contexts event Context set null Contexts page Context set null Contexts session Context set null Contexts conversation Context set null Contexts business Process Context set null Contexts application Context set null public static void destroy Conversation Context Map String Object session String conversation Id Contexts destroy Conversation Context session conversation Id Deprecated public static void begin Session Map String Object session begin Session session null public static void begin Session Map String Object session Map String Object app Ctx log debug Session started Normally called synchronously with a request but there are some special cases boolean application Context Active Contexts is Application Context Active boolean event Context Active Contexts is Event Context Active boolean conversation Context Active Contexts is Conversation Context Active if application Context Active Context temp Application Context null if app Ctx null temp Application Context new Application Context get Application else temp Application Context new Application Context app Ctx Contexts application Context set temp Application Context Context old Session Context Contexts session Context get Contexts session Context set new Session Context session we have to use the session object that came in the session Created event Context temp Event Context null if event Context Active temp Event Context new Basic Context Scope Type Contexts event Context set temp Event Context Context temp Conversation Context null if conversation Context Active temp Conversation Context new Basic Context Scope Type Contexts conversation Context set temp Conversation Context Contexts startup Scope Type if conversation Context Active Contexts destroy temp Conversation Context Contexts conversation Context set null if event Context Active Contexts destroy temp Event Context Contexts event Context set null Contexts session Context set old Session Context replace the one from session Created with the one from or null if application Context Active Contexts application Context set null public static void end Session Map String Object session end Session session application public static void end Session Map String Object session Map String Object app log debug End of session destroying contexts This code assumes that sessions are only destroyed at the very end of a web request after the request bound context objects have been destroyed or during session timeout when there are no request bound contexts if Contexts is Event Context Active Contexts is Application Context Active throw new Illegal State Exception Please end the Http Session via org jboss seam web Session instance invalidate Context temp Application Context new Application Context app Contexts application Context set temp Application Context this is used just as a place to stick the Conversation Manager Context temp Event Context new Basic Context Scope Type Contexts event Context set temp Event Context this is used a for destroying session scoped components and is also used b by the Conversation Manager Context temp Session Context new Session Context session Contexts session Context set temp Session Context Set String conversation Ids Conversation Entries instance get Conversation Ids log debug destroying conversation contexts conversation Ids for String conversation Id conversation Ids Contexts destroy Conversation Context session conversation Id we need some conversation scope components for destroying the session context Context temp Conversation Context new Basic Context Scope Type Contexts conversation Context set temp Conversation Context log debug destroying session context Contexts destroy temp Session Context Contexts session Context set null Contexts destroy temp Conversation Context Contexts conversation Context set null Contexts destroy temp Event Context Contexts event Context set null Contexts application Context set null 
package org jboss seam ui renderkit import java io Exception import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam ui component Link import org jboss seam ui util import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui Link Renderer family org jboss seam ui Link Renderer public class Link Renderer Base extends Renderer Base Override protected Class get Component Class return Link class Override protected void do Encode Begin Response Writer writer Faces Context context Component component throws Exception Link link Link component String url link get Url writer start Element link if url null link is Disabled writer write Attribute url if link get Id null writer write Attribute link get Client Id context render Attributes writer link if link get Value null writer write Text link get Value null Override protected void do Encode End Response Writer writer Faces Context context Component component throws Exception writer end Element 
Id List Data Model java gavin package org jboss seam jsf import java io Exception import java io Object Input Stream import java io Object Output Stream import java io Serializable import java util List Data Model for lists yes know has one but its not serializable go figure author Gavin King public class List Data Model extends javax faces model List Data Model implements Serializable private static final long serial Version private void write Object Object Output Stream oos throws Exception oos write Object get Wrapped Data oos write Int get Row Index private void read Object Object Input Stream ois throws Exception Class Not Found Exception this set Wrapped Data ois read Object this set Row Index ois read Int public List Data Model public List Data Model List list super list 
package org jboss seam example pdf import org jboss seam annotations Name lists public class Lists String numbers one two three four five String days Of Week Monday Tuesday Wednesday Thursday Friday Saturday Sunday public String get Numbers return numbers public String get Days Of Week return days Of Week 
package org jboss seam international import static org jboss seam annotations Install import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts Manager component for the current locale that is aware of the selected locale author Gavin King Scope Scope Type Name org jboss seam core locale Install precedence dependencies org jboss seam international locale Selector Bypass Interceptors public class Locale extends org jboss seam core Locale Unwrap Override public java util Locale get Locale return Contexts is Session Context Active Locale Selector instance get Locale super get Locale 
package org jboss seam international import static org jboss seam Scope Type import static org jboss seam annotations Install import java util Linked Hash Set import java util List import java util Set import java util String Tokenizer import javax faces Factory Finder import javax faces application Application import javax faces application Application Factory import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Strings Configures the locale support from the Seam container p This component merely passes on configuration settings to the runtime so you still have to option of configure the locale support in the configuration file However if you enable this component it will overwrite any settings from that file p code lt i n locale config default locale en supported locales en fr de gt code author Dan Allen Scope Bypass Interceptors Startup Name org jboss seam international locale Config Install value false precedence class Dependencies javax faces context Faces Context public class Locale Config private String default Locale private List String supported Locales private static final Log Provider log Logging get Log Provider Locale Config class Create public void init Locale Config Application application get Application if application null return String default As String get Default Locale if default As String null application set Default Locale get Locale From String default As String List String supported As Strings get Supported Locales int num Supported supported As Strings null supported As Strings size if num Supported use set to prevent duplicates yet retain order just to be nice Set java util Locale locales new Linked Hash Set java util Locale num Supported for String supported As String supported As Strings locales add get Locale From String supported As String application set Supported Locales locales public String get Default Locale return default Locale public void set Default Locale String default Locale this default Locale default Locale log debug Default locale was set to this default Locale public List String get Supported Locales return supported Locales public void set Supported Locales List String supported Locales this supported Locales supported Locales log debug Supported locales are this supported Locales public static Locale Config instance return Locale Config Component get Instance Locale Config class Scope Type private java util Locale get Locale From String String locale String if locale String null locale String length throw new Illegal Argument Exception Invalid locale string locale String String Tokenizer tokens new String Tokenizer locale String String language tokens has More Tokens tokens next Token null String country tokens has More Tokens tokens next Token null String variant tokens has More Tokens tokens next Token null if Strings is Empty variant return new java util Locale language country variant else if Strings is Empty country return new java util Locale language country else return new java util Locale language private Application get Application try Application Factory factory Application Factory Factory Finder get Factory Factory Finder return factory get Application catch Illegal State Exception e log warn is not properly initialized see http jira jboss org jira browse just in case for units and the like if we ca n t do it it just wa n t meant to be return null 
package org jboss seam transaction import javax ejb Local Local interface for Ejb Transaction author Gavin King Local public interface Local Ejb Synchronizations extends Synchronizations public void destroy 
package org jboss seam international import static org jboss seam annotations Install import java util Array List import java util Iterator import java util List import java util Locale import java util String Tokenizer import javax faces context Faces Context import javax faces event Value Change Event import javax faces model Select Item import javax servlet Servlet Request import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Events import org jboss seam faces Selector import org jboss seam util Strings import org jboss seam web Servlet Contexts Selects the current user s locale author Gavin King Scope Scope Type Name org jboss seam international locale Selector Bypass Interceptors Install precedence class Dependencies javax faces context Faces Context public class Locale Selector extends Selector private static final long serial Version private String language private String country private String variant Create public void init Locale String locale String get Cookie Value If Enabled if locale String null set Locale String locale String Override protected String get Cookie Name return org jboss seam core Locale Force the resource bundle to reload using the current locale and raise the org jboss seam locale Selected event public void select Faces Context get Current Instance get View Root set Locale get Locale Contexts remove From All Contexts org jboss seam core resource Bundle Contexts remove From All Contexts org jboss seam international messages set Cookie Value If Enabled get Locale String if Events exists Events instance raise Event org jboss seam locale Selected get Locale String public void select Value Change Event event set Locale String String event get New Value select Set the language and force resource bundle reload useful for quick action links tt lt h command Link value action locale Selector select Language de tt public void select Language String language set Language language select public Locale calculate Locale Locale jsf Locale if Strings is Empty variant return new java util Locale language country variant else if Strings is Empty country return new java util Locale language country else if Strings is Empty language return new java util Locale language else return jsf Locale public void set Locale Locale locale language Strings null If Empty locale get Language country Strings null If Empty locale get Country variant Strings null If Empty locale get Variant public String get Locale String return get Locale to String public void set Locale String String locale String String Tokenizer tokens new String Tokenizer locale String language tokens has More Tokens tokens next Token null country tokens has More Tokens tokens next Token null variant tokens has More Tokens tokens next Token null public List Select Item get Supported Locales List Select Item select Items new Array List Select Item Iterator Locale locales Faces Context get Current Instance get Application get Supported Locales while locales has Next Locale locale locales next if Strings is Empty locale get Language select Items add new Select Item locale to String locale get Display Name locale return select Items Get the selected locale public Locale get Locale Faces Context faces Context Faces Context get Current Instance if faces Context null Note this does a double dispatch back to Locale Selector calculate Locale return faces Context get Application get View Handler calculate Locale faces Context Servlet Contexts servlet Contexts Servlet Contexts get Instance if servlet Contexts null Servlet Request request servlet Contexts get Request if request null return calculate Locale request get Locale return calculate Locale Locale get Default public static Locale Selector instance if Contexts is Session Context Active throw new Illegal State Exception No active session context return Locale Selector Component get Instance Locale Selector class Scope Type public String get Country if country null return get Locale get Country return country public void set Country String country set Dirty this country country this country country public String get Language if language null return get Locale get Language return language public void set Language String language set Dirty this language language this language language public String get Variant if variant null return get Locale get Variant return variant public void set Variant String variant set Dirty this variant variant this variant variant 
package org jboss seam async import java util concurrent Callable import javax ejb Local import javax ejb Timer Local interface for Timer Service Dispatcher author Gavin King Local public interface Local Timer Service Dispatcher extends Dispatcher Timer Timer Schedule public Object call Callable task 
package org jboss seam core Thrown by the Synchronization Interceptor when it fails to get a lock within the allocated time author Shane Bryzak public class Lock Timeout Exception extends Exception public Lock Timeout Exception super public Lock Timeout Exception String message super message public Lock Timeout Exception String message Throwable cause super message cause 
package org jboss seam log logging interface that integrates with Seam s message interpolation functionality author Gavin King public interface Log public boolean is Debug Enabled public boolean is Error Enabled public boolean is Fatal Enabled public boolean is Info Enabled public boolean is Trace Enabled public boolean is Warn Enabled public void trace Object object Object params public void trace Object object Throwable t Object params public void debug Object object Object params public void debug Object object Throwable t Object params public void info Object object Object params public void info Object object Throwable t Object params public void warn Object object Object params public void warn Object object Throwable t Object params public void error Object object Object params public void error Object object Throwable t Object params public void fatal Object object Object params public void fatal Object object Throwable t Object params 
package org jboss seam log import org apache log j Level import org apache log j Logger final class Log Provider implements Log Provider private final Logger logger private final boolean is Wrapped private static final String Log Impl class get Name private static final String Log Provider class get Name private static final Level static Object trace try trace Level class get Declared Field get null catch Exception e trace Level Level trace Log Provider String category boolean wrapped logger Logger get Logger category is Wrapped wrapped private String get return is Wrapped public void debug Object object logger log get Level object null public void debug Object object Throwable t logger log get Level object t public void error Object object logger log get Level object null public void error Object object Throwable t logger log get Level object t public void fatal Object object logger log get Level object null public void fatal Object object Throwable t logger log get Level object t public void info Object object logger log get Level object null public void info Object object Throwable t logger log get Level object t public boolean is Debug Enabled return logger is Enabled For Level public boolean is Error Enabled return logger is Enabled For Level public boolean is Fatal Enabled return logger is Enabled For Level public boolean is Info Enabled return logger is Enabled For Level public boolean is Trace Enabled return logger is Enabled For public boolean is Warn Enabled return logger is Enabled For Level public void trace Object object logger log get object null public void trace Object object Throwable t logger log get object t public void warn Object object logger log get Level object null public void warn Object object Throwable t logger log get Level object t 
Id Logger java dan j allen package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Injects a log author Gavin King Target Retention Documented public interface Logger return the log category String value default 
package org jboss seam example remoting chatroom import javax ejb Activation Config Property import javax ejb Message Driven import javax jms Exception import javax jms Message import javax jms Message Listener import javax jms Object Message import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam log Log Message Driven activation Config Activation Config Property property Name destination Type property Value javax jms Topic Activation Config Property property Name destination property Value topic chatroom Topic Name logger public class Logger Bean implements Message Listener Logger Log log public void on Message Message msg try Chatroom Event event Chatroom Event Object Message msg get Object log info event get User event get Data null event get Action event get Data catch Exception jmse throw new Runtime Exception jmse 
package org jboss seam log Factory for Seam Logs and Log Providers If log j exists in the classpath the Log Provider will be log j Otherwise it will be logging author Gavin King public class Logging private static final boolean is Log Available static boolean available try Class for Name org apache log j Logger available true catch Class Not Found Exception cnfe available false is Log Available available public static Log get Log String category return new Log Impl category public static Log get Log Class clazz return new Log Impl clazz get Name public static Log Provider get Log Provider String category boolean wrapped return is Log Available new Log Provider category wrapped new Provider category wrapped public static Log Provider get Log Provider Class clazz return get Log Provider clazz get Name false 
package org jboss seam web import java io Exception import javax servlet Filter Chain import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Http Servlet Request import javax servlet http Http Session import org apache log j import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter import org jboss seam security Identity import org jboss seam security Credentials This filter adds the authenticated user name to the log j mapped diagnostic context so that it can be included in formatted log output if desired by adding username to the pattern author Eric Trautman Scope Scope Type Name org jboss seam web logging Filter Bypass Interceptors Filter within org jboss seam web authentication Filter Install class Dependencies org apache log j Logger dependencies org jboss seam security identity precedence Install public class Logging Filter extends Abstract Filter public void do Filter Servlet Request servlet Request Servlet Response servlet Response Filter Chain filter Chain throws Exception Servlet Exception Http Session session Http Servlet Request servlet Request get Session false if session null Object attribute session get Attribute org jboss seam security identity if attribute instanceof Identity Identity identity Identity attribute Credentials credentials identity get Credentials String username credentials null credentials get Username null if username null put username username filter Chain do Filter servlet Request servlet Response remove username 
package org jboss seam log import java io Externalizable import java io Exception import java io Object Input import java io Object Output import org jboss seam core Interpolator Implementation of the Log interface using commons logging author Gavin King class Log Impl implements Log Externalizable private static final long serial Version private transient Log Provider log private String category public Log Impl for Externalizable Log Impl String category this category category this log Logging get Log Provider category true public boolean is Debug Enabled return log is Debug Enabled public boolean is Error Enabled return log is Error Enabled public boolean is Fatal Enabled return log is Fatal Enabled public boolean is Info Enabled return log is Info Enabled public boolean is Trace Enabled return log is Trace Enabled public boolean is Warn Enabled return log is Warn Enabled public void trace Object object Object params if is Trace Enabled log trace interpolate object params public void trace Object object Throwable t Object params if is Trace Enabled log trace interpolate object params t public void debug Object object Object params if is Debug Enabled log debug interpolate object params public void debug Object object Throwable t Object params if is Debug Enabled log debug interpolate object params t public void info Object object Object params if is Info Enabled log info interpolate object params public void info Object object Throwable t Object params if is Info Enabled log info interpolate object params t public void warn Object object Object params if is Warn Enabled log warn interpolate object params public void warn Object object Throwable t Object params if is Warn Enabled log warn interpolate object params t public void error Object object Object params if is Error Enabled log error interpolate object params public void error Object object Throwable t Object params if is Error Enabled log error interpolate object params t public void fatal Object object Object params if is Fatal Enabled log fatal interpolate object params public void fatal Object object Throwable t Object params if is Fatal Enabled log fatal interpolate object params t Suppress Warnings finally private Object interpolate Object object Object params if object instanceof String try object Interpolator instance interpolate String object params catch Exception e log error exception interpolating string object e finally return object else return object public void read External Object Input in throws Exception Class Not Found Exception category String in read Object log Logging get Log Provider category true public void write External Object Output out throws Exception out write Object category void read Object Object Input Stream ois throws Class Not Found Exception Exception ois default Read Object log Log Factory get Log category 
package org jboss seam example todo import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam bpm Actor Name login public class Login In private Actor actor private String user public String get User return user public void set User String user this user user public String login actor set Id user return todo jsp 
Id Login Action java pete muir jboss org package org jboss seam example spring import java io Serializable import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations Scope import org jboss seam annotations Synchronized import org jboss seam faces Faces Messages import org jboss seam web Session Scope Scope Type Synchronized Name login public class Login Action implements Serializable In required false Out required false private User user In user Service private User Service user Service In private Faces Messages faces Messages private boolean logged In public void login User candidate User user Service find User user get Username user get Password if candidate User null faces Messages add Invalid login else user candidate User logged In true faces Messages add Welcome user name public void logout logged In false Session instance invalidate public void validate Login if logged In faces Messages add Please log in first public boolean is Logged In return logged In 
package org jboss seam log Abstracts the underlying logging implementation log j or logging This saves us from having to use evil and absurdly overengineered stuff like commons logging author Gavin King public interface Log Provider public void trace Object object public void trace Object object Throwable t public void debug Object object public void debug Object object Throwable t public void info Object object public void info Object object Throwable t public void warn Object object public void warn Object object Throwable t public void error Object object public void error Object object Throwable t public void fatal Object object public void fatal Object object Throwable t public boolean is Trace Enabled public boolean is Debug Enabled public boolean is Info Enabled public boolean is Warn Enabled public boolean is Error Enabled public boolean is Fatal Enabled 
package org jboss seam security crypto import java security Invalid Key Exception import java security No Such Algorithm Exception import java security No Such Provider Exception import javax crypto Mac import javax crypto spec Secret Key Spec Copied from Matthias Gartner s implementation see http rtner de software html Default implementation based on standard javax crypt Mac mechanisms hr p free Java implementation of Password Based Key Derivation Function as defined by Copyright c Matthias auml rtner p p This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version p p This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details p p You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston p p For Details see a href http www gnu org licenses old licenses lgpl html http www gnu org licenses old licenses lgpl html a p author Matthias auml rtner version public class Mac Based implements protected Mac mac protected int h Len protected String mac Algorithm Create Mac based Pseudo Random Function param mac Algorithm Mac algorithm to use i e Mac or Mac public Mac Based String mac Algorithm this mac Algorithm mac Algorithm try mac Mac get Instance mac Algorithm h Len mac get Mac Length catch No Such Algorithm Exception e throw new Runtime Exception e public Mac Based String mac Algorithm String provider this mac Algorithm mac Algorithm try mac Mac get Instance mac Algorithm provider h Len mac get Mac Length catch No Such Algorithm Exception e throw new Runtime Exception e catch No Such Provider Exception e throw new Runtime Exception e public byte do Final byte byte r mac do Final return r public int get Len return h Len public void init byte try mac init new Secret Key Spec mac Algorithm catch Invalid Key Exception e throw new Runtime Exception e 
package org jboss seam mail ui import java io Exception import java io String Writer import javax faces component Component import javax faces component Component Base import javax faces context Faces Context import javax faces context Response Writer import javax mail Messaging Exception import javax mail internet Mime Message import javax mail internet Mime Multipart import org jboss seam mail ui context Mail Response Writer import org jboss seam ui util Abstract base class for mail ui components public abstract class Mail Component extends Component Base Cache Message private Message message private static final String org jboss seam mail Override public String get Family return Override public boolean get Renders Children return true protected String encode Faces Context faces Context throws Exception return encode faces Context this null false Deprecated use link Mail Component encode Faces Context Component String Deprecated protected String encode Faces Context faces Context Component cmp throws Exception return encode faces Context cmp null true protected String encode Faces Context faces Context String content Type throws Exception return encode faces Context this content Type false protected String encode Faces Context faces Context Component cmp String content Type throws Exception return encode faces Context cmp content Type true Encode the children of cmp writing to a string rather than the http response object and return the string protected String encode Faces Context faces Context Component cmp String content Type boolean root throws Exception Response Writer response faces Context get Response Writer String Writer string Writer new String Writer Response Writer caching Response Writer Mail Response Writer response clone With Writer string Writer content Type faces Context set Response Writer caching Response Writer if root render Child faces Context cmp else render Children faces Context cmp faces Context set Response Writer response String output string Writer get Buffer to String return output look up the tree for mail message throws Messaging Exception public Mime Message find Mime Message throws Messaging Exception return find Message get Mime Message look up the tree for Message public Message find Message if message null message Message find Parent this Message class if message null throw new Unsupported Operation Exception Must have a m message tag in the tree return message public Mime Multipart get Root Multipart throws Exception Messaging Exception return Mime Multipart find Mime Message get Content Deprecated use link Mail Component find Parent Component Class Deprecated public Mail Component find Parent Component parent return find Parent parent null find the first parent that is a mail component of a given type public Mail Component find Parent Component parent Class c if parent null return null if parent instanceof Mail Component if c null c is Assignable From parent get Class return Mail Component parent return find Parent parent get Parent c Get a valuebinding as a string protected String get String String local Name if get Value local Name null return get Value local Name to String else return null Get a vauebinding protected Object get Value String local Name if get Value Expression local Name null return null else return get Value Expression local Name get Value get Faces Context get Context Get a valuebinding as a Boolean protected Boolean get Boolean String local Name Object o get Value local Name if o null if o instanceof Boolean return Boolean o else return Boolean value Of o to String else return null 
package org jboss seam example mail import java net import javax faces application Faces Message import org jboss seam Scope Type import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam core Resource Loader import org jboss seam faces Faces Messages import org jboss seam faces Renderer import org jboss seam log Log Name mail Example Scope Scope Type public class Mail Example Logger private Log log In private Faces Messages faces Messages In private Renderer renderer In private Asynchronous Mail Processor asynchronous Mail Processor In create true private Person person public void send try renderer render simple xhtml faces Messages add Email sent successfully catch Exception e log error Error sending mail e faces Messages add Faces Message Email sending failed e get Message public void send Attachment try renderer render attachment xhtml faces Messages add Email sent successfully catch Exception e log error Error sending mail e faces Messages add Faces Message Email sending failed e get Message public void send Html try renderer render html xhtml faces Messages add Email sent successfully catch Exception e log error Error sending mail e faces Messages add Email sending failed e get Message public void send Plain try renderer render plain xhtml faces Messages add Email sent successfully catch Exception e log error Error sending mail e faces Messages add Email sending failed e get Message public void send Template try renderer render templating xhtml faces Messages add Email sent successfully catch Exception e log error Error sending mail e faces Messages add Email sending failed e get Message public void send Asynchronous asynchronous Mail Processor schedule Send person Factory numbers public get File return Resource Loader instance get Resource numbers csv 
package org jboss seam mail ui context import java io Exception import java io Input Stream import java net Malformed Exception import java net import java security Principal import java util Iterator import java util Locale import java util Map import java util Set import javax faces context External Context public class Mail External Context Impl extends External Context private External Context delegate private String url Base public Mail External Context Impl External Context delegate this delegate null public Mail External Context Impl External Context delegate String url Base this delegate delegate this url Base url Base Override public void dispatch String path throws Exception delegate dispatch path Override public String encode Action String url return delegate encode Action url Override public String encode Namespace String name return delegate encode Namespace name Override public String encode Resource String url return delegate encode Resource url Override public Map get Application Map return delegate get Application Map Override public String get Auth Type return delegate get Auth Type Override public Object get Context return delegate get Context Override public String get Init Parameter String name return delegate get Init Parameter name Override public Map get Init Parameter Map return delegate get Init Parameter Map Override public String get Remote User return delegate get Remote User Override public Object get Request return delegate get Request Override public String get Request Context Path return url Base Override public Map get Request Cookie Map return delegate get Request Cookie Map Override public Map get Request Header Map return delegate get Request Header Map Override public Map get Request Header Values Map return delegate get Request Header Values Map Override public Locale get Request Locale return delegate get Request Locale Override public Iterator get Request Locales return delegate get Request Locales Override public Map get Request Map return delegate get Request Map Override public Map get Request Parameter Map return delegate get Request Parameter Map Override public Iterator get Request Parameter Names return delegate get Request Parameter Names Override public Map get Request Parameter Values Map return delegate get Request Header Values Map Override public String get Request Path Info return delegate get Request Path Info Override public String get Request Servlet Path return delegate get Request Servlet Path Override public get Resource String path throws Malformed Exception return delegate get Resource path Override public Input Stream get Resource As Stream String path return delegate get Resource As Stream path Override public Set get Resource Paths String path return delegate get Resource Paths path Override public Object get Response return delegate get Response Override public Object get Session boolean create return delegate get Session create Override public Map get Session Map return delegate get Session Map Override public Principal get User Principal return delegate get User Principal Override public boolean is User In Role String role return delegate is User In Role role Override public void log String message delegate log message Override public void log String message Throwable exception delegate log message exception Override public void redirect String url throws Exception delegate redirect url 
package org jboss seam mail ui context import javax el Context import javax faces context External Context import javax faces context Faces Context import javax faces context Response Writer import org jboss seam jsf Delegating Faces Context import org jboss seam mail ui context Mail External Context Impl import org jboss seam mail ui context Mail Response Writer public class Mail Faces Context Impl extends Delegating Faces Context private External Context external Context private Response Writer response Writer public Mail Faces Context Impl Faces Context delegate this delegate null public Mail Faces Context Impl Faces Context delegate String url Base super delegate external Context new Mail External Context Impl get Delegate get External Context url Base response Writer new Mail Response Writer get Delegate get Response Writer get Delegate get Response Writer get Content Type Override public External Context get External Context return external Context Override public Context get Context return get Delegate get Context Override public Response Writer get Response Writer return response Writer Override public void set Response Writer Response Writer response Writer this response Writer response Writer public static void start String url Base Faces Context mail Faces Context new Mail Faces Context Impl get Current Instance url Base set Current Instance mail Faces Context public static void stop if get Current Instance instanceof Mail Faces Context Impl Mail Faces Context Impl mail Faces Context Impl Mail Faces Context Impl get Current Instance set Current Instance mail Faces Context Impl get Delegate 
Copyright The Apache Software Foundation Licensed under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam mail ui context import java io Exception import java io Writer import javax faces Faces Exception import javax faces component Component import javax faces context Response Writer The Response Writer for mail objects needs to support unencoded plain text output public class Mail Response Writer extends Response Writer public static String text plain public static String text html private String content Type private Response Writer delegate public Mail Response Writer Response Writer response Writer String content Type throws Faces Exception this delegate response Writer this content Type content Type Override public String get Content Type if content Type null return delegate get Content Type else return content Type Override public String get Character Encoding return delegate get Character Encoding Override public void flush throws Exception delegate flush Override public void start Document throws Exception if equals get Content Type Do nothing ca n t write tags attributes to plaintext else delegate start Document Override public void end Document throws Exception if equals get Content Type Do nothing ca n t write tags attributes to plaintext else delegate end Document Override public void start Element String name Component component throws Exception if equals get Content Type Do nothing ca n t write tags attributes to plaintext else delegate start Element name component Override public void end Element String name throws Exception if equals get Content Type Do nothing ca n t write tags attributes to plaintext else delegate end Element name Override public void write Attribute String name Object value String property throws Exception if equals get Content Type Do nothing ca n t write tags attributes to plaintext else delegate write Attribute name value property Override public void write Attribute String name Object value String component Property Name throws Exception if equals get Content Type Do nothing ca n t write tags attributes to plaintext else delegate write Attribute name value component Property Name Override public void write Comment Object comment throws Exception if equals get Content Type Do nothing ca n t write comments to plaintext else delegate write Comment comment Override public void write Text Object value String component Property Name throws Exception if equals get Content Type if value null throw new Null Pointer Exception Text must not be null String str Value value to String write str Value else delegate write Text value component Property Name Override public void write Text char cbuf int off int len throws Exception if cbuf null throw new Null Pointer Exception cbuf name must not be null if cbuf length off len throw new Index Out Of Bounds Exception off len cbuf length String str Value new String cbuf off len write str Value Override public Response Writer clone With Writer Writer writer return clone With Writer writer null public Mail Response Writer clone With Writer Writer writer String content Type Mail Response Writer new Writer new Mail Response Writer delegate clone With Writer writer content Type return new Writer Writer methods Override public void close throws Exception delegate close Override public void write char cbuf int off int len throws Exception String str Value new String cbuf off len write str Value Override public void write int c throws Exception delegate write c Override public void write char cbuf throws Exception String str Value new String cbuf write str Value Override public void write String str throws Exception delegate write str Override public void write String str int off int len throws Exception String str Value str substring off off len write str Value 
package org jboss seam example mail import java io Exception import javax servlet Servlet Exception import javax servlet http Http Servlet import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam Component import org jboss seam servlet Contextual Http Servlet Request public class Mail Sender Servlet extends Http Servlet Override protected void do Get final Http Servlet Request req final Http Servlet Response resp throws Servlet Exception Exception new Contextual Http Servlet Request req Override public void process throws Exception Person person Person Component get Instance Person class String firstname req get Parameter name String email req get Parameter email person set Address email person set Firstname firstname Mail Example mail Example Mail Example Component get Instance Mail Example class mail Example send Plain resp get Writer write Email sent successfully resp set Status run Override protected void do Post Http Servlet Request req Http Servlet Response resp throws Servlet Exception Exception do Get req resp 
package org jboss seam mail import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java util Properties import javax mail Authenticator import javax mail Password Authentication import javax mail Session import javax naming Naming Exception import org jboss seam Component import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Abstract Mutable import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Naming Manager component for a javax mail Session Name org jboss seam mail mail Session Install precedence class Dependencies javax mail Session Scope Bypass Interceptors public class Mail Session extends Abstract Mutable implements Serializable private static final Log Provider log Logging get Log Provider Mail Session class private Session session private String host localhost private Integer port private String username private String password private boolean debug false private String session Jndi Name private boolean ssl private boolean tls true private String transport public Mail Session Only used for tests public Mail Session String transport this transport transport Unwrap public Session get Session throws Naming Exception if session null This simulates an scope component return Session Naming get Initial Context lookup get Session Jndi Name else return session Initialise mail session Unless disabled if a mail Session can be found in then just manage be a simple wrapper otherwise configure the session as specified in components xml Create public Mail Session create if get Session Jndi Name null create Session return this private void create Session if get Port null log debug Creating Java Mail Session get Host get Port else log debug Creating Java Mail Session get Host Properties properties new Properties Enable debugging if set properties put mail debug is Debug if get Username null get Password null log warn username supplied without a password if an empty password is required supply an empty string if get Username null get Password null log warn password supplied without a username if no authentication required supply neither if get Host null if is Ssl properties put mail smtps host get Host else properties put mail smtp host get Host if get Port null if is Ssl properties put mail smtps port get Port to String else properties put mail smtp port get Port to String else if is Ssl properties put mail smtps port else properties put mail smtp port properties put mail transport protocol get Transport Authentication if required Authenticator authenticator null if get Username null get Password null if is Ssl properties put mail smtps auth true else properties put mail smtp auth true authenticator new Authenticator Override protected Password Authentication get Password Authentication return new Password Authentication get Username get Password Use if supported if is Tls properties put mail smtp starttls enable true session javax mail Session get Instance properties authenticator session set Debug is Debug log debug connected to mail server public String get Password return password param password The password to use to authenticate to the sending server If no authentication is required it should be left empty Must be supplied in conjunction with username public void set Password String password this password password public String get Username return username param username The username to use to authenticate to the server If not set then no authentication is used Must be set in conjunction with password public void set Username String username this username username public boolean is Debug return debug param debug Whether to display debug message logging Warning very verbose public void set Debug boolean debug this debug debug public String get Host return host param host The host to connect to public void set Host String host this host host public void set Port Integer port this port port public Integer get Port return port public String get Session Jndi Name return session Jndi Name public void set Session Jndi Name String jndi Name this session Jndi Name jndi Name public boolean is Ssl return ssl public void set Ssl boolean ssl this ssl ssl public boolean is Tls return tls public void set Tls boolean tls this tls tls Get the transport to used If the not explicitly specified smtp or smtps is used public String get Transport if transport null return transport if is Ssl return smtps else return smtp Explicitly set the transport to use public void set Transport String transport this transport transport public static Session instance if Contexts is Application Context Active throw new Illegal Argument Exception Application scope not active return Session Component get Instance Mail Session class 
Licensed to the Apache Software Foundation under one or more contributor license agreements See the file distributed with this work for additional information regarding copyright ownership The licenses this file to You under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam example wicket import java util Arrays import java util Iterator import java util List import org apache wicket Component import org apache wicket Page Parameters import org apache wicket ajax Ajax Request Target import org apache wicket ajax markup html navigation paging Ajax Paging Navigator import org apache wicket extensions ajax markup html Indicating Ajax Button import org apache wicket feedback Container Feedback Message Filter import org apache wicket markup html Web Markup Container import org apache wicket markup html Web Page import org apache wicket markup html basic Label import org apache wicket markup html form Drop Down Choice import org apache wicket markup html form Form import org apache wicket markup html form Text Field import org apache wicket markup html link Link import org apache wicket markup html panel Feedback Panel import org apache wicket markup repeater Item import org apache wicket markup repeater data Data View import org apache wicket model Property Model import org apache wicket Page Parameters import org jboss seam wicket annotations Begin import org jboss seam annotations In import org jboss seam annotations security Restrict import org jboss seam core Conversation import org jboss seam core Manager import org jboss seam example wicket action Booking import org jboss seam example wicket action Booking List import org jboss seam example wicket action Hotel import org jboss seam example wicket action Hotel Booking import org jboss seam example wicket action Hotel Searching import org jboss seam security Identity import org jboss seam wicket Seam Property Model Restrict identity logged In public class Main extends Web Page In create true private Hotel Searching hotel Search In create true private List Booking bookings In create true private Booking List booking List In create true private Hotel Booking hotel Booking private Data View hotel Data View private Data View booked Hotel Data View private Hotel Search Form hotel Search Form private Web Markup Container hotels private Component no Hotels Found private Component messages public Main final Page Parameters parameters Template body new Template body add body hotel Search Form new Hotel Search Form search Criteria body add hotel Search Form messages new Feedback Panel messages new Container Feedback Message Filter this set Output Markup Id true body add messages Hotel Search results no Hotels Found new Label no Results No Hotels Found Only display the message if no hotels are found Override public boolean is Visible return Identity instance is Logged In hotel Search get Hotels size body add no Hotels Found set Output Markup Id true hotel Data View new Data View hotel new Simple Data Provider Data Provider adapts between your data and Wicket s internal representation public Iterator iterator int from int count return hotel Search get Hotels sub List from from count iterator public int size return hotel Search get Hotels size You specify the tr in the html and populate each one here Override protected void populate Item Item item final Hotel hotel Hotel item get Model Object item add new Label hotel Name hotel get Name item add new Label hotel Address hotel get Address item add new Label hotel City State Country hotel get City hotel get State hotel get Country item add new Label hotel Zip hotel get Zip item add new Bookmarkable Page Link view Hotel org jboss seam example wicket Hotel class set Parameter hotel Id hotel get Id item add new Link view Hotel Begin Override public void on Click hotel Booking select Hotel hotel set Response Page new org jboss seam example wicket Hotel new Page Parameters Set the maximum items per page hotel Data View set Items Per Page hotel Search Form get Page Size hotel Data View set Output Markup Id true hotels new Web Markup Container hotels hotels add hotel Data View set Output Markup Id true Add a pager hotels add new Ajax Paging Navigator hotel Pager hotel Data View Override public boolean is Visible return hotel Data View is Visible body add hotels Existing hotel booking booked Hotel Data View new Data View booked Hotel new Simple Data Provider public Iterator iterator int from int count return bookings sub List from from count iterator public int size return bookings size Override protected void populate Item Item item final Booking booking Booking item get Model Object item add new Label hotel Name booking get Hotel get Name item add new Label hotel Address booking get Hotel get Address item add new Label hotel City State Country booking get Hotel get City booking get Hotel get State booking get Hotel get State item add new Label hotel Check In Date booking get Checkin Date to String item add new Label hotel Check Out Date booking get Checkout Date to String item add new Label hotel Confirmation Number booking get Id to String item add new Link cancel Override public void on Click booking List cancel booking Override public boolean is Visible return Identity instance is Logged In bookings size body add booked Hotel Data View body add new Label no Hotels Booked No Bookings Found Override public boolean is Visible return Identity instance is Logged In bookings size public class Hotel Search Form extends Form private Integer page Size public Integer get Page Size return page Size public void set Page Size Integer page Size this page Size page Size public Hotel Search Form String id super id add new Text Field search String new Seam Property Model search String Override public Object get Target return hotel Search List Integer page Sizes Arrays as List new Integer add new Drop Down Choice page Size new Property Model this page Size page Sizes add new Indicating Ajax Button submit this Override protected void on Submit Ajax Request Target target Form form target add Component messages hotel Search find hotel Data View set Current Page hotel Data View set Items Per Page get Page Size hotel Data View model Changed hotels model Changed target add Component hotels target add Component no Hotels Found Override protected void on Error Ajax Request Target target Form form target add Component messages Override protected void on Submit hotel Data View set Current Page hotel Data View set Items Per Page get Page Size hotel Search find 
package org jboss seam persistence import static org jboss seam Scope Type import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam core Bijection Interceptor import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam transaction Transaction Swizzles entity references around each invocation maintaining referential integrity even across passivation of the stateful bean or Seam managed extended persistence context and allowing for more efficient replication author Gavin King author Pete Muir Interceptor around Bijection Interceptor class public class Managed Entity Interceptor extends Abstract Interceptor private static Log Provider log Logging get Log Provider Managed Entity Interceptor class private static Managed Entity Wrapper managed Entity Wrapper new Managed Entity Wrapper private boolean reentrant Around Invoke public Object around Invoke Invocation Context ctx throws Exception if reentrant return ctx proceed else reentrant true log trace Attempting to activate get Component get Name component managed Entity Wrapper deserialize ctx get Target get Component log debug Activated get Component get Name component try return ctx proceed finally if is Transaction Rolled Back Or Marked Rollback log trace Attempting to passivate get Component get Name component managed Entity Wrapper wrap ctx get Target get Component reentrant false log debug Passivated get Component get Name component public boolean is Interceptor Enabled return get Component get Scope private static boolean is Transaction Rolled Back Or Marked Rollback try return Transaction instance is Rolled Back Or Marked Rollback catch Exception e return false 
package org jboss seam persistence import static org jboss seam util import static org jboss seam util get Wrapped Data import static org jboss seam util set Wrapped Data import java lang reflect Field import java lang reflect Modifier import java util Collection import java util Iterator import java util Map import java util Map Entry import org jboss seam Component import org jboss seam Seam import org jboss seam annotations In import org jboss seam contexts Contexts import org jboss seam core Manager import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Reflections author Gavin King author Pete Muir author Norman Richards author Dan Allen public class Managed Entity Wrapper private static Log Provider log Logging get Log Provider Managed Entity Wrapper class public void wrap Object target Component component throws Exception if touched Contexts Exist log trace No touched persistence contexts Therefore there are no entities in this conversation whose identities need to be preserved return String old Cid switch To Conversation Context Of Component component Class bean Class target get Class for bean Class Object class bean Class bean Class get Superclass log trace Examining fields on bean Class for Field field bean Class get Declared Fields if ignore field Object value get Field Value target field if value null Object data Model null if is Instance value data Model value value get Wrapped Data data Model if contains Reference To Entity Instance value log trace Attempting to save wrapper for field value save Wrapper target component field data Model value else log trace Clearing wrapper for field value as it is n t a entity reference clear Wrapper component field else log trace Clearing wrapper for field as it is null clear Wrapper component field else log trace Ignoring field field as it is static transient or annotated with In restore Previous Conversation Context If Necessary old Cid public void deserialize Object controller Bean Component component throws Exception if touched Contexts Exist log trace No touched persistence contexts Therefore there are no entities in this conversation whose identities need to be restored return Class bean Class controller Bean get Class for bean Class Object class bean Class bean Class get Superclass log trace Examining fields on bean Class for Field field bean Class get Declared Fields if ignore field Object value get Field Value controller Bean field Object data Model null if value null is Instance value data Model value log trace Attempting to restore wrapper for field value be more selective get From Wrapper controller Bean component field data Model else log trace Ignoring field field as it is static transient or annotated with In private boolean contains Reference To Entity Instance Object value if value null return false else if value instanceof Collection Do a lazy man s generic check by scanning the collection until an entity is found nested objects not considered for Iterator iter Collection value iterator iter has Next Object v iter next if v null Seam get Entity Class v get Class null return true return false else if value instanceof Map Do a lazy man s generic check by scanning the collection until an entity is found nested objects not considered for Iterator iter Map value entry Set iterator iter has Next Entry e Entry iter next if e get Key null Seam get Entity Class e get Key get Class null e get Value null Seam get Entity Class e get Value get Class null return true return false else if Seam get Entity Class value get Class null return true return false private Object get Field Value Object bean Field field throws Exception if field is Accessible field set Accessible true Object value Reflections get field bean return value private boolean ignore Field field return Modifier is Transient field get Modifiers Modifier is Static field get Modifiers field is Annotation Present In class private boolean touched Contexts Exist Persistence Contexts touched Contexts Persistence Contexts instance return touched Contexts null touched Contexts get Touched Contexts size private String get Field Id Component component Field field return component get Name field get Name private void save Wrapper Object bean Component component Field field Object data Model Object value throws Exception Contexts get Conversation Context set get Field Id component field value if data Model null Reflections set field bean null else Clearing the wrapped data is simply unnecessary Either we leave it alone or we set the field to null set Wrapped Data data Model null private void clear Wrapper Component component Field field throws Exception Contexts get Conversation Context remove get Field Id component field private void get From Wrapper Object bean Component component Field field Object data Model throws Exception Object value Contexts get Conversation Context get get Field Id component field if value null if data Model null Reflections set field bean value else set Wrapped Data data Model value Changes the thread s current conversation context to the one that holds a reference to this component This is necessary if a nested conversation is making a call to a component in a parent conversation private String switch To Conversation Context Of Component Component component Manager manager Manager instance if manager is Nested Conversation String current Cid manager get Current Conversation Id String resident Cid manager get Current Conversation Entry find Position In Conversation Stack component if current Cid equals resident Cid Contexts get Conversation Context flush Manager instance switch Conversation resident Cid false return current Cid return null private void restore Previous Conversation Context If Necessary String old Cid if old Cid null Contexts get Conversation Context flush Manager instance switch Conversation old Cid false 
Id Managed Hibernate Session java dan j allen package org jboss seam persistence import java io Serializable import java util Array List import java util Collection import java util List import java util Map import javax naming Naming Exception import javax servlet http Http Session Activation Listener import javax servlet http Http Session Event import javax transaction Synchronization import javax transaction System Exception import org hibernate Flush Mode import org hibernate Session import org hibernate Session Factory import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Flush Mode Type import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Lifecycle import org jboss seam core Mutable import org jboss seam core Expressions Value Expression import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam transaction Transaction import org jboss seam transaction User Transaction import org jboss seam util Naming Seam component that manages a conversation scoped extended persistence context that can be shared by arbitrary other components author Gavin King Scope Scope Type Bypass Interceptors public class Managed Hibernate Session implements Serializable Http Session Activation Listener Mutable Persistence Context Manager Synchronization The serial Version private static final long serial Version private static final Log Provider log Logging get Log Provider Managed Hibernate Session class private Session session private String session Factory Jndi Name private String component Name private Value Expression Session Factory session Factory private List Filter filters new Array List Filter private transient boolean synchronization Registered private transient boolean destroyed public boolean clear Dirty return true Create public void create Component component this component Name component get Name if session Factory Jndi Name null session Factory Jndi Name java component Name Persistence Contexts instance touch component Name private void init Session throws Exception session get Session Factory From Jndi Or Value Binding open Session set Session Flush Mode Persistence Contexts instance get Flush Mode session Hibernate Persistence Provider proxy Session session for Filter f filters if f is Filter Enabled enable Filter f if log is Debug Enabled log debug created seam managed session for session factory session Factory Jndi Name private void enable Filter Filter f org hibernate Filter filter session enable Filter f get Name for Map Entry String Value Expression me f get Parameters entry Set Object filter Value me get Value get Value if filter Value instanceof Collection filter set Parameter List me get Key Collection filter Value else filter set Parameter me get Key filter Value filter validate Unwrap public Session get Session throws Exception if session null init Session if synchronization Registered Lifecycle is Destroying join Transaction return session private void join Transaction throws System Exception User Transaction transaction Transaction instance if transaction is Active session is Open try transaction register Synchronization this catch Exception e session get Transaction register Synchronization this synchronization Registered true we ca n t use Pre Passivate because it is intercept public void session Will Passivate Http Session Event event if synchronization Registered throw new Illegal State Exception can not passivate persistence context with active transaction if session null session is Open session is Dirty session close session null we ca n t use Post Activate because it is intercept public void session Did Activate Http Session Event event Destroy public void destroy destroyed true if synchronization Registered in requests that come through Seam Phase Listener there can be multiple transactions per request but they are all completed by the time contexts are destroyed so wait until the end of the request to close the session on the other hand if we are still waiting for the transaction to commit leave it open close Persistence Contexts instance untouch component Name public void after Completion int status synchronization Registered false if Contexts is Conversation Context Active if destroyed in calls to Bs and remote calls to Bs the transaction does n t commit until after contexts are destroyed so wait until the transaction completes before closing the session on the other hand if we still have an active conversation context leave it open close public void before Completion private void close boolean transaction Active false try transaction Active Transaction instance is Active catch System Exception se log debug could not get transaction status while destroying persistence context if transaction Active throw new Illegal State Exception attempting to destroy the persistence context while an active transaction exists try installing transaction ejb transaction if log is Debug Enabled log debug destroying seam managed session for session factory session Factory Jndi Name if session null session is Open session close private Session Factory get Session Factory From Jndi Or Value Binding Session Factory result null first try to find it via the value binding if session Factory null result session Factory get Value if its not there try if result null try result Session Factory Naming get Initial Context lookup session Factory Jndi Name catch Naming Exception ne throw new Illegal Argument Exception Session Factory not found in session Factory Jndi Name ne return result public String get Component Name return component Name public void change Flush Mode Flush Mode Type flush Mode if session null session is Open set Session Flush Mode flush Mode protected void set Session Flush Mode Flush Mode Type flush Mode switch flush Mode case session set Flush Mode Flush Mode break case session set Flush Mode Flush Mode break case session set Flush Mode Flush Mode break The name of the Hibernate Session Factory if it is to be obtained from public String get Session Factory Jndi Name return session Factory Jndi Name public void set Session Factory Jndi Name String session Factory Name this session Factory Jndi Name session Factory Name value binding expression that returns a Session Factory if it is to be obtained as a Seam component reference public void set Session Factory Value Expression Session Factory session Factory this session Factory session Factory public Value Expression Session Factory get Session Factory return session Factory Hibernate filters to enable automatically public List Filter get Filters return filters public void set Filters List Filter filters this filters filters Override public String to String return Managed Hibernate Session session Factory Jndi Name 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam bpm import static org jboss seam annotations Install import javax naming Naming Exception import javax transaction Rollback Exception import javax transaction Synchronization import javax transaction System Exception import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam transaction Transaction import org jboss seam transaction User Transaction import org jbpm Jbpm Context import org jbpm persistence db Db Persistence Service Factory import org jbpm svc Services Manages a reference to a Jbpm Context author a href mailto steve hibernate org Steve Ebersole a author Gavin King Scope Scope Type Name org jboss seam bpm jbpm Context Bypass Interceptors Install precedence dependencies org jboss seam bpm jbpm public class Managed Jbpm Context implements Synchronization private static final Log Provider log Logging get Log Provider Managed Jbpm Context class private Jbpm Context jbpm Context private boolean synchronization Registered Create public void create throws Naming Exception Rollback Exception System Exception jbpm Context Jbpm instance get Jbpm Configuration create Jbpm Context assert No Transaction Management log debug created seam managed j context private void assert No Transaction Management Db Persistence Service Factory dpsf Db Persistence Service Factory jbpm Context get Jbpm Configuration get Service Factory Services if dpsf is Transaction Enabled throw new Illegal State Exception j transaction management is enabled disable in jbpm cfg xml Unwrap public Jbpm Context get Jbpm Context throws Naming Exception Rollback Exception System Exception join Transaction return jbpm Context private void join Transaction throws System Exception User Transaction transaction Transaction instance if transaction is Active Or Marked Rollback throw new Illegal State Exception Jbpm Context may only be used inside a transaction if synchronization Registered Lifecycle is Destroying transaction is Active jbpm Context get Session is Open try what we really want here is if cmt transaction register Synchronization this catch Unsupported Operation Exception uoe jbpm Context get Session get Transaction register Synchronization this synchronization Registered true public void before Completion log debug flushing seam managed j context org jbpm graph exe Process Instance process Instance Process Instance instance if process Instance null jbpm Context save process Instance if Contexts is Business Process Context Active in requests that come through Seam Phase Listener transactions are committed before the contexts are destroyed flush here Contexts get Business Process Context flush jbpm Context get Session flush log debug done flushing seam managed j context public void after Completion int status synchronization Registered false if Contexts is Event Context Active in calls to Bs and remote calls to Bs the transaction does n t commit until after contexts are destroyed so wait until the transaction completes before closing the session on the other hand if we still have an active event context leave it open close Context Destroy public void destroy if synchronization Registered in requests that come through Seam Phase Listener there can be multiple transactions per request but they are all completed by the time contexts are dstroyed so wait until the end of the request to close the session on the other hand if we are still waiting for the transaction to commit leave it open close Context private void close Context log debug destroying seam managed j context jbpm Context close log debug done destroying seam managed j context public static Jbpm Context instance if Contexts is Event Context Active throw new Illegal State Exception no active event context return Jbpm Context Component get Instance Managed Jbpm Context class Scope Type 
Id Managed Persistence Context java mana package org jboss seam persistence import java io Serializable import java util Array List import java util List import javax naming Naming Exception import javax persistence Entity Manager import javax persistence Entity Manager Factory import javax servlet http Http Session Activation Listener import javax servlet http Http Session Event import javax transaction Synchronization import javax transaction System Exception import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Flush Mode Type import org jboss seam annotations Install import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam core Mutable import org jboss seam core Expressions Value Expression import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam transaction Transaction import org jboss seam transaction User Transaction import org jboss seam util Naming Seam component that manages a conversation scoped extended persistence context that can be shared by arbitrary other components author Gavin King Scope Scope Type Bypass Interceptors Install false public class Managed Persistence Context implements Serializable Http Session Activation Listener Mutable Persistence Context Manager Synchronization private static final long serial Version private static final Log Provider log Logging get Log Provider Managed Persistence Context class private transient Entity Manager entity Manager private String persistence Unit Jndi Name private String component Name private Value Expression Entity Manager Factory entity Manager Factory private List Filter filters new Array List Filter private transient boolean synchronization Registered private transient boolean destroyed public boolean clear Dirty return true Create public void create Component component this component Name component get Name if persistence Unit Jndi Name null persistence Unit Jndi Name java component Name Persistence Contexts instance touch component Name private void init Entity Manager entity Manager get Entity Manager Factory From Jndi Or Value Binding create Entity Manager Persistence Provider persistence Provider Persistence Provider instance entity Manager persistence Provider proxy Entity Manager entity Manager set Entity Manager Flush Mode Persistence Contexts instance get Flush Mode for Filter f filters if f is Filter Enabled persistence Provider enable Filter f entity Manager if log is Debug Enabled if entity Manager Factory null log debug created seam managed persistence context for persistence unit persistence Unit Jndi Name else log debug created seam managed persistence context from Entity Manager Factory Unwrap public Entity Manager get Entity Manager throws Naming Exception System Exception if entity Manager null init Entity Manager if synchronization Registered Lifecycle is Destroying join Transaction return entity Manager private void join Transaction throws System Exception User Transaction transaction Transaction instance if transaction is Active transaction enlist entity Manager try transaction register Synchronization this synchronization Registered true catch Exception e synchronization Registered Persistence Provider instance register Synchronization this entity Manager If a transaction is active fail the passivation The field holding the managed Entity Manager is marked as transient so that it is not serialized it ca n t be The transient keyword was choosen because we do n t want to forcefully close and nullify the Entity Manager on every request because then we have to keep hitting the database to load the entities back into the persistence context The only downside is that we can not clean up on the old node before the session hops but it turns out not to matter Note that we must use the method on the link Http Session Activation Listener interface rather than code Pre Passivate code since interceptors are disabled on this component public void session Will Passivate Http Session Event event if synchronization Registered throw new Illegal State Exception can not passivate persistence context with active transaction Note that we must use the method on the link Http Session Activation Listener interface rather than Post Activate since interceptors are disabled on this component public void session Did Activate Http Session Event event Destroy public void destroy destroyed true if synchronization Registered in requests that come through Seam Phase Listener there can be multiple transactions per request but they are all completed by the time contexts are destroyed so wait until the end of the request to close the session on the other hand if we are still waiting for the transaction to commit leave it open close Persistence Contexts instance untouch component Name public void after Completion int status synchronization Registered false if Contexts is Conversation Context Active if destroyed in calls to Bs and remote calls to Bs the transaction does n t commit until after contexts are destroyed so wait until the transaction completes before closing the session on the other hand if we still have an active conversation context leave it open close public void before Completion private void close if Contexts is Event Context Active boolean transaction Active false try User Transaction tx Transaction instance try transaction Active tx is Active catch System Exception se log debug could not get transaction status while destroying persistence context catch Exception e Web Sphere throws a javax naming Configuration Exception when Transaction instance is called during Session expiration and there is no lookup possible See details there log warn could not get transaction while destroying persistence context called during session expiration if transaction Active throw new Illegal State Exception attempting to destroy the persistence context while an active transaction exists try installing transaction ejb transaction if log is Debug Enabled log debug destroying seam managed persistence context for persistence unit persistence Unit Jndi Name if entity Manager null entity Manager is Open entity Manager close public Entity Manager Factory get Entity Manager Factory From Jndi Or Value Binding Entity Manager Factory result null first try to find it via the value binding if entity Manager Factory null result entity Manager Factory get Value if its not there try if result null try result Entity Manager Factory Naming get Initial Context lookup persistence Unit Jndi Name catch Naming Exception ne throw new Illegal Argument Exception Entity Manager Factory not found in persistence Unit Jndi Name ne return result value binding expression that returns an Entity Manager Factory for use of outside of Java Embeddable public Value Expression Entity Manager Factory get Entity Manager Factory return entity Manager Factory public void set Entity Manager Factory Value Expression Entity Manager Factory entity Manager Factory this entity Manager Factory entity Manager Factory The name of the Entity Manager Factory for use of in Java Embeddable public String get Persistence Unit Jndi Name return persistence Unit Jndi Name public void set Persistence Unit Jndi Name String persistence Unit Name this persistence Unit Jndi Name persistence Unit Name public String get Component Name return component Name Hibernate filters to enable automatically public List Filter get Filters return filters public void set Filters List Filter filters this filters filters public void change Flush Mode Flush Mode Type flush Mode if entity Manager null entity Manager is Open set Entity Manager Flush Mode flush Mode protected void set Entity Manager Flush Mode Flush Mode Type flush Mode switch flush Mode case entity Manager set Flush Mode javax persistence Flush Mode Type break case entity Manager set Flush Mode javax persistence Flush Mode Type break case Persistence Provider instance set Flush Mode Manual entity Manager break Override public String to String return Managed Persistence Context persistence Unit Jndi Name 
package org jboss seam jms import javax jms Exception import javax jms Queue import javax jms Queue Sender import javax naming Naming Exception import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam util Naming Manager for a Queue Sender for a named queue author Gavin King Scope Scope Type Bypass Interceptors public class Managed Queue Sender private String queue Jndi Name private Queue Sender queue Sender The name of the queue public String get Queue Jndi Name return queue Jndi Name public void set Queue Jndi Name String jndi Name this queue Jndi Name jndi Name public Queue get Queue throws Naming Exception return Queue Naming get Initial Context lookup queue Jndi Name Create public void create throws Exception Naming Exception queue Sender org jboss seam jms Queue Session instance create Sender get Queue Destroy public void destroy throws Exception queue Sender close Unwrap public Queue Sender get Queue Sender return queue Sender Override public String to String return Managed Queue Sender queue Jndi Name 
package org jboss seam jms import javax jms Exception import javax jms Topic import javax jms Topic Publisher import javax naming Naming Exception import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam util Naming Manager for a Topic Publisher for a named topic author Gavin King Scope Scope Type Bypass Interceptors Install false public class Managed Topic Publisher private String topic Jndi Name private Topic Publisher topic Publisher The name of the topic public String get Topic Jndi Name return topic Jndi Name public void set Topic Jndi Name String jndi Name this topic Jndi Name jndi Name public Topic get Topic throws Naming Exception return Topic Naming get Initial Context lookup topic Jndi Name Create public void create throws Exception Naming Exception topic Publisher org jboss seam jms Topic Session instance create Publisher get Topic Destroy public void destroy throws Exception topic Publisher close Unwrap public Topic Publisher get Topic Publisher return topic Publisher Override public String to String return Topic Connection topic Jndi Name 
package org jboss seam drools import java io Serializable import org drools Rule Base import org drools Stateful Session import org drools spi Global Resolver import org drools event Agenda Event Listener import org drools event process Process Event Listener import org drools event Working Memory Event Listener import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Destroy import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Mutable import org jboss seam core Expressions Value Expression import org jboss seam log Log Provider import org jboss seam log Logging conversation scoped Drools Working Memory for a named Rule Base author Gavin King author Tihomir Surdilovic Scope Scope Type Bypass Interceptors public class Managed Working Memory implements Mutable Serializable private static final long serial Version private static final Log Provider log Logging get Log Provider Managed Working Memory class private String rule Base Name private String event Listeners private Stateful Session stateful Session private Value Expression Rule Base rule Base public boolean clear Dirty return true The name of a Seam context variable holding an instance of org drools Rule Base return a context variable name deprecated public String get Rule Base Name return rule Base Name The name of a Seam context variable holding an instance of org drools Rule Base param rule Base Name a context variable name deprecated public void set Rule Base Name String rule Base Name this rule Base Name rule Base Name Unwrap public Stateful Session get Stateful Session if stateful Session null stateful Session get Rule Base From Value Binding new Stateful Session stateful Session set Global Resolver create Global Resolver stateful Session get Global Resolver if event Listeners null set Event Listeners stateful Session return stateful Session private void set Event Listeners Stateful Session stateful Session if event Listeners null for String event Listener event Listeners log debug adding event Listener event Listener try Class event Listener Class Class for Name event Listener Object event Listener Object event Listener Class new Instance if event Listener Object instanceof Working Memory Event Listener stateful Session add Event Listener Working Memory Event Listener event Listener Object else if event Listener Object instanceof Agenda Event Listener stateful Session add Event Listener Agenda Event Listener event Listener Object else if event Listener Object instanceof Process Event Listener stateful Session add Event Listener Working Memory Event Listener event Listener Object else log debug event Listener event Listener is not of valid type bypassing catch Exception e log error error adding event listener event Listener bypassing protected Rule Base get Rule Base From Value Binding Rule Base rule Base if this rule Base null rule Base this rule Base get Value else if rule Base Name null deprecated stuff rule Base Rule Base Component get Instance rule Base Name true else throw new Illegal State Exception No Rule Base if rule Base null throw new Illegal State Exception Rule Base not found rule Base Name return rule Base protected Global Resolver create Global Resolver Global Resolver delegate return new Seam Global Resolver delegate Destroy public void destroy stateful Session dispose public Value Expression Rule Base get Rule Base return rule Base public void set Rule Base Value Expression Rule Base rule Base this rule Base rule Base public String get Event Listeners return event Listeners public void set Event Listeners String event Listeners this event Listeners event Listeners 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam core import static org jboss seam annotations Install import java io Unsupported Encoding Exception import java net Encoder import java util Array List import java util Hash Map import java util List import java util List Iterator import java util Map import org jboss seam Component import org jboss seam Concurrent Request Timeout Exception import org jboss seam Scope Type import org jboss seam annotations Flush Mode Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Conversation Id Parameter import org jboss seam navigation Pages import org jboss seam pageflow Pageflow import org jboss seam util Id import org jboss seam web Session The Seam conversation manager author Gavin King author a href mailto theute jboss org Thomas Heute a Scope Scope Type Name org jboss seam core manager Install precedence Bypass Interceptors public class Manager public static final String org jboss seam conversation Timeout public static final String org jboss seam conversation Destroyed public static final String org jboss seam begin Conversation public static final String org jboss seam end Conversation private static final Log Provider log Logging get Log Provider Manager class public static final String org jboss seam core Manager private static final String The id of the current conversation private String current Conversation Id private List String current Conversation Id Stack Is the current conversation long running private boolean is Long Running Conversation private boolean update Model Values Called private boolean destroy Before Redirect private int conversation Timeout mins private int concurrent Request Timeout one second private String conversation Id Parameter conversation Id private String parent Conversation Id Parameter parent Conversation Id private String Encoding private Flush Mode Type default Flush Mode Kills all conversations except the current one public void kill All Other Conversations Conversation Entries conversation Entries Conversation Entries instance Events events Events exists Events instance null if conversation Entries null List Conversation Entry entries new Array List Conversation Entry conversation Entries get Conversation Entries for Conversation Entry conversation Entry entries kill all entries expect the current one current conversation entry will be null if kill all is called inside a new Begin if get Current Conversation Entry null get Current Conversation Id Stack contains conversation Entry get Id log debug Kill all other conversations executed kill conversation id conversation Entry get Id boolean locked conversation Entry lock No Wait we had better not wait for it or we would be waiting for other requests try if locked if log is Debug Enabled log debug conversation killed manually conversation Entry get Id else if we could not acquire the lock someone has left a garbage lock lying around the reason garbage locks can exist is that we do n t require a servlet filter to exist but if we do use Seam Exception Filter it will clean up garbage and this case should never occur this is slightly broken in theory there is a window where a new request could have come in and got the lock just before us but called touch just after we check the timeout but in practice this would be extremely rare and that request will get an Illegal Monitor State Exception when it tries to unlock the log debug kill conversation with garbage lock conversation Entry get Id if events null events raise Event conversation Entry destroy Conversation conversation Entry get Id get Session Map finally if locked conversation Entry unlock return Map session private Map String Object get Session Map this method could be moved to a utility class Map String Object session new Hash Map String Object String session Attribute Names Contexts get Session Context get Names for String attribute Name session Attribute Names session put attribute Name Contexts get Session Context get attribute Name return session icefaces uses this public String get Current Conversation Id return current Conversation Id Only public for the unit tests param id public void set Current Conversation Id String id current Conversation Id id current Conversation Entry null Change the id of the current conversation param id the new conversation id public void update Current Conversation Id String id if id null id equals current Conversation Id the conversation id has n t changed do nothing return if Conversation Entries instance get Conversation Ids contains id throw new Illegal State Exception Conversation id is already in use id String names Contexts get Conversation Context get Names Object values new Object names length for int i i names length i values i Contexts get Conversation Context get names i Contexts get Conversation Context remove names i Contexts get Conversation Context flush Conversation Entry ce Conversation Entries instance update Conversation Id current Conversation Id id String prior Id current Conversation Id set Current Conversation Id id if ce null set Current Conversation Id Stack ce get Conversation Id Stack what about child conversations else when ce is null the id stack will be left with a reference to the old conversation id so we need patch that up int pos current Conversation Id Stack index Of prior Id if pos current Conversation Id Stack set pos id for int i i names length i Contexts get Conversation Context set names i values i private void touch Conversation Stack List String stack if stack null iterate in reverse order so that current conversation sits at top of conversation lists List Iterator String iter stack list Iterator stack size while iter has Previous String conversation Id iter previous Conversation Entry conversation Entry Conversation Entries instance get Conversation Entry conversation Id if conversation Entry null conversation Entry touch private void end Nested Conversations String id for Conversation Entry ce Conversation Entries instance get Conversation Entries if ce get Conversation Id Stack contains id ce end public List String get Current Conversation Id Stack return current Conversation Id Stack public void set Current Conversation Id Stack List String stack current Conversation Id Stack stack private List String create Current Conversation Id Stack String id current Conversation Id Stack new Array List String current Conversation Id Stack add id return current Conversation Id Stack public String get Current Conversation Description Conversation Entry ce get Current Conversation Entry if ce null return null return ce get Description public Integer get Current Conversation Timeout Conversation Entry ce get Current Conversation Entry if ce null return null return ce get Timeout public Integer get Current Conversation Concurrent Request Timeout Conversation Entry ce get Current Conversation Entry if ce null return null return ce get Concurrent Request Timeout public String get Current Conversation View Id Conversation Entry ce get Current Conversation Entry if ce null return null return ce get View Id public String get Parent Conversation View Id Conversation Entry conversation Entry Conversation Entries instance get Conversation Entry get Parent Conversation Id return conversation Entry null null conversation Entry get View Id public String get Parent Conversation Id return current Conversation Id Stack null current Conversation Id Stack size null current Conversation Id Stack get public String get Root Conversation Id return current Conversation Id Stack null current Conversation Id Stack size null current Conversation Id Stack get current Conversation Id Stack size icefaces uses this public boolean is Long Running Conversation return is Long Running Conversation public boolean is Long Running Or Nested Conversation return is Long Running Conversation is Nested Conversation public boolean is Really Long Running Conversation return is Long Running Conversation get Current Conversation Entry is Remove After Redirect Session instance is Invalid public boolean is Nested Conversation return current Conversation Id Stack null current Conversation Id Stack size public void set Long Running Conversation boolean is Long Running Conversation this is Long Running Conversation is Long Running Conversation public static Manager instance if Contexts is Event Context Active throw new Illegal State Exception No active event context Manager instance Manager Component get Instance Manager class Scope Type if instance null throw new Illegal State Exception No Manager could be created make sure the Component exists in application scope return instance Clean up timed out conversations public void conversation Timeout Map String Object session long current Time System current Time Millis Conversation Entries conversation Entries Conversation Entries get Instance if conversation Entries null List Conversation Entry entries new Array List Conversation Entry conversation Entries get Conversation Entries for Conversation Entry conversation Entry entries boolean locked conversation Entry lock No Wait we had better not wait for it or we would be waiting for other requests try long delta current Time conversation Entry get Last Request Time if delta conversation Entry get Timeout if locked if log is Debug Enabled log debug conversation timeout for conversation conversation Entry get Id else if we could not acquire the lock someone has left a garbage lock lying around the reason garbage locks can exist is that we do n t require a servlet filter to exist but if we do use Seam Exception Filter it will clean up garbage and this case should never occur this is slightly broken in theory there is a window where a new request could have come in and got the lock just before us but called touch just after we check the timeout but in practice this would be extremely rare and that request will get an Illegal Monitor State Exception when it tries to unlock the log debug destroying conversation with garbage lock conversation Entry get Id if Events exists Events instance raise Event conversation Entry get Id destroy Conversation conversation Entry get Id session finally if locked conversation Entry unlock Clean up all state associated with a conversation private void destroy Conversation String conversation Id Map String Object session Lifecycle destroy Conversation Context session conversation Id Conversation Entries instance remove Conversation Entry conversation Id Touch the conversation stack destroy ended conversations and timeout inactive conversations public void end Request Map String Object session if is Long Running Conversation if log is Debug Enabled log debug Storing conversation state get Current Conversation Id touch Conversation Stack get Current Conversation Id Stack else if log is Debug Enabled log debug Discarding conversation state get Current Conversation Id now safe to remove the entry remove Current Conversation And Destroy Nested Contexts session if Init instance is Client Side Conversations difficult question is it really safe to do this here right now we do have to do it after committing the Seam transaction because we ca n t close Ms inside a txn this might be a bug in Manager instance conversation Timeout session public void unlock Conversation Conversation Entry ce get Current Conversation Entry if ce null if ce is Locked By Current Thread ce unlock else if is Nested Conversation Conversation Entries instance get Conversation Entry get Parent Conversation Id unlock private void remove Current Conversation And Destroy Nested Contexts Map String Object session Conversation Entries conversation Entries Conversation Entries get Instance if conversation Entries null conversation Entries remove Conversation Entry get Current Conversation Id destroy Nested Conversation Contexts session get Current Conversation Id private void destroy Nested Conversation Contexts Map String Object session String conversation Id List Conversation Entry entries new Array List Conversation Entry Conversation Entries instance get Conversation Entries for Conversation Entry ce entries if ce get Conversation Id Stack contains conversation Id String entry Conversation Id ce get Id log debug destroying nested conversation entry Conversation Id destroy Conversation entry Conversation Id session Look for a conversation propagation style in the request parameters and begin nested or join the conversation as necessary param parameters the request parameters public void handle Conversation Propagation Map parameters Conversation Propagation propagation Conversation Propagation instance if propagation get Propagation Type null return switch propagation get Propagation Type case if is Long Running Conversation throw new Illegal State Exception long running conversation already active begin Conversation if propagation get Pageflow null Pageflow instance begin propagation get Pageflow break case if is Long Running Conversation begin Conversation if propagation get Pageflow null Pageflow instance begin propagation get Pageflow break case if is Long Running Or Nested Conversation begin Nested Conversation else begin Conversation if propagation get Pageflow null Pageflow instance begin propagation get Pageflow break case end Conversation false break case end Root Conversation false break Initialize the request conversation context given the conversation id and optionally a parent conversation id If no conversation entry is found for the first id try the parent and if that also fails initialize a new temporary conversation context return false if the conversation entry was not found and it was required public boolean restore Conversation Conversation Propagation cp Conversation Propagation instance String conversation Id cp get Conversation Id String parent Conversation Id cp get Parent Conversation Id Conversation Entry ce null if conversation Id null Conversation Entries entries Conversation Entries instance ce entries get Conversation Entry conversation Id if ce null ce entries get Conversation Entry parent Conversation Id return restore And Lock Conversation ce cp is Validate Long Running Conversation private boolean restore And Lock Conversation Conversation Entry ce if ce null there was no id in either place so there is no long running conversation to restore log debug No stored conversation initialize Temporary Conversation return false else if ce lock do this since there is a window where conversation Timeout might try to destroy the conversation even if he can not obtain the lock touch Conversation Stack ce get Conversation Id Stack we found an id and obtained the lock so restore the long running conversation log debug Restoring conversation with id ce get Id set Long Running Conversation true set Current Conversation Id ce get Id set Current Conversation Id Stack ce get Conversation Id Stack boolean remove After Redirect ce is Remove After Redirect Pages is Debug Page hard dependency to if remove After Redirect set Long Running Conversation false ce set Remove After Redirect false return true else log debug Concurrent call to conversation throw new Concurrent Request Timeout Exception Concurrent call to conversation Initialize a new temporary conversation context and assign it a conversation id public void initialize Temporary Conversation String id generate Initial Conversation Id set Current Conversation Id id create Current Conversation Id Stack id set Long Running Conversation false protected String generate Initial Conversation Id return Id next Id private Conversation Entry create Conversation Entry Conversation Entry entry Conversation Entries instance create Conversation Entry get Current Conversation Id get Current Conversation Id Stack if entry is Nested if it is a newly created nested conversation we already own the lock entry lock return entry Promote a temporary conversation and make it long running public void begin Conversation if is Long Running Conversation log debug Beginning long running conversation set Long Running Conversation true create Conversation Entry Conversation instance force instantiation of the Conversation in the outer non nested conversation store Conversation To View Root If Necessary if Events exists Events instance raise Event Begin a new nested conversation public void begin Nested Conversation log debug Beginning nested conversation List String old Stack get Current Conversation Id Stack if old Stack null throw new Illegal State Exception No long running conversation active String id Id next Id set Current Conversation Id id create Current Conversation Id Stack id add All old Stack create Conversation Entry store Conversation To View Root If Necessary if Events exists Events instance raise Event Make a long running conversation temporary public void end Conversation boolean before Redirect if is Long Running Conversation log debug Ending long running conversation if Events exists Events instance raise Event set Long Running Conversation false destroy Before Redirect before Redirect end Nested Conversations get Current Conversation Id store Conversation To View Root If Necessary unlock Conversation Make the root conversation in the current conversation stack temporary public void end Root Conversation boolean before Redirect if is Nested Conversation switch Conversation get Root Conversation Id end Conversation before Redirect protected void store Conversation To View Root If Necessary two reasons for this a cache so we can unlock it after destruction of the session context private Conversation Entry current Conversation Entry public Conversation Entry get Current Conversation Entry if current Conversation Entry null current Conversation Entry Conversation Entries instance get Conversation Entry get Current Conversation Id return current Conversation Entry Leave the scope of the current conversation leaving it completely intact public void leave Conversation unlock Conversation initialize Temporary Conversation Switch to another long running conversation and mark the conversation as long running overriding a previous call in the same thread to demote a long running conversation param id the id of the conversation to switch to return true if the conversation exists public boolean switch Conversation String id return switch Conversation id true Switch to another long running conversation param id the id of the conversation to switch to param promote promote the current conversation to long running overriding any previous demotion return true if the conversation exists public boolean switch Conversation String id boolean promote Conversation Entry ce Conversation Entries instance get Conversation Entry id if ce null if ce lock unlock Conversation set Current Conversation Id id set Current Conversation Id Stack ce get Conversation Id Stack if promote set Long Running Conversation true return true else return false else return false public int get Conversation Timeout return conversation Timeout public void set Conversation Timeout int conversation Timeout this conversation Timeout conversation Timeout Temporarily promote a temporary conversation to a long running conversation for the duration of a browser redirect After the redirect the conversation will be demoted back to a temporary conversation public void before Redirect icefaces uses this if destroy Before Redirect Conversation Entry ce get Current Conversation Entry if ce null ce create Conversation Entry ups we do n t really want to destroy it on this request after all ce set Remove After Redirect is Long Running Conversation set Long Running Conversation true protected static boolean is Different Conversation Id Conversation Id Parameter sp Conversation Id Parameter tp return sp get Name tp get Name sp get Name null sp get Name equals tp get Name Add the conversation id to a if necessary deprecated use encode Conversation Id String url String view Id public String encode Conversation Id String url icefaces uses this return encode Conversation Id Parameter url get Conversation Id Parameter get Current Conversation Id Add the conversation id to a if necessary public String encode Conversation Id String url String view Id icefaces uses this Conversation Id Parameter cip Pages instance get Page view Id get Conversation Id Parameter return encode Conversation Id Parameter url cip get Parameter Name cip get Parameter Value Add the conversation id to a if necessary public String encode Conversation Id String url String view Id String conversation Id icefaces uses this Conversation Id Parameter cip Pages instance get Page view Id get Conversation Id Parameter return encode Conversation Id Parameter url cip get Parameter Name cip get Parameter Value conversation Id protected String encode Conversation Id Parameter String url String param Name String param Value if Session instance is Invalid contains Parameter url param Name return url else if destroy Before Redirect if is Nested Conversation return new String Builder url length param Name length append url append url contains append param Name append append encode get Parent Conversation Id to String else return url else String Builder builder new String Builder url length param Name length append url append url contains append param Name append append encode param Value if is Nested Conversation is Really Long Running Conversation builder append append parent Conversation Id Parameter append append encode get Parent Conversation Id return builder to String Add the parameters to a public String encode Parameters String url Map String Object parameters if parameters is Empty return url String Builder builder new String Builder url for Map Entry String Object param parameters entry Set String parameter Name param get Key if contains Parameter url parameter Name Object parameter Value param get Value if parameter Value instanceof Iterable for Object value Iterable parameter Value builder append append parameter Name append if value null builder append encode value else builder append append parameter Name append if parameter Value null builder append encode parameter Value if url index Of builder set Char At url length return builder to String private boolean contains Parameter String url String parameter Name return url index Of parameter Name url index Of parameter Name private String encode Object value try return Encoder encode String value Of value get Uri Encoding catch Unsupported Encoding Exception iee throw new Runtime Exception iee public String get Conversation Id Parameter return conversation Id Parameter public void set Conversation Id Parameter String conversation Id Parameter this conversation Id Parameter conversation Id Parameter public String get Parent Conversation Id Parameter return parent Conversation Id Parameter public void set Parent Conversation Id Parameter String nested Conversation Id Parameter this parent Conversation Id Parameter nested Conversation Id Parameter public int get Concurrent Request Timeout return concurrent Request Timeout public void set Concurrent Request Timeout int request Wait this concurrent Request Timeout request Wait public Flush Mode Type get Default Flush Mode return default Flush Mode public void set Default Flush Mode Flush Mode Type default Flush Mode this default Flush Mode default Flush Mode Override public String to String return Manager current Conversation Id Stack public void redirect String view Id String id declare it here since Conversation Entry calls it throw new Unsupported Operation Exception public void redirect String view Id declare it here since Conversation calls it throw new Unsupported Operation Exception protected void flush Conversation Metadata if is Long Running Conversation important only do this stuff when a long running conversation exists otherwise we would force creation of a conversation entry Conversation instance flush public String get Uri Encoding return Encoding public void set Uri Encoding String encoding Encoding encoding 
Id Map Data Model java pete muir jboss org package org jboss seam jsf import java io Exception import java io Object Input Stream import java io Object Output Stream import java io Serializable import java util Abstract Map import java util Abstract Set import java util Array List import java util Iterator import java util List import java util Map import java util Set import javax faces model Data Model Event import javax faces model Data Model Listener Data Model for maps author Gavin King public class Map Data Model extends javax faces model Data Model implements Serializable private static final long serial Version private int row Index private Map data private transient List Map Entry entries public Map Data Model public Map Data Model Map map if map null throw new Illegal Argument Exception null map data set Wrapped Data map Override public int get Row Count if entries null return return entries size Returns a Map Entry Override public Object get Row Data if entries null return null if is Row Available throw new Illegal Argument Exception row is unavailable return entries get row Index Override public int get Row Index return row Index Override public Object get Wrapped Data return new Abstract Map Override public Set entry Set return new Abstract Set Override public Iterator iterator return entries iterator Override public int size return entries size Override public boolean is Row Available return entries null row Index row Index entries size Override public void set Row Index int new Row Index if new Row Index throw new Illegal Argument Exception illegal row Index new Row Index int old Row Index row Index row Index new Row Index if entries null old Row Index new Row Index Object data is Row Available get Row Data null Data Model Event event new Data Model Event this new Row Index data Data Model Listener listeners get Data Model Listeners for int i i listeners length i listeners i row Selected event Override public void set Wrapped Data Object data this data Map data entries data null null new Array List Map data entry Set int row Index data null set Row Index row Index private void write Object Object Output Stream oos throws Exception oos write Int row Index oos write Object data private void read Object Object Input Stream ois throws Exception Class Not Found Exception row Index ois read Int data Map ois read Object entries data null null new Array List data entry Set 
package org jboss seam remoting wrapper import java io Exception import java io Output Stream import java lang reflect Parameterized Type import java lang reflect Type import java util Hash Map import java util List import java util Map import org dom j Element author Shane Bryzak public class Map Wrapper extends Base Wrapper implements Wrapper private static final byte map get Bytes private static final byte map get Bytes private static final byte element get Bytes private static final byte element get Bytes private static final byte k get Bytes private static final byte k get Bytes private static final byte v get Bytes private static final byte v get Bytes public void marshal Output Stream out throws Exception out write Map m Map this value for Object key m key Set out write out write context create Wrapper From Object key String format s key path marshal out out write out write context create Wrapper From Object m get key String format s value path marshal out out write out write out write public Object convert Type type throws Conversion Exception if context null throw new Illegal State Exception No call context has been set Class type Class null Type key Type null Type value Type null Either the type should be a generified Map if type instanceof Parameterized Type Map class is Assignable From Class Parameterized Type type get Raw Type type Class Class Parameterized Type type get Raw Type for Type t Parameterized Type type get Actual Type Arguments if key Type null key Type t else value Type t break Or a non generified Map else if type instanceof Class Map class is Assignable From Class type if Class type is Interface type Class Class type key Type Object class value Type Object class If it s neither throw an exception else throw new Conversion Exception String format Can not convert value to type s type If we do n t have a concrete type default to creating a Hash Map if type Class null type Class is Interface value new Hash Map else try Otherwise create an instance of the concrete type if type instanceof Class value Class type new Instance else if type instanceof Parameterized Type value Class Parameterized Type type get Raw Type new Instance catch Exception ex throw new Conversion Exception String format Could not create value of type s type for Element e List Element element elements element Element key Element Element e element k element Iterator next Element value Element Element e element v element Iterator next Map value put context create Wrapper From Element key Element convert key Type context create Wrapper From Element value Element convert value Type return value public Conversion Score conversion Score Class cls if Map class is Assignable From cls return Conversion Score exact if cls equals Object class return Conversion Score compatible return Conversion Score nomatch 
package org jboss seam remoting import java io Exception import java io Output Stream import org jboss seam remoting wrapper Bean Wrapper import org jboss seam remoting wrapper Wrapper author Shane Bryzak public class Marshal Utils private static final byte result id get Bytes private static final byte get Bytes private static final byte result get Bytes private static final byte result get Bytes private static final byte value get Bytes private static final byte value get Bytes private static final byte exception get Bytes private static final byte exception get Bytes private static final byte message get Bytes private static final byte message get Bytes public static void marshal Result Call call Output Stream out throws Exception if call get Id null out write out write call get Id get Bytes out write else out write if call get Exception null out write out write call get Context create Wrapper From Object call get Exception get Message marshal out out write out write else out write call get Context create Wrapper From Object call get Result marshal out out write out write Request Handler Using a for loop because stuff can get added to out Refs as we recurse the object graph for int i i call get Context get Out Refs size i Wrapper wrapper call get Context get Out Refs get i out write Request Handler out write Integer to String i get Bytes out write Request Handler if wrapper instanceof Bean Wrapper call get Constraints null Bean Wrapper wrapper serialize out call get Constraints else wrapper serialize out out write Request Handler out write Request Handler out write 
package org jboss seam jmx import javax management Object Name import org jboss seam annotations Unwrap public class Mbean String object Name String agent Id String proxy Class public String get Agent Id return agent Id public void set Agent Id String agent Id this agent Id agent Id public String get Object Name return object Name public void set Object Name String object Name this object Name object Name public String get Proxy Class return proxy Class public void set Proxy Class String proxy Class this proxy Class proxy Class Unwrap public Object create Proxy try Object o Bean Proxy get Class for Name proxy Class new Object Name get Object Name get Agent Id return o catch Exception e throw new Runtime Exception e 
package org jboss seam jmx import java lang reflect Proxy import javax management Dynamic Bean import javax management Instance Already Exists Exception import javax management Bean Exception import javax management Bean Registration Exception import javax management Bean Server import javax management Bean Server Factory import javax management Not Compliant Bean Exception import javax management Object Name import javax management Reflection Exception public class Bean Proxy Static Creates a proxy to an Bean in the given Bean server param intrface the interface this proxy implements param name object name of the Bean this proxy connects to param agent agent of the Bean server this proxy connects to return proxy instance throws Bean Proxy Creation Exception if the proxy could not be created public static Object get Class intrface Object Name name String agent throws Bean Proxy Creation Exception return get intrface name Bean Server Bean Server Factory find Bean Server agent get Creates a proxy to an Bean in the given Bean server param intrface the interface this proxy implements param name object name of the Bean this proxy connects to param server Bean server this proxy connects to return proxy instance throws Bean Proxy Creation Exception if the proxy could not be created public static Object get Class intrface Object Name name Bean Server server throws Bean Proxy Creation Exception return get new Class intrface Proxy Context class Dynamic Bean class name server public static Object get Object Name name Bean Server server throws Bean Proxy Creation Exception return get new Class Proxy Context class Dynamic Bean class name server private static Object get Class interfaces Object Name name Bean Server server throws Bean Proxy Creation Exception return Proxy new Proxy Instance Thread current Thread get Context Class Loader interfaces new Invocation Handler server name Convenience method for registering an Bean and retrieving a proxy for it param instance Bean instance to be registered param intrface the interface this proxy implements param name object name of the Bean param agent agent of the Bean server this proxy connects to return proxy instance throws Bean Proxy Creation Exception if the proxy could not be created public static Object create Class instance Class intrface Object Name name String agent throws Bean Proxy Creation Exception return create instance intrface name Bean Server Bean Server Factory find Bean Server agent get Convenience method for registering an Bean and retrieving a proxy for it param instance Bean instance to be registered param intrface the interface this proxy implements param name object name of the Bean param server Bean server this proxy connects to throws Bean Proxy Creation Exception if the proxy could not be created public static Object create Class instance Class intrface Object Name name Bean Server server throws Bean Proxy Creation Exception try server create Bean instance get Name name return get intrface name server catch Reflection Exception e throw new Bean Proxy Creation Exception Creating the Bean failed e to String catch Instance Already Exists Exception e throw new Bean Proxy Creation Exception Instance already exists name catch Bean Registration Exception e throw new Bean Proxy Creation Exception Error registering the Bean to the server e to String catch Bean Exception e throw new Bean Proxy Creation Exception e to String catch Not Compliant Bean Exception e throw new Bean Proxy Creation Exception Not a compliant Bean instance get Class get Name e to String 
package org jboss seam jmx import javax management Exception public class Bean Proxy Creation Exception extends Exception private static final long serial Version Constructors public Bean Proxy Creation Exception super public Bean Proxy Creation Exception String msg super msg 
package org jboss seam example seamspace import java io Serializable import java util Calendar import java util Date import java util Gregorian Calendar import java util Set import javax persistence Entity import javax persistence Fetch Type import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence One To Many import javax persistence One To One import javax persistence Table import javax persistence Transient import javax persistence Unique Constraint import org hibernate validator constraints Email import javax validation constraints Size import javax validation constraints Not Null import javax validation constraints Pattern import org jboss seam annotations Name member account author Shane Bryzak Entity Name member Table unique Constraints Unique Constraint column Names membername public class Member implements Serializable private static final long serial Version public enum Gender male Male his female Female her private String descr private String possessive Gender String descr String possessive this descr descr this possessive possessive public String get Descr return descr public String get Possessive return possessive private Integer member Id private String member Name private String first Name private String last Name private String email private Member Image picture private String tagline private Gender gender private Date dob private String location private Date member Since private Set Member Image images private Set Member Friend friends Id Generated Value public Integer get Member Id return member Id public void set Member Id Integer member Id this member Id member Id Not Null Size min max Pattern regexp a z a z message Member name must start with a letter and only contain letters numbers or underscores public String get Member Name return member Name public void set Member Name String member Name this member Name member Name Not Null Size min max Pattern regexp a z message First name must only contain letters public String get First Name return first Name public void set First Name String first Name this first Name first Name Not Null Size min max Pattern regexp a z message Last name must only contain letters public String get Last Name return last Name public void set Last Name String last Name this last Name last Name Not Null Email public String get Email return email public void set Email String email this email email One To One fetch Fetch Type Join Column name public Member Image get Picture return picture public void set Picture Member Image picture this picture picture Not Null public Date get Dob return dob public void set Dob Date dob this dob dob Not Null public Gender get Gender return gender public void set Gender Gender gender this gender gender public String get Location return location public void set Location String location this location location Not Null public Date get Member Since return member Since public void set Member Since Date member Since this member Since member Since public String get Tagline return tagline public void set Tagline String tagline this tagline tagline One To Many mapped By member fetch Fetch Type public Set Member Image get Images return images public void set Images Set Member Image images this images images One To Many mapped By member public Set Member Friend get Friends return friends public void set Friends Set Member Friend friends this friends friends Transient public boolean is Friend Member member for Member Friend f friends if f get Friend get Member Id equals member get Member Id return true return false Transient public String get Age Calendar birthday new Gregorian Calendar birthday set Time dob int by birthday get Calendar int bm birthday get Calendar int bd birthday get Calendar Calendar now new Gregorian Calendar now set Time In Millis System current Time Millis int ny now get Calendar int nm now get Calendar int nd now get Calendar int age ny by nm bm nm bm nd bd return String format d years old age 
package org jboss seam example seamspace import java io Serializable import java util Set import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Join Table import javax persistence Many To Many import javax persistence One To One import javax persistence Table import javax persistence Unique Constraint import javax validation constraints Not Null import org jboss seam annotations security management Password Salt import org jboss seam annotations security management User Enabled import org jboss seam annotations security management User Password import org jboss seam annotations security management User Principal import org jboss seam annotations security management User Roles Entity Table unique Constraints Unique Constraint column Names username public class Member Account implements Serializable private static final long serial Version private Integer account Id private String username private String password Hash private String password Salt private boolean enabled private Set Member Role roles private Member member Id Generated Value public Integer get Account Id return account Id public void set Account Id Integer account Id this account Id account Id Not Null User Principal public String get Username return username public void set Username String username this username username User Password public String get Password Hash return password Hash public void set Password Hash String password Hash this password Hash password Hash Password Salt public String get Password Salt return password Salt public void set Password Salt String password Salt this password Salt password Salt User Enabled public boolean is Enabled return enabled public void set Enabled boolean enabled this enabled enabled User Roles Many To Many target Entity Member Role class Join Table name Account Membership join Columns Join Column name Account Id inverse Join Columns Join Column name Member Of public Set Member Role get Roles return roles public void set Roles Set Member Role roles this roles roles One To One Join Column name public Member get Member return member public void set Member Member member this member member 
package org jboss seam example seambay import static org jboss seam Scope Type import java io Serializable import javax persistence Entity Manager import org jboss seam Scope Type import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope Name member Action Scope public class Member Action implements Serializable private static final long serial Version private String member Name private Account selected Member In Entity Manager entity Manager Factory value selected Member scope Scope Type public Account get Selected Member if selected Member null member Name null selected Member Account entity Manager create Query from Account where name name set Parameter name member Name get Single Result return selected Member public String get Member Name return member Name public void set Member Name String member Name this member Name member Name 
package org jboss seam example seamspace import java io Serializable import java text Simple Date Format import java util Collections import java util Comparator import java util Date import java util List import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Lob import javax persistence Many To One import javax persistence One To Many import javax persistence Pre Persist import javax persistence Transient import org jboss seam annotations Name import org jboss seam annotations security Restrict Entity Name member Blog public class Member Blog implements Serializable private static final long serial Version private static Simple Date Format df new Simple Date Format d yyyy hh mm a private Integer blog Id private Member member private Date entry Date private String title private String text private List Blog Comment comments This is an example of a security restriction Any attempts to persist a new member Blog instance requires the user to pass a permission check In this case because the method is annotated with code Pre Persist code the required permission is member Blog insert Pre Persist Restrict public void pre Persist Id Generated Value public Integer get Blog Id return blog Id public void set Blog Id Integer blog Id this blog Id blog Id public Date get Entry Date return entry Date public void set Entry Date Date entry Date this entry Date entry Date Transient public String get Formatted Entry Date return df format entry Date Many To One Join Column name public Member get Member return member public void set Member Member member this member member Lob public String get Text return text public void set Text String text this text text public String get Title return title public void set Title String title this title title One To Many mapped By blog public List Blog Comment get Comments return comments public void set Comments List Blog Comment comments this comments comments Transient public List Blog Comment get Sorted Comments Collections sort comments new Comparator Blog Comment public int compare Blog Comment o Blog Comment o return int o get Comment Date get Time o get Comment Date get Time return comments Transient public int get Comment Count return comments size 
package org jboss seam example seamspace import java io Serializable import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Many To One import org jboss seam annotations Name Entity Name member Friend public class Member Friend implements Serializable private static final long serial Version private Integer id private Member member private Member friend private String introduction private String response private boolean authorized Id Generated Value public Integer get Id return id public void set Id Integer id this id id public boolean is Authorized return authorized public void set Authorized boolean authorized this authorized authorized Many To One Join Column name public Member get Friend return friend public void set Friend Member friend this friend friend Many To One Join Column name public Member get Member return member public void set Member Member member this member member public String get Introduction return introduction public void set Introduction String introduction this introduction introduction public String get Response return response public void set Response String response this response response 
package org jboss seam example seamspace import java io Serializable import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Lob import javax persistence Many To One import org jboss seam annotations security permission Permission import org jboss seam annotations security permission Permissions Permissions Permission action view Permission action comment Entity public class Member Image implements Serializable private static final long serial Version private Integer image Id private Member member private byte data private String content Type private String caption Id Generated Value public Integer get Image Id return image Id public void set Image Id Integer image Id this image Id image Id Many To One Join Column name public Member get Member return member public void set Member Member member this member member public String get Content Type return content Type public void set Content Type String content Type this content Type content Type public String get Caption return caption public void set Caption String caption this caption caption Lob public byte get Data return data public void set Data byte data this data data 
package org jboss seam example seamspace import java io Serializable import java util Set import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Join Table import javax persistence Many To Many import org jboss seam annotations security management Role Conditional import org jboss seam annotations security management Role Groups import org jboss seam annotations security management Role Name Entity public class Member Role implements Serializable private static final long serial Version private Integer role Id private String name private boolean conditional private Set Member Role groups Id Generated Value public Integer get Role Id return role Id public void set Role Id Integer role Id this role Id role Id Role Name public String get Name return name public void set Name String name this name name Role Groups Many To Many target Entity Member Role class Join Table name Role Group join Columns Join Column name Role Id inverse Join Columns Join Column name Member Of public Set Member Role get Groups return groups public void set Groups Set Member Role groups this groups groups Role Conditional public boolean is Conditional return conditional public void set Conditional boolean conditional this conditional conditional 
Id Message java theute package org jboss seam example messages import static org jboss seam Scope Type import java io Serializable import java util Date import javax persistence Basic import javax persistence Entity import javax persistence Generated Value import javax persistence Generation Type import javax persistence Id import javax persistence Lob import javax persistence Temporal import javax persistence Temporal Type import javax validation constraints Not Null import javax validation constraints Size import org jboss seam annotations Name import org jboss seam annotations Scope Entity Name message Scope public class Message implements Serializable private static final long serial Version private Long id private String title private String text private boolean read private Date datetime Id Generated Value strategy Generation Type public Long get Id return id public void set Id Long id this id id Not Null Size max public String get Title return title public void set Title String title this title title Not Null Lob public String get Text return text public void set Text String text this text text Not Null public boolean is Read return read public void set Read boolean read this read read Not Null Basic Temporal Temporal Type public Date get Datetime return datetime public void set Datetime Date datetime this datetime datetime 
package org jboss seam flex import java io import java lang reflect Method import java util concurrent Concurrent Hash Map import java util Collection import javax servlet import javax servlet http import flex messaging import flex messaging config import flex messaging endpoints Endpoint import flex messaging log Servlet Log Target import flex messaging services Remoting Service import flex messaging services remoting import org jboss seam annotations Name import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Reflections import org jboss seam util Resources public class Message Broker Manager private static final String seam amf private static final Log Provider log Logging get Log Provider Message Broker Manager class private static String flex private static String flex seam default private flex messaging Message Broker broker private Servlet Config servlet Config public void init Servlet Config servlet Config throws Servlet Exception this servlet Config servlet Config allocate thread local variables create Thread Locals try Flex Context set Thread Local Objects null null null null null servlet Config Servlet Log Target set Servlet Context servlet Config get Servlet Context Flex Configuration Manager config Manager new Seam Flex Configuration Manager Messaging Configuration config config Manager get Messaging Configuration servlet Config config create Log And Targets broker config create Broker servlet Config get Init Parameter message Broker Id Thread current Thread get Context Class Loader Set the servlet config as thread local Flex Context set Thread Local Objects null null broker null null servlet Config set Init Servlet Context broker servlet Config get Servlet Context Create endpoints services security and logger on the broker based on configuration config configure Broker broker if broker get Channel Ids null broker get Channel Ids contains log info seam amf endpoint not found creating broker create Endpoint http server name server port context root messagebroker seam amf flex messaging endpoints Endpoint initialize the http Session To Flex Session Map synchronized Http Flex Session map Lock if servlet Config get Servlet Context get Attribute Http Flex Session null servlet Config get Servlet Context set Attribute Http Flex Session new Concurrent Hash Map broker start config Manager report Tokens config report Unused Properties clear the broker and servlet config as this thread is done Flex Context clear Thread Local Objects catch Throwable t log error Message Broker Servlet failed to initialize due to runtime exception destroy throw new Servlet Exception t private void set Init Servlet Context flex messaging Message Broker broker Servlet Context ctx throws Exception Method set Method flex messaging Message Broker class get Declared Method set Init Servlet Context Servlet Context class set Method set Accessible true Reflections invoke set Method broker ctx public void destroy if broker null broker stop release static thread locals destroy Thread Locals public void service Http Servlet Request req Http Servlet Response res log info try broker init Thread Locals Flex Context set Thread Local Objects null null broker req res servlet Config necessary to create for later Http Flex Session fs Http Flex Session get Flex Session req log info flex session is fs Endpoint endpoint find Endpoint req res log info Endpoint endpoint describe Endpoint endpoint service req res catch Unsupported Operation Exception ue ue print Stack Trace send Error res catch Runtime Exception e e print Stack Trace finally Flex Context clear Thread Local Objects log info private void send Error Http Servlet Response res if res is Committed try res send Error Http Servlet Response catch Exception ignored private Endpoint find Endpoint Http Servlet Request req Http Servlet Response res String context Path req get Context Path String path Info req get Path Info String endpoint Path req get Servlet Path if path Info null endpoint Path endpoint Path path Info log info flex request for cp context Path ep endpoint Path try return broker get Endpoint endpoint Path context Path catch Message Exception me if res is Committed try res send Error Http Servlet Response catch Exception ignore ignore return null Call on servlet startup public void create Thread Locals allocate static thread local objects flex messaging Message Broker create Thread Local Objects Flex Context create Thread Local Objects flex messaging io Serialization Context create Thread Local Objects flex messaging io Type Marshalling Context create Thread Local Objects protected void destroy Thread Locals Destroy static thread local objects flex messaging Message Broker release Thread Local Objects Flex Context release Thread Local Objects flex messaging io Serialization Context release Thread Local Objects flex messaging io Type Marshalling Context release Thread Local Objects private Remoting Service create Remoting Service Remoting Service remoting Service null remoting Service new Remoting Service remoting Service set Id remoting service broker add Service remoting Service log info Flex remotingservice not found creating remoting Service return remoting Service private Remoting Service find Remoting Service return Remoting Service broker get Service By Type Remoting Service class get Name private void register Seam Adapter Remoting Service remoting Service if remoting Service get Registered Adapters get Seam Adapter null remoting Service register Adapter Seam Adapter Seam Adapter class get Name private Destination create Destination String destination Name String component Name Remoting Service remoting Service find Remoting Service if remoting Service null remoting Service create Remoting Service Remoting Destination destination Remoting Destination remoting Service create Destination destination Name destination set Factory new Flex Seam Factory destination Name component Name configure adapter register Seam Adapter remoting Service destination create Adapter Seam Adapter destination add Channel return destination public void add Destinations Collection Class destinations for Class annotated Class destinations log info Adding scanned flex desitionation for class annotated Class Flex Remote fr annotated Class get Annotation Flex Remote class Name name annotated Class get Annotation Name class String destination Name fr name String component Name name value Destination destination create Destination destination Name component Name destination start 
Id Message Manager java gavin package org jboss seam example messages import javax ejb Local Local public interface Message Manager public void find Messages public void select public void delete public void destroy 
Id Message Manager Bean java gavin package org jboss seam example messages import static javax persistence Persistence Context Type import static org jboss seam Scope Type import java io Serializable import java util List import javax ejb Remove import javax ejb Stateful import javax persistence Entity Manager import javax persistence Persistence Context import org jboss seam annotations Destroy import org jboss seam annotations Factory import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations Scope import org jboss seam annotations datamodel Data Model import org jboss seam annotations datamodel Data Model Selection Stateful Scope Name message Manager public class Message Manager Bean implements Serializable Message Manager Data Model private List Message message List Data Model Selection Out required false private Message message Persistence Context type private Entity Manager em Factory message List public void find Messages message List em create Query select msg from Message msg order by msg datetime desc get Result List public void select if message null message set Read true public void delete if message null message List remove message em remove message message null Remove Destroy public void destroy 
package org jboss seam international import static org jboss seam Scope Type import static org jboss seam annotations Install import java util Abstract Map import java util Enumeration import java util Hash Set import java util Map import java util Missing Resource Exception import java util Set import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Factory import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Seam Resource Bundle Factory for a Map that contains interpolated messages defined in the Seam Resource Bundle see org jboss seam core Seam Resource Bundle author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam international messages Factory Install precedence public class Messages protected Map String String create Map final java util Resource Bundle bundle Seam Resource Bundle get Bundle if bundle null return null return new Abstract Map String String Override public String get Object key if key instanceof String String resource Key String key String resource try resource bundle get String resource Key catch Missing Resource Exception mre return resource Key return resource null resource Key resource else return null Override public Set Map Entry String String entry Set Set Map Entry String String entry Set new Hash Set Map Entry String String Enumeration String keys bundle get Keys while keys has More Elements final String key keys next Element entry Set add new Map Entry String String public String get Key return key public String get Value return get key public String set Value String arg throw new Unsupported Operation Exception not implemented return entry Set Create the Map and cache it in the scope No need to cache it in the scope since it is inexpensive to create return a Map that interpolates messages in the Seam Resource Bundle Factory value org jboss seam international messages auto Create true scope public Map String String get Messages return create Map return the message Map instance public static Map String String instance if Contexts is Session Context Active throw new Illegal State Exception no event context active return Map String String Component get Instance org jboss seam international messages true 
package org jboss seam wicket ioc import java io Serializable import java lang reflect Field import java lang reflect Method import javassist util proxy Proxy Factory import javassist util proxy Proxy Object Utilitilies relating to a Meta Model author pmuir public class Meta Model Utils public static String to Name String name Method method does not handle is Foo if name null name length name method get Name substring to Lower Case method get Name substring return name public static String to Name String name Field field if name null name length name field get Name return name public static Class Proxy Object create Proxy Factory final Class bean Class Proxy Factory factory new Proxy Factory if bean Class is Interface factory set Interfaces new Class bean Class Serializable class else factory set Superclass bean Class return factory create Class 
Copyright The Apache Software Foundation Licensed under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam ui util cdk import javax el Context import javax el Exception import javax el Method Expression import javax el Method Info import javax el Method Not Found Exception import javax el Property Not Found Exception import javax faces Faces Exception import javax faces component State Holder import javax faces context Faces Context import javax faces el Evaluation Exception import javax faces el Method Binding Converts a Method Binding to a Method Expression author Stan Silvert author Pete Muir Suppress Warnings deprecation public class Method Binding To Method Expression extends Method Expression implements State Holder private static final Class new Class Method Binding class State Holder class private Method Binding method Binding private boolean transient Flag private transient Method Info method Info No arg constructor used during restore State protected Method Binding To Method Expression Creates a new instance of Method Binding To Method Expression public Method Binding To Method Expression Method Binding method Binding check Null Argument method Binding method Binding this method Binding method Binding Return the wrapped Method Binding public Method Binding get Method Binding return method Binding void set Method Binding Method Binding method Binding this method Binding method Binding Note Method Info get Param Types may incorrectly return an empty class array if invoke has not been called throws Illegal State Exception if expected params types have not been determined Override public Method Info get Method Info Context context throws Property Not Found Exception Method Not Found Exception Exception check Null Argument context elcontext check Null State method Binding method Binding if method Info null final Faces Context faces Context Faces Context context get Context Faces Context class if faces Context null method Info invoke new Invoker Method Info public Method Info invoke return new Method Info null method Binding get Type faces Context null return method Info Override public Object invoke Context context final Object params throws Property Not Found Exception Method Not Found Exception Exception check Null Argument context elcontext check Null State method Binding method Binding final Faces Context faces Context Faces Context context get Context Faces Context class if faces Context null return invoke new Invoker Object public Object invoke return method Binding invoke faces Context params return null Override public boolean is Literal Text if method Binding null throw new Illegal State Exception method Binding is null String expr method Binding get Expression String return expr starts With expr ends With Override public String get Expression String return method Binding get Expression String public Object save State Faces Context context if is Transient if method Binding instanceof State Holder Object state new Object state method Binding get Class get Name state State Holder method Binding save State context return state else return method Binding return null public void restore State Faces Context context Object state if state instanceof Method Binding method Binding Method Binding state method Info null else if state null Object values Object state method Binding Method Binding new Instance values to String State Holder method Binding restore State context values method Info null public void set Transient boolean transient Flag transient Flag transient Flag public boolean is Transient return transient Flag Override public int hash Code final int int result result result method Binding null method Binding hash Code return result Override public boolean equals Object obj if this obj return true if obj null return false if get Class obj get Class return false final Method Binding To Method Expression other Method Binding To Method Expression obj if method Binding null if other method Binding null return false else if method Binding equals other method Binding return false return true private void check Null State Object not Null Instance String instance Name if not Null Instance null throw new Illegal State Exception instance Name is null private void check Null Argument Object not Null Instance String instance Name if not Null Instance null throw new Illegal Argument Exception instance Name is null private invoke Invoker invoker try return invoker invoke catch javax faces el Method Not Found Exception e throw new Method Not Found Exception e get Message e catch Evaluation Exception e throw new Exception e get Message e private interface Invoker invoke private static Object new Instance String type Class expected Types if type null return null Class clazz For Name simple Class For Name type if expected Types null for int i size expected Types length i size i if expected Types i is Assignable From clazz For Name throw new Faces Exception type does not implement expected type expected Types i return new Instance clazz For Name private static Object new Instance Class clazz throws Faces Exception try return clazz new Instance catch Linkage Error e throw new Faces Exception e catch Instantiation Exception e throw new Faces Exception e catch Illegal Access Exception e throw new Faces Exception e Tries a Class load Class with the context class loader of the current thread first and automatically falls back to the Class Utils class loader i e the loader of the myfaces jar lib if necessary param type fully qualified name of a non primitive non array class return the corresponding Class throws Null Pointer Exception if type is null throws Class Not Found Exception private static Class class For Name String type throws Class Not Found Exception if type null throw new Null Pointer Exception type try Try Web App Class Loader first return Class for Name type false do not initialize for faster startup Thread current Thread get Context Class Loader catch Class Not Found Exception ignore fallback Try Class Loader for Class Utils i e the myfaces jar lib return Class for Name type false do not initialize for faster startup Method Binding To Method Expression class get Class Loader Same as link class For Name String but throws a Runtime Exception Faces Exception instead of a Class Not Found Exception return the corresponding Class throws Null Pointer Exception if type is null throws Faces Exception if class not found private static Class simple Class For Name String type try return class For Name type catch Class Not Found Exception e throw new Faces Exception e 
package org jboss seam core import static org jboss seam Component Type import java lang reflect Method import org jboss seam Component import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam contexts Context import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context import org jboss seam security Security Interceptor Sets up the context and unproxies the for the duration of the call author Gavin King Interceptor stateless true around Bijection Interceptor class Event Interceptor class Security Interceptor class public class Method Context Interceptor extends Abstract Interceptor private static final long serial Version Around Invoke public Object around Invoke Invocation Context ctx throws Exception Component comp get Component String name comp get Name Object target ctx get Target Method method ctx get Method Object parameters ctx get Parameters Context outer Method Context Lifecycle begin Method try Contexts get Method Context set name target Contexts get Method Context set org jboss seam this target Contexts get Method Context set org jboss seam method method Contexts get Method Context set org jboss seam parameters parameters Contexts get Method Context set org jboss seam component comp return ctx proceed finally Lifecycle end Method outer Method Context public boolean is Interceptor Enabled return get Component get Type 
Copyright The Apache Software Foundation Licensed under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam ui util cdk import javax el Exception import javax el Method Expression import javax faces component State Holder import javax faces context Faces Context import javax faces el Evaluation Exception import javax faces el Method Binding import javax faces el Method Not Found Exception Converts a Method Expression to a Method Binding See spec section author Stan Silvert author Pete Muir Deprecated public class Method Expression To Method Binding extends Method Binding implements State Holder private Method Expression method Expression private boolean is Transient false public Method Expression To Method Binding method Expression null Creates a new instance of Method Expression To Method Binding public Method Expression To Method Binding Method Expression method Expression this method Expression method Expression Override public String get Expression String return method Expression get Expression String Override public Class get Type Faces Context faces Context throws Method Not Found Exception try return method Expression get Method Info faces Context get Context get Return Type catch javax el Method Not Found Exception e throw new javax faces el Method Not Found Exception e catch Exception e throw new Evaluation Exception e Override public Object invoke Faces Context faces Context Object params throws Evaluation Exception Method Not Found Exception try return method Expression invoke faces Context get Context params catch javax el Method Not Found Exception e throw new javax faces el Method Not Found Exception e catch Exception e throw new Evaluation Exception e State Holder methods public void restore State Faces Context context Object state if state null method Expression Method Expression state public Object save State Faces Context context if is Transient return method Expression return null public void set Transient boolean new Transient Value is Transient new Transient Value public boolean is Transient return is Transient 
package org jboss seam mock import java math Big Decimal import java math Big Integer import java util Collection import java util Collections import java util Hash Map import java util Iterator import java util Locale import java util Map import javax el Composite Resolver import javax el Expression Factory import javax faces Faces Exception import javax faces application Application import javax faces application Navigation Handler import javax faces application State Manager import javax faces application View Handler import javax faces component Component import javax faces component Output import javax faces context Faces Context import javax faces convert Big Decimal Converter import javax faces convert Big Integer Converter import javax faces convert Boolean Converter import javax faces convert Byte Converter import javax faces convert Character Converter import javax faces convert Converter import javax faces convert Double Converter import javax faces convert Float Converter import javax faces convert Integer Converter import javax faces convert Long Converter import javax faces convert Short Converter import javax faces el Evaluation Exception import javax faces el Method Binding import javax faces el Property Resolver import javax faces el Reference Syntax Exception import javax faces el Value Binding import javax faces el Variable Resolver import javax faces event Action Listener import javax faces event System Event import javax faces validator Validator import org jboss seam el import org jboss seam el Seam Expression Factory import org jboss seam jsf Seam Navigation Handler import org jboss seam jsf Seam State Manager import org jboss seam jsf Seam View Handler import org jboss seam jsf Unified Method Binding import org jboss seam jsf Unified Value Binding import org jboss seam util Reflections Suppress Warnings deprecation public class Mock Application extends Application Override public void publish Event Faces Context context Class extends System Event system Event Class Object source empty publish method Override public void publish Event Faces Context context Class extends System Event system Event Class Class source Base Type Object source empty publish method private javax el Composite Resolver el Resolver private javax el Composite Resolver additional Resolvers private Collection locales public Mock Application el Resolver new Composite Resolver additional Resolvers new Composite Resolver el Resolver add additional Resolvers el Resolver add Override public Object evaluate Expression Get Faces Context context String expression Class type throws javax el Exception return get Expression Factory create Value Expression context get Context expression type get Value context get Context Override public void add Context Listener javax el Context Listener elcl throw new Unsupported Operation Exception Override public void add Resolver javax el Resolver r additional Resolvers add r Override public Component create Component javax el Value Expression ve Faces Context context String id throws Faces Exception throw new Unsupported Operation Exception Override public javax el Context Listener get Context Listeners throw new Unsupported Operation Exception Override public javax el Resolver get Resolver return el Resolver Override public java util Resource Bundle get Resource Bundle Faces Context context String string throw new Unsupported Operation Exception Override public void remove Context Listener javax el Context Listener elcl throw new Unsupported Operation Exception Override public Action Listener get Action Listener throw new Unsupported Operation Exception Override public void set Action Listener Action Listener listener throw new Unsupported Operation Exception private Locale default Locale Locale Override public Locale get Default Locale return default Locale Override public void set Default Locale Locale locale default Locale locale Override public String get Default Render Kit Id throw new Unsupported Operation Exception Override public void set Default Render Kit Id String rk throw new Unsupported Operation Exception private String msg Bundle Name Override public String get Message Bundle return msg Bundle Name Override public void set Message Bundle String bundle Name this msg Bundle Name bundle Name private Navigation Handler navigation Handler new Seam Navigation Handler new Mock Navigation Handler Override public Navigation Handler get Navigation Handler return navigation Handler Override public void set Navigation Handler Navigation Handler navigation Handler this navigation Handler navigation Handler Override public Property Resolver get Property Resolver throw new Unsupported Operation Exception Override public void set Property Resolver Property Resolver pr throw new Unsupported Operation Exception private Variable Resolver variable Resolver new Seam Variable Resolver new Variable Resolver Override public Object resolve Variable Faces Context ctx String name throws Evaluation Exception return null Override public Variable Resolver get Variable Resolver return variable Resolver Override public void set Variable Resolver Variable Resolver variable Resolver this variable Resolver variable Resolver private View Handler view Handler new Seam View Handler new Mock View Handler Override public View Handler get View Handler return view Handler Override public void set View Handler View Handler view Handler this view Handler view Handler private State Manager state Manager new Seam State Manager new Mock State Manager Override public State Manager get State Manager return state Manager Override public void set State Manager State Manager state Manager this state Manager state Manager Override public void add Component String name String x throw new Unsupported Operation Exception Override public Component create Component String name throws Faces Exception Best guess component creation with a dummy component if it ca n t be found if name starts With org jboss seam mail ui name starts With org jboss seam excel ui try return Component Thread current Thread get Context Class Loader load Class name new Instance catch Exception e throw new Unsupported Operation Exception Unable to create component name e else Oh well ca n t simply create the component so put a dummy one in its place return new Output Override public Component create Component Faces Context context String component Type String renderer Type return create Component component Type Override public Component create Component Value Binding vb Faces Context fc String x throws Faces Exception throw new Unsupported Operation Exception Override public Iterator get Component Types throw new Unsupported Operation Exception private final Map Class Converter converters new Hash Map Class Converter converters put Integer class new Integer Converter converters put Long class new Long Converter converters put Float class new Float Converter converters put Double class new Double Converter converters put Boolean class new Boolean Converter converters put Short class new Short Converter converters put Byte class new Byte Converter converters put Character class new Character Converter converters put Big Decimal class new Big Decimal Converter converters put Big Integer class new Big Integer Converter private final Map String Converter converters By Id new Hash Map String Converter converters By Id put Integer Converter new Integer Converter converters By Id put Long Converter new Long Converter converters By Id put Float Converter new Float Converter converters By Id put Double Converter new Double Converter converters By Id put Boolean Converter new Boolean Converter converters By Id put Short Converter new Short Converter converters By Id put Byte Converter new Byte Converter converters By Id put Character Converter new Character Converter converters By Id put Big Decimal Converter new Big Decimal Converter converters By Id put Big Integer Converter new Big Integer Converter Override public void add Converter String id String converter Class converters By Id put id instantiate Converter converter Class Override public void add Converter Class type String converter Class converters put type instantiate Converter converter Class private Converter instantiate Converter String converter Class try return Converter Reflections class For Name converter Class new Instance catch Exception e throw new Runtime Exception e Override public Converter create Converter String id return converters By Id get id Override public Converter create Converter Class clazz return converters get clazz Override public Iterator get Converter Ids return converters By Id key Set iterator Override public Iterator get Converter Types return converters key Set iterator Override public Method Binding create Method Binding String expression Class params throws Reference Syntax Exception return new Unified Method Binding expression params Override public Value Binding create Value Binding String expression throws Reference Syntax Exception return new Unified Value Binding expression Override public Iterator get Supported Locales if locales null return Collections singleton default Locale iterator else return locales iterator Override public void set Supported Locales Collection locales this locales locales private final Map String Validator validators By Id new Hash Map String Validator Override public void add Validator String id String validator Class validators By Id put id instantiate Validator validator Class private Validator instantiate Validator String validator Class try return Validator Reflections class For Name validator Class new Instance catch Exception e throw new Runtime Exception e Override public Validator create Validator String id throws Faces Exception return validators By Id get id Override public Iterator get Validator Ids return validators By Id key Set iterator Override public Expression Factory get Expression Factory return Seam Expression Factory 
package org jboss seam mock import javax faces application Application import javax faces application Application Factory import org jboss seam jsf Seam Application An mock implementation of the Application Factory which returns a mock Application wrapped in a Seam Application This class can be registered with to allow to be used formally in a test environment as follows code Factory Finder set Factory Factory Finder org jboss seam mock Mock Application Factory Application application Application Factory Factory Finder get Factory Factory Finder get Application code author Dan Allen public class Mock Application Factory extends Application Factory private Application application Override public Application get Application if application null application new Seam Application new Mock Application return application Override public void set Application Application application this application application 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam mock import java io Exception import java io Input Stream import java net Malformed Exception import java net import java security Principal import java util Abstract Set import java util Collection import java util Collections import java util Enumeration import java util Hash Map import java util Iterator import java util List import java util Locale import java util Map import java util Set import javax faces context External Context import javax faces context Faces Context import javax servlet Servlet Context import javax servlet http Cookie import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import javax servlet http Http Session import org dom j Document import org dom j Document Factory import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Enumeration Iterator author Gavin King author a href mailto theute jboss org Thomas Heute a author Marek Novotny version Revision public class Mock External Context extends External Context private Servlet Context context private Http Servlet Request request private Http Servlet Response response private static final Log Provider log Logging get Log Provider Mock External Context class public Mock External Context this context new Mock Servlet Context this request new Mock Http Servlet Request new Mock Http Session context this response new Mock Http Servlet Response public Mock External Context Servlet Context context this context context this request new Mock Http Servlet Request new Mock Http Session context this response new Mock Http Servlet Response public Mock External Context Servlet Context context Http Session session this context context this request new Mock Http Servlet Request session this response new Mock Http Servlet Response public Mock External Context Servlet Context context Http Servlet Request request this context context this request request this response new Mock Http Servlet Response public Mock External Context Servlet Context context Http Servlet Request request Http Servlet Response response this context context this request request this response response public Mock External Context Http Servlet Request request this request request Override public void dispatch String url throws Exception Override public String encode Action String url return encode url Override public String encode Namespace String ns return ns Override public String encode Resource String url return encode url Override public String encode Redirect String base Url Map String List String parameters return encode base Url Override public Map get Application Map return new Attribute Map Override public Enumeration keys return context get Attribute Names Override public Object get Attribute String key return context get Attribute key Override public void set Attribute String key Object value context set Attribute key value Override public void remove Attribute String key context remove Attribute key Override public String get Auth Type return request get Auth Type Override public Object get Context return context Override public String get Init Parameter String name return context get Init Parameter name Override public Map get Init Parameter Map Map result new Hash Map Enumeration e context get Init Parameter Names while e has More Elements String name String e next Element result put name context get Init Parameter name return result Override public String get Remote User return request get Remote User Override public Object get Request return request Override public String get Request Character Encoding return request get Character Encoding Override public String get Request Context Path String path String request get Attribute org jboss seam web request Context Path return path null path request get Context Path Override public Map get Request Cookie Map Map String Cookie cookie Map new Hash Map String Cookie if request null request get Cookies null for Cookie cookie request get Cookies cookie Map put cookie get Name cookie return cookie Map Override public Map get Request Header Map Map result new Hash Map Enumeration String names request get Header Names while names has More Elements String name names next Element result put name request get Header name return result Override public Map get Request Header Values Map Map String String result new Hash Map String String Enumeration String en request get Header Names while en has More Elements String header en next Element List String header List Collections list request get Headers header String headers new String header List size for int i i header List size i headers i header List get i result put header headers return result Override public Locale get Request Locale return Locale Override public Iterator get Request Locales return Collections singleton Locale iterator Override public Map get Request Map return new Attribute Map Override public Enumeration keys return request get Attribute Names Override public Object get Attribute String key return request get Attribute key Override public void set Attribute String key Object value request set Attribute key value Override public void remove Attribute String key request remove Attribute key Override public Map get Request Parameter Map Map map new Hash Map Enumeration String names request get Parameter Names while names has More Elements String name names next Element map put name request get Parameter name return map Override public Iterator get Request Parameter Names return request get Parameter Map key Set iterator Override public Map get Request Parameter Values Map return request get Parameter Map Override public String get Request Path Info String path String request get Attribute org jboss seam web request Path Info return path null path request get Path Info Override public String get Request Servlet Path String path String request get Attribute org jboss seam web request Servlet Path return path null path request get Servlet Path Override public get Resource String name throws Malformed Exception return context get Resource name Override public Input Stream get Resource As Stream String name return context get Resource As Stream name Override public Set get Resource Paths String name return context get Resource Paths name Override public Object get Response return response Override public Object get Session boolean create return request get Session Override public Map get Session Map final Http Session session request get Session true create the session lazily should do that to return new Attribute Map Override public Enumeration keys return session get Attribute Names Override public Object get Attribute String key return session get Attribute key Override public void set Attribute String key Object value session set Attribute key value Override public void remove Attribute String key session remove Attribute key static abstract class Attribute Map implements Map public abstract Enumeration keys public Object get Object key return get Attribute String key public Object put Object key Object value Object result get key set Attribute String key value return result public void clear Enumeration e keys while e has More Elements remove e next Element public boolean contains Key Object key Enumeration e keys while e has More Elements if key equals e next Element return true return false public boolean contains Value Object value Enumeration e keys while e has More Elements if value equals get e next Element return true return false public Set entry Set throw new Unsupported Operation Exception public abstract Object get Attribute String key public boolean is Empty return size public Set key Set return new Abstract Set Override public Iterator iterator return new Enumeration Iterator keys Override public int size return Attribute Map this size public abstract void set Attribute String key Object value public abstract void remove Attribute String key public void put All Map t for Map Entry me Set Map Entry t entry Set put me get Key me get Value public Object remove Object key Object result get Attribute String key remove Attribute String key return result public int size int i Enumeration e keys while e has More Elements e next Element i return i public Collection values throw new Unsupported Operation Exception Override public Principal get User Principal return request get User Principal Override public boolean is User In Role String role return request is User In Role role Override public void log String message Throwable t Override public void log String t Override public void redirect String url throws Exception if partial ajax equals this request get Header Faces Request this response is Committed this response reset reset any data to not duplicate any response this response set Content Type text xml this response set Character Encoding this response add Header Cache Control no cache this response set Status Http Servlet Response final Document body Document Factory get Instance create Document body add Element partial response add Element redirect add Attribute url url this response get Writer format body as this response get Writer flush else this response send Redirect url Faces Context get Current Instance response Complete Override public void set Request Object myrequest this request Http Servlet Request myrequest since Override public String get Response Content Type return response get Content Type Attempt to encode the falling back to an identity function if the response has not been set on this mock context This functionality is needed in order for the Exception Filter to maintain the session id when url rewriting is used protected String encode String url if response null String encoded Url response encode url url encoded Url null encoded Url url return url 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam mock import java util Array List import java util Iterator import java util Linked Hash Map import java util List import java util Map import javax el Context import javax faces Factory Finder import javax faces application Application import javax faces application Application Factory import javax faces application Faces Message import javax faces application Faces Message Severity import javax faces component View Root import javax faces context External Context import javax faces context Faces Context import javax faces context Response Stream import javax faces context Response Writer import javax faces render Render Kit import javax faces render Render Kit Factory import org jboss seam el author Gavin King author a href mailto theute jboss org Thomas Heute a public class Mock Faces Context extends Faces Context private View Root view Root new View Root private final Map Faces Message String messages new Linked Hash Map Faces Message String private External Context external Context private Response Writer response Writer private Render Kit Factory render Kit Factory private Context el Context public Mock Faces Context External Context external Context Application application this external Context external Context this application application Create a Mock Faces Context using a Application Factory to get the Application public Mock Faces Context External Context external Context application Application Factory Factory Finder get Factory Factory Finder get Application render Kit Factory Render Kit Factory Factory Finder get Factory Factory Finder this external Context external Context private Application application Override public Application get Application return application Override public Iterator get Client Ids With Messages return messages values iterator Override public External Context get External Context return external Context Override public Severity get Maximum Severity Severity max null for Faces Message msg messages key Set if max null msg get Severity compare To max max msg get Severity return max Override public Iterator get Messages return messages key Set iterator Override public Iterator get Messages String client Id List list new Array List for Map Entry Faces Message String entry messages entry Set String message Id entry get Value if ids Are Equal client Id message Id list add entry get Key return list iterator private boolean ids Are Equal String client Id String message Id return client Id null message Id null client Id null client Id equals message Id Override public Render Kit get Render Kit if get View Root null get View Root get Render Kit Id null render Kit Factory null return Mock Render Kit else return render Kit Factory get Render Kit this get View Root get Render Kit Id private boolean render Response Override public boolean get Render Response return render Response private boolean response Complete Override public boolean get Response Complete return response Complete Override public Response Stream get Response Stream throw new Unsupported Operation Exception Override public void set Response Stream Response Stream stream throw new Unsupported Operation Exception Override public Response Writer get Response Writer return response Writer Override public void set Response Writer Response Writer writer response Writer writer Override public View Root get View Root return view Root Override public void set View Root View Root vr view Root vr Override public void add Message String client Id Faces Message msg messages put msg client Id Override public void release set Current Instance null Mock Faces Context Factory set Faces Context null Override public void render Response render Response true Override public void response Complete response Complete true public Mock Faces Context set Current set Current Instance this Mock Faces Context Factory set Faces Context this return this public Mock Faces Context create View Root view Root new View Root view Root set Render Kit Id get Application get View Handler calculate Render Kit Id this return this Override public Context get Context if el Context null el Context create Context create Context get Application get Resolver el Context put Context Faces Context class this return el Context Override public boolean is Postback return false Override public Mock Partial View Context get Partial View Context return new Mock Partial View Context 
package org jboss seam mock import javax faces Faces Exception import javax faces context Faces Context import javax faces context Faces Context Factory import javax faces lifecycle Lifecycle public class Mock Faces Context Factory extends Faces Context Factory private static Faces Context faces Context Override public Faces Context get Faces Context Object context Object request Object response Lifecycle lifecycle throws Faces Exception return faces Context public static void set Faces Context Faces Context faces Context Mock Faces Context Factory faces Context faces Context public static Faces Context get Faces Context return Mock Faces Context Factory faces Context 
package org jboss seam mock import java util Collections import java util Enumeration import javax servlet Filter Config import javax servlet Servlet Context import org jboss seam util Iterator Enumeration author Gavin King public class Mock Filter Config implements Filter Config private Servlet Context servlet Context public Mock Filter Config Servlet Context servlet Context this servlet Context servlet Context public String get Filter Name return Seam Filter public Servlet Context get Servlet Context return servlet Context public String get Init Parameter String name return null public Enumeration get Init Parameter Names return new Iterator Enumeration Collections iterator 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam mock import java io Buffered Reader import java io Exception import java io Unsupported Encoding Exception import java security Principal import java util Array List import java util Arrays import java util Collection import java util Enumeration import java util Hash Map import java util Hash Set import java util Locale import java util Map import java util Set import javax faces context External Context import javax portlet Portlet Request import javax servlet Async Context import javax servlet Dispatcher Type import javax servlet Request Dispatcher import javax servlet Servlet Context import javax servlet Servlet Exception import javax servlet Servlet Input Stream import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Cookie import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import javax servlet http Http Session import javax servlet http Part import org jboss seam util Iterator Enumeration author Gavin King author a href mailto theute jboss org Thomas Heute a public class Mock Http Servlet Request implements Http Servlet Request private Map String String parameters new Hash Map String String private Map String Object attributes new Hash Map String Object private Http Session session private Map String String headers new Hash Map String String private String principal Name private Set String principal Roles private Cookie cookies private String method private Http Servlet Request http Servlet Request private Portlet Request portlet Request private String auth Type private String path Info private String path Translated private String context Path private String query String private String requested Session Id private String request private String Buffer request private String servlet Path private String character Encoding private int content Length private String content Type private Servlet Input Stream input Stream private String protocol private String scheme private String server Name private int server Port private Buffered Reader reader private String remote Addr private String remote Host private Locale locale private Enumeration locales private boolean is Secure private int remote Port private String local Name private String local Addr private int local Port public Mock Http Servlet Request Http Session session this session null new Hash Set String public Mock Http Servlet Request Http Session session External Context external Context this session null new Hash Set String Object request external Context get Request if external Context null request instanceof Http Servlet Request http Servlet Request Http Servlet Request request auth Type http Servlet Request get Auth Type path Info http Servlet Request get Path Info path Translated http Servlet Request get Path Translated context Path http Servlet Request get Context Path query String http Servlet Request get Query String requested Session Id http Servlet Request get Requested Session Id request http Servlet Request get Request request http Servlet Request get Request servlet Path http Servlet Request get Servlet Path character Encoding http Servlet Request get Character Encoding content Length http Servlet Request get Content Length content Type http Servlet Request get Content Type protocol http Servlet Request get Protocol scheme http Servlet Request get Scheme server Name http Servlet Request get Server Name server Port http Servlet Request get Server Port remote Addr http Servlet Request get Remote Addr remote Host http Servlet Request get Remote Host locale http Servlet Request get Locale locales http Servlet Request get Locales is Secure http Servlet Request is Secure remote Port http Servlet Request get Remote Port local Name http Servlet Request get Local Name local Addr http Servlet Request get Local Addr local Port http Servlet Request get Local Port else if external Context null request instanceof Portlet Request portlet Request Portlet Request request auth Type portlet Request get Auth Type context Path portlet Request get Context Path requested Session Id portlet Request get Requested Session Id scheme portlet Request get Scheme server Name portlet Request get Server Name server Port portlet Request get Server Port locale portlet Request get Locale locales portlet Request get Locales is Secure portlet Request is Secure public Mock Http Servlet Request Http Session session String principal Name Set String principal Roles this session principal Name principal Roles new Cookie null public Mock Http Servlet Request Http Session session String principal Name Set String principal Roles Cookie cookies String method this session session this principal Name principal Name this principal Roles principal Roles this cookies cookies this method method The Es if this header is n t present headers put Accept new String locales new Iterator Enumeration new Array List iterator public Map String String get Parameters return parameters public Map String Object get Attributes return attributes public String get Auth Type return auth Type public Cookie get Cookies return cookies public long get Date Header String arg throw new Unsupported Operation Exception public String get Header String header String values headers get header return values null values length null values public Enumeration get Headers String header return new Iterator Enumeration Arrays as List headers get header iterator public Enumeration get Header Names return new Iterator Enumeration headers key Set iterator public int get Int Header String header throw new Unsupported Operation Exception public String get Method return method public String get Path Info return path Info public String get Path Translated return path Translated public String get Context Path return context Path null context Path project public String get Query String return query String public String get Remote User return principal Name public boolean is User In Role String role return principal Roles contains role public Principal get User Principal return principal Name null null new Principal public String get Name return principal Name public String get Requested Session Id return requested Session Id public String get Request return request null request http localhost myproject page seam public String Buffer get Request return request null request new String Buffer get Request public String get Servlet Path return servlet Path null servlet Path page seam public Http Session get Session boolean create return session public Http Session get Session return get Session true public boolean is Requested Session Id Valid return true public boolean is Requested Session Id From Cookie return true public boolean is Requested Session Id From return false public boolean is Requested Session Id From Url return false public Object get Attribute String att return attributes get att public Enumeration get Attribute Names return new Iterator Enumeration attributes key Set iterator public String get Character Encoding return character Encoding public void set Character Encoding String enc throws Unsupported Encoding Exception public int get Content Length return content Length public String get Content Type return content Type public Servlet Input Stream get Input Stream throws Exception return input Stream public String get Parameter String param String values parameters get param return values null values length null values public Enumeration get Parameter Names return new Iterator Enumeration parameters key Set iterator public String get Parameter Values String param return parameters get param public Map get Parameter Map return parameters public String get Protocol return protocol public String get Scheme return scheme public String get Server Name return server Name public int get Server Port return server Port public Buffered Reader get Reader throws Exception return reader public String get Remote Addr return remote Addr public String get Remote Host return remote Host public void set Attribute String att Object value if value null attributes remove value else attributes put att value public void remove Attribute String att attributes remove att public Locale get Locale return locale public Enumeration get Locales return locales public boolean is Secure return is Secure public Request Dispatcher get Request Dispatcher String path if http Servlet Request null return http Servlet Request get Request Dispatcher path return null public String get Real Path String path if http Servlet Request null return http Servlet Request get Real Path path return null public int get Remote Port return remote Port public String get Local Name return local Name public String get Local Addr return local Addr public int get Local Port return local Port public Map String String get Headers return headers Override public Servlet Context get Servlet Context Auto generated method stub return null Override public Async Context start Async throws Illegal State Exception Auto generated method stub return null Override public Async Context start Async Servlet Request servlet Request Servlet Response servlet Response throws Illegal State Exception Auto generated method stub return null Override public boolean is Async Started Auto generated method stub return false Override public boolean is Async Supported Auto generated method stub return false Override public Async Context get Async Context Auto generated method stub return null Override public Dispatcher Type get Dispatcher Type Auto generated method stub return null Override public boolean authenticate Http Servlet Response response throws Exception Servlet Exception Auto generated method stub return false Override public void login String username String password throws Servlet Exception Auto generated method stub Override public void logout throws Servlet Exception Auto generated method stub Override public Collection Part get Parts throws Exception Servlet Exception Auto generated method stub return null Override public Part get Part String name throws Exception Servlet Exception Auto generated method stub return null 
package org jboss seam mock import java io Exception import java io Print Writer import java util Collection import java util Locale import javax servlet Servlet Output Stream import javax servlet http Cookie import javax servlet http Http Servlet Response public class Mock Http Servlet Response implements Http Servlet Response public void add Cookie Cookie arg Auto generated method stub public void add Date Header String arg long arg Auto generated method stub public void add Header String arg String arg Auto generated method stub public void add Int Header String arg int arg Auto generated method stub public boolean contains Header String arg Auto generated method stub return false public String encode Redirect String arg Auto generated method stub return null public String encode Redirect Url String arg Auto generated method stub return null public String encode String arg return arg Deprecated public String encode Url String arg return encode arg public void send Error int arg throws Exception Auto generated method stub public void send Error int arg String arg throws Exception Auto generated method stub public void send Redirect String arg throws Exception Auto generated method stub public void set Date Header String arg long arg Auto generated method stub public void set Header String arg String arg Auto generated method stub public void set Int Header String arg int arg Auto generated method stub public void set Status int arg Auto generated method stub public void set Status int arg String arg Auto generated method stub public void flush Buffer throws Exception Auto generated method stub public int get Buffer Size Auto generated method stub return public String get Character Encoding Auto generated method stub return null public String get Content Type Auto generated method stub return null public Locale get Locale Auto generated method stub return null public Servlet Output Stream get Output Stream throws Exception Auto generated method stub return null public Print Writer get Writer throws Exception Auto generated method stub return null public boolean is Committed Auto generated method stub return false public void reset Auto generated method stub public void reset Buffer Auto generated method stub public void set Buffer Size int arg Auto generated method stub public void set Character Encoding String arg Auto generated method stub public void set Content Length int arg Auto generated method stub public void set Content Type String arg Auto generated method stub public void set Locale Locale arg Auto generated method stub public int get Status Auto generated method stub return public String get Header String name Auto generated method stub return null public Collection String get Headers String name Auto generated method stub return null public Collection String get Header Names Auto generated method stub return null 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam mock import java util Enumeration import java util Hash Map import java util Map import javax servlet Servlet Context import javax servlet http Http Session import javax servlet http Http Session Context import org jboss seam util Iterator Enumeration author Gavin King author a href mailto theute jboss org Thomas Heute a version Revision Suppress Warnings deprecation public class Mock Http Session implements Http Session private Map String Object attributes new Hash Map String Object private boolean is Invalid private Servlet Context servlet Context public Mock Http Session public Mock Http Session Servlet Context servlet Context this servlet Context servlet Context public boolean is Invalid return is Invalid public long get Creation Time return public String get Id return null public long get Last Accessed Time return private int max Inactive Interval public void set Max Inactive Interval int max max Inactive Interval max public int get Max Inactive Interval return max Inactive Interval public Http Session Context get Session Context throw new Unsupported Operation Exception public Object get Attribute String att return attributes get att public Object get Value String att return get Attribute att public Enumeration get Attribute Names return new Iterator Enumeration attributes key Set iterator public String get Value Names return attributes key Set to Array new String public void set Attribute String att Object value if value null attributes remove att else attributes put att value public void put Value String att Object value set Attribute att value public void remove Attribute String att attributes remove att public void remove Value String att remove Attribute att public void invalidate attributes clear is Invalid true public boolean is New return false public Map String Object get Attributes return attributes public Servlet Context get Servlet Context return servlet Context public void clear attributes clear is Invalid false 
Id Mock Invocation Context java pmuir package org jboss seam test unit import java lang reflect Method import java util Map import org jboss seam intercept Invocation Context public class Mock Invocation Context implements Invocation Context public Object get Target return null public Map get Context Data return null public Method get Method return null public Object get Parameters return null public Object proceed throws Exception return null public void set Parameters Object params 
Id Mock Lifecycle java pete muir jboss org package org jboss seam mock import javax faces Faces Exception import javax faces Factory Finder import javax faces context Faces Context import javax faces event Phase Listener import javax faces lifecycle Lifecycle public class Mock Lifecycle extends Lifecycle public static final Lifecycle new Mock Lifecycle public Mock Lifecycle Mock Lifecycle Factory set Lifecycle this Factory Finder set Factory Factory Finder Mock Lifecycle Factory class get Name Override public void add Phase Listener Phase Listener pl throw new Unsupported Operation Exception Override public void execute Faces Context ctx throws Faces Exception throw new Unsupported Operation Exception Override public Phase Listener get Phase Listeners throw new Unsupported Operation Exception Override public void remove Phase Listener Phase Listener pl throw new Unsupported Operation Exception Override public void render Faces Context ctx throws Faces Exception throw new Unsupported Operation Exception 
package org jboss seam mock import java util Arrays import java util Iterator import javax faces lifecycle Lifecycle import javax faces lifecycle Lifecycle Factory public class Mock Lifecycle Factory extends Lifecycle Factory private static Lifecycle lifecycle public static void set Lifecycle Lifecycle lifecycle Mock Lifecycle Factory lifecycle lifecycle public static Lifecycle get Lifecycle return Mock Lifecycle Factory lifecycle Override public void add Lifecycle String lifecycle Id Lifecycle lifecycle throw new Illegal Argument Exception Not supported Override public Lifecycle get Lifecycle String lifecycle Id return lifecycle Override public Iterator String get Lifecycle Ids return Arrays as List iterator 
package org jboss seam mock import javax security auth login Login Exception import org jboss seam security Identity import org jboss seam security jaas Seam Login Module public class Mock Login Module extends Seam Login Module Override public boolean login throws Login Exception Identity instance add Role foo return true 
package org jboss seam mock import java util Map import java util Set import javax faces application Configurable Navigation Handler import javax faces application Navigation Case import javax faces context Faces Context public class Mock Navigation Handler extends Configurable Navigation Handler Override public void handle Navigation Faces Context context String action String outcome Override public Navigation Case get Navigation Case Faces Context context String from Action String outcome return null Override public Map String Set Navigation Case get Navigation Cases return null 
package org jboss seam mock import java util Collection import java util Collections import javax faces context Partial Response Writer import javax faces context Partial View Context import javax faces event Phase Id public class Mock Partial View Context extends Partial View Context Boolean partial Request Boolean render All Boolean ajax Request public Mock Partial View Context partial Request true ajax Request true render All false Override public Collection String get Execute Ids return Collections empty List Override public Partial Response Writer get Partial Response Writer return null Override public Collection String get Render Ids return Collections empty List Override public boolean is Ajax Request return this ajax Request Override public boolean is Execute All return false Override public boolean is Partial Request return this partial Request Override public boolean is Render All return this render All Override public void process Partial Phase Id arg Override public void release this render All null this partial Request null this ajax Request null Override public void set Partial Request boolean arg this partial Request arg Override public void set Render All boolean arg this render All arg 
package org jboss seam mock import java io Output Stream import java io Writer import javax faces context Response Stream import javax faces context Response Writer import javax faces render Render Kit import javax faces render Renderer import javax faces render Response State Manager public class Mock Render Kit extends Render Kit public static final Mock Render Kit new Mock Render Kit Override public void add Renderer String x String y Renderer renderer Do nothing Override public Renderer get Renderer String x String y return null Override public Response State Manager get Response State Manager return new Mock Response State Manager Override public Response Writer create Response Writer Writer writer String x String y return new Mock Response Writer Override public Response Stream create Response Stream Output Stream stream throw new Unsupported Operation Exception 
Copyright the original author or authors Licensed under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam mock import javax servlet Request Dispatcher import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Http Servlet Response Wrapper import org jboss seam log Log Provider import org jboss seam log Logging Mock implementation of the link javax servlet Request Dispatcher interface p p Used for testing the web framework typically not necessary for testing application controllers author Rod Johnson author Juergen Hoeller since public class Mock Request Dispatcher implements Request Dispatcher private static final Log Provider logger Logging get Log Provider Mock Request Dispatcher class private final String url Create a new Mock Request Dispatcher for the given param url the to dispatch to public Mock Request Dispatcher String url this url url public void forward Servlet Request request Servlet Response response if response is Committed throw new Illegal State Exception Can not perform forward response is already committed get Mock Http Servlet Response response set Forwarded Url this url if logger is Debug Enabled logger debug Mock Request Dispatcher forwarding to this url public void include Servlet Request request Servlet Response response get Mock Http Servlet Response response set Included Url this url if logger is Debug Enabled logger debug Mock Request Dispatcher including this url Obtain the underlying Enhanced Mock Http Servlet Response unwrapping link javax servlet http Http Servlet Response Wrapper decorators if necessary protected Enhanced Mock Http Servlet Response get Mock Http Servlet Response Servlet Response response if response instanceof Enhanced Mock Http Servlet Response return Enhanced Mock Http Servlet Response response if response instanceof Http Servlet Response Wrapper return get Mock Http Servlet Response Http Servlet Response Wrapper response get Response throw new Illegal Argument Exception Mock Request Dispatcher requires Mock Http Servlet Response 
package org jboss seam mock import java io Exception import javax faces application State Manager Serialized View import javax faces context Faces Context import javax faces render Response State Manager Suppress Warnings deprecation public class Mock Response State Manager extends Response State Manager Override public Object get Component State To Restore Faces Context ctx return new Object Override public Object get Tree Structure To Restore Faces Context ctx String x return new Object Override public void write State Faces Context ctx Serialized View view State throws Exception Override public boolean is Postback Faces Context context return context get External Context get Request Parameter Map contains Key Response State Manager 
package org jboss seam mock import java io Exception import java io String Writer import java io Writer import javax faces component Component import javax faces context Response Writer public class Mock Response Writer extends Response Writer private Writer writer public Mock Response Writer Writer writer this writer writer public Mock Response Writer this writer new String Writer Override public Response Writer clone With Writer Writer writer return new Mock Response Writer writer Override public void end Document throws Exception Do nothing Override public void end Element String element throws Exception Do nothing Override public void flush throws Exception writer flush Override public String get Character Encoding return null Override public String get Content Type return null Override public void start Document throws Exception Do nothing Override public void start Element String element Component component throws Exception Do nothing Override public void write Attribute String attribute Object object String string throws Exception Do nothing Override public void write Comment Object object throws Exception Do nothing Override public void write Text Object value String string throws Exception if value null throw new Null Pointer Exception Text must not be null String str Value value to String write str Value Override public void write Text char chars int start int end throws Exception if chars null throw new Null Pointer Exception cbuf name must not be null if chars length start end throw new Index Out Of Bounds Exception start end chars length String str Value new String chars start end write str Value Override public void write Attribute String attribute Object object String string throws Exception Do nothing Override public void close throws Exception writer close Override public void write char chars int start int end throws Exception writer write chars start end Override public void write String str throws Exception writer write str Override public void write int c throws Exception writer write c Override public void write char cbuf throws Exception writer write cbuf Override public void write String str int off int len throws Exception writer write str off len public Writer get Writer return this writer 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam mock import javax servlet Servlet Context import javax servlet Servlet Context Event import javax servlet Servlet Context Listener import javax servlet http Http Session Event import javax servlet http Http Session Listener import org jboss seam Seam import org jboss seam contexts Servlet Lifecycle import org jboss seam log Log Provider import org jboss seam log Logging Used to retrieve real Servlet Context for the Abstract Seam Test start Seam author Marek Schmidt public class Mock Seam Listener implements Servlet Context Listener Http Session Listener private static final Log Provider log Logging get Log Provider Servlet Context Listener class private static Servlet Context servlet Context public void context Initialized Servlet Context Event event log info Welcome to Mock Seam Seam get Version event get Servlet Context set Attribute Seam Seam get Version servlet Context event get Servlet Context Sabotage Mojarra initialization This is required as Mojarra will attempt to initialize even if there is no Faces Servlet configured in web xml servlet Context remove Attribute com sun faces faces Initializer Mappings Added public static Servlet Context get Servlet Context return servlet Context public void context Destroyed Servlet Context Event event public void session Created Http Session Event event Servlet Lifecycle begin Session event get Session public void session Destroyed Http Session Event event Servlet Lifecycle end Session event get Session 
package org jboss seam mock import java io Serializable import javax persistence Entity import javax persistence Id import org jboss seam annotations Install import org jboss seam annotations Name Used by security unit tests author Shane Bryzak Name org jboss seam mock mock Secure Entity Install false Entity public class Mock Secure Entity implements Serializable private static final long serial Version private Integer id private String value Id public Integer get Id return id public void set Id Integer id this id id public String get Value return value public void set Value String value this value value 
Id Mock Servlet Context java shane bryzak jboss com package org jboss seam mock import java io File import java io Exception import java io Input Stream import java net Malformed Exception import java net Syntax Exception import java net import java util Enumeration import java util Event Listener import java util Hash Map import java util Hash Set import java util List import java util Map import java util Set import javax servlet Filter import javax servlet Filter Registration import javax servlet Request Dispatcher import javax servlet Servlet import javax servlet Servlet Context import javax servlet Servlet Exception import javax servlet Servlet Registration import javax servlet Servlet Registration Dynamic import javax servlet Session Cookie Config import javax servlet Session Tracking Mode import javax servlet descriptor Jsp Config Descriptor import org dom j Document Exception import org dom j Element import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Iterator Enumeration import org jboss seam util public class Mock Servlet Context implements Servlet Context private transient Log Provider log Logging get Log Provider Mock Servlet Context class private Map String String init Parameters new Hash Map String String private Map String Object attributes new Hash Map String Object private File webapp Root private File web Inf Root private File web Inf Classes Root public Mock Servlet Context try webxml get Class get Resource web xml if webxml null web Inf Root new File webxml to get Parent File if web Inf Root null web Inf Classes Root new File web Inf Root get Parent File get Path classes webapp Root web Inf Root get Parent File call processing of context parameters process Context Parameters webxml else webapp Root new File get Class get Resource to catch Syntax Exception e log warn Unable to find web xml e private void process Context Parameters web try Element root get Root Element Safely web open Stream for Element element List Element root elements context param get Init Parameters put element element Text param name element element Text param value catch Exception e throw new Runtime Exception Error parsing web xml e catch Document Exception e throw new Runtime Exception Error parsing web xml e public Map String String get Init Parameters return init Parameters public Map String Object get Attributes return attributes public Servlet Context get Context String name return this public int get Major Version return public int get Minor Version return public String get Mime Type String arg return null public Set get Resource Paths String name Enumeration enumeration null try enumeration get Class get Class Loader get Resources catch Exception e throw new Runtime Exception Error finding webroot e Set String result new Hash Set String while enumeration has More Elements url enumeration next Element File root File new File url get Path get Parent File File new File new File root File get Path name File files new File list Files if files null add Paths result files root File get Path return result private static void add Paths Set String result File files String root Path for File file files String file Path file get Path substring root Path length replace if file is Directory result add file Path else result add file Path Get the for a particular resource that is relative to the web app root directory param name The name of the resource to get return The resource or null if resource not found throws Malformed Exception If the is invalid public get Resource String name throws Malformed Exception File file get File name webapp Root if file null file get File name web Inf Root if file null file get File name web Inf Classes Root if file null return file to to else return null private static File get File String name File root if root null return null if name starts With name name substring File f new File root name if f exists return null else return f public Input Stream get Resource As Stream String name return get Class get Resource As Stream name public Request Dispatcher get Request Dispatcher String url throw new Unsupported Operation Exception public Request Dispatcher get Named Dispatcher String name throw new Unsupported Operation Exception public Servlet get Servlet String name throws Servlet Exception throw new Unsupported Operation Exception public Enumeration get Servlets return null public Enumeration get Servlet Names return null public void log String msg public void log Exception ex String msg public void log String msg Throwable ex public String get Real Path String relative Path if webapp Root null return webapp Root get Absolute Path relative Path else return relative Path public String get Server Info return null public String get Init Parameter String param return init Parameters get param public Enumeration get Init Parameter Names return new Iterator Enumeration init Parameters key Set iterator public Object get Attribute String att return attributes get att public Enumeration get Attribute Names return new Iterator Enumeration attributes key Set iterator public void set Attribute String att Object value if value null attributes remove value else attributes put att value public void remove Attribute String att attributes remove att public String get Servlet Context Name return Mock public String get Context Path return null Override public int get Effective Major Version Auto generated method stub return Override public int get Effective Minor Version Auto generated method stub return Override public boolean set Init Parameter String name String value Auto generated method stub return false Override public Dynamic add Servlet String servlet Name String class Name Auto generated method stub return null Override public Dynamic add Servlet String servlet Name Servlet servlet Auto generated method stub return null Override public Dynamic add Servlet String servlet Name Class extends Servlet servlet Class Auto generated method stub return null Override public extends Servlet create Servlet Class clazz throws Servlet Exception Auto generated method stub return null Override public Servlet Registration get Servlet Registration String servlet Name Auto generated method stub return null Override public Map String extends Servlet Registration get Servlet Registrations Auto generated method stub return null Override public javax servlet Filter Registration Dynamic add Filter String filter Name String class Name Auto generated method stub return null Override public javax servlet Filter Registration Dynamic add Filter String filter Name Filter filter Auto generated method stub return null Override public javax servlet Filter Registration Dynamic add Filter String filter Name Class extends Filter filter Class Auto generated method stub return null Override public extends Filter create Filter Class clazz throws Servlet Exception Auto generated method stub return null Override public Filter Registration get Filter Registration String filter Name Auto generated method stub return null Override public Map String extends Filter Registration get Filter Registrations Auto generated method stub return null Override public Session Cookie Config get Session Cookie Config Auto generated method stub return null Override public void set Session Tracking Modes Set Session Tracking Mode session Tracking Modes Auto generated method stub Override public Set Session Tracking Mode get Default Session Tracking Modes Auto generated method stub return null Override public Set Session Tracking Mode get Effective Session Tracking Modes Auto generated method stub return null Override public void add Listener String class Name Auto generated method stub Override public extends Event Listener void add Listener t Auto generated method stub Override public void add Listener Class extends Event Listener listener Class Auto generated method stub Override public extends Event Listener create Listener Class clazz throws Servlet Exception Auto generated method stub return null Override public Jsp Config Descriptor get Jsp Config Descriptor Auto generated method stub return null Override public Class Loader get Class Loader Auto generated method stub return null Override public void declare Roles String role Names Auto generated method stub 
package org jboss seam mock import java io Exception import javax faces application State Manager import javax faces component View Root import javax faces context Faces Context Suppress Warnings deprecation public class Mock State Manager extends State Manager Override public Object save View Faces Context ctx return null Override public void write State Faces Context ctx Object state throws Exception Override public Serialized View save Serialized View Faces Context ctx return null Override protected Object get Tree Structure To Save Faces Context ctx return null Override protected Object get Component State To Save Faces Context ctx return null Override public void write State Faces Context ctx Serialized View sv throws Exception Override public View Root restore View Faces Context ctx String x String y return null Override protected View Root restore Tree Structure Faces Context ctx String x String y return null Override protected void restore Component State Faces Context ctx View Root view Root String x 
package org jboss seam mock import javax mail Address import javax mail Message import javax mail Messaging Exception import javax mail Session import javax mail Transport import javax mail Name import javax mail internet Mime Message import org jboss seam contexts Contexts Provides a Mock Transport for integration testing Seam Mail link Mock Transport get Mail Message returns the most recently rendered message sent using the Mock Transport To enable the mock transport set the mail Session transport property to mock in components properties see javax mail Transport author Pete Muir public class Mock Transport extends Transport private static final String org jboss seam mock mail Message public Mock Transport Session session Name urlname super session urlname Override public void send Message Message message Address recipients throws Messaging Exception Contexts get Application Context set message Get the most recently rendered message sent using the Mock Transport public static void clear Mail Message Contexts get Application Context remove Get the most recently rendered message sent using the Mock Transport public static Mime Message get Mail Message return Mime Message Contexts get Application Context get Override public void connect throws Messaging Exception No op 
package org jboss seam mock import java io Exception import java util Locale import javax faces Faces Exception import javax faces application View Handler import javax faces component View Root import javax faces context Faces Context import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Strings public class Mock View Handler extends View Handler private static final Log Provider logger Logging get Log Provider Mock View Handler class Override public Locale calculate Locale Faces Context ctx return Locale get Default Override public String calculate Render Kit Id Faces Context ctx return null Override public View Root create View Faces Context ctx String view Id View Root view Root new View Root view Root set View Id view Id set locale return view Root Override public String get Action Faces Context ctx String view Id String context Path ctx get External Context get Request Context Path String path Info ctx get External Context get Request Path Info String servlet Path ctx get External Context get Request Servlet Path if Strings is Empty path Info int sploc servlet Path last Index Of if sploc logger warn You should catch the exception before Seam new Illegal Argument Exception no file extension in servlet path servlet Path in case of Servlet exception which is not mapped and handled by Seam return context Path view Id return context Path get View Id Sans Suffix view Id servlet Path substring sploc else return context Path servlet Path null servlet Path view Id private static String get View Id Sans Suffix String view Id int loc view Id last Index Of if loc throw new Illegal Argument Exception no file extension in view id view Id return view Id substring loc Override public String get Resource Faces Context ctx String url return url Override public void render View Faces Context ctx View Root view Root throws Exception Faces Exception Override public View Root restore View Faces Context ctx String id return null Override public void write State Faces Context ctx throws Exception 
package org jboss seam import org jboss seam contexts Contexts Base class of metamodels For a class which is neither an entity nor a Seam component the concrete type of the metamodel object will be Model For components or entities it is a subclass of Model author Gavin King public class Model private Class bean Class public Model Class bean Class this bean Class bean Class public final Class get Bean Class return bean Class Suppress Warnings deprecation public static Model for Class Class clazz if Contexts is Application Context Active throw new Illegal State Exception No application context active String name get Model Name clazz Model model Model Contexts get Application Context get name if model null model clazz is Annotation Present javax persistence Entity class new Entity clazz new Model clazz Contexts get Application Context set name model return model static String get Model Name Class clazz return clazz get Name model 
package org jboss seam wicket import java util Set import org apache wicket model Property Model import org apache wicket validation Validatable import org apache wicket validation Validation Error import org apache wicket validation Validator import org apache wicket validation Validation Error import org jboss seam core Class Validator import org jboss seam core Validators import javax validation Constraint Violation Allows Hibernate Model Validation to be used in Wicket author Pete Muir public class Model Validator implements Validator private Class clazz private String property Create a Model Validator which will validate the specified property public Model Validator Class clazz String property this clazz clazz this property property Create a model validator that will validate the property specified by the Property Model public Model Validator Property Model property Model this property Model get Target get Class property Model get Property Expression Do the validation normally called by Wicket public void validate Validatable validatable Class Validator class Validator Validators instance get Validator clazz Set invalid Values class Validator get Potential Invalid Values property validatable get Value if invalid Values size Constraint Violation constraint Violation Constraint Violation invalid Values iterator next String message constraint Violation get Message Validation Error validation Error new Validation Error set Message message validatable error validation Error 
package org jboss seam web import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Exception import javax servlet Filter Chain import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter filter for decoding multipart requests for use with the file upload control author Shane Bryzak Scope Name org jboss seam web multipart Filter Install precedence Bypass Interceptors Filter within org jboss seam web ajax jsf Filter org jboss seam web exception Filter public class Multipart Filter extends Abstract Filter public static final String multipart Flag indicating whether a temporary file should be used to cache the uploaded file private boolean create Temp Files false The maximum size of a file upload request means no limit private int max Request Size public boolean get Create Temp Files return create Temp Files public void set Create Temp Files boolean create Temp Files this create Temp Files create Temp Files public int get Max Request Size return max Request Size public void set Max Request Size int max File Size this max Request Size max File Size public void do Filter Servlet Request request Servlet Response response Filter Chain chain throws Exception Servlet Exception if response instanceof Http Servlet Response chain do Filter request response return Http Servlet Request http Request Http Servlet Request request if is Multipart Request http Request Multipart Request multipart Request new Multipart Request Impl http Request create Temp Files max Request Size Force the request to be parsed now multipart Request get Parameter Names chain do Filter multipart Request response else chain do Filter request response private boolean is Multipart Request Http Servlet Request request if post equals request get Method to Lower Case return false String content Type request get Content Type if content Type null return false if content Type to Lower Case starts With return true return false 
package org jboss seam web import java io Input Stream import javax servlet http Http Servlet Request Interface that declares multipart specific methods to enable easier mocking of multipart requests author Shane Bryzak public interface Multipart Request extends Http Servlet Request byte get File Bytes String name Input Stream get File Input Stream String name String get File Content Type String name String get File Name String name int get File Size String name 
package org jboss seam web import java io Byte Array Input Stream import java io Byte Array Output Stream import java io File import java io File Input Stream import java io File Not Found Exception import java io File Output Stream import java io Exception import java io Input Stream import java io Unsupported Encoding Exception import java rmi server import java util Array List import java util Collections import java util Enumeration import java util Hash Map import java util List import java util Map import java util regex Matcher import java util regex Pattern import javax servlet http Http Servlet Request import javax servlet http Http Servlet Request Wrapper Request wrapper for supporting multipart requests used for file uploading author Shane Bryzak public class Multipart Request Impl extends Http Servlet Request Wrapper implements Multipart Request private static final String name private static final String filename private static final String Content Type private static final int private static final int private boolean create Temp Files private String encoding null private Map String Param parameters null private enum Read State private static final byte x d private static final byte x a private static final byte private abstract class Param private String name public Param String name this name name public String get Name return name public abstract void append Data byte data int start int length throws Exception private class Value Param extends Param private Object value null private Byte Array Output Stream buf new Byte Array Output Stream public Value Param String name super name Override public void append Data byte data int start int length throws Exception buf write data start length public void complete throws Unsupported Encoding Exception String val encoding null new String buf to Byte Array new String buf to Byte Array encoding if value null value val else if value instanceof List List String v new Array List String v add String value value v List value add val buf reset public Object get Value return value private class File Param extends Param private String filename private String content Type private int file Size private Byte Array Output Stream b Out null private File Output Stream f Out null private File temp File null public File Param String name super name public String get Filename return filename public void set Filename String filename this filename filename public String get Content Type return content Type public void set Content Type String content Type this content Type content Type public int get File Size return file Size public void create Temp File try temp File File create Temp File new to String replace upload temp File delete On Exit f Out new File Output Stream temp File catch Exception ex throw new File Upload Exception Could not create temporary file Override public void append Data byte data int start int length throws Exception if f Out null f Out write data start length f Out flush else if b Out null b Out new Byte Array Output Stream b Out write data start length file Size length public byte get Data if f Out null try f Out close catch Exception ex f Out null if b Out null return b Out to Byte Array else if temp File null if temp File exists try File Input Stream f In new File Input Stream temp File Byte Array Output Stream b Out new Byte Array Output Stream byte buf new byte int read f In read buf while read b Out write buf read read f In read buf b Out flush f In close temp File delete return b Out to Byte Array catch Exception ex too bad return null public Input Stream get Input Stream if f Out null try f Out close catch Exception ex f Out null if b Out null return new Byte Array Input Stream b Out to Byte Array else if temp File null try return new File Input Stream temp File Override public void close throws Exception super close temp File delete catch File Not Found Exception ex return null private Http Servlet Request request public Multipart Request Impl Http Servlet Request request boolean create Temp Files int max Request Size super request this request request this create Temp Files create Temp Files String content Length request get Header Content Length if content Length null max Request Size Integer parse Int content Length max Request Size throw new File Upload Exception Multipart request is larger than allowed size private void parse Request byte boundary Marker get Boundary Marker request get Content Type if boundary Marker null throw new File Upload Exception The request was rejected because no multipart boundary was found encoding request get Character Encoding parameters new Hash Map String Param try byte buffer new byte Map String String headers new Hash Map String String Read State read State Read State Input Stream input request get Input Stream int read input read buffer int pos Param p null This is a fail safe to prevent infinite loops from occurring in some environments int loop Counter while read loop Counter for int i i read i switch read State case if check Sequence buffer i boundary Marker check Sequence buffer i read State Read State i pos i break case if check Sequence buffer i Check next available in the buffer if read i length if there is no space left for in the buffer force pushing of remaining unread bytes to the beginning of the buffer read more bytes and try again i read break String param encoding null new String buffer pos i pos new String buffer pos i pos encoding parse Params param headers if check Sequence buffer i length read State Read State i length pos i String param Name headers get if param Name null if headers contains Key File Param fp new File Param param Name if create Temp Files fp create Temp File fp set Content Type headers get fp set Filename headers get p fp else if parameters contains Key param Name p parameters get param Name else p new Value Param param Name if parameters contains Key param Name parameters put param Name p headers clear else pos i break case If we ve encountered another boundary if check Sequence buffer i boundary Marker length length check Sequence buffer i boundary Marker Write any data before the boundary that has n t already been written to the param if pos i boundary Marker length length p append Data buffer pos i pos boundary Marker length length if p instanceof Value Param Value Param p complete if check Sequence buffer i length i length pos i else pos i read State Read State Otherwise write whatever data we have to the param else if i pos boundary Marker length length p append Data buffer pos pos break if pos read move the bytes that were n t read to the start of the buffer int bytes Not Read read pos System arraycopy buffer pos buffer bytes Not Read read input read buffer bytes Not Read buffer length bytes Not Read Decrement loop Counter if no data was readable if read loop Counter read bytes Not Read else read input read buffer pos catch Exception ex throw new File Upload Exception Error parsing multipart request ex private byte get Boundary Marker String content Type Map String Object params parse Params content Type String boundary Str String params get boundary if boundary Str null return null try return boundary Str get Bytes catch Unsupported Encoding Exception e return boundary Str get Bytes Checks if a specified sequence of bytes ends at a specific position within a byte array param data param pos param seq return boolean indicating if the sequence was found at the specified position private boolean check Sequence byte data int pos byte seq if pos seq length pos data length return false for int i i seq length i if data pos seq length i seq i return false return true private static final Pattern Pattern compile s s s s s private Map parse Params String param Str String separator Map String String param Map new Hash Map String String parse Params param Str separator param Map return param Map private void parse Params String param Str String separator Map param Map String parts param Str split separator for String part parts Matcher m matcher part if m matches String key m group String value m group Strip double quotes if value starts With value ends With value value substring value length param Map put key value private Param get Param String name if parameters null parse Request return parameters get name Override public Enumeration get Parameter Names if parameters null parse Request return Collections enumeration parameters key Set public byte get File Bytes String name Param p get Param name return p null p instanceof File Param File Param p get Data null public Input Stream get File Input Stream String name Param p get Param name return p null p instanceof File Param File Param p get Input Stream null public String get File Content Type String name Param p get Param name return p null p instanceof File Param File Param p get Content Type null public String get File Name String name Param p get Param name return p null p instanceof File Param File Param p get Filename null public int get File Size String name Param p get Param name return p null p instanceof File Param File Param p get File Size Override public String get Parameter String name Param p get Param name if p null p instanceof Value Param Value Param vp Value Param p if vp get Value instanceof String return String vp get Value else if p null p instanceof File Param return else return super get Parameter name return null Override public String get Parameter Values String name Param p get Param name if p null p instanceof Value Param Value Param vp Value Param p if vp get Value instanceof List List vals List vp get Value String values new String vals size vals to Array values return values else return new String String vp get Value else return super get Parameter Values name Override public Map get Parameter Map if parameters null parse Request Map String Object params new Hash Map String Object super get Parameter Map for String name parameters key Set Param p parameters get name if p instanceof Value Param Value Param vp Value Param p if vp get Value instanceof String params put name vp get Value else if vp get Value instanceof List params put name get Parameter Values name return params 
package org jboss seam core import java io Serializable Must be implemented by any or scoped mutable Java Bean component that will be used in a clustered environment If this interface is not implemented correctly changes may not be replicated across the cluster depending upon the servlet engine implementation author Gavin King public interface Mutable extends Serializable Get and clear the dirty flag return true if the instance is dirty and requires replication public boolean clear Dirty 
package org jboss seam framework import java io Serializable import org jboss seam core Mutable Base class for controllers which implement the Mutable interface author Gavin King public abstract class Mutable Controller extends Persistence Controller implements Serializable Mutable copy paste from Abstract Mutable private transient boolean dirty public boolean clear Dirty boolean result dirty dirty false return result Set the dirty flag if the value has changed Call whenever a subclass attribute is updated param old Value the old value of an attribute param new Value the new value of an attribute return true if the new Value is not equal to the old Value protected boolean set Dirty old Value new Value boolean attribute Dirty old Value new Value old Value null old Value equals new Value dirty dirty attribute Dirty return attribute Dirty Set the dirty flag protected void set Dirty dirty true 
package org jboss seam framework import javax persistence Entity Manager import javax persistence Lock Mode Type import javax persistence Query Base class for controller objects that perform persistence operations using Adds convenience methods for access to the Entity Manager author Gavin King public class Mutable Entity Controller extends Mutable Controller Entity Manager public Entity Manager get Entity Manager return get Persistence Context public void set Entity Manager Entity Manager entity Manager set Persistence Context entity Manager Override protected String get Persistence Context Name return entity Manager protected Query create Named Query String name return get Entity Manager create Named Query name protected Query create Query String ejbql return get Entity Manager create Query ejbql protected find Class clazz Object id return get Entity Manager find clazz id protected void flush get Entity Manager flush protected get Reference Class clazz Object id return get Entity Manager get Reference clazz id protected void lock Object entity Lock Mode Type lock Mode get Entity Manager lock entity lock Mode protected merge entity return get Entity Manager merge entity protected void persist Object entity get Entity Manager persist entity protected void refresh Object entity get Entity Manager refresh entity protected void remove Object entity get Entity Manager remove entity 
package org jboss seam test integration faces conversations public class My Conversation Ending Exception extends Exception private static final long serial Version 
package org jboss seam test unit component import org jboss seam annotations Name import org jboss seam framework Entity Home import org jboss seam test unit entity Simple Entity Name my Entity Home public class My Entity Home extends Entity Home Simple Entity Override public void create if get Entity Class null throw new Illegal State Exception entity Class is null init Default Messages 
package org jboss seam test integration faces conversations public class My Exception extends Exception private static final long serial Version 
package org jboss seam example remoting gwt client import com google gwt user client rpc Remote Service This is a service which will be implemented as a Seam component on the server see the server package uses strongly typed interfaces author Michael Neale public interface My Service extends Remote Service public String ask It String question 
package org jboss seam example remoting gwt client import com google gwt user client rpc Async Callback import com google gwt user client rpc Remote Service This is the interface the client code uses You implement this directly does this for you and calls are marshalled through to the Sync equivalent method in My Service on the server which is a Seam component author Michael Neale public interface My Service Async extends Remote Service public void ask It String question Async Callback callback 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Specifies the component name of a Seam component author a href mailto theute jboss org Thomas Heute a Target Retention Documented public interface Name return the component name String value 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations import java lang annotation Documented import java lang annotation Element Type import java lang annotation Retention import java lang annotation Retention Policy import java lang annotation Target Specifies the configuration namespace of a Java package containing Seam components author Norman Richards Target Element Type Retention Retention Policy Documented public interface Namespace return the configuration namespace for the package String value The qualifier used to get the component name of components in this package from the element names String prefix default 
package org jboss seam deployment import java util Collections import java util Hash Set import java util Set import org jboss seam annotations Namespace import org jboss seam log Log Provider import org jboss seam log Logging deployment handler for namespaces author Pete Muir public class Namespace Deployment Handler extends Abstract Deployment Handler private static Deployment Metadata new Deployment Metadata public String get File Name Suffix return package info class public static final String org jboss seam deployment Namespace Deployment Handler private static final Log Provider log Logging get Log Provider Namespace Deployment Handler class private Set Package packages public Namespace Deployment Handler packages new Hash Set Package Returns packages with Namespace declarations public Set Package get Packages return Collections unmodifiable Set packages Override public void post Process Class Loader class Loader for File Descriptor file Descriptor get Resources String package Name filename To Package Name file Descriptor get Name Package pkg get Package package Name class Loader if pkg null log warn Can not load package info for package Name else if pkg get Annotation Namespace class null packages add pkg private static String filename To Package Name String filename return filename substring filename last Index Of package info class replace replace private static Package get Package String name Class Loader class Loader try Class c class Loader load Class name package info return c null c get Package null catch Exception e return null public String get Name return public Deployment Metadata get Metadata return 
package org jboss seam init import java util Hash Set import java util Set import org jboss seam annotations Namespace class Namespace Descriptor private String namespace private Set String package Names new Hash Set String private String component Prefix Namespace Descriptor Namespace namespace Annotation Package pkg this namespace namespace Annotation value this component Prefix namespace Annotation prefix package Names add pkg get Name Namespace Descriptor String namespace String package Name this namespace namespace package Names add package Name this component Prefix public String get Namespace return namespace public String get Component Prefix return component Prefix public void add Package Name String package Name package Names add package Name public Set String get Package Names return package Names Override public String to String return Namespace Descriptor namespace 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam init import java net import org jboss seam log Log Provider import org jboss seam log Logging p Converts an a href http www w org xml names namespace a to a Java package name p author a href mailto eric jung yahoo com Eric Jung a public class Namespace Package Resolver private static final String java Suppress Warnings unused private static final Log Provider log Logging get Log Provider Namespace Package Resolver class p Converts an namespace code ns code to a Stringified package name param ns the xml namespace to convert returns a namespace descriptor public String resolve final String ns try return parse new ns catch Exception e the exact exception does n t matter here The caller can log if needed return null private String parse uri if uri is Absolute throw new Illegal Argument Exception uri is not an absolute return uri is Opaque parse Opaque uri parse Hierarchical uri java package seam component seam package prefix private String parse Opaque uri if uri get Scheme equals Ignore Case return uri get Scheme Specific Part throw new Illegal Argument Exception Unrecognized scheme in uri private String parse Hierarchical uri String scheme uri get Scheme to Lower Case if scheme equals http scheme equals https throw new Illegal Argument Exception Hierarchical Ls must use http or https scheme uri String Buffer buf new String Buffer append To Package Name buf hostname To Package uri get Host append To Package Name buf path To Package uri get Path return buf to String Convert path elements to package names in forward order private String path To Package String path String Buffer buf new String Buffer if path null String path Elements path split for int i len path Elements length i len i append To Package Name buf path Elements i return buf to String private String hostname To Package String hostname String Buffer result new String Buffer String subdomains hostname split Iterate through the subdomains in reverse converting each to a package name for int i subdomains length i i String subdomain subdomains i if i subdomain equals Ignore Case www append To Package Name result subdomain return result to String private void append To Package Name String Buffer buf String subdomain if subdomain length subdomain make Safe For Java subdomain if buf length buf append buf append subdomain Converts characters in code subdomain code which are n t java friendly into java friendly equivalents Right now we only support the conversion of hyphens to underscores We could do other things like to Lower Case but there are instances of upper case package names in widespread use even by the likes of e g a href http publib boulder ibm com infocenter db luw v index jsp topic com ibm db udb dc doc dc r jdbcdrivers htm ibm db classnames a param subdomain return private String make Safe For Java String subdomain return subdomain replace 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam util import java util Hashtable import javax naming Initial Context import javax naming Naming Exception import org jboss seam log Log Provider import org jboss seam log Logging public final class Naming private static final Log Provider log Logging get Log Provider Naming class private static Hashtable initial Context Properties private static Initial Context initial Context public static Initial Context get Initial Context Hashtable String String props throws Naming Exception if props null throw new Illegal State Exception properties not initialized Seam was not started correctly if log is Debug Enabled log debug Initial Context properties props try return props size new Initial Context new Initial Context props catch Naming Exception e log debug Could not obtain initial context throw e public static Initial Context get Initial Context throws Naming Exception if initial Context null init Initial Context return initial Context private static synchronized void init Initial Context throws Naming Exception if initial Context null initial Context get Initial Context initial Context Properties private Naming public static void set Initial Context Properties Hashtable initial Context Properties Naming initial Context Properties initial Context Properties initial Context null public static Hashtable get Initial Context Properties return initial Context Properties 
package org jboss seam navigation import java util Map import org jboss seam core Conversation Propagation import org jboss seam core Expressions import org jboss seam core Expressions Value Expression conversation parameter strategy for natural conversation ids Natural conversation ids are defined using lt conversation gt in pages xml author Shane Bryzak public class Natural Conversation Id Parameter implements Conversation Id Parameter private String name private String parameter Name private Value Expression vb public Natural Conversation Id Parameter String name String param Name String expression this name name this parameter Name param Name this vb expression null Expressions instance create Value Expression expression null public String get Name return name public String get Parameter Name return parameter Name public String get Initial Conversation Id Map parameters String id get Request Conversation Id parameters return id null get Conversation Id id public String get Request Conversation Id Map parameters String value Conversation Propagation get Request Parameter Value parameters parameter Name if value null return null else return name value public String get Conversation Id return name get Parameter Value public String get Parameter Value Object value vb get Value if value null throw new Illegal State Exception conversation id evaluated to null name else use a converter return vb get Value to String public String get Parameter Value String value return value starts With name value substring name length value 
package org jboss seam navigation import java util Array List import java util List import javax faces context Faces Context import org jboss seam core Expressions Value Expression public final class Navigation private Value Expression Object outcome private List Rule rules new Array List Rule private Rule rule public List Rule get Rules return rules public void set Outcome Value Expression Object outcome Value Expression this outcome outcome Value Expression public Value Expression Object get Outcome return outcome public Rule get Rule return rule public void set Rule Rule rule this rule rule public boolean navigate Faces Context context final String action Outcome Value String outcome Value if get Outcome null outcome Value action Outcome Value else Object value get Outcome get Value outcome Value value null null value to String for Rule rule get Rules if rule matches outcome Value return rule execute context return get Rule execute context 
package org jboss seam navigation import javax faces context Faces Context import org jboss seam faces Navigator The result of a navigation rule author Gavin King public abstract class Navigation Handler extends Navigator Go ahead and execute the navigation rule public abstract boolean navigate Faces Context context 
package org jboss seam faces import java util Map import javax faces application Faces Message Severity import javax faces component View Root import javax faces context Faces Context import org jboss seam contexts Contexts import org jboss seam core Interpolator import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Pages import org jboss seam util Strings public abstract class Navigator private static final Log Provider log Logging get Log Provider Navigator class Send an error protected void error int code String message if log is Debug Enabled log debug sending error code org jboss seam faces Http Error http Error org jboss seam faces Http Error instance if message null http Error send code else http Error send code message protected void redirect External String url Faces Manager instance redirect To External url protected void redirect String view Id Map String Object parameters redirect view Id parameters true Redirect to the view id protected void redirect String view Id Map String Object parameters boolean include Page Params if Strings is Empty view Id view Id Pages get Current View Id if log is Debug Enabled log debug redirecting to view Id Faces Manager instance redirect view Id parameters true include Page Params Render the view id protected void render String view Id Faces Context faces Context Faces Context get Current Instance if Strings is Empty view Id View Root view Root faces Context get Application get View Handler create View faces Context view Id faces Context set View Root view Root else view Id Pages get View Id faces Context just for the log message if log is Debug Enabled log debug rendering view Id faces Context render Response protected static String get Display Message Exception e String message if Strings is Empty message e get Message null return e get Message else return Interpolator instance interpolate message e Suppress Warnings deprecation protected static void add Faces Message String message Severity severity String control Object params if Contexts is Conversation Context Active if Strings is Empty message if Strings is Empty control Faces Messages instance add severity message params else Faces Messages instance add To Control control severity message params 
package org jboss seam Throw when a component marked Conversational is called outside the scope of a long running conversation author Gavin King public class No Conversation Exception extends Runtime Exception private static final long serial Version public No Conversation Exception String message super message 
package org jboss seam wicket annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org apache wicket Page Target Retention Documented public interface No Conversation Page Class extends Page value 
package org jboss seam tool import org apache tools ant Build Exception import org apache tools ant Task public class Normalize Project Name Task extends Task private String property Name Override public void execute throws Build Exception String project Name get Project get Property property Name if project Name null project Name length get Project set Property property Name normalize project Name protected String normalize String value return value trim replace All replace All public void set Property String property Name this property Name property Name 
package org jboss seam ui converter import javax faces component Component import javax faces context Faces Context import javax faces convert Converter import javax faces convert Converter Exception import javax faces convert Faces Converter Converter for no selection value item author mnovotny Faces Converter value org jboss sema ui No Selection Converter public class No Selection Converter implements Converter public static final String org jboss seam ui No Selection Converter no Selection Value public Object get As Object Faces Context context Component component String value throws Converter Exception if value null return null else if value equals return null else return Converter Chain public String get As String Faces Context context Component component Object value throws Converter Exception if value null return else return Converter Chain 
package org jboss seam security management Thrown when an operation is performed on a non existent role author Shane Bryzak public class No Such Role Exception extends Runtime Exception public No Such Role Exception String message super message public No Such Role Exception String message Throwable cause super message cause 
package org jboss seam security management Thrown when an operation is attempted on a non existent user author Shane Bryzak public class No Such User Exception extends Runtime Exception public No Such User Exception String message super message public No Such User Exception String message Throwable cause super message cause 
package org jboss seam security import javax ejb Application Exception Thrown when an unauthenticated user attempts to execute a restricted action author Shane Bryzak Application Exception rollback true public class Not Logged In Exception extends Runtime Exception 
package org jboss seam transaction import static org jboss seam annotations Install import javax persistence Entity Manager import javax transaction Heuristic Mixed Exception import javax transaction Heuristic Rollback Exception import javax transaction Not Supported Exception import javax transaction Rollback Exception import javax transaction Status import javax transaction Synchronization import javax transaction System Exception import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors When no kind of transaction management exists author Mike Youngstrom author Gavin King Name org jboss seam transaction transaction Scope Scope Type Install value false precedence Bypass Interceptors public class No Transaction extends Abstract User Transaction public void begin throws Not Supported Exception System Exception throw new Unsupported Operation Exception no transaction public void commit throws Rollback Exception Heuristic Mixed Exception Heuristic Rollback Exception Security Exception Illegal State Exception System Exception throw new Unsupported Operation Exception no transaction public int get Status throws System Exception return Status public void rollback throws Illegal State Exception Security Exception System Exception throw new Unsupported Operation Exception no transaction public void set Rollback Only throws Illegal State Exception System Exception throw new Unsupported Operation Exception no transaction public void set Transaction Timeout int timeout throws System Exception throw new Unsupported Operation Exception no transaction Override public void register Synchronization Synchronization sync throw new Unsupported Operation Exception no transaction Override public void enlist Entity Manager entity Manager throws System Exception no op 
package org jboss seam remoting wrapper import java io Exception import java io Output Stream import java lang reflect Type author Shane Bryzak public class Null Wrapper extends Base Wrapper implements Wrapper private static final byte null get Bytes public void marshal Output Stream out throws Exception out write public Object convert Type type throws Conversion Exception return null public Conversion Score conversion Score Class cls return Conversion Score compatible 
package org jboss seam example numberguess import java io Serializable import java util Array List import java util List import java util Random import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Name import org jboss seam annotations Scope Name number Guess Scope Scope Type public class Number Guess implements Serializable private int random Number private Integer current Guess private int biggest private int smallest private int guess Count private int max Guesses private boolean cheated Create public void begin random Number new Random next Int guess Count biggest smallest public void set Current Guess Integer guess this current Guess guess public Integer get Current Guess return current Guess public void guess if current Guess random Number biggest current Guess if current Guess random Number smallest current Guess guess Count public boolean is Correct Guess return current Guess random Number public int get Biggest return biggest public int get Smallest return smallest public int get Guess Count return guess Count public boolean is Last Guess return guess Count max Guesses public int get Remaining Guesses return max Guesses guess Count public void set Max Guesses int max Guesses this max Guesses max Guesses public int get Max Guesses return max Guesses public int get Random Number return random Number public void cheated cheated true public boolean is Cheat return cheated public List Integer get Possibilities List Integer result new Array List Integer for int i smallest i biggest i result add i return result 
package org jboss seam remoting wrapper import java io Exception import java io Output Stream import java lang reflect Type Int wrapper class author Shane Bryzak public class Number Wrapper extends Base Wrapper implements Wrapper private static final byte number get Bytes private static final byte number get Bytes public Object convert Type type throws Conversion Exception String val element get String Value trim if type equals Short class value equals val Short value Of val null else if type equals Short value Short parse Short val else if type equals Integer class value equals val Integer value Of val null else if type equals Integer value Integer parse Int val else if type equals Long class type equals Object class value equals val Long value Of val null else if type equals Long value Long parse Long val else if type equals Float class value equals val Float value Of val null else if type equals Float value Float parse Float val else if type equals Double class value equals val Double value Of val null else if type equals Double value Double parse Double val else if type equals Byte class value equals val Byte value Of val null else if type equals Byte value Byte parse Byte val else if type equals String class value val else throw new Conversion Exception String format Value s can not be converted to type s element get String Value type return value param out Output Stream throws Exception public void marshal Output Stream out throws Exception out write out write value to String get Bytes out write Allow conversions to either Integer or String param cls Class return Conversion Score public Conversion Score conversion Score Class cls if cls equals Integer class cls equals Integer cls equals Long class cls equals Long cls equals Short class cls equals Short cls equals Double class cls equals Double cls equals Float class cls equals Float cls equals Byte class cls equals Byte return Conversion Score exact if cls equals String class cls equals Object class return Conversion Score compatible return Conversion Score nomatch 
package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Marks a method as an observer of an event type or multiple event types author Gavin King Target Retention Documented public interface Observer return the event type or types to observe String value default In case no component instance exists should a component instance be created to handle the event or should the event be ignored return true by default boolean create default true 
package org jboss seam security openid import java io Exception import java io Serializable import java net Malformed Exception import java net import java util List import javax faces context External Context import javax faces context Faces Context import javax servlet http Http Servlet Request import org jboss seam log import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam faces Faces Manager import org jboss seam faces Redirect import org jboss seam security Identity import org openid java Open Exception import org openid java consumer Consumer Exception import org openid java consumer Consumer Manager import org openid java consumer Verification Result import org openid java discovery Discovery Information import org openid java discovery Identifier import org openid java message Auth Request import org openid java message Parameter List import org openid java message ax Fetch Request Name org jboss seam security openid openid Install precedence Install class Dependencies org openid java consumer Consumer Manager Scope Scope Type public class Open Id implements Serializable private transient Log Provider log Logging get Log Provider Open Id class String id String validated Id Consumer Manager manager Discovery Information discovered Create public void init throws Consumer Exception manager new Consumer Manager discovered null id null validated Id null public String get Id return id public void set Id String id this id id public String return To Url Faces Context context Faces Context get Current Instance Http Servlet Request request Http Servlet Request context get External Context get Request try return To Url if request get Server Port return To Url new http request get Server Name context get Application get View Handler get Action context openid xhtml else return To Url new http request get Server Name request get Server Port context get Application get View Handler get Action context openid xhtml return return To Url to External Form catch Malformed Exception e throw new Runtime Exception e public void login throws Exception validated Id null String return To Url return To Url String url auth Request id return To Url if url null Redirect redirect Redirect instance redirect capture Current View Faces Manager instance redirect To External url placing the authentication request Suppress Warnings unchecked protected String auth Request String user Supplied String String return To Url throws Exception try perform discovery on the user supplied identifier List discoveries manager discover user Supplied String attempt to associate with the Open provider and retrieve one service endpoint for authentication discovered manager associate discoveries store the discovery information in the user s session http Req get Session set Attribute openid disc discovered obtain a Auth Request message to be sent to the Open provider Auth Request auth Req manager authenticate discovered return To Url Attribute Exchange example fetching the email attribute Fetch Request fetch Fetch Request create Fetch Request fetch add Attribute email http schema openid net contact email type true required attach the extension to the authentication request auth Req add Extension fetch return auth Req get Destination Url true catch Open Exception e log warn e return null public void verify External Context context javax faces context Faces Context get Current Instance get External Context Http Servlet Request request Http Servlet Request context get Request validated Id verify Response request public boolean login Immediately if validated Id null Identity instance accept Externally Authenticated Principal new Open Id Principal validated Id return true return false public boolean is Valid return validated Id null public String get Validated Id return validated Id Suppress Warnings unchecked public String verify Response Http Servlet Request http Req try extract the parameters from the authentication response which comes in as a request from the Open provider Parameter List response new Parameter List http Req get Parameter Map extract the receiving from the request String Buffer receiving http Req get Request String query String http Req get Query String if query String null query String length receiving append append http Req get Query String verify the response Consumer Manager needs to be the same static instance used to place the authentication request Verification Result verification manager verify receiving to String response discovered examine the verification result and extract the verified identifier Identifier verified verification get Verified Id if verified null Auth Success auth Success Auth Success verification get Auth Response if auth Success has Extension Ax Message Fetch Response fetch Resp Fetch Response auth Success get Extension Ax Message List emails fetch Resp get Attribute Values email String email String emails get return verified get Identifier catch Open Exception e present error to the user return null public void logout throws Consumer Exception init 
package org jboss seam security openid import java io Exception import java io Print Writer import javax faces context External Context import javax faces context Faces Context import javax faces event Phase Event import javax faces event Phase Id import javax faces event Phase Listener import javax servlet http Http Servlet Response import org jboss seam Component import org jboss seam navigation Pages import org jboss seam log Suppress Warnings serial public class Open Id Phase Listener implements Phase Listener private transient Log Provider log Logging get Log Provider Open Id Phase Listener class Suppress Warnings unchecked public void before Phase Phase Event event String view Id Pages get Current View Id if view Id null view Id starts With openid return Open Id open Open Id Component get Instance Open Id class if open get Id null try send catch Exception e log warn e return Open Id openid Open Id Component get Instance Open Id class openid verify Pages handle Outcome event get Faces Context null openid xhtml public void send throws Exception Faces Context context Faces Context get Current Instance External Context ext Context context get External Context Http Servlet Response response Http Servlet Response ext Context get Response response set Content Type application xrds xml Print Writer out response get Writer Open Id open Open Id Component get Instance Open Id class out println xmlns xri xrd v Service Type http specs openid net auth return to Type open return To Url Service context response Complete public void after Phase Phase Event event public Phase Id get Phase Id return Phase Id 
package org jboss seam security openid import org jboss seam security Simple Principal public class Open Id Principal extends Simple Principal public Open Id Principal String name super name 
package org jboss seam intercept Interface that may be optionally implemented by an interceptor to make the stacktrace smaller author Gavin King author Pete Muir public interface Optimized Interceptor public Object around Invoke Invocation Context ic throws Exception Returns true if this interceptor should be enabled The component and the annotation will be injected into the interceptor instance before this method is called and can be used to decide whether the interceptor should be enabled public boolean is Interceptor Enabled 
package org jboss seam el import javax el Context import javax el Method Expression import javax el Method Info import javax el Method Not Found Exception author Gavin King class Optional Parameter Method Expression extends Method Expression private Method Expression with Param private Method Expression with No Param public Optional Parameter Method Expression Method Expression with Param Method Expression with No Param this with Param with Param this with No Param with No Param Override public Method Info get Method Info Context ctx return with Param get Method Info ctx Override public Object invoke Context ctx Object args try return with Param invoke ctx args catch Method Not Found Exception mnfe try return with No Param invoke ctx new Object catch Method Not Found Exception mnfe throw mnfe Override public String get Expression String return with Param get Expression String Override public boolean is Literal Text return with Param is Literal Text Override public boolean equals Object object if object instanceof Optional Parameter Method Expression return false Optional Parameter Method Expression other Optional Parameter Method Expression object return with Param equals other with Param Override public int hash Code return with Param hash Code 
package org jboss seam example guice import com google inject Binding Annotation import java lang annotation Retention import java lang annotation Target import java lang annotation Retention Policy import java lang annotation Element Type Indicates we want the orange version of a binding author Pawel Wrzeszcz pwrzeszcz at jboss org Retention Retention Policy Target Element Type Element Type Binding Annotation public interface Orange 
package org jboss seam example guice author Pawel Wrzeszcz pwrzeszcz at jboss org public class Orange Juice implements Juice private static final String name Orange Juice private static final int price public Orange Juice public String get Name return name public int get Price return price Override public String to String return name price cents 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import java math Big Decimal import java util Array List import java util Date import java util List import javax persistence Cascade Type import javax persistence Column import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Many To One import javax persistence One To Many import javax persistence Table import javax persistence Transient Entity Table name public class Order implements Serializable private static final long serial Version public enum Status public static Big Decimal new Big Decimal long order Id Date order Date Customer customer Big Decimal net Amount Big Decimal Big Decimal tax Big Decimal Big Decimal total Amount Big Decimal List Order Line order Lines new Array List Order Line Status status Status String tracking Number Id Generated Value Column name public long get Order Id return order Id public void set Order Id long id this order Id id Column name nullable false public Date get Order Date return order Date public void set Order Date Date date this order Date date Transient public boolean is Empty return order Lines null order Lines size One To Many mapped By order cascade Cascade Type public List Order Line get Order Lines return order Lines public void set Order Lines List Order Line lines this order Lines lines public void add Product Product product int quantity for Order Line line order Lines if product get Product Id line get Product get Product Id line add Quantity quantity return Order Line line new Order Line line set Product product line set Quantity quantity line set Order this order Lines add line public void remove Product Product product for Order Line line order Lines if product get Product Id line get Product get Product Id order Lines remove line return Many To One Join Column name public Customer get Customer return customer public void set Customer Customer customer this customer customer Column name nullable false precision scale public Big Decimal get Net Amount return net Amount public void set Net Amount Big Decimal amount this net Amount amount Column name nullable false precision scale public Big Decimal get Tax return tax public void set Tax Big Decimal amount this tax amount Column name nullable false precision scale public Big Decimal get Total Amount return total Amount public void set Total Amount Big Decimal amount this total Amount amount Column name public String get Tracking Number return tracking Number public void set Tracking Number String tracking Number this tracking Number tracking Number Column name public Status get Status return status public void set Status Status status this status status Transient public int get Status Code return status ordinal public void calculate Totals Big Decimal total Big Decimal int index for Order Line line order Lines line set Position index total total add line get Product get Price multiply new Big Decimal line get Quantity set Net Amount total set Tax round get Net Amount multiply set Total Amount get Net Amount add get Tax public void cancel set Status Status public void process set Status Status public void ship String tracking set Status Status set Tracking Number tracking round a positive big decimal to decimal points private Big Decimal round Big Decimal amount return new Big Decimal amount move Point Right add new Big Decimal to Big Integer move Point Left Transient public boolean is Open return status Status 
package com jboss dvd seam import java math Big Decimal import org jboss seam annotations In import org jboss seam annotations Name Name order Approval public class Order Approval Decision private static Big Decimal new Big Decimal In Big Decimal amount public String get How Large Is Order return amount compare To large order small order 
package org jboss seam example pdf import org jboss seam annotations import java math Big Decimal import java util Date Name current Order public class Order Info Unwrap public Order get Order Order order new Order order set Order Date new Date order set Customer Name Seamus Finnigan order set Order Id order set Base Amount new Big Decimal order set Tax new Big Decimal order set Total Amount order get Base Amount add order get Tax return order public static class Order Date order Date String customer Name String order Id Big Decimal base Amount Big Decimal tax Big Decimal total Amount public Big Decimal get Base Amount return base Amount public void set Base Amount Big Decimal base Amount this base Amount base Amount public String get Customer Name return customer Name public void set Customer Name String customer Name this customer Name customer Name public String get Order Id return order Id public void set Order Id String order Id this order Id order Id public Date get Order Date return order Date public void set Order Date Date order Date this order Date order Date public Big Decimal get Tax return tax public void set Tax Big Decimal tax this tax tax public Big Decimal get Total Amount return total Amount public void set Total Amount Big Decimal total Amount this total Amount total Amount 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import java util Date import javax persistence Column import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Join Column import javax persistence Many To One import javax persistence Table Entity Table name public class Order Line implements Serializable private static final long serial Version long line Id int position Product product int quantity Date order Date Order order Id Generated Value Column name public long get Line Id return line Id public void set Line Id long id this line Id id Column name public int get Position return position public void set Position int position this position position Many To One Join Column name public Order get Order return order public void set Order Order order this order order Many To One Join Column name unique false nullable false public Product get Product return product public void set Product Product product this product product Column name nullable false public int get Quantity return quantity public void set Quantity int quantity this quantity quantity public void add Quantity int howmany quantity howmany 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam Scope Type Specifies that a seam component should be outjected from the annotated field or getter method of a session bean author Gavin King Target Retention Documented public interface Out The context variable name Defaults to the name of the annotated field or getter method String value default Specifies that the outjected value must not be null by default boolean required default true Specifies the scope to outject to If no scope is explicitly specified the default scope depends upon whether the value is an instance of a Seam component If it is the component scope is used Otherwise the scope of the component with the Out attribute is used But if the component scope is the scope is used Scope Type scope default Scope Type 
Id Outcome java gavin package org jboss seam annotations Deprecated public class Outcome Annotations may not specify a null String This value lets us specify a null outcome in an annotation such as Begin if Outcome deprecated public static final String org jboss seam outcome null 
package org jboss seam web import java util Array List import java util List public class Outgoing Pattern String view String pattern Servlet Mapping view Mapping List String parts new Array List String public Outgoing Pattern Servlet Mapping view Mapping String view String pattern this view view this pattern pattern this view Mapping view Mapping parse Pattern pattern public Rewrite rewrite String path return new Outgoing Rewrite path private void parse Pattern String value while value length int pos value index Of if pos parts add value value else int pos value index Of if pos throw new Illegal Argument Exception invalid pattern parts add value substring pos parts add value substring pos pos value value substring pos public class Outgoing Rewrite implements Rewrite Boolean is Match private String base private List String query Args new Array List String private List String matched Args new Array List String public Outgoing Rewrite String outgoing int query Pos outgoing index Of if query Pos this base outgoing else this base outgoing substring query Pos parse Args outgoing substring query Pos private void parse Args String text for String part text split query Args add part public boolean is Match if is Match null is Match match return is Match private boolean match if view Mapping is Mapped base view return false for String part parts if part starts With part ends With String name part substring part length String value match Arg name if value null return false matched Args add value return true private String match Arg String arg Name for int i i query Args size i String query query Args get i int pos query index Of if query sub Sequence pos equals arg Name query Args remove i return query substring pos return null public String rewrite String Buffer res new String Buffer int matched Position for String part parts if part starts With res append matched Args get matched Position else res append part char sep for String arg query Args res append sep append arg sep return res to String 
package org jboss seam navigation public class Output extends Put public void out get Scope get Context set get Name get Value get Value 
package org jboss seam example wicket import org apache wicket markup html Web Component import org apache wicket markup html basic Label import org apache wicket markup html border Border Wicket allows you to build powerful custom components easily Here we ve built generic border you can use to decorate an output author Pete Muir public class Output Border extends Border Create a new form input border param id Id of border component on page param label Label to add param component The component to wrap public Output Border String id String label Web Component component super id add new Label label label add component 
set of classes and Seam component for supporting Wicket Namespace value http jboss org schema seam wicket prefix org jboss seam wicket Auto Create package org jboss seam wicket import org jboss seam annotations Auto Create import org jboss seam annotations Namespace 
package org jboss seam tool import org apache tools ant Build Exception import org apache tools ant Task public class Package Directory Task extends Task private String package Name private String property Name Override public void execute throws Build Exception if package Name null equals package Name get Project set Property property Name package Name replace public void set Package String package Name this package Name package Name public void set Property String property Name this property Name property Name 
package org jboss seam pageflow import org dom j Element import org jboss seam bpm Business Process import org jboss seam core Conversation import org jboss seam core Interpolator import org jbpm graph def Node import org jbpm graph exe Execution Context import org jbpm jpdl xml Jpdl Xml Reader import org jbpm jpdl xml Parsable page node in a j pageflow author Tom Baeyens author Gavin King public class Page extends Node implements Parsable This classname is configured in the jbpm configuration file org jbpm graph node node types xml inside the jbpm version jar In case it would be necessary that file can be customized by updating the reference to it in the central jbpm configuration file jbpm cfg xml private static final long serial Version private String view Id private boolean is Conversation End false private boolean is Conversation End Before Redirect false private boolean is Task End false private String transition private String process To Create private boolean redirect private String description private Integer timeout private boolean back Enabled private boolean switch Enabled private String no Conversation View Id parses the dom j element that corresponds to this page Override public void read Element page Element Jpdl Xml Reader jpdl Xml Reader super read page Element jpdl Xml Reader view Id page Element attribute Value view id if view Id null throw new Illegal State Exception must specify view id for page node page Element attribute Value name no Conversation View Id page Element attribute Value no conversation view id back Enabled enabled equals page Element attribute Value back switch Enabled disabled equals page Element attribute Value switch Element end Conversation Element page Element element end conversation if end Conversation Element null is Conversation End true is Conversation End Before Redirect Boolean parse Boolean end Conversation Element attribute Value before redirect process To Create end Conversation Element attribute Value create process Element end Task Element page Element element end task if end Task Element null is Task End true transition end Task Element attribute Value transition redirect Boolean parse Boolean page Element attribute Value redirect if page Element element redirect null redirect true Element description Element page Element element description if description Element null description description Element get Text Trim String timeout String page Element attribute Value timeout if timeout String null timeout Integer value Of timeout String is executed when execution arrives in this page at runtime Override public void execute Execution Context execution Context if is Conversation End process To Create null Business Process instance create Process process To Create if is Task End Business Process instance end Task transition if is Conversation End is Task End if is Conversation End Before Redirect Conversation instance end Before Redirect else Conversation instance end if get Action null try get Action execute execution Context catch Exception e raise Exception e execution Context public boolean is Conversation End return is Conversation End public String get Transition return transition public String get View Id return Interpolator instance interpolate view Id public boolean is Redirect return redirect public boolean has Description return description null Override public String get Description return Interpolator instance interpolate description public Integer get Timeout return timeout public boolean is Back Enabled return back Enabled public boolean is Switch Enabled return switch Enabled public String get No Conversation View Id return no Conversation View Id protected boolean is Task End return is Task End protected String get Process To Create return process To Create public boolean is Conversation End Before Redirect return is Conversation End Before Redirect 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam contexts import java util Array List import java util Collections import java util Hash Map import java util List import java util Map import java util Set import javax faces component View Root import javax faces context Faces Context import javax faces event Phase Id import org jboss seam Component import org jboss seam Scope Type import org jboss seam core Events The page context allows you to store state during a request that renders a page and access that state from any postback request that originates from that page The state is destroyed at the end of the second request During the phase the page context instance refers to the page that is about to be rendered Prior to the phase it refers to the page that was the source of the request During the phase set and remove manipulate the context of the page that is about to be rendered while get returns values from the page that was the source of the request author Gavin King public class Page Context implements Context private static final String Scope Type get Prefix private Map String Object previous Page Map private Map String Object next Page Map public Page Context previous Page Map get Or Create View Map next Page Map new Hash Map String Object public Scope Type get Type return Scope Type private String get Key String name return get Prefix name private String get Prefix return public Object get String name return get Current Readable Map get get Key name public boolean is Set String name return get Current Readable Map contains Key get Key name private Map String Object get Current Readable Map if is In Phase return Collections else return is Render Response Phase next Page Map previous Page Map private Map String Object get Current Writable Map return is Before Invoke Application Phase previous Page Map next Page Map public void set String name Object value if Events exists Events instance raise Event org jboss seam pre Set Variable name get Current Writable Map put get Key name value if Events exists Events instance raise Event org jboss seam post Set Variable name public void remove String name if Events exists Events instance raise Event org jboss seam pre Remove Variable name get Current Writable Map remove get Key name if Events exists Events instance raise Event org jboss seam post Remove Variable name public String get Names Set String keys get Current Readable Map key Set List String names new Array List String keys size String prefix get Prefix for String key keys if key starts With prefix names add key substring prefix length return names to Array new String names size Override public String to String return Page Context public Object get Class clazz return get Component get Component Name clazz Put the buffered context variables in the faces view root at the beginning of the render phase public void flush Map view Map get Or Create View Map view Map put All next Page Map next Page Map view Map private static Map get Or Create View Map Faces Context faces Context Faces Context get Current Instance if faces Context null throw new Illegal State Exception no Faces Context bound to current thread View Root view Root faces Context get View Root return view Root null new Hash Map view Root get View Map private static Phase Id get Phase Id Phase Id phase Id Faces Lifecycle get Phase Id if phase Id null throw new Illegal State Exception No phase id bound to current thread make sure you do not have two Seam Phase Listener instances installed return phase Id private static boolean is In Phase return Faces Lifecycle get Phase Id null private static boolean is Before Invoke Application Phase return get Phase Id compare To Phase Id private static boolean is Render Response Phase return get Phase Id compare To Phase Id 
package org jboss seam pageflow import static org jboss seam annotations Install import java io Serializable import java util List import javax faces component View Root import javax faces context Faces Context import javax faces event Phase Id import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Per Nested Conversation import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam bpm Jbpm import org jboss seam contexts Contexts import org jboss seam contexts Faces Lifecycle import org jboss seam core Abstract Mutable import org jboss seam core Events import org jboss seam faces Faces Manager import org jboss seam faces Faces Page import org jboss seam international Status Message import org jboss seam international Status Messages import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Pages import org jbpm Jbpm Context import org jbpm graph def Action import org jbpm graph def Event import org jbpm graph def Node import org jbpm graph def Process Definition import org jbpm graph exe Execution Context import org jbpm graph exe Process Instance Seam component that manages the current j Process Instance used for pageflow author Gavin King Scope Scope Type Per Nested Conversation Name org jboss seam pageflow pageflow Bypass Interceptors Install dependencies org jboss seam bpm jbpm precedence class Dependencies javax faces context Faces Context public class Pageflow extends Abstract Mutable implements Serializable private static final long serial Version private static final Log Provider log Logging get Log Provider Pageflow class private int counter private Process Instance process Instance public boolean is In Process return process Instance null public boolean is Started return get Sub Process Instance get Root Token get Node null public Process Instance get Process Instance return process Instance public void set Process Instance Process Instance process Instance this process Instance process Instance set Dirty public static Pageflow instance if Contexts is Conversation Context Active throw new Illegal State Exception No active conversation context return Pageflow Component get Instance Pageflow class Scope Type Get the current counter value used for detecting illegal use of the backbutton public int get Pageflow Counter return counter Check that the current state of the pageflow matches what is expected by the faces request public void validate Pageflow Faces Context faces Context if process Instance null org jboss seam faces Faces Page page org jboss seam faces Faces Page instance String pageflow Name page get Pageflow Name String pageflow Node Name page get Pageflow Node Name boolean can Reposition get Page is Back Enabled get Sub Process Instance get Process Definition get Name equals pageflow Name possibly not necessary pageflow Node Name null if can Reposition check the node name to make sure we are still on the same node if pageflow Node Name equals get Node get Name legal use of back forward button so reposition the pageflow reposition pageflow Node Name else check the counter to detect illegal use of backbutton we user counter instead of view id since multiple nodes can share the same view id Integer page Counter org jboss seam faces Faces Page instance get Pageflow Counter if page Counter null get Pageflow Counter page Counter illegal Navigation Error now check that the restored view id matches what we expect from the pageflow node we need some way to disable this check since users might want some adhoc nav in and out of a pageflow String view Id Pages get View Id faces Context if view Id equals get Page get View Id illegal Navigation Error private void illegal Navigation Error Faces Context context Faces Context get Current Instance navigate context illegal Navigation context render Response Add a message to indicate that illegal navigation occurred May be overridden by user to perform special processing protected void illegal Navigation Status Messages instance add From Resource Bundle Or Default Status Message Severity org jboss seam Illegal Navigation Illegal navigation Get the current Node of the pageflow public Node get Node if process Instance null return null Node node get Sub Process Instance get Root Token get Node if node null throw new Illegal State Exception pageflow has not yet started return node public Process Instance get Sub Process Instance return get Sub Process process Instance private static Process Instance get Sub Process Process Instance process Instance Process Instance sub Process process Instance get Root Token get Sub Process Instance if sub Process null return get Sub Process sub Process else return process Instance Reposition the pageflow at the named node param node Name the name of a node public void reposition String node Name if process Instance null throw new Illegal State Exception no pageflow in progress Process Instance sub Process get Sub Process Instance Node node sub Process get Process Definition get Node node Name if node null throw new Illegal Argument Exception no node named node Name for pageflow sub Process get Process Definition get Name sub Process get Root Token set Node node set Dirty Get the current Page of the pageflow public Page get Page Node node get Node if node null node instanceof Page throw new Illegal State Exception pageflow is not currently at a page or start page node note that pageflows that begin during the phase should use start page instead of start state return Page node Navigate to the current page protected void navigate Faces Context context Page page get Page if page is Redirect render context page else redirect page counter set Dirty Redirect to the Page protected void redirect Page page Faces Manager instance redirect get View Id page Proceed to render the Page protected void render Faces Context context Page page View Root view Root context get Application get View Handler create View context get View Id page context set View Root view Root Allows the user to extend this class and use some logical naming of pages other than the view id in their pageflow param page the Page object return a view id protected String get View Id Page page return page get View Id Get the view id of the current page in the pageflow public String get Page View Id Page page get Page return page null null get View Id page Does the current node have a default transition public boolean has Default Transition we do n t use j s default transition instead we use the anonymous transition return get Node get Leaving Transition null null private boolean is Null Outcome String outcome return outcome null equals outcome public boolean has Transition String outcome return is Null Outcome outcome has Default Transition get Node get Leaving Transition outcome null Given the action outcome perform navigation according to the current pageflow public void navigate Faces Context context String outcome Process Instance sub Process get Sub Process Instance if is Null Outcome outcome if it has a default transition defined trigger it otherwise just redisplay the page if has Default Transition we do n t use j s default transition instead we use the anonymous transition Pageflow signal sub Process null navigate context else trigger the named transition Pageflow signal sub Process outcome navigate context raise End Event If Necessary protected void raise End Event If Necessary if process Instance has Ended Events instance raise Event org jboss seam end Pageflow process Instance get Process Definition get Name Events instance raise Event org jboss seam end Pageflow Process events defined in the pageflow param type one of process validations update model values invoke application render response public void process Events String type Event event get Node get Event type if event null for Action action List Action event get Actions try action execute Execution Context current Execution Context catch Exception e throw new Runtime Exception e Begin executing a pageflow param pageflow Definition Name the name of the pageflow definition public void begin String pageflow Definition Name if log is Debug Enabled log debug beginning pageflow pageflow Definition Name process Instance Pageflow create Instance get Pageflow Process Definition pageflow Definition Name if Lifecycle get Phase Id equals Phase Id if a pageflow starts during the render response phase as a result of a Create method we know the navigation handler will not get called so we should force the pageflow out of the start state immediately this is not actually completely true what about s action Link pi signal set Dirty raise Begin Event pageflow Definition Name store Pageflow To View Root If Necessary protected void raise Begin Event String pageflow Definition Name Events instance raise Event org jboss seam begin Pageflow pageflow Definition Name Events instance raise Event org jboss seam begin Pageflow private void store Pageflow To View Root If Necessary Faces Context faces Context Faces Context get Current Instance if faces Context null Faces Lifecycle get Phase Id Phase Id Faces Page instance store Pageflow public String get No Conversation View Id String pageflow Name String pageflow Node Name Process Definition pageflow Process Definition get Pageflow Process Definition pageflow Name Node node pageflow Process Definition get Node pageflow Node Name if node null node instanceof Page return Page node get No Conversation View Id else return null protected Process Definition get Pageflow Process Definition String pageflow Name Process Definition pageflow Process Definition Jbpm instance get Pageflow Process Definition pageflow Name if pageflow Process Definition null throw new Illegal Argument Exception pageflow definition not found pageflow Name return pageflow Process Definition Override public String to String String name process Instance null null process Instance get Process Definition get Name return Pageflow name private static Process Instance create Instance Process Definition process Definition Jbpm Context jbpm Context Jbpm create Pageflow Context try log debug new pageflow instance for definition process Definition get Name return process Definition create Process Instance finally jbpm Context close private static void signal Process Instance process Instance String outcome Jbpm Context jbpm Context Jbpm create Pageflow Context try log debug signaling pageflow transition for outcome outcome process Instance signal outcome finally jbpm Context close 
package org jboss seam bpm import java io Exception import java io Input Stream import java util Hash Set import java util Set import org dom j Document Exception import org dom j Element import org jboss seam deployment Abstract Deployment Handler import org jboss seam deployment Deployment Metadata import org jboss seam deployment File Descriptor import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Resources import org jboss seam util public class Pageflow Deployment Handler extends Abstract Deployment Handler private static Deployment Metadata new Deployment Metadata public String get File Name Suffix return jpdl xml private static Log Provider log Logging get Log Provider Pageflow Deployment Handler class public static final String org jboss seam bpm Pageflow Deployment Handler public String get Name return Override public void post Process Class Loader class Loader Set File Descriptor files new Hash Set File Descriptor for File Descriptor file Descriptor get Resources try Input Stream input Stream file Descriptor get Url open Stream try Element root get Root Element Safely input Stream if pageflow definition equals root get Name files add file Descriptor catch Document Exception e log debug Unable to parse file Descriptor get Name e finally Resources close Stream input Stream catch Exception e log trace Error loading file Descriptor get Name set Resources files public Deployment Metadata get Metadata return 
package org jboss seam bpm import java io Reader import org dom j Element import org jbpm graph def Node import org jbpm graph def Node Collection import org jbpm jpdl xml Jpdl Xml Reader import org jbpm jpdl xml Problem Listener import org xml sax Input Source j parser for Seam pageflow definitions author Tom Baeyens public class Pageflow Parser extends Jpdl Xml Reader private static final long serial Version public Pageflow Parser Input Source input Source Problem Listener problem Listener super input Source problem Listener public Pageflow Parser Input Source input Source super input Source public Pageflow Parser Reader reader super reader Override public void read Nodes Element node Collection Element Node Collection node Collection super read Nodes node Collection Element node Collection if pageflow definition equals node Collection Element get Name String start Page Name node Collection Element attribute Value start page if start Page Name null Element start Page Element node Collection Element element start page if start Page Element null start Page Name start Page Element attribute Value name if start Page Name null Node start Page get Process Definition get Node start Page Name if start Page null get Process Definition set Start State start Page 
package org jboss seam navigation import static org jboss seam annotations Install import java io Exception import java io Input Stream import java net Malformed Exception import java net import java net Decoder import java util Array List import java util Collection import java util Collections import java util Comparator import java util Hash Map import java util List import java util Map import java util Resource Bundle import java util Set import java util Sorted Set import java util Tree Set import javax faces application Faces Message import javax faces application Faces Message Severity import javax faces application View Handler import javax faces component View Root import javax faces context Faces Context import javax faces convert Converter Exception import javax faces model Data Model import javax faces validator Validator Exception import javax servlet http Http Servlet Request import org dom j Document Exception import org dom j Element import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Flush Mode Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Events import org jboss seam core Expressions import org jboss seam core Expressions Method Expression import org jboss seam core Expressions Value Expression import org jboss seam core Init import org jboss seam core Interpolator import org jboss seam core Manager import org jboss seam core Resource Loader import org jboss seam deployment Dot Page Dot Xml Deployment Handler import org jboss seam deployment File Descriptor import org jboss seam faces Faces Messages import org jboss seam faces Validation import org jboss seam international Status Message import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam pageflow Pageflow import org jboss seam security Identity import org jboss seam security Not Logged In Exception import org jboss seam util Resources import org jboss seam util Strings import org jboss seam util import org jboss seam web Parameters Holds metadata for pages defined in pages xml including page actions and page descriptions author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam navigation pages Install precedence class Dependencies javax faces context Faces Context Startup public class Pages private static final Log Provider log Logging get Log Provider Pages class private Value Expression String no Conversation View Id private String login View Id private Integer http Port private Integer https Port private Map String Page pages By View Id private Map String List Page page Stacks By View Id private Map String Conversation Id Parameter conversations private String resources pages xml private Sorted Set String wildcard View Ids new Tree Set String new Comparator String public int compare String x String y if x length y length return if x length y length return return x compare To y Create public void create if Dot Page Dot Xml Deployment Handler instance null initialize Dot Page Dot Xml Deployment Handler instance get Resources else initialize public void initialize initialize null public void initialize Set File Descriptor file Names pages By View Id Collections synchronized Map new Hash Map String Page page Stacks By View Id Collections synchronized Map new Hash Map String List Page conversations Collections synchronized Map new Hash Map String Conversation Id Parameter for String resource resources Input Stream stream Resource Loader instance get Resource As Stream resource if stream null log debug no pages xml file found resource else log debug reading pages xml file resource try parse stream finally Resources close Stream stream if file Names null parse Pages file Names private void parse Pages Set File Descriptor files for File Descriptor file files String file Name file get Name String view Id file Name substring file Name length page xml length xhtml needs more here Input Stream stream null try stream file get Url open Stream catch Exception exception No op if stream null log debug reading pages xml file file Name try parse stream view Id finally Resources close Stream stream Run any navigation rule defined in pages xml param action Expression the action method binding expression param action Outcome Value the outcome of the action method return true if a navigation rule was found public boolean navigate Faces Context context String action Expression String action Outcome Value String view Id get View Id context if view Id null List Page stack get Page Stack view Id for int i stack size i i Page page stack get i Navigation navigation page get Navigations get action Expression if navigation null navigation page get Default Navigation if navigation null navigation navigate context action Outcome Value return true return false Get the Page object for the given view id param view Id a view id public Page get Page String view Id if view Id null for tests return new Page view Id else Page result get Cached Page view Id if result null return create Page view Id else return result Create a new default Page object for a view id private Page create Page String view Id Page result new Page view Id pages By View Id put view Id result return result private Page get Cached Page String view Id return pages By View Id get view Id Get the stack of Page objects from least specific to most specific that match the given view id param view Id a view id protected List Page get Page Stack String view Id List Page stack page Stacks By View Id get view Id if stack null stack create Page Stack view Id page Stacks By View Id put view Id stack return stack Create the stack of pages that match a view id private List Page create Page Stack String view Id List Page stack new Array List Page if view Id null is Debug Page view Id for String wildcard wildcard View Ids if view Id starts With wildcard substring wildcard length stack add get Page wildcard Page page get Page view Id if page null stack add page return stack Call page actions check permissions and validate the existence of a conversation for pages which require a long running conversation starting with the most general view id ending at the most specific Also perform redirection to the required scheme if necessary public boolean pre Render Faces Context faces Context String view Id get View Id faces Context redirect to if necessary String request Scheme get Request Scheme faces Context if request Scheme null String scheme get Scheme view Id if scheme null request Scheme equals scheme Manager instance redirect view Id return false apply the datamodelselection passed by s link or s button before running any actions select Data Model Row faces Context redirect if necessary List Page page Stack get Page Stack view Id for Page page page Stack if is No Conversation Redirect Required page redirect To No Conversation View return false else if is Login Redirect Required view Id page redirect To Login View return false boolean result call Action faces Context If response Complete then we re probably doing a redirect so do n t call the page actions now if faces Context get Response Complete String new View Id get View Id faces Context for Page page get Page Stack new View Id if is No Conversation Redirect Required page redirect To No Conversation View return false else if is Login Redirect Required new View Id page redirect To Login View return false run the page actions check permissions handle conversation begin end for Page page get Page Stack new View Id result page pre Render faces Context result return result Look for a Data Model row selection in the request parameters and apply it to the Data Model protected void select Data Model Row Faces Context faces Context String data Model Selection faces Context get External Context get Request Parameter Map get data Model Selection if data Model Selection null int colon Loc data Model Selection index Of int bracket Loc data Model Selection index Of if colon Loc bracket Loc colon Loc String var data Model Selection substring colon Loc String name data Model Selection substring colon Loc bracket Loc int index Integer parse Int data Model Selection substring bracket Loc data Model Selection length Object value Component get Instance name true if value null Data Model data Model Data Model value if index data Model get Row Count data Model set Row Index index Contexts get Event Context set var data Model get Row Data else log debug Data Model row was unavailable Contexts get Event Context remove var Check permissions and validate the existence of a conversation for pages which require a long running conversation starting with the most general view id ending at the most specific Finally apply page parameters to the model public void post Restore Faces Context faces Context first store the page parameters into the viewroot so that if a login redirect occurs or if a failure occurs while validating of applying to the model we can still make Redirect capture Current View work store Request String Values In Page Context faces Context check if we need to redirect String view Id get View Id faces Context for Page page get Page Stack view Id if is Login Redirect Required view Id page redirect To Login View return else if is No Conversation Redirect Required page redirect To No Conversation View return else if we are about to proceed to the action phase check the permission if faces Context get Render Response page post Restore faces Context now validate the values we just stored in the view root after the redirect checking if convert And Validate String Values In Page Context faces Context Validation instance fail and do n t apply them to the model else finally apply page parameters to the model after checking permissions apply Converted Validated Values To Model faces Context Check if a login redirect is required for the current Faces Context param faces Context The faces context containing the view return boolean Returns true if a login redirect is required public boolean is Login Redirect Required Faces Context faces Context String view Id get View Id faces Context for Page page get Page Stack view Id if is Login Redirect Required view Id page return true return false private boolean is No Conversation Redirect Required Page page return page is Conversation Required Manager instance is Long Running Or Nested Conversation private boolean is Login Redirect Required String view Id Page page return page is Login Required view Id equals get Login View Id Identity instance is Logged In public String get Request Scheme Faces Context faces Context String request Url get Request Url faces Context if request Url null return null else int idx request Url index Of return idx null request Url substring idx public String encode Scheme String view Id Faces Context context String url String scheme get Scheme view Id if scheme null String request Url get Request Url context if request Url null try server Url new request Url String Builder sb new String Builder sb append scheme sb append sb append server Url get Host if http equals scheme http Port null sb append sb append http Port else if https equals scheme https Port null sb append sb append https Port else if server Url get Port sb append sb append server Url get Port if url starts With sb append sb append url url sb to String catch Malformed Exception ex throw new Runtime Exception ex return url private static String get Request Url Faces Context faces Context Object request faces Context get External Context get Request if request instanceof Http Servlet Request return Http Servlet Request request get Request to String else return null public void redirect To Login View not Logged In String login View Id get Login View Id if login View Id null throw new Not Logged In Exception else Manager instance redirect login View Id public void redirect To No Conversation View no Conversation stuff from j takes precedence org jboss seam faces Faces Page faces Page org jboss seam faces Faces Page instance String pageflow Name faces Page get Pageflow Name String pageflow Node Name faces Page get Pageflow Node Name String no Conversation View Id null if pageflow Name null pageflow Node Name null String view Id Pages get Current View Id no Conversation View Id get No Conversation View Id view Id else no Conversation View Id Pageflow instance get No Conversation View Id pageflow Name pageflow Node Name if no Conversation View Id null Manager instance redirect no Conversation View Id public String get Scheme String view Id List Page stack get Page Stack view Id for int i stack size i i Page page stack get i if page get Scheme null return page get Scheme return null public boolean has Description String view Id return get Description view Id null public String get Description String view Id List Page stack get Page Stack view Id for int i stack size i i Page page stack get i if page has Description return page get Description return null public String render Description String view Id return Interpolator instance interpolate get Description view Id protected void no Conversation Events instance raise Event org jboss seam no Conversation Faces Messages instance add From Resource Bundle Or Default Status Message Severity org jboss seam No Conversation The conversation ended timed out or was processing another request protected void not Logged In Deprecated remove for next major release Events instance raise Event org jboss seam not Logged In Events instance raise Event Identity public static String to String Object return Value return return Value null null return Value to String Call the navigation handler public static void handle Outcome Faces Context faces Context String outcome String from Action faces Context get Application get Navigation Handler handle Navigation faces Context from Action outcome after every time that the view may have changed we need to flush the page context since the attribute map is being discarder Contexts get Page Context flush public static Pages instance if Contexts is Application Context Active throw new Illegal State Exception No active application context return Pages Component get Instance Pages class Scope Type Call the action requested by s link or s button Suppress Warnings deprecation private static boolean call Action Faces Context faces Context refactor with Pages instance call Action boolean result false String outcome faces Context get External Context get Request Parameter Map get action Outcome String from Action outcome String decoded Outcome null if outcome null decoded Outcome Decoder decode outcome if decoded Outcome null decoded Outcome index Of decoded Outcome index Of throw new Illegal Argument Exception expressions are not allowed in action Outcome parameter if outcome null String action Id faces Context get External Context get Request Parameter Map get action Method if action Id null String decoded Action Id Decoder decode action Id if decoded Action Id null decoded Action Id index Of decoded Action Id index Of throw new Illegal Argument Exception expressions are not allowed in action Method parameter if Safe Actions instance is Action Safe action Id return result String expression Safe Actions to Action action Id result true Method Expression action Expression Expressions instance create Method Expression expression outcome to String action Expression invoke from Action expression handle Outcome faces Context outcome from Action else handle Outcome faces Context outcome from Action return result Build a list of page scoped resource bundles from most specific view id to most general public List Resource Bundle get Resource Bundles String view Id List Resource Bundle result new Array List Resource Bundle List Page stack get Page Stack view Id for int i stack size i i Page page stack get i Resource Bundle bundle page get Resource Bundle if bundle null result add bundle return result Get the values of any page parameters by evaluating the value bindings against the model and converting to String param view Id the view id param overridden excluded parameters return a map of page parameter name to String value public Map String Object get String Values From Model Faces Context faces Context String view Id Set String overridden Map String Object parameters new Hash Map String Object for Page page get Page Stack view Id for Param page Parameter page get Parameters if overridden contains page Parameter get Name String value null if page Parameter get Value Expression null if Contexts is Page Context Active value String Contexts get Page Context get page Parameter get Name else value page Parameter get String Value From Model faces Context if value null parameters put page Parameter get Name value return parameters private void store Request String Values In Page Context Faces Context faces Context Parameters parameters Parameters instance if parameters null for unit tests Map String String request Parameters parameters get Request Parameters for Page page get Page Stack get View Id faces Context for Param page Parameter page get Parameters String value page Parameter get String Value From Request faces Context request Parameters if value null this should not be necessary were it not for a My Faces bug if faces Context get Render Response ie for a non faces request Contexts get Page Context remove page Parameter get Name else Contexts get Page Context set page Parameter get Name value Convert and validate page parameters passed as view root attributes or request parameters private boolean convert And Validate String Values In Page Context Faces Context faces Context boolean validation Failed false for Page page get Page Stack get View Id faces Context for Param page Parameter page get Parameters try String value String Contexts get Page Context get page Parameter get Name if value null Object converted Value page Parameter convert Value From String faces Context value page Parameter validate Converted Value faces Context converted Value Contexts get Event Context set page Parameter get Name converted Value catch Validator Exception ve if ve get Faces Message null faces Context add Message null ve get Faces Message validation Failed true catch Converter Exception ce if ce get Faces Message null faces Context add Message null ce get Faces Message validation Failed true return validation Failed Apply page parameters passed as view root attributes or request parameters to the model private void apply Converted Validated Values To Model Faces Context faces Context String view Id get View Id faces Context for Page page get Page Stack view Id for Param page Parameter page get Parameters Value Expression value Expression page Parameter get Value Expression if value Expression null Object object Contexts get Event Context get page Parameter get Name if object null value Expression set Value object Get the page parameter values that were passed in the original request from the context public Map String Object get String Values From Page Context Faces Context faces Context Map String Object parameters new Hash Map String Object String view Id get View Id faces Context for Page page get Page Stack view Id for Param page Parameter page get Parameters Object object Contexts get Page Context get page Parameter get Name if object null parameters put page Parameter get Name object return parameters Update the page parameter values stored in the context with the current values of the mapped attributes of the model public void update String Values In Page Context Using Model Faces Context faces Context for Page page get Page Stack get View Id faces Context for Param page Parameter page get Parameters if page Parameter get Value Expression null String value page Parameter get String Value From Model faces Context if value null Contexts get Page Context remove page Parameter get Name else Contexts get Page Context set page Parameter get Name value Encode page parameters into a param url the base param view Id the view id of the page return the with parameters appended public String encode Page Parameters Faces Context faces Context String url String view Id return encode Page Parameters faces Context url view Id Collections Encode page parameters into a param url the base param view Id the view id of the page param overridden excluded parameters return the with parameters appended public String encode Page Parameters Faces Context faces Context String url String view Id Set String overridden Map String Object parameters get String Values From Model faces Context view Id overridden return Manager instance encode Parameters url parameters Search for a defined no conversation view id beginning with the most specific view id then wildcarded view ids and finally the global setting public String get No Conversation View Id String view Id List Page stack get Page Stack view Id for int i stack size i i Page page stack get i if page get No Conversation View Id null String no Conversation View Id page get No Conversation View Id get Value if no Conversation View Id null return no Conversation View Id return this no Conversation View Id null this no Conversation View Id get Value null Search for a defined conversation timeout beginning with the most specific view id then wildcarded view ids and finally the global setting from Manager public Integer get Timeout String view Id List Page stack get Page Stack view Id for int i stack size i i Page page stack get i Integer timeout page get Timeout if timeout null return timeout return Manager instance get Conversation Timeout Search for a defined concurrent request timeout beginning with the most specific view id then wildcarded view ids and finally the global setting from Manager public Integer get Concurrent Request Timeout String view Id List Page stack get Page Stack view Id for int i stack size i i Page page stack get i Integer concurrent Request Timeout page get Concurrent Request Timeout if concurrent Request Timeout null return concurrent Request Timeout return Manager instance get Concurrent Request Timeout public static String get Suffix String default Suffix Faces Context get Current Instance get External Context get Init Parameter View Handler return default Suffix null View Handler default Suffix Parse a pages xml file private void parse Input Stream stream Element root get Document Root stream if no Conversation View Id null let the setting in components xml override the pages xml String no Conversation View Id String root attribute Value no conversation view id if no Conversation View Id String null no Conversation View Id Expressions instance create Value Expression no Conversation View Id String String class if login View Id null let the setting in components xml override the pages xml login View Id root attribute Value login view id if http Port null try String value root attribute Value http port if Strings is Empty value http Port Integer parse Int value catch Number Format Exception ex throw new Illegal State Exception Invalid value specified for http port attribute in pages xml if https Port null try String value root attribute Value https port if Strings is Empty value https Port Integer parse Int value catch Number Format Exception ex throw new Illegal State Exception Invalid valid specified for https port attribute in pages xml List Element elements root elements conversation for Element conversation elements parse Conversation conversation conversation attribute Value name elements root elements page for Element page elements parse page page attribute Value view id Parse a view Id page xml file private void parse Input Stream stream String view Id parse get Document Root stream view Id Get the root element of the document private static Element get Document Root Input Stream stream try return get Root Element stream catch Document Exception de throw new Runtime Exception de private void parse Conversation Element element String name if name null throw new Illegal State Exception Must specify name for conversation declaration if conversations contains Key name throw new Illegal State Exception conversation declaration already exists for name Natural Conversation Id Parameter param new Natural Conversation Id Parameter name element attribute Value parameter name element attribute Value parameter value conversations put name param Parse a page element and add a Page to the map private void parse Element element String view Id if view Id null throw new Illegal State Exception Must specify view id for page declaration if view Id ends With wildcard View Ids add view Id Page page new Page view Id pages By View Id put view Id page parse Page page element view Id parse Conversation Control element page get Conversation Control parse Task Control element page get Task Control parse Process Control element page get Process Control List Element children element elements param for Element param children page get Parameters add parse Param param page is Validate Model List Element more Children element elements navigation for Element from Action more Children parse Action Navigation page from Action Element restrict element element restrict if restrict null page set Restricted true String expr restrict get Text Trim if Strings is Empty expr page set Restriction expr List Element headers element elements header for Element header headers page get Headers add parse Header header public Conversation Id Parameter get Conversation Id Parameter String conversation Name return conversations get conversation Name Parse the attributes of page private Page parse Page Page page Element element String view Id page set Switch Enabled disabled equals element attribute Value switch Element optional Element element element description String description optional Element null element get Text Trim optional Element get Text Trim if description null description length page set Description description String timeout String element attribute Value timeout if timeout String null page set Timeout Integer parse Int timeout String String concurrent Request Timeout String element attribute Value concurrent request timeout if concurrent Request Timeout String null page set Concurrent Request Timeout Integer parse Int concurrent Request Timeout String String no Conversation View Id String element attribute Value no conversation view id if no Conversation View Id String null page set No Conversation View Id Expressions instance create Value Expression no Conversation View Id String String class page set Conversation Required Boolean parse Boolean element attribute Value conversation required page set Login Required Boolean parse Boolean element attribute Value login required page set Scheme element attribute Value scheme String expires Value element attribute Value expires if expires Value null page set Expires Integer parse Int expires Value Conversation Id Parameter param conversations get element attribute Value conversation if param null page set Conversation Id Parameter param List Element patterns element elements rewrite for Element pattern patterns page add Rewrite Pattern pattern attribute Value pattern List Element events element elements raise event for Element event Element events page add Event Type event Element attribute Value type Action action parse Action element action false if action null page get Actions add action List Element child Elements element elements action for Element child Element child Elements page get Actions add parse Action child Element execute true String bundle element attribute Value bundle if bundle null page set Resource Bundle Name bundle List Element more Child Elements element elements in for Element child more Child Elements Input input new Input input set Name child attribute Value name input set Value Expressions instance create Value Expression child attribute Value value String scope Name child attribute Value scope if scope Name null input set Scope Scope Type value Of scope Name to Upper Case page get Inputs add input by default the model is validated by Hibernate validator this attribute is used to disable that feature this setting can be overridden at the param level String validate Model Str element attribute Value validate model if validate Model Str null page set Validate Model Boolean parse Boolean validate Model Str return page private static Action parse Action Element element String action Att boolean conditionals Allowed Action action new Action String method Expression element attribute Value action Att if method Expression null return null if method Expression starts With action set Method Expression Expressions instance create Method Expression method Expression else action set Outcome method Expression if conditionals Allowed String expression element attribute Value if if expression null action set Value Expression Expressions instance create Value Expression expression action set On Postback false equals element attribute Value on postback return action Parse end conversation and end task and begin conversation start task and begin task private static void parse Conversation Control Element element Conversation Control control Element end Conversation element element end conversation end Conversation end Conversation null element element end task end Conversation if end Conversation null control set End Conversation true control set End Conversation Before Redirect Boolean parse Boolean end Conversation attribute Value before redirect control set End Root Conversation Boolean parse Boolean end Conversation attribute Value root String expression end Conversation attribute Value if if expression null control set End Conversation Condition Expressions instance create Value Expression expression Boolean class Element begin Conversation element element begin conversation begin Conversation begin Conversation null element element begin task begin Conversation begin Conversation begin Conversation null element element start task begin Conversation if begin Conversation null control set Begin Conversation true control set Join Boolean parse Boolean begin Conversation attribute Value join control set Nested Boolean parse Boolean begin Conversation attribute Value nested control set Pageflow begin Conversation attribute Value pageflow control set Conversation Name begin Conversation attribute Value conversation String flush Mode begin Conversation attribute Value flush mode if flush Mode null control set Flush Mode Flush Mode Type value Of flush Mode to Upper Case String expression begin Conversation attribute Value if if expression null control set Begin Conversation Condition Expressions instance create Value Expression expression Boolean class if control is Begin Conversation control is End Conversation throw new Illegal State Exception can not use both begin conversation and end conversation Parse begin task start task and end task private static void parse Task Control Element element Task Control control Element end Task element element end task if end Task null control set End Task true String transition end Task attribute Value transition if transition null control set Transition Expressions instance create Value Expression transition String class Element begin Task element element begin task if begin Task null control set Begin Task true String task Id begin Task attribute Value task id if task Id null task Id param task Id control set Task Id Expressions instance create Value Expression task Id Long class Element start Task element element start task if start Task null control set Start Task true String task Id start Task attribute Value task id if task Id null task Id param task Id control set Task Id Expressions instance create Value Expression task Id Long class if control is Begin Task control is End Task throw new Illegal State Exception can not use both begin task and end task else if control is Begin Task control is Start Task throw new Illegal State Exception can not use both start task and begin task else if control is Start Task control is End Task throw new Illegal State Exception can not use both start task and end task Parse create process and end process private static void parse Process Control Element element Process Control control Element create Process element element create process if create Process null control set Create Process true control set Definition create Process attribute Value definition Element resume Process element element resume process if resume Process null control set Resume Process true String process Id resume Process attribute Value process id if process Id null process Id param process Id control set Process Id Expressions instance create Value Expression process Id Long class if control is Create Process control is Resume Process throw new Illegal State Exception can not use both create process and resume process private static void parse Event Element element Rule rule List Element events element elements raise event for Element event Element events rule add Event Type event Element attribute Value type Parse navigation private static void parse Action Navigation Page entry Element element Navigation navigation new Navigation String outcome Expression element attribute Value evaluate if outcome Expression null navigation set Outcome Expressions instance create Value Expression outcome Expression List Element cases element elements rule for Element child Element cases navigation get Rules add parse Rule child Element Rule rule new Rule parse Event element rule parse Navigation Handler element rule parse Conversation Control element rule get Conversation Control parse Task Control element rule get Task Control parse Process Control element rule get Process Control navigation set Rule rule String expression element attribute Value from action if expression null if entry get Default Navigation null entry set Default Navigation navigation else throw new Illegal State Exception multiple catchall navigation elements else Object old entry get Navigations put expression navigation if old null throw new Illegal State Exception multiple navigation elements for action expression Parse param private static Param parse Param Element element boolean validate Model String value Expression element attribute Value value String name element attribute Value name if name null if value Expression null throw new Illegal Argument Exception must specify name or value for page param declaration name value Expression substring value Expression length Param param new Param name validate Model if value Expression null param set Value Expression Expressions instance create Value Expression value Expression param set Converter Id element attribute Value converter Id String converter Expression element attribute Value converter if converter Expression null param set Converter Value Expression Expressions instance create Value Expression converter Expression param set Validator Id element attribute Value validator Id String validator Expression element attribute Value validator if validator Expression null param set Validator Value Expression Expressions instance create Value Expression validator Expression param set Required Boolean parse Boolean element attribute Value required String validate Model Str element attribute Value validate Model if validate Model Str null param set Validate Model Boolean parse Boolean validate Model Str return param private static Header parse Header Element element Header header new Header String name element attribute Value name header set Name name String value Expression element attribute Value value if value Expression null value Expression element get Text Trim header set Value Expressions instance create Value Expression value Expression return header Parse rule private static Rule parse Rule Element element Rule rule new Rule rule set Outcome Value element attribute Value if outcome String expression element attribute Value if if expression null rule set Condition Expressions instance create Value Expression expression parse Conversation Control element rule get Conversation Control parse Task Control element rule get Task Control parse Process Control element rule get Process Control parse Event element rule parse Navigation Handler element rule return rule private static void parse Navigation Handler Element element Rule rule Element render element element render if render null final String view Id render attribute Value view id Element message Element render element message String message message Element null null message Element get Text Trim String control message Element null null message Element attribute Value for String severity Name message Element null null message Element attribute Value severity Severity severity severity Name null Faces Message get Faces Message Values Map get severity Name to Upper Case rule add Navigation Handler new Render Navigation Handler string Value Expression For view Id message severity control Element redirect element element redirect if redirect null List Element children redirect elements param final List Param params new Array List Param for Element child children params add parse Param child true final String view Id redirect attribute Value view id final String url redirect attribute Value url final String include Page Params Attr redirect attribute Value include page params final boolean include Page Params include Page Params Attr null true Boolean get Boolean include Page Params Attr Element message Element redirect element message String control message Element null null message Element attribute Value for String message message Element null null message Element get Text Trim String severity Name message Element null null message Element attribute Value severity Severity severity severity Name null Faces Message get Faces Message Values Map get severity Name to Upper Case rule add Navigation Handler new Redirect Navigation Handler string Value Expression For view Id string Value Expression For url params message severity control include Page Params List Element child Elements element elements out for Element child child Elements Output output new Output output set Name child attribute Value name output set Value Expressions instance create Value Expression child attribute Value value String scope Name child attribute Value scope if scope Name null output set Scope Scope Type else output set Scope Scope Type value Of scope Name to Upper Case rule get Outputs add output private static Value Expression String string Value Expression For String expr return Value Expression String expr null expr Expressions instance create Value Expression expr String class public static Map String Severity get Faces Message Values Map Map String Severity result new Hash Map String Severity for Map Entry String Severity me Set Map Entry String Severity Faces Message entry Set result put me get Key to Upper Case me get Value return result The global setting for no conversation viewid return a view id public Value Expression String get No Conversation View Id return no Conversation View Id public void set No Conversation View Id Value Expression String no Conversation View Id this no Conversation View Id no Conversation View Id The global setting for login viewid return a view id public String get Login View Id return login View Id public void set Login View Id String login View Id this login View Id login View Id public static String get Current View Id return get View Id Faces Context get Current Instance public static String get Current Base Name String view Id get View Id Faces Context get Current Instance int pos view Id last Index Of if pos view Id view Id substring pos pos view Id last Index Of if pos view Id view Id substring pos return view Id public static String get View Id Faces Context faces Context if faces Context null View Root view Root faces Context get View Root if view Root null return view Root get View Id return null public Integer get Http Port return http Port public void set Http Port Integer http Port this http Port http Port public Integer get Https Port return https Port public void set Https Port Integer https Port this https Port https Port public String get Resources return resources public void set Resources String resources this resources resources private static boolean is Debug Page String view Id return Init instance is Debug Page Available view Id starts With debug public static boolean is Debug Page return Init instance is Debug Page Available get Current View Id null get Current View Id starts With debug public Collection String get Known View Ids return pages By View Id key Set 
package org jboss seam deployment import org jboss seam contexts Contexts The link Pages Dot Xml Deployment Handler process pages xml files Its only purpose is to make sure pages xml gets updated by hot deploy author Stuart Douglas public class Pages Dot Xml Deployment Handler extends Abstract Deployment Handler private static Deployment Metadata new Deployment Metadata public String get File Name Suffix return pages xml Name under which this link Deployment Handler is registered public static final String org jboss seam deployment Pages Dot Xml Deployment Handler public String get Name return public static Pages Dot Xml Deployment Handler instance if Contexts is Event Context Active if Contexts get Event Context is Set War Root Deployment Strategy Deployment Strategy deployment Strategy Deployment Strategy Contexts get Event Context get War Root Deployment Strategy Object deployment Handler deployment Strategy get Deployment Handlers get if deployment Handler null return Pages Dot Xml Deployment Handler deployment Handler return null else throw new Illegal State Exception Event context not active public Deployment Metadata get Metadata return 
package org jboss seam navigation import java util Date import java util Map import java util Set import javax el Context import javax el Exception import javax faces application Faces Message import javax faces context Faces Context import javax faces convert Converter import javax faces validator Validator import javax faces validator Validator Exception import javax validation Constraint Violation import org jboss seam contexts Contexts import org jboss seam core Validators import org jboss seam core Expressions Value Expression import org jboss seam faces Faces Messages import org jboss seam log Log Provider import org jboss seam log Logging Metadata for a lt param gt in pages xml author Gavin King public final class Param private static final Log Provider log Logging get Log Provider Param class public static final String org jboss seam param Invalid public static final String org jboss seam param Required private final String name private Value Expression value Expression private boolean required private boolean validate Model private Value Expression converter Value Expression private String converter Id private Value Expression validator Value Expression private String validator Id public Param String name this name true public Param String name boolean validate Model this name name this validate Model validate Model public Converter get Converter if converter Id null return Faces Context get Current Instance get Application create Converter converter Id else if converter Value Expression null return Converter converter Value Expression get Value else if value Expression null return null else Class type value Expression get Type if type null return null if type equals Date class return org jboss seam faces Date Converter get Instance else return Faces Context get Current Instance get Application create Converter type public Validator get Validator if validator Id null return Faces Context get Current Instance get Application create Validator validator Id else if validator Value Expression null return Validator validator Value Expression get Value else return null public String get Name return name public void set Value Expression Value Expression value Expression this value Expression value Expression public Value Expression get Value Expression return value Expression public void set Converter Value Expression Value Expression converter Value Expression this converter Value Expression converter Value Expression public Value Expression get Converter Value Expression return converter Value Expression public void set Converter Id String converter Id this converter Id converter Id public String get Converter Id return converter Id Override public String to String return Page Parameter name Get the current value of a page or redirection parameter from the model and convert to a String public String get String Value From Model Faces Context faces Context Object value get Value Expression get Value if value null return null else Converter converter null try converter get Converter catch Runtime Exception re due to bad My Faces error handling log warn could not create converter for name re return null return converter null value to String converter get As String faces Context faces Context get View Root value Get the current value of a page parameter from the request parameters public String get String Value From Request Faces Context faces Context Map String String request Parameters throws Validator Exception String parameter Values request Parameters get get Name if parameter Values null parameter Values length Page parameters are propagated in the page context through faces requests if is Required Contexts get Page Context is Set get Name add Required Message faces Context return null if parameter Values length throw new Illegal Argument Exception page parameter may not be multi valued get Name String value parameter Values if the length is zero and the parameter is required treat the value as missing and report it as null this differs from how handles inputs if value length if is Required add Required Message faces Context return null return value Convert the string value of a page parameter to the required type public Object convert Value From String Faces Context faces Context String value Converter converter null try converter get Converter catch Runtime Exception re due to bad My Faces error handling log warn could not create converter for name re return null return converter null value converter get As Object faces Context faces Context get View Root value Validate the pre converted value of the parameter using the validator specified in pages xml and using Hibernate Validator annotations specified on the model public void validate Converted Value Faces Context faces Context Object value Validator validator get Validator if validator null validator validate faces Context faces Context get View Root value if value Expression null validate Model note that this code is duplicated from Model Validator Context el Context faces Context get Context Set Constraint Violation Object invalid Values try invalid Values Validators instance validate value Expression to Unified Value Expression el Context value catch Exception ele Throwable cause ele get Cause if cause null cause ele throw new Validator Exception create Message cause cause if invalid Values size throw new Validator Exception create Message invalid Values private Faces Message create Message Set Constraint Violation Object invalid Values String message invalid Values iterator next get Message return Faces Messages create Faces Message Faces Message name parameter is invalid message new Object message name private Faces Message create Message Throwable cause return Faces Messages create Faces Message Faces Message name parameter is invalid cause get Message new Object cause get Message name private void add Required Message Faces Context faces Context throw new Validator Exception Faces Messages create Faces Message Faces Message name parameter is required name public String get Validator Id return validator Id public void set Validator Id String validator Id this validator Id validator Id public Value Expression get Validator Value Expression return validator Value Expression public void set Validator Value Expression Value Expression validator Value Expression this validator Value Expression validator Value Expression public boolean is Required return required public void set Required boolean required this required required public boolean is Validate Model return validate Model public void set Validate Model boolean validate Model this validate Model validate Model 
package org jboss seam faces import static org jboss seam annotations Install import java util Map import javax faces component View Root import javax faces context Faces Context import javax faces convert Converter import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors Access to request parameters in the environment author Gavin King Name org jboss seam web parameters Bypass Interceptors Scope Scope Type Install precedence class Dependencies javax faces context Faces Context public class Parameters extends org jboss seam web Parameters Override protected Object convert Request Parameter String request Parameter Class type if String class equals type return request Parameter Faces Context faces Context Faces Context get Current Instance if faces Context null throw new Illegal State Exception No Faces Context associated with current thread can not convert request parameter type else Converter converter faces Context get Application create Converter type if converter null throw new Illegal Argument Exception no converter for type type View Root view Root faces Context get View Root return converter get As Object faces Context view Root null new View Root view Root have to pass something here or get a totally useless from request Parameter Override public Map String String get Request Parameters Faces Context faces Context Faces Context get Current Instance if faces Context null return faces Context get External Context get Request Parameter Values Map return super get Request Parameters 
package org jboss seam remoting client import org dom j Element import org jboss seam remoting Call Context import org jboss seam remoting wrapper Wrapper import java util Iterator author Shane Bryzak public class Parser Utils public static Object unmarshal Result Element result Element Element value Element result Element element value Element refs Element result Element element refs Call Context ctx new Call Context Iterator iter refs Element element Iterator ref while iter has Next ctx create Wrapper From Element Element iter next Wrapper result Wrapper ctx create Wrapper From Element Element value Element element Iterator next Now unmarshal the ref values for Wrapper w ctx get In Refs values w unmarshal return result Wrapper get Value 
package org jboss seam contexts import java io Serializable import javax persistence Entity Manager import org hibernate Session import org jboss seam Component import org jboss seam Seam import org jboss seam persistence Hibernate Persistence Provider import org jboss seam persistence Persistence Contexts import org jboss seam persistence Persistence Provider import org jboss seam transaction Transaction swizzled entity reference consisting of the class id and persistence context name see Entity Bean see org jboss seam persistence Managed Entity Interceptor author Gavin King class Passivated Entity implements Serializable private static final long serial Version private Object id private Object version private String persistence Context private Class entity Class make this transient and serialize only the class name private Passivated Entity Object id Object version Class entity Class String persistence Context this id id this persistence Context persistence Context this entity Class entity Class this version version private String get Persistence Context return persistence Context private Object get Id return id private Class get Entity Class return entity Class public boolean is Versioned return version null public Object to Entity Reference boolean check Version Object persistence Context Component get Instance get Persistence Context if persistence Context null return null else if persistence Context instanceof Entity Manager return get Entity From Entity Manager persistence Context check Version else return get Entity From Hibernate persistence Context check Version private Object get Entity From Hibernate Object persistence Context boolean check Version split this out to somewhere to isolate the Hibernate dependency Session session Session persistence Context if session is Open Object result session load get Entity Class Serializable get Id if result null check Version check Version session result return result else return null private void check Version Session session Object result Object version Hibernate Persistence Provider get Version result session if version null Hibernate Persistence Provider check Version result session this version version private Object get Entity From Entity Manager Object persistence Context boolean check Version Entity Manager em Entity Manager persistence Context if em is Open Object result em get Reference get Entity Class get Id if result null check Version check Version em result return result else return null private void check Version Entity Manager em Object result Object version Persistence Provider instance get Version result em if version null Persistence Provider instance check Version result em this version version public static Object unpassivate Entity And Check Version String key return unpassivate Entity key true public static Object unpassivate Entity String key return unpassivate Entity key false private static Object unpassivate Entity String key boolean check Version Passivated Entity passivated Entity Passivated Entity Contexts get Conversation Context get key return passivated Entity null null passivated Entity to Entity Reference check Version public static Passivated Entity passivate Entity Object value Class entity Class Seam get Entity Class value get Class if entity Class null for String persistence Context Name Persistence Contexts instance get Touched Contexts Object persistence Context Component get Instance persistence Context Name return create Passivated Entity value entity Class persistence Context Name persistence Context return null private static Passivated Entity create Passivated Entity Object value Class entity Class String persistence Context Name Object persistence Context if persistence Context instanceof Entity Manager return create Using Entity Manager value entity Class persistence Context Name persistence Context else return create Using Hibernate value entity Class persistence Context Name persistence Context private static String store Conversation Context Passivated Entity result if result null return null else String key result get Key Contexts get Conversation Context set key result return key private String get Key return org jboss seam passivated Entity entity Class get Name get Id private static Passivated Entity create Using Hibernate Object value Class entity Class String persistence Context Name Object persistence Context split this out to somewhere to isolate the Hibernate dependency Session session Session persistence Context if is Managed value session Object id session get Identifier value Object version Hibernate Persistence Provider get Version value session return create entity Class persistence Context Name id version else return null private static boolean is Managed Object value Session session boolean managed try managed session is Open session contains value catch Runtime Exception re just in case deleteme managed false return managed private static Passivated Entity create Using Entity Manager Object value Class entity Class String persistence Context Name Object persistence Context Entity Manager em Entity Manager persistence Context if is Managed value em Object id Persistence Provider instance get Id value em Object version Persistence Provider instance get Version value em return create entity Class persistence Context Name id version else return null private static boolean is Managed Object value Entity Manager em boolean managed try managed em is Open em contains value catch Runtime Exception re workaround for bug in deleteme managed false return managed private static Passivated Entity create Class entity Class String persistence Context Name Object id Object version if id null this can happen if persist fails in Hibernate return null else return new Passivated Entity id version entity Class persistence Context Name static boolean is Transaction Rolled Back Or Marked Rollback try return Transaction instance is Rolled Back Or Marked Rollback catch Exception e return false Override public String to String return entity Class id 
package org jboss seam example wicket import org apache wicket markup html Web Page import org apache wicket markup html form Form import org apache wicket markup html form Form Component import org apache wicket markup html form Password Text Field import org apache wicket markup html form validation Equal Input Validator import org apache wicket markup html link Page Link import org apache wicket markup html panel Component Feedback Panel import org apache wicket model Property Model import org jboss seam annotations In import org jboss seam annotations security Restrict import org jboss seam example wicket action Change Password import org jboss seam example wicket action User Restrict identity logged In public class Password extends Web Page In create true private User user In create true private Change Password change Password public Password Template body new Template body body add new Register Form setpassword add body public class Register Form extends Form private String verify public String get Verify return verify public void set Verify String verify this verify verify public Register Form String id super id add new Page Link cancel Main class Form Component password new Password Text Field password set Required true Form Component verify new Password Text Field verify set Required true add new Form Input Border password Border Password password new Property Model user password add new Form Input Border verify Border Verify Password verify new Property Model this verify add new Component Feedback Panel messages this add new Equal Input Validator password verify Override protected void on Submit change Password change Password set Response Page Main class 
package org jboss seam security management import static org jboss seam Scope Type import static org jboss seam annotations Install import java security General Security Exception import java security Message Digest import java security Secure Random import javax crypto Secret Key import javax crypto Secret Key Factory import javax crypto spec Key Spec import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam security crypto Bin Tools import org jboss seam security crypto import org jboss seam security crypto Engine import org jboss seam security crypto Parameters import org jboss seam util Base Password hashing utility functions author Shane Bryzak Scope Name org jboss seam security password Hash Install precedence Bypass Interceptors public class Password Hash public static final String public static final String private static final String If specified use the instead of the built in algorithm private String hash Algorithm null default password salt length in bytes private int salt Length Deprecated public String generate Hash String password return generate Hash password Deprecated public String generate Hash String password String algorithm return generate Salted Hash password null algorithm Deprecated public String generate Salted Hash String password String salt Phrase return generate Salted Hash password salt Phrase deprecated Use Password Hash create Password Key instead Deprecated public String generate Salted Hash String password String salt Phrase String algorithm try Message Digest md Message Digest get Instance algorithm if salt Phrase null md update salt Phrase get Bytes byte salt md digest md reset md update password get Bytes md update salt else md update password get Bytes byte raw md digest return Base encode Bytes raw catch Exception e throw new Runtime Exception e public byte generate Random Salt byte salt new byte salt Length new Secure Random next Bytes salt return salt public String create Password Key char password byte salt int iterations throws General Security Exception if hash Algorithm null Key Spec password Key Spec new Key Spec password salt iterations Secret Key Factory secret Key Factory Secret Key Factory get Instance hash Algorithm Secret Key password Key secret Key Factory generate Secret password Key Spec password Key Spec clear Password return Bin Tools bin hex password Key get Encoded else Parameters params new Parameters Hmac salt iterations pbkdf new Engine params return Bin Tools bin hex pbkdf derive Key new String password public static Password Hash instance return Password Hash Component get Instance Password Hash class Scope Type public String get Hash Algorithm return hash Algorithm public void set Hash Algorithm String hash Algorithm this hash Algorithm hash Algorithm public int get Salt Length return salt Length public void set Salt Length int salt Length this salt Length salt Length 
package org jboss seam annotations security management import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target The salt value used to produce the password hash author Shane Bryzak Target Documented Retention Inherited public interface Password Salt 
package org jboss seam tool import org apache tools ant Build Exception import org apache tools ant Task public class Path Filename Task extends Task private String path private String property Name Override public void execute throws Build Exception if path null equals path int fwdloc path last Index Of int backloc path last Index Of int loc fwdloc backloc fwdloc backloc String filename loc path substring loc path get Project set Property property Name filename public void set Path String package Name this path package Name public void set Property String property Name this property Name property Name 
package org jboss seam web public class Pattern String view String pattern Servlet Mapping view Mapping Incoming Pattern in Pattern Outgoing Pattern out Pattern public Pattern String view String pattern this view view this pattern pattern not necessarily available when pattern is created public void set View Mapping Servlet Mapping view Mapping this view Mapping view Mapping protected Incoming Pattern in Pattern if in Pattern null in Pattern new Incoming Pattern view Mapping view pattern return in Pattern protected Outgoing Pattern out Pattern if out Pattern null out Pattern new Outgoing Pattern view Mapping view pattern return out Pattern public Rewrite match Incoming String path return return If Match in Pattern rewrite path public Rewrite match Outgoing String path return return If Match out Pattern rewrite path Override public String to String return Pattern view pattern private Rewrite return If Match Rewrite rewrite return rewrite is Match rewrite null 
package org jboss seam example quartz import java io Serializable import java math Big Decimal import java util Date import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Lob import javax persistence Many To One import javax validation constraints Size import javax validation constraints Not Null import javax validation constraints Digits import org jboss seam async Quartz Trigger Handle Entity public class Payment implements Serializable Id Generated Value private Long id Not Null Digits integer fraction private Big Decimal amount Not Null Size min private String payee Not Null Many To One private Account account Not Null private Date payment Date Not Null private Date created Date private Date last Paid private boolean active true private String payment Cron private Date payment End Date private Frequency payment Frequency Frequency Lob private Quartz Trigger Handle quartz Trigger Handle public Long get Id return id public Big Decimal get Amount return amount public void set Amount Big Decimal amount this amount amount public String get Payee return payee public void set Payee String payee this payee payee public Account get Account return account public void set Account Account account this account account account get Payments add this public Date get Payment Date return payment Date public void set Payment Date Date payment Date this payment Date payment Date public Date get Payment End Date return payment End Date public void set Payment End Date Date payment End Date this payment End Date payment End Date public Date get Created Date return created Date public void set Created Date Date created Date this created Date created Date public Date get Last Paid return last Paid public void set Last Paid Date last Paid this last Paid last Paid public boolean get Active return active public void set Active boolean active this active active public Frequency get Payment Frequency return payment Frequency public void set Payment Frequency Frequency payment Frequency this payment Frequency payment Frequency public String get Payment Cron return payment Cron public void set Payment Cron String payment Cron this payment Cron payment Cron public Quartz Trigger Handle get Quartz Trigger Handle return quartz Trigger Handle public void set Quartz Trigger Handle Quartz Trigger Handle quartz Trigger Handle this quartz Trigger Handle quartz Trigger Handle public enum Frequency null l Just for testing l l l l Long interval Frequency Long interval this interval interval public Long get Interval return interval 
package org jboss seam example quartz import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam annotations Transactional import org jboss seam annotations web Request Parameter import org jboss seam async Quartz Trigger Handle import org jboss seam example quartz Payment import org jboss seam example quartz Payment Processor import org jboss seam faces Faces Messages import org jboss seam framework Entity Home import org jboss seam log Log Name payment Home public class Payment Home extends Entity Home Payment Request Parameter Long payment Id In Payment Processor processor Logger Log log public String save And Schedule String result persist Payment payment get Instance log info scheduling instance payment Quartz Trigger Handle handle processor schedule Payment payment get Payment Date payment get Payment Frequency get Interval payment get Payment End Date payment payment set Quartz Trigger Handle handle return result public String save And Schedule Cron String result persist Payment payment get Instance log info scheduling instance payment Quartz Trigger Handle handle processor schedule Payment payment get Payment Date payment get Payment Cron payment get Payment End Date payment payment set Quartz Trigger Handle handle return result Override public Object get Id return payment Id Transactional public void cancel Payment payment get Instance Quartz Trigger Handle handle payment get Quartz Trigger Handle payment set Quartz Trigger Handle null payment set Active false try handle cancel catch Exception nsole Faces Messages instance add Payment already processed 
package org jboss seam example quartz import java math Big Decimal import java util Date import javax persistence Entity Manager import org jboss seam annotations Auto Create import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam annotations Transactional import org jboss seam annotations async Asynchronous import org jboss seam annotations async Expiration import org jboss seam annotations async Final Expiration import org jboss seam annotations async Interval Cron import org jboss seam annotations async Interval Duration import org jboss seam async Quartz Trigger Handle import org jboss seam log Log Name processor Auto Create public class Payment Processor In Entity Manager entity Manager Logger Log log Asynchronous Transactional public Quartz Trigger Handle schedule Payment Expiration Date when Interval Duration Long interval Final Expiration Date stoptime Payment payment payment entity Manager merge payment log info Processing payment System current Time Millis payment get Id if payment get Active Big Decimal balance payment get Account adjust Balance payment get Amount negate log info balance is now balance payment set Last Paid new Date if payment get Payment Frequency equals Payment Frequency payment set Active false return null Asynchronous Transactional public Quartz Trigger Handle schedule Payment Expiration Date when Interval Cron String cron Final Expiration Date stoptime Payment payment payment entity Manager merge payment log info Processing cron payment System current Time Millis payment get Id if payment get Active Big Decimal balance payment get Account adjust Balance payment get Amount negate log info balance is now balance payment set Last Paid new Date return null 
package org jboss seam security crypto Copied from Matthias Gartner s implementation see http rtner de software html p free Java implementation of Password Based Key Derivation Function as defined by Copyright c Matthias auml rtner p p This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version p p This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details p p You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston p p For Details see a href http www gnu org licenses old licenses lgpl html http www gnu org licenses old licenses lgpl html a p author Matthias auml rtner version public interface Convert String based input to internal byte array then invoke Desired key length defaults to Pseudo Random Function block size param input Password Candidate password to compute the derived key for return internal byte array public abstract byte derive Key String input Password Convert String based input to internal byte array then invoke param input Password Candidate password to compute the derived key for param dk Len Specify desired key length return internal byte array public abstract byte derive Key String input Password int dk Len Convert String based input to internal byte arrays then invoke and verify result against the reference data that is supplied in the Parameters param input Password Candidate password to compute the derived key for return code true code password match code false code incorrect password public abstract boolean verify Key String input Password Allow reading of configured parameters return Currently set parameters public abstract Parameters get Parameters Allow setting of configured parameters param parameters public abstract void set Parameters Parameters parameters Get currently set Pseudo Random Function return Currently set Pseudo Random Function public abstract get Pseudo Random Function Set the Pseudo Random Function to use Note that derive Keys get does init this object using the supplied candidate password If this is undesired one has to override get param prf Pseudo Random Function to set public abstract void set Pseudo Random Function prf 
package org jboss seam security crypto import java io Unsupported Encoding Exception Copied from Matthias Gartner s implementation see http rtner de software html p Request for Comments Password Based Cryptography Specification p Version p c dk Len p Options ul li underlying pseudorandom function h Len denotes the length in octets of the pseudorandom function output is pluggable li ul p Input ul li password an octet string li li salt an octet string li li c iteration count a positive integer li li dk Len intended length in octets of the derived key a positive integer at most h Len li ul p Output ul li derived key a dk Len octet string li ul hr p free Java implementation of Password Based Key Derivation Function as defined by Copyright c Matthias auml rtner p p This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version p p This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details p p You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston p p For Details see a href http www gnu org licenses old licenses lgpl html http www gnu org licenses old licenses lgpl html a p see a href http tools ietf org html rfc a author Matthias auml rtner version public class Engine implements protected Parameters parameters protected prf Constructor for implementation object parameters must be passed later public Engine this parameters null prf null Constructor for implementation object parameters are passed so that this implementation knows iteration count method to use and String encoding param parameters Data holder for iteration count method to use et cetera public Engine Parameters parameters this parameters parameters prf null Constructor for implementation object parameters are passed so that this implementation knows iteration count method to use and String encoding param parameters Data holder for iteration count method to use et cetera param prf Supply customer Pseudo Random Function public Engine Parameters parameters prf this parameters parameters this prf prf public byte derive Key String input Password return derive Key input Password public byte derive Key String input Password int dk Len byte r null byte null String charset parameters get Hash Charset if input Password null input Password try if charset null input Password get Bytes else input Password get Bytes charset catch Unsupported Encoding Exception e throw new Runtime Exception e assert if dk Len dk Len prf get Len r prf parameters get Salt parameters get Iteration Count dk Len return r public boolean verify Key String input Password byte reference Key get Parameters get Derived Key if reference Key null reference Key length return false byte input Key derive Key input Password reference Key length if input Key null input Key length reference Key length return false for int i i input Key length i if input Key i reference Key i return false return true Factory method Default implementation is based To be overridden in derived classes param User supplied candidate password as array of bytes protected void assert byte if prf null prf new Mac Based parameters get Hash Algorithm prf init public get Pseudo Random Function return prf Core Password Based Key Derivation Function see a href http tools ietf org html rfc a param prf Pseudo Random Function i e Hmac param Salt as array of bytes code null code means no salt param c Iteration count see param dk Len desired length of derived key return internal byte array protected byte prf byte int c int dk Len if null new byte int h Len prf get Len int l ceil dk Len h Len int r dk Len l h Len byte new byte l h Len int ti offset for int i i l i ti offset prf c i ti offset h Len if r h Len Incomplete last block byte new byte dk Len System arraycopy dk Len return return Integer division with ceiling function see a href http tools ietf org html rfc Step a param a param b return ceil a b protected int ceil int a int b int m if a b m return a b m Function see a href http tools ietf org html rfc Step a param dest Destination byte buffer param offset Offset into destination byte buffer param prf Pseudo Random Function param Salt as array of bytes param c Iteration count param block Index protected void byte dest int offset prf byte int c int block Index int h Len prf get Len byte r new byte h Len i byte i new byte length System arraycopy i length i length block Index for int i i c i i prf do Final i xor r i System arraycopy r dest offset h Len Block Xor Xor source bytes into destination byte buffer Destination buffer must be same length or less than source buffer param dest param src protected void xor byte dest byte src for int i i dest length i dest i src i Four octet encoding of the integer i most significant octet first see a href http tools ietf org html rfc Step a param dest param offset param i protected void byte dest int offset int i dest offset byte i dest offset byte i dest offset byte i dest offset byte i public Parameters get Parameters return parameters public void set Parameters Parameters parameters this parameters parameters public void set Pseudo Random Function prf this prf prf 
package org jboss seam security crypto Copied from Matthias Gartner s implementation see http rtner de software html p free Java implementation of Password Based Key Derivation Function as defined by Copyright c Matthias auml rtner p p This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version p p This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details p p You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston p p For Details see a href http www gnu org licenses old licenses lgpl html http www gnu org licenses old licenses lgpl html a p author Matthias auml rtner version public interface Formatter Convert parameters to String param p Parameters object to output return String representation public abstract String to String Parameters p Convert String to parameters Depending on actual implementation it may be required to set further fields externally param s String representation of parameters to decode return code false code syntax code true code some syntax issue public abstract boolean from String Parameters p String s 
package org jboss seam security crypto Copied from Matthias Gartner s implementation see http rtner de software html p free Java implementation of Password Based Key Derivation Function as defined by Copyright c Matthias auml rtner p p This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version p p This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details p p You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston p p For Details see a href http www gnu org licenses old licenses lgpl html http www gnu org licenses old licenses lgpl html a p author Matthias auml rtner version public class Hex Formatter implements Formatter public boolean from String Parameters p String s if p null s null return true String p s split if p null p length return true byte salt Bin Tools hex bin p int iteration Count Integer parse Int p byte b Bin Tools hex bin p p set Salt salt p set Iteration Count iteration Count p set Derived Key b return false public String to String Parameters p String s Bin Tools bin hex p get Salt String value Of p get Iteration Count Bin Tools bin hex p get Derived Key return s 
package org jboss seam security crypto Copied from Matthias Gartner s implementation see http rtner de software html p Parameter data holder for configuration p hr p free Java implementation of Password Based Key Derivation Function as defined by Copyright c Matthias auml rtner p p This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version p p This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details p p You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston p p For Details see a href http www gnu org licenses old licenses lgpl html http www gnu org licenses old licenses lgpl html a p author Matthias auml rtner version public class Parameters protected byte salt protected int iteration Count protected String hash Algorithm protected String hash Charset The derived key is actually only a convenience to store a reference derived key It is not used during computation protected byte derived Key Constructor Defaults to code null code for byte arrays as character set and for iteration count public Parameters this hash Algorithm null this hash Charset this salt null this iteration Count this derived Key null Constructor param hash Algorithm for example Mac or Mac param hash Charset for example param salt Salt as byte array may be code null code not recommended param iteration Count Number of iterations to execute Recommended value public Parameters String hash Algorithm String hash Charset byte salt int iteration Count this hash Algorithm hash Algorithm this hash Charset hash Charset this salt salt this iteration Count iteration Count this derived Key null Constructor param hash Algorithm for example Mac or Mac param hash Charset for example param salt Salt as byte array may be code null code not recommended param iteration Count Number of iterations to execute Recommended value param derived Key Convenience data holder not used during computation public Parameters String hash Algorithm String hash Charset byte salt int iteration Count byte derived Key this hash Algorithm hash Algorithm this hash Charset hash Charset this salt salt this iteration Count iteration Count this derived Key derived Key public int get Iteration Count return iteration Count public void set Iteration Count int iteration Count this iteration Count iteration Count public byte get Salt return salt public void set Salt byte salt this salt salt public byte get Derived Key return derived Key public void set Derived Key byte derived Key this derived Key derived Key public String get Hash Algorithm return hash Algorithm public void set Hash Algorithm String hash Algorithm this hash Algorithm hash Algorithm public String get Hash Charset return hash Charset public void set Hash Charset String hash Charset this hash Charset hash Charset 
package org jboss seam test integration import java util Array List import java util List import org jboss seam Scope Type import org jboss seam annotations Factory import org jboss seam annotations Name import org jboss seam annotations datamodel Data Model Selection Name people public class People org jboss seam annotations datamodel Data Model scope Scope Type private List Person people List Data Model Selection private Person selected Person Factory people List public void people Factory people List new Array List Person people List add new Person Gavin people List add new Person Pete people List add new Person Shane people List add new Person Norman public Person get Selected Person return selected Person 
package org jboss seam annotations security permission import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Specifies an allowable permission action for the target class and allows for an optional bit mask value for mapping the permission action to a persistent store author Shane Bryzak Target Documented Retention Inherited public interface Permission String action long mask default 
package org jboss seam annotations security permission import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the action component of a permission e g update delete author Shane Bryzak Target Documented Retention Inherited public interface Permission Action 
package org jboss seam annotations security import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Meta annotation that designates an annotation as being a permission action requiring a security check prior to invoking the annotated method or class author Shane Bryzak Target Documented Retention Inherited public interface Permission Check String value default 
package org jboss seam annotations security permission import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the discriminator column in a permission table that contains permissions for both roles and users author Shane Bryzak Target Documented Retention Inherited public interface Permission Discriminator String user Value default user String role Value default role 
package org jboss seam security permission import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java util List import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam contexts Contexts import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security Identity Permission management component used to grant or revoke permissions on specific objects or of specific permission types to particular users or roles author Shane Bryzak Scope Name org jboss seam security permission Manager Install precedence public class Permission Manager implements Serializable public static final String org jboss seam security jpa Permission Store public static final String seam permission public static final String seam read permissions public static final String seam grant permission public static final String seam revoke permission private static final Log Provider log Logging get Log Provider Permission Manager class private Permission Store permission Store Create public void create if permission Store null permission Store Permission Store Component get Instance true if permission Store null log warn no permission store available please install a Permission Store with the name if permission management is required public static Permission Manager instance if Contexts is Application Context Active throw new Illegal State Exception No active application context Permission Manager instance Permission Manager Component get Instance Permission Manager class Scope Type if instance null throw new Illegal State Exception No Permission Manager could be created return instance public Permission Store get Permission Store return permission Store public void set Permission Store Permission Store permission Store this permission Store permission Store public List Permission list Permissions Object target String action if target null return null Identity instance check Permission target return permission Store list Permissions target action public List Permission list Permissions Object target if target null return null Identity instance check Permission target return permission Store list Permissions target public boolean grant Permission Permission permission Identity instance check Permission permission get Target return permission Store grant Permission permission public boolean grant Permissions List Permission permissions for Permission permission permissions Identity instance check Permission permission get Target return permission Store grant Permissions permissions public boolean revoke Permission Permission permission Identity instance check Permission permission get Target return permission Store revoke Permission permission public boolean revoke Permissions List Permission permissions for Permission permission permissions Identity instance check Permission permission get Target return permission Store revoke Permissions permissions public List String list Available Actions Object target return permission Store list Available Actions target public void clear Permissions Object target if permission Store null permission Store clear Permissions target 
package org jboss seam security permission import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java util Collection import java util Hash Map import java util Hash Set import java util Map import java util Set import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Events import org jboss seam core Init Maps permission checks to resolver chains author Shane Bryzak Scope Name org jboss seam security permission Mapper Install precedence Bypass Interceptors Startup public class Permission Mapper implements Serializable public static final String org jboss seam security default Resolver Chain Created private Map Class Map String String resolver Chains new Hash Map Class Map String String private String default Resolver Chain private static final String org jboss seam security default Resolver Chain private Resolver Chain get Resolver Chain Object target String action Class target Class null if target instanceof Class target Class Class target else target may be a component name or an object or a view name or arbitrary name we need to deal with all of these possibilities if target Class null Map String String chains resolver Chains get target if chains null chains contains Key action return Resolver Chain Component get Instance chains get action true if default Resolver Chain null equals default Resolver Chain return Resolver Chain Component get Instance default Resolver Chain true return create Default Resolver Chain public boolean resolve Permission Object target String action Resolver Chain chain get Resolver Chain target action for Permission Resolver resolver chain get Resolvers if resolver has Permission target action return true return false public void filter By Permission Collection collection String action boolean homogenous true Class target Class null for Object target collection if target Class null target Class target get Class if target Class equals target get Class homogenous false break if homogenous Set Object denied new Hash Set Object collection Resolver Chain chain get Resolver Chain target Class action for Permission Resolver resolver chain get Resolvers resolver filter Set By Action denied action for Object target denied collection remove target else Map Class Set Object denied By Class new Hash Map Class Set Object for Object obj collection if denied By Class contains Key obj get Class Set Object denied new Hash Set Object denied add obj denied By Class put obj get Class denied else denied By Class get obj get Class add obj for Class cls denied By Class key Set Set Object denied denied By Class get cls Resolver Chain chain get Resolver Chain cls action for Permission Resolver resolver chain get Resolvers resolver filter Set By Action denied action for Object target denied collection remove target private Resolver Chain create Default Resolver Chain Resolver Chain chain Resolver Chain Contexts get Session Context get if chain null chain new Resolver Chain for String resolver Name Init instance get Permission Resolvers chain get Resolvers add Permission Resolver Component get Instance resolver Name true Contexts get Session Context set chain if Events exists Events instance raise Event chain return chain public static Permission Mapper instance if Contexts is Application Context Active throw new Illegal State Exception No active application context Permission Mapper instance Permission Mapper Component get Instance Permission Mapper class Scope Type if instance null throw new Illegal State Exception No Permission Mapper could be created return instance 
package org jboss seam security permission import java io Serializable import java util Array List import java util Hash Map import java util Hash Set import java util List import java util Map import java util Set import org jboss seam annotations security permission Permissions Permission actions can either be persisted as a comma separated list of values or as a bit masked numerical value where certain bits represent specific actions for that class This is a helper class that handles the conversion automatically and presents a unified for dealing with these persistent actions author Shane Bryzak public class Permission Metadata implements Serializable private static final long serial Version private Map Class Boolean uses Action Mask new Hash Map Class Boolean private Map Class Map String Long class Actions new Hash Map Class Map String Long private synchronized void init Class Actions Class cls if class Actions contains Key cls Map String Long actions new Hash Map String Long boolean use Mask false Permissions p Permissions cls get Annotation Permissions class if p null org jboss seam annotations security permission Permission permissions p value if permissions null for org jboss seam annotations security permission Permission permission permissions actions put permission action permission mask if permission mask use Mask true Validate that all actions have a proper mask if use Mask Set Long masks new Hash Set Long for String action actions key Set Long mask actions get action if masks contains mask throw new Illegal Argument Exception Class cls get Name defines a duplicate mask for permission action action if mask throw new Illegal Argument Exception Class cls get Name must define a valid mask value for action action if mask mask throw new Illegal Argument Exception Class cls get Name must define a mask value that is a power of for action action masks add mask uses Action Mask put cls use Mask class Actions put cls actions protected class Action Set private Set String members new Hash Set String private Class target Class public Action Set Class target Class String members this target Class target Class add Members members public void add Members String members if members null return if uses Action Mask get target Class bit mask based actions long vals Long value Of members Map String Long actions class Actions get target Class for String action actions key Set long mask actions get action long Value if vals mask this members add action else comma separated string based actions String actions members split for String action actions this members add action public boolean contains String action return members contains action public Action Set add String action members add action return this public Action Set remove String action members remove action return this public Set String members return members public boolean is Empty return members is Empty Override public String to String if uses Action Mask get target Class Map String Long actions class Actions get target Class long mask for String member members mask actions get member long Value return mask else String Builder sb new String Builder for String member members if sb length sb append sb append member return sb to String public Action Set create Action Set Class target Class String members if class Actions contains Key target Class init Class Actions target Class return new Action Set target Class members public List String list Allowable Actions Class target Class if class Actions contains Key target Class init Class Actions target Class List String actions new Array List String for String action class Actions get target Class key Set actions add action return actions 
package org jboss seam security permission import java util Set Implementations of this interface perform permission checks using a variety of methods author Shane Bryzak public interface Permission Resolver boolean has Permission Object target String action void filter Set By Action Set Object targets String action 
package org jboss seam annotations security permission import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the role that a permission is assigned to author Shane Bryzak Target Documented Retention Inherited public interface Permission Role 
package org jboss seam annotations security permission import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Specifies a list of permission actions for a class author Shane Bryzak Target Documented Retention Inherited public interface Permissions Permission value default 
package org jboss seam security permission action import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java security Principal import java util Array List import java util Hash Map import java util List import java util Map import org jboss seam annotations Begin import org jboss seam annotations In import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations datamodel Data Model import org jboss seam annotations datamodel Data Model Selection import org jboss seam security management Identity Manager import org jboss seam security permission Permission import org jboss seam security permission Permission Manager Scope Name org jboss seam security permission permission Search Install precedence public class Permission Search implements Serializable private Map Principal List Permission grouped Permissions new Hash Map Principal List Permission Data Model List Principal recipients Data Model Selection Principal selected Recipient In Identity Manager identity Manager In Permission Manager permission Manager private Object target Begin public void search Object target this target target public void refresh List Permission permissions permission Manager list Permissions target grouped Permissions clear for Permission permission permissions List Permission recipient Permissions null if grouped Permissions contains Key permission get Recipient recipient Permissions new Array List Permission grouped Permissions put permission get Recipient recipient Permissions else recipient Permissions grouped Permissions get permission get Recipient recipient Permissions add permission recipients new Array List Principal grouped Permissions key Set public String get Actions Principal recipient String Builder sb new String Builder for Permission permission grouped Permissions get recipient if sb length sb append sb append permission get Action return sb to String public Object get Target return target public void revoke Selected permission Manager revoke Permissions get Selected Permissions refresh public Principal get Selected Recipient return selected Recipient public List Permission get Selected Permissions return grouped Permissions get selected Recipient 
package org jboss seam security permission import java util List import java util Set Permission store interface author Shane Bryzak public interface Permission Store List Permission list Permissions Object target List Permission list Permissions Object target String action List Permission list Permissions Set Object targets String action boolean grant Permission Permission permission boolean grant Permissions List Permission permissions boolean revoke Permission Permission permission boolean revoke Permissions List Permission permissions List String list Available Actions Object target void clear Permissions Object target 
package org jboss seam annotations security permission import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the target of a permission author Shane Bryzak Target Documented Retention Inherited public interface Permission Target 
package org jboss seam annotations security permission import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the principal username that a permission is assigned to author Shane Bryzak Target Documented Retention Inherited public interface Permission User 
package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Limit the scope of a scoped component to just the parent conversation in which it was instantiated The component instance will not be visible to nested child conversations which will get their own instance Warning this is ill defined since it implies that a component will be visible for some part of a request cycle and invisible after that It is not recommended that applications use this feature author Gavin King Target Retention Documented Inherited public interface Per Nested Conversation 
package org jboss seam persistence import org jboss seam annotations Flush Mode Type Support for changing flushmodes for an existing persistence context author Gavin King public interface Persistence Context Manager public void change Flush Mode Flush Mode Type flush Mode 
package org jboss seam persistence import static org jboss seam annotations Install import java io Serializable import java util Collections import java util Hash Set import java util Set import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Flush Mode Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Abstract Mutable import org jboss seam core Manager import org jboss seam log Log Provider import org jboss seam log Logging Maintains the set of persistence contexts that have been touched in a conversation Also controls the flush mode used by the persistence contexts during the render phase author Gavin King Name org jboss seam persistence persistence Contexts Scope Scope Type Bypass Interceptors Install precedence public class Persistence Contexts extends Abstract Mutable implements Serializable private static final long serial Version private static final Log Provider log Logging get Log Provider Persistence Contexts class private Set String set new Hash Set String private Flush Mode Type flush Mode the real flush mode is a backup of the flush mode when doing a temporary switch such as during render private Flush Mode Type real Flush Mode Create public void create Flush Mode Type default Flush Mode Manager instance get Default Flush Mode if default Flush Mode null flush Mode default Flush Mode else flush Mode Flush Mode Type public Flush Mode Type get Flush Mode return flush Mode public Set String get Touched Contexts return Collections unmodifiable Set set public void touch String context if set add context set Dirty public void untouch String context if set remove context set Dirty public static Persistence Contexts instance if Contexts is Conversation Context Active return Persistence Contexts Component get Instance Persistence Contexts class else return null public void change Flush Mode Flush Mode Type flush Mode change Flush Mode flush Mode false public void change Flush Mode Flush Mode Type flush Mode boolean temporary if temporary real Flush Mode this flush Mode this flush Mode flush Mode change Flush Modes Restore the previous flush mode if the current flush mode is marked as temporary public void restore Flush Mode if real Flush Mode null real Flush Mode flush Mode flush Mode real Flush Mode real Flush Mode null change Flush Modes private void change Flush Modes for String name set Persistence Context Manager pcm Persistence Context Manager Contexts get Conversation Context get name if pcm null try pcm change Flush Mode flush Mode catch Unsupported Operation Exception uoe we wo n t be nasty and throw and exception but we ll log a warning to the developer log warn uoe get Message public void before Render some providers may not support flushing defer the decision to the provider manager component Persistence Provider instance set Render Flush Mode public void after Render restore Flush Mode 
package org jboss seam framework Base class for controller objects which require a persistence context object author Gavin King param the persistence context class eg Session or Entity Manager public abstract class Persistence Controller extends Controller private transient persistence Context public get Persistence Context if persistence Context null persistence Context get Component Instance get Persistence Context Name return persistence Context public void set Persistence Context persistence Context this persistence Context persistence Context protected abstract String get Persistence Context Name 
package org jboss seam persistence import static org jboss seam annotations Install import java lang reflect Method import java lang reflect Proxy import java util Date import java util Hash Set import java util Set import javax persistence Entity Manager import javax persistence Optimistic Lock Exception import javax transaction Synchronization import org jboss seam Component import org jboss seam Entity import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations intercept Post Construct Abstraction layer for persistence providers implementations This class provides a working base implementation that can be optimized for performance and non standardized features by extending and overriding the methods The methods on this class are a great todo list for the next rev of the spec author Gavin King author Pete Muir Name org jboss seam persistence persistence Provider Scope Scope Type Bypass Interceptors Install precedence class Dependencies javax persistence Entity Manager public class Persistence Provider public enum Feature Identifies whether this provider supports using a wildcard as the subject of a count query p Here s a count query that uses a wildcard as the subject p pre select count from Vehicle v pre p Per the spec using a wildcard as a subject of a count query is not permitted Instead the subject must be the entity or the alias as in this count query p pre select count v from Vehicle v pre p Hibernate supports the wildcard syntax as an vendor extension Furthermore Hibernate produces an invalid query when using the compliant subject if the entity has a composite primary key Therefore we prefer to use the wildcard syntax if it is supported p protected Set Feature feature Set new Hash Set Feature Post Construct Create method not called on stateless components public void init Indicate whether this provider supports the feature defined by the provided Feature enum value public boolean supports Feature Feature feature return feature Set contains feature Set the flush mode to manual only flushing Called when an atomic persistence context is required public void set Flush Mode Manual Entity Manager entity Manager throw new Unsupported Operation Exception Use of Flush Mode requires Hibernate as the persistence provider Please use Hibernate a custom persistence Provider or remove the flush mode setting p Set the Flush Mode the persistence contexts should use during rendering by calling link Persistence Contexts change Flush Mode Flush Mode Type true The actual changing of the flush mode is handled by the link Persistence Contexts instance The boolean argument should be true to indicate that this is a temporary change and that the old flush mode should be restored after render p p Ideally this should be since changes should never flush to the database while in render response and the cost of a dirty check can be avoided However since the mode is not officially part of the specification the default implementation will perform no operation p public void set Render Flush Mode no op in default implementation Does the persistence context have unflushed changes If it does not persistence context replication can be optimized return true to indicate that there are unflushed changes public boolean is Dirty Entity Manager entity Manager return true best we can do Get the value of the entity identifier attribute param bean a managed entity instance public Object get Id Object bean Entity Manager entity Manager return Entity for Bean bean get Identifier bean Get the name of the entity param bean param entity Manager throws Illegal Argument Exception if the passed object is not an entity public String get Name Object bean Entity Manager entity Manager throws Illegal Argument Exception return Entity for Bean bean get Name Get the value of the entity version attribute param bean a managed entity instance public Object get Version Object bean Entity Manager entity Manager return Entity for Bean bean get Version bean public void check Version Object bean Entity Manager entity Manager Object old Version Object version boolean equal if old Version instanceof Date equal Date old Version get Time Date version get Time else equal old Version equals version if equal throw new Optimistic Lock Exception Current database version number does not match passivated version number Enable a Filter This is here just especially for Hibernate since we well know that other products do n t have such cool features public void enable Filter Filter filter Entity Manager entity Manager throw new Unsupported Operation Exception Use of filters requires Hibernate as the persistence provider Please use Hibernate or remove the filters configuration Register a Synchronization with the current transaction public boolean register Synchronization Synchronization sync Entity Manager entity Manager return false best we can do public static Persistence Provider instance return Persistence Provider Component get Instance Persistence Provider class Scope Type Wrap the delegate before returning it to the application public Object proxy Delegate Object delegate return delegate Wrap the entity Manager before returning it to the application public Entity Manager proxy Entity Manager Entity Manager entity Manager return Entity Manager Proxy new Proxy Instance Thread current Thread get Context Class Loader new Class Entity Manager Proxy class new Entity Manager Invocation Handler entity Manager Returns the class of an entity bean instance param bean The entity bean instance return The class of the entity bean public Class get Bean Class Object bean return Entity for Bean bean get Bean Class public Method get Post Load Method Object bean Entity Manager entity Manager return Entity for Bean bean get Post Load Method public Method get Pre Persist Method Object bean Entity Manager entity Manager return Entity for Bean bean get Pre Persist Method public Method get Pre Update Method Object bean Entity Manager entity Manager return Entity for Bean bean get Pre Update Method public Method get Pre Remove Method Object bean Entity Manager entity Manager return Entity for Bean bean get Pre Remove Method Deprecated public Method get Pre Remove Method Class bean Class return Entity for Class bean Class get Pre Remove Method Deprecated public Method get Post Load Method Class bean Class return Entity for Class bean Class get Post Load Method Deprecated public Method get Pre Persist Method Class bean Class return Entity for Class bean Class get Pre Persist Method Deprecated public Method get Pre Update Method Class bean Class return Entity for Class bean Class get Pre Update Method 
package org jboss seam security permission import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java util Iterator import java util List import java util Set import org jboss seam Component import org jboss seam Seam import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security Identity import org jboss seam security Role import org jboss seam security Simple Principal Resolves dynamically assigned permissions mapped to a user or a role and kept in persistent storage such as a relational database author Shane Bryzak Name org jboss seam security persistent Permission Resolver Scope Bypass Interceptors Install precedence Startup public class Persistent Permission Resolver implements Permission Resolver Serializable private Permission Store permission Store private static final Log Provider log Logging get Log Provider Persistent Permission Resolver class Create public void create init Permission Store protected void init Permission Store if permission Store null permission Store Permission Store Component get Instance Jpa Permission Store class true if permission Store null log warn no permission store available please install a Permission Store with the name Seam get Component Name Jpa Permission Store class if persistent permissions are required public Permission Store get Permission Store return permission Store public void set Permission Store Permission Store permission Store this permission Store permission Store public boolean has Permission Object target String action if permission Store null return false Identity identity Identity instance if identity is Logged In return false List Permission permissions permission Store list Permissions target action String username identity get Principal null identity get Principal get Name null for Permission permission permissions if username null permission get Recipient instanceof Simple Principal username equals permission get Recipient get Name return true if permission get Recipient instanceof Role Role role Role permission get Recipient if role is Conditional Rule Based Permission Resolver resolver Rule Based Permission Resolver instance if resolver check Conditional Role role get Name target action return true else if identity has Role role get Name return true return false public void filter Set By Action Set Object targets String action if permission Store null return Identity identity Identity instance if identity is Logged In return List Permission permissions permission Store list Permissions targets action String username identity get Principal get Name Iterator iter targets iterator while iter has Next Object target iter next for Permission permission permissions if permission get Target equals target if permission get Recipient instanceof Simple Principal username equals permission get Recipient get Name iter remove break if permission get Recipient instanceof Role Role role Role permission get Recipient if role is Conditional Rule Based Permission Resolver resolver Rule Based Permission Resolver instance if resolver check Conditional Role role get Name target action iter remove break else if identity has Role role get Name iter remove break 
package org jboss seam test integration import java io Serializable import javax validation constraints Size import org jboss seam annotations Name Name person public class Person implements Serializable public Person String name this name name public Person private String name Size min max public String get Name return name public void set Name String name this name name Override public boolean equals Object other if other instanceof Person Person that Person other return this name null that name null this name null this name equals that name else return false 
package org jboss seam example pdf import org jboss seam annotations Name Name phrases public class Phrases public String get Chinese return u u a u cb u f f public String get Japanese return u ab u u e u u a u public String get Korean return ube uc d 
package org jboss seam example ui import java io Serializable import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Lob import javax persistence One To One import org jboss seam annotations Name Entity Name member Image public class Picture implements Serializable private static final long serial Version Id Generated Value private Integer id One To One mapped By picture private Person person private byte data private String content Type private String file Name public Integer get Id return id public void set Id Integer image Id this id image Id public Person get Person return person public void set Person Person person this person person public String get Content Type return content Type public void set Content Type String content Type this content Type content Type Lob public byte get Data return data public void set Data byte data this data data public String get File Name return file Name public void set File Name String file Name this file Name file Name 
package org jboss seam example seamspace import static org jboss seam Scope Type import javax persistence Entity Manager import org jboss seam annotations Begin import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam core Conversation Scope Name picture Action public class Picture Action private Member Image member Image In required false private Member authenticated Member In Entity Manager entity Manager Begin public void upload Picture member Image new Member Image public void save Picture member Image set Member entity Manager find Member class authenticated Member get Member Id entity Manager persist member Image Conversation instance end public Member Image get Member Image return member Image 
package org jboss seam example seamspace import static org jboss seam Scope Type import java io Serializable import java util List import javax persistence Entity Manager import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations Scope import org jboss seam annotations security Delete import org jboss seam annotations web Request Parameter import org jboss seam security Identity Name picture Search Scope public class Picture Search implements Serializable private static final long serial Version private String member Name In private Entity Manager entity Manager Out required false private List Member Image member Images Request Parameter private Integer image Id public String get Member Name return member Name public void set Member Name String member Name this member Name member Name public void delete Delete Member Image image entity Manager remove image public Member Image lookup Image return entity Manager find Member Image class image Id Suppress Warnings unchecked public void load Member Pictures member Images List Member Image entity Manager create Query select i from Member Image i where i member member Name name and not i i member picture set Parameter name member Name get Result List Identity instance filter By Permission member Images view 
package org jboss seam example restbay resteasy provider import org jboss resteasy spi String Converter import javax ws rs ext Provider import java util Gregorian Calendar import java text Simple Date Format import java text Parse Exception Converts Query Param etc strings to Gregorian Calendar if they are in date format author Christian Bauer Provider public class Plain Resteasy String Converter Provider implements String Converter Gregorian Calendar public static final String yyyy dd mm ss public Gregorian Calendar from String String s Simple Date Format sdf new Simple Date Format Gregorian Calendar cal new Gregorian Calendar try cal set Time sdf parse s catch Parse Exception e throw new Runtime Exception e return cal Easy does n t seem to use that at all public String to String Gregorian Calendar gregorian Calendar Simple Date Format sdf new Simple Date Format return sdf format gregorian Calendar get Time 
package org jboss seam example restbay resteasy plain import javax ws rs Path import javax ws rs Produces import javax ws rs author Christian Bauer Path public class Plain Root Resource Produces text plain public String get Resource return Root 
package org jboss seam remoting messaging author Shane Bryzak public class Poll Error public static final String public static final String private String code private String message public Poll Error String code String message this code code this message message public String get Code return code public String get Message return message 
package org jboss seam remoting import java io Exception import java io Output Stream import java util Array List import java util List import javax jms Exception import javax jms Message import javax jms Object Message import javax jms Text Message import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org dom j Document import org dom j Element import org dom j io Reader import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam remoting messaging Poll Error import org jboss seam remoting messaging Poll Request import org jboss seam remoting wrapper Wrapper import org jboss seam servlet Contextual Http Servlet Request import org jboss seam util Handles Message poll requests author Shane Bryzak public class Poll Handler extends Base Request Handler implements Request Handler private static final Log Provider log Logging get Log Provider Subscription Handler class private static final byte errors token get Bytes private static final byte get Bytes private static final byte error code get Bytes private static final byte get Bytes private static final byte error get Bytes private static final byte messages token get Bytes private static final byte get Bytes private static final byte messages get Bytes private static final byte message type get Bytes private static final byte get Bytes private static final byte message get Bytes private static final byte value get Bytes private static final byte value get Bytes public void handle Http Servlet Request request final Http Servlet Response response throws Exception We re sending an response so set the response content type to text xml response set Content Type text xml Parse the incoming request as Reader xml Reader get Safe Sax Reader Document doc xml Reader read request get Input Stream Element env doc get Root Element final List Poll Request polls unmarshal Requests env new Contextual Http Servlet Request request Override public void process throws Exception for Poll Request req polls req poll Package up the response marshal Response polls response get Output Stream run private List Poll Request unmarshal Requests Element env throws Exception try List Poll Request requests new Array List Poll Request List Element request Elements env element body elements poll for Element e request Elements requests add new Poll Request e attribute Value token Integer parse Int e attribute Value timeout return requests catch Exception ex log error Error unmarshalling subscriptions from request ex throw ex private void marshal Response List Poll Request reqs Output Stream out throws Exception out write out write for Poll Request req reqs if req get Errors null req get Errors size out write out write req get Token get Bytes out write for Poll Error err req get Errors write Error err out else if req get Messages null req get Messages size out write out write req get Token get Bytes out write for Message m req get Messages try write Message m out catch Exception ex catch Exception ex out write out write out write out flush private void write Message Message m Output Stream out throws Exception Exception out write We need one of these to maintain a list of outbound references Call Context ctx new Call Context Object value null if m instanceof Text Message out write text get Bytes value Text Message m get Text else if m instanceof Object Message out write object get Bytes value Object Message m get Object out write out write ctx create Wrapper From Object value marshal out out write out write Using a for loop because stuff can get added to out Refs as we recurse the object graph for int i i ctx get Out Refs size i Wrapper wrapper ctx get Out Refs get i out write out write Integer to String i get Bytes out write wrapper serialize out out write out write out write private void write Error Poll Error error Output Stream out throws Exception out write out write error get Code get Bytes out write out write error get Message get Bytes out write 
package org jboss seam remoting messaging import java util Array List import java util List import javax jms Message import javax jms Wrapper for a single request for a specified subscription poll author Shane Bryzak public class Poll Request private String token private int timeout private List Message messages private List Poll Error errors new Array List Poll Error public Poll Request String token int timeout this token token this timeout timeout public String get Token return token public List Message get Messages return messages public List Poll Error get Errors return errors public void poll Remote Subscriber subscriber Subscription Registry instance get Subscription token if subscriber null try messages subscriber poll timeout catch Exception ex errors add new Poll Error Poll Error Error polling for messages else errors add new Poll Error Poll Error No subscription was found for the specified token 
package org jboss seam bpm import static org jboss seam annotations Install import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Transactional import org jboss seam web Parameters import org jbpm taskmgmt exe Task Instance Support for assigning tasks in the pooled task list see Task Instance List author Gavin King Name org jboss seam bpm pooled Task Scope Scope Type Install precedence dependencies org jboss seam bpm jbpm public class Pooled Task Assign the Task Instance with the id passed in the request parameter named task Id to the current actor see Actor return a null outcome only if the task was not found Transactional public String assign To Current Actor Actor actor Actor instance if actor get Id null throw new Illegal State Exception no current actor id defined Task Instance task Instance get Task Instance if task Instance null task Instance set Actor Id actor get Id return task Assigned To Actor else return null Assign the Task Instance with the id passed in the request parameter named task Id to the given actor id param actor Id the j actor id return a null outcome only if the task was not found Transactional public String assign String actor Id Task Instance task Instance get Task Instance if task Instance null task Instance set Actor Id actor Id return task Assigned else return null Unassign the Task Instance with the id passed in the request parameter named task Id from the actor to which it is assigned and return it to the pool it came from return a null outcome only if the task was not found Transactional public String unassign Task Instance task Instance get Task Instance if task Instance null task Instance set Actor Id null return task Unassigned else return null return the Task Instance with the id passed in the request parameter named task Id Transactional public Task Instance get Task Instance String values Parameters instance get Request Parameters get task Id if values null values length return null else String task Id values return task Id null null Managed Jbpm Context instance get Task Instance For Update Long parse Long task Id 
package org jboss seam bpm import static org jboss seam annotations Install import java util Array List import java util List import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Transactional import org jboss seam annotations Unwrap import org jbpm taskmgmt exe Task Instance Support for the pooled task list see Task Instance List author Gavin King Name org jboss seam bpm pooled Task Instance List Scope Scope Type Install precedence dependencies org jboss seam bpm jbpm public class Pooled Task Instance List Unwrap Transactional public List Task Instance get Pooled Task Instance List Actor actor Actor instance String actor Id actor get Id if actor Id null return null Array List group Ids new Array List actor get Group Actor Ids group Ids add actor Id return Managed Jbpm Context instance get Group Task List group Ids 
package org jboss seam example openid import java util Date import javax persistence Column import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Table Entity Table name post public class Post long id String creator String message Date create Date Id Generated Value Column name id public long get Id return id public void set Id long id this id id Column name creator public String get Creator return creator public void set Creator String creator this creator creator Column name message public String get Message return message public void set Message String message this message message Column name create Date public Date get Create Date return create Date public void set Create Date Date create Date this create Date create Date 
package actions import java io Exception import java util Date import javax persistence Entity Manager import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam cache Cache Provider import org jboss seam faces Faces Messages import domain Blog import domain Blog Entry Handles submission of a new blog entry author Gavin King Name post Action Scope Scope Type public class Post Action In Blog blog In Entity Manager entity Manager In required false Blog Entry blog Entry In Cache Provider cache Provider In Faces Messages faces Messages public void post throws Exception blog Entry set Date new Date blog get Blog Entries add blog Entry entity Manager persist blog Entry cache Provider remove page Fragments index public void invalid faces Messages add You are missing some information please try again 
Id Around Invoke java gavin package org jboss seam annotations intercept import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Synonym for link javax ejb Post Activate for use in a pre Java environment author Pete Muir Target Retention Documented public interface Post Activate 
package org jboss seam annotations intercept import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Synonym for link javax ejb Post Construct for use in a pre Java environment author Denis Forveille Target Retention Documented public interface Post Construct 
Id Around Invoke java gavin package org jboss seam annotations intercept import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Synonym for link javax ejb Pre Passivate for use in a pre Java environment author Pete Muir Target Retention Documented public interface Pre Passivate 
package org jboss seam security crypto Copied from Matthias Gartner s implementation see http rtner de software html p free Java implementation of Password Based Key Derivation Function as defined by Copyright c Matthias auml rtner p p This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version p p This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details p p You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston p p For Details see a href http www gnu org licenses old licenses lgpl html http www gnu org licenses old licenses lgpl html a p author Matthias auml rtner version public interface Initialize this instance with the user supplied password param The password supplied as array of bytes It is the caller s task to convert String passwords to bytes as appropriate public void init byte Pseudo Random Function param Input data message etc Together with any data supplied during initilization return Random bytes of h Len length public byte do Final byte Query block size of underlying algorithm mechanism return block size public int get Len 
package org jboss seam test unit component public enum Primary Color 
package org jboss seam tool import java io Buffered Reader import java io File import java io File Reader import org apache tools ant Build Exception import org apache tools ant Task public class Print Task extends Task private String file public void set File String file this file file Override public void execute throws Build Exception try Buffered Reader reader new Buffered Reader new File Reader new File file while reader ready System out println reader read Line catch Exception e throw new Build Exception e 
package org jboss seam ui converter import javax el Value Expression import javax faces component State Holder import javax faces component Component import javax faces component Component Base import javax faces context Faces Context import javax faces convert Converter import javax faces convert Converter Exception import javax faces convert Faces Converter Helper class for Converter Chain Faces Converter value org jboss seam ui Prioritizable Converter public class Prioritizable Converter implements Converter Comparable Prioritizable Converter State Holder private Value Expression value Expression private Converter delegate private int priority public Prioritizable Converter public Prioritizable Converter Value Expression vb int priority this value Expression vb this priority priority public Prioritizable Converter Converter delegate int priority this delegate delegate this priority priority public Converter get Delegate if value Expression null return Converter value Expression get Value Faces Context get Current Instance get Context else return delegate public int get Priority return priority public Object get As Object Faces Context context Component component String value throws Converter Exception return get Delegate get As Object context component value public String get As String Faces Context context Component component Object value throws Converter Exception return get Delegate get As String context component value public int compare To Prioritizable Converter o return this get Priority o get Priority private boolean transient public boolean is Transient return transient public void restore State Faces Context context Object state Object values Object state delegate Converter Component Base restore Attached State context values priority Integer values value Expression Value Expression values public Object save State Faces Context context Object values new Object values Component Base save Attached State context delegate values priority values value Expression return values public void set Transient boolean new Transient Value this transient new Transient Value 
package org jboss seam navigation import org jboss seam bpm Business Process import org jboss seam core Expressions Value Expression Demarcation of the business process in pages xml public class Process Control private boolean is Create Process private boolean is Resume Process private String definition private Value Expression Long process Id public void create Or Resume Process if create Process Business Process instance create Process definition if resume Process Business Process instance resume Process process Id get Value private boolean create Process return is Create Process private boolean resume Process return is Resume Process public boolean is Create Process return is Create Process public void set Create Process boolean is Create Process this is Create Process is Create Process public boolean is Resume Process return is Resume Process public void set Resume Process boolean is Resume Process this is Resume Process is Resume Process public String get Definition return definition public void set Definition String definition this definition definition public Value Expression Long get Process Id return process Id public void set Process Id Value Expression Long process Id this process Id process Id 
package com jboss dvd seam import java util Array List import java util List import javax faces model Select Item import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Synchronized import org jboss seam bpm Jbpm import org jbpm Jbpm Context Switches process definitions dynamically Name process Definition Switcher Scope Scope Type Synchronized public class Process Definition Switcher static final String ordermanagement jpdl xml ordermanagement jpdl xml ordermanagement jpdl xml In value org jboss seam bpm jbpm private Jbpm jbpm In private Jbpm Context jbpm Context public List Select Item get Process Definitions List Select Item result new Array List Select Item for String def result add new Select Item def def substring def length return result private String current Process Definition public String get Current Process Definition return current Process Definition public void set Current Process Definition String def current Process Definition def public String switch Process jbpm Context deploy Process Definition jbpm get Process Definition From Resource current Process Definition return null 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam bpm import static org jboss seam annotations Install import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam util Work Seam component that allows injection of the current j Process Instance author Gavin King Scope Scope Type Name org jboss seam bpm process Instance Bypass Interceptors Install precedence dependencies org jboss seam bpm jbpm public class Process Instance Unwrap public org jbpm graph exe Process Instance get Process Instance throws Exception if Contexts is Conversation Context Active return null return new Work org jbpm graph exe Process Instance Override protected org jbpm graph exe Process Instance work throws Exception Long process Id Business Process instance get Process Id if process Id null do we need to cache this return Managed Jbpm Context instance get Process Instance For Update process Id return Managed Jbpm Context instance get Process Instance process Id else return null work In Transaction public static org jbpm graph exe Process Instance instance if Contexts is Conversation Context Active Business Process instance has Current Process return null so we do n t start a txn return org jbpm graph exe Process Instance Component get Instance Process Instance class Scope Type 
package org jboss seam bpm import static org hibernate criterion Order asc import static org hibernate criterion Order desc import static org hibernate criterion Restrictions is Not Null import static org hibernate criterion Restrictions is Null import static org jboss seam annotations Install import java util List import org hibernate Criteria import org hibernate criterion Restrictions import org jboss seam annotations Factory import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Transactional import org jbpm graph exe Process Instance Support for the process list author Gavin King Name org jboss seam bpm process Instance Finder Install precedence dependencies org jboss seam bpm jbpm public class Process Instance Finder private String process Definition Name private String node Name private Boolean process Instance Ended false private Boolean sort Descending false Factory value org jboss seam bpm process Instance List auto Create true Transactional public List Process Instance get Process Instance List Criteria query Managed Jbpm Context instance get Session create Criteria Process Instance class if process Instance Ended null query add process Instance Ended is Not Null end is Null end if process Definition Name null query create Criteria process Definition add Restrictions eq name process Definition Name query query create Criteria root Token if sort Descending null query add Order sort Descending desc node Enter asc node Enter if node Name null query create Criteria node add Restrictions eq name node Name return query list protected String get Node Name return node Name protected void set Node Name String node Name this node Name node Name protected String get Process Definition Name return process Definition Name protected void set Process Definition Name String process Definition Name this process Definition Name process Definition Name protected Boolean is Sort Descending return sort Descending protected void set Sort Descending Boolean sort Descending this sort Descending sort Descending protected Boolean get Process Instance Ended return process Instance Ended protected void set Process Instance Ended Boolean ended this process Instance Ended ended 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import java math Big Decimal import java util List import java util Set import javax persistence Column import javax persistence Entity import javax persistence Fetch Type import javax persistence Generated Value import javax persistence Generation Type import javax persistence Id import javax persistence Join Column import javax persistence Join Table import javax persistence Many To Many import javax persistence One To One import javax persistence Table import javax validation constraints Not Null import org apache solr analysis Lower Case Filter Factory import org apache solr analysis Gram Filter Factory import org apache solr analysis Standard Tokenizer Factory import org hibernate search annotations Analyzer Def import org hibernate search annotations Document Id import org hibernate search annotations Fields import org hibernate search annotations Parameter import org hibernate search annotations Field import org hibernate search annotations Analyzer import org hibernate search annotations Index import org hibernate search annotations Indexed import org hibernate search annotations Indexed Embedded import org hibernate search annotations Token Filter Def import org hibernate search annotations Tokenizer Def Entity Table name Indexed Analyzer Def name ngrams tokenizer Tokenizer Def factory Standard Tokenizer Factory class filters Token Filter Def factory Lower Case Filter Factory class Token Filter Def factory Gram Filter Factory class params Parameter name min Gram Size value Parameter name max Gram Size value public class Product implements Serializable private static final long serial Version long product Id String asin String title String description String image Big Decimal price Big Decimal List Actor actors Set Category categories Inventory inventory Id Generated Value strategy Generation Type Column name Document Id public long get Product Id return product Id public void set Product Id long id this product Id id Column name length public String get return asin public void set String asin this asin asin One To One fetch Fetch Type mapped By product public Inventory get Inventory return inventory public void set Inventory Inventory inventory this inventory inventory Many To Many fetch Fetch Type Join Table name join Columns Join Column name inverse Join Columns Join Column name Indexed Embedded public List Actor get Actors return actors public void set Actors List Actor actors this actors actors Many To Many Join Table name join Columns Join Column name inverse Join Columns Join Column name Indexed Embedded public Set Category get Categories return categories public void set Categories Set Category categories this categories categories Not Null Column name nullable false length Fields Field index Index Field index Index name title ngrams analyzer Analyzer definition ngrams public String get Title return title public void set Title String title this title title Column name length Fields Field index Index Field index Index name description ngrams analyzer Analyzer definition ngrams public String get Description return description public void set Description String description this description description Column name length public String get Image return image public void set Image String image this image image Not Null Column name nullable false precision scale public Big Decimal get Price return price public void set Price Big Decimal price this price price 
package org jboss seam example seamspace import static org jboss seam Scope Type import static org jboss seam Scope Type import java util List import java util Random import javax ejb Remove import javax persistence Entity Manager import javax persistence No Result Exception import org jboss seam annotations Destroy import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations web Request Parameter import org jboss seam annotations Scope Name profile Scope public class Profile Action Request Parameter private String name In required false Out required false scope private Member selected Member In required false private Member authenticated Member Out required false List Member new Members Out required false List Member Blog member Blogs In private Entity Manager entity Manager Factory selected Member public void display if name null authenticated Member null selected Member Member entity Manager find Member class authenticated Member get Member Id else if name null try selected Member Member entity Manager create Query from Member where member Name member Name set Parameter member Name name get Single Result catch No Result Exception ex Returns the latest blog entries for a member Suppress Warnings unchecked public List Member Blog get Latest Blogs return entity Manager create Query from Member Blog b where b member member order by b entry Date desc set Parameter member selected Member set Max Results get Result List Used to read all blog entries for a member Suppress Warnings unchecked Factory member Blogs public void get Member Blogs if name null authenticated Member null name authenticated Member get Member Name member Blogs entity Manager create Query from Member Blog b where b member member Name member Name order by b entry Date desc set Parameter member Name name get Result List Suppress Warnings unchecked Factory new Members public void new Members new Members entity Manager create Query from Member order by member Since desc set Max Results get Result List Randomly select of the latest members Random rnd new Random System current Time Millis while new Members size new Members remove rnd next Int new Members size Suppress Warnings unchecked public List Member get Friends return entity Manager create Query select f friend from Member Friend f where f member member and authorized true set Parameter member selected Member get Result List Suppress Warnings unchecked public List Friend Comment get Friend Comments return entity Manager create Query from Friend Comment c where c member member order by comment Date desc set Parameter member selected Member get Result List Remove Destroy public void destroy 
package org jboss seam example remoting import org jboss seam Scope Type import org jboss seam annotations Name import org jboss seam annotations Scope Contains progress information author Shane Bryzak version Name progress Scope Scope Type public class Progress private int percent Complete private String status public int get Percent Complete return percent Complete public void set Percent Complete int percent Complete this percent Complete percent Complete public String get Status return status public void set Status String status this status status 
package org jboss seam example remoting import java util Random import javax ejb Stateless import org jboss seam annotations In import org jboss seam annotations Name Stateless Name progress Bar Action public class Progress Bar Action implements Progress Bar Local In create true Progress progress public String do Something Random r new Random System current Time Millis try for int i i Thread sleep r next Int progress set Percent Complete i i catch Interrupted Exception ex return complete xhtml public Progress get Progress return progress 
package org jboss seam example remoting import javax ejb Local import org jboss seam annotations remoting Web Remote Local public interface Progress Bar Local String do Something Web Remote Progress get Progress 
package org jboss seam core Various options controlling how a conversation is propagated author Shane Bryzak public enum Propagation Type 
package org jboss seam excel css Interface for parsing a style string array into a stylemap author karlsnic public interface Property Builder public Style Map parse Property String key String values 
package org jboss seam excel css import org jboss seam core Interpolator import org jboss seam excel Excel Workbook Exception import org jboss seam excel jxl Factory Property builder implementations for parsing css style arrays author karlsnic public class Property Builders Wildcard symbol for column widths private static final String public static class Force Type extends String Property Builder public static class Column Widths implements Property Builder public Style Map parse Property String key String values Style Map style Map new Style Map for int i i values length i String value values i String indexed Key Names i if equals value Skip it just moving along else if is Numeric value style Map put indexed Key Integer parse Int value else String message Interpolator instance interpolate Column widths must be numerical or not value throw new Excel Workbook Exception message return style Map public static class Column Width extends Integer Property Builder public static class Column Auto Size extends Boolean Property Builder public static class Column Hidden extends Boolean Property Builder public static class Column Export extends Boolean Property Builder public static class Border Bottom Line Style extends String Property Builder public static class Border Bottom Color extends String Property Builder public static class Border Bottom Shorthand implements Property Builder public Style Map parse Property String key String values Style Map style Map new Style Map for int i i values length i String value values i if Factory is Color values i style Map put Names value else if Factory is Border Line Style values i style Map put Names value else throw new Excel Workbook Exception Border bottom shorthand can only handle line style and color return style Map public static class Border Right Line Style extends String Property Builder public static class Border Right Color extends String Property Builder public static class Border Right Shorthand implements Property Builder public Style Map parse Property String key String values Style Map style Map new Style Map for int i i values length i String value values i if Factory is Color values i style Map put Names value else if Factory is Border Line Style values i style Map put Names value else throw new Excel Workbook Exception Border right shorthand can only handle line style and color return style Map public static class Border Top Line Style extends String Property Builder public static class Border Top Color extends String Property Builder public static class Border Top Shorthand implements Property Builder public Style Map parse Property String key String values Style Map style Map new Style Map for int i i values length i String value values i if Factory is Color values i style Map put Names value else if Factory is Border Line Style values i style Map put Names value else throw new Excel Workbook Exception Border top shorthand can only handle line style and color return style Map public static class Border Left Line Style extends String Property Builder public static class Border Left Color extends String Property Builder public static class Border Left Shorthand implements Property Builder public Style Map parse Property String key String values Style Map style Map new Style Map for int i i values length i String value values i if Factory is Color values i style Map put Names value else if Factory is Border Line Style values i style Map put Names value else throw new Excel Workbook Exception Border left shorthand can only handle line style and color return style Map public static class Border Shorthand implements Property Builder public Style Map parse Property String key String values Style Map style Map new Style Map for int i i values length i String value values i if Factory is Color value style Map put Names values style Map put Names values style Map put Names values style Map put Names values else if Factory is Border Line Style value style Map put Names values style Map put Names values style Map put Names values style Map put Names values else throw new Excel Workbook Exception Border shorthand can only handle line style and color return style Map public static class Background Color extends String Property Builder public static class Background Pattern extends String Property Builder public static class Background Shorthand implements Property Builder public Style Map parse Property String key String values Style Map style Map new Style Map for int i i values length i String value values i if Factory is Pattern values i style Map put Names value else if Factory is Color values i style Map put Names value else throw new Excel Workbook Exception Background shorthand can only handle color and pattern return style Map public static class Font Family extends Merging String Property Builder private static String collect String String values String delimiter String Buffer buffer new String Buffer for int i i values length i if i buffer append delimiter buffer append values i return buffer to String private static class Merging String Property Builder extends String Property Builder Override public Style Map parse Property String key String values String concat Values collect String values return super parse Property key new String concat Values public static class Font Size extends Integer Property Builder public static class Font Color extends String Property Builder public static class Font Italic extends Boolean Property Builder public static class Font Script Style extends String Property Builder public static class Font Underline Style extends String Property Builder public static class Font Bold extends Boolean Property Builder public static class Font Struck Out extends Boolean Property Builder Times New Roman public static class Font Shorthand implements Property Builder public Style Map parse Property String key String values Style Map style Map new Style Map String value String collect String values int first Quote value String index Of int last Quote value String last Index Of if first Quote last Quote first Quote last Quote String font Name value String substring first Quote last Quote style Map put Names font Name String pre value String substring first Quote trim String post value String substring last Quote trim value String pre post values value String split for int i i values length i String value values i if Factory is Script Style value style Map put Names value else if Factory is Color value style Map put Names value else if Factory is Underline Style value style Map put Names value else if italic equals value to Lower Case style Map put Names Boolean else if bold equals value to Lower Case style Map put Names Boolean else if struck out equals value to Lower Case style Map put Names Boolean else if is Numeric value style Map put Names Integer parse Int value else style Map put Names value return style Map private static boolean is Numeric String value try Integer parse Int value catch Number Format Exception e return false return true private static boolean is Boolean String value return true equals Ignore Case value false equals Ignore Case value public static class Verical Alignment extends String Property Builder public static class Wrap extends Boolean Property Builder public static class Shrink To Fit extends Boolean Property Builder public static class Locked extends Boolean Property Builder public static class Orientation extends String Property Builder public static class Indentation extends Integer Property Builder public static class Alignment extends String Property Builder public static class Format Mask extends Merging String Property Builder private static class String Property Builder implements Property Builder public Style Map parse Property String key String values Style Map style Map new Style Map style Map put key values return style Map private static class Integer Property Builder implements Property Builder public Style Map parse Property String key String values String value values if is Numeric value String message Interpolator instance interpolate is not a number in value key throw new Excel Workbook Exception message Style Map style Map new Style Map style Map put key Integer parse Int value return style Map private static class Boolean Property Builder implements Property Builder public Style Map parse Property String key String values String value values if is Boolean value String message Interpolator instance interpolate is not a boolean in value key throw new Excel Workbook Exception message Style Map style Map new Style Map style Map put key Boolean parse Boolean value return style Map 
package org jboss seam intercept import java io Serializable public interface Proxy extends Serializable public Object write Replace 
package org jboss seam jmx import javax management Bean Server import javax management Object Name author a href mailto juha jboss org Juha Lindfors a version Revision public interface Proxy Context void set Exception Handler Proxy Exception Handler handler Bean Server get Bean Server Object Name get Object Name 
package org jboss seam jmx import java lang reflect Method import javax management Instance Not Found Exception import javax management Attribute Not Found Exception import javax management Invalid Attribute Value Exception import javax management Bean Exception import javax management Reflection Exception import javax management Runtime Operations Exception import javax management Runtime Bean Exception import javax management Runtime Error Exception author a href mailto juha jboss org Juha Lindfors a version Revision public interface Proxy Exception Handler public Object handle Instance Not Found Proxy Context ctx Instance Not Found Exception e Method m Object args throws Exception public Object handle Attribute Not Found Proxy Context ctx Attribute Not Found Exception e Method m Object args throws Exception public Object handle Invalid Attribute Value Proxy Context ctx Invalid Attribute Value Exception e Method m Object args throws Exception public Object handle Bean Exception Proxy Context ctx Bean Exception e Method m Object args throws Exception public Object handle Reflection Exception Proxy Context ctx Reflection Exception e Method m Object args throws Exception public Object handle Runtime Operations Exception Proxy Context ctx Runtime Operations Exception e Method m Object args throws Exception public Object handle Runtime Bean Exception Proxy Context ctx Runtime Bean Exception e Method m Object args throws Exception public Object handle Runtime Error Proxy Context ctx Runtime Error Exception e Method m Object args throws Exception 
Boss Home of Professional Open Source Copyright Boss Inc and individual contributors as indicated by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam ioc import java lang reflect Proxy import java util Set import javassist util proxy Proxy Object import org jboss seam Component import org jboss seam Component Type import org jboss seam intercept Java Bean Interceptor import org jboss seam log Log Provider import org jboss seam log Logging author a href mailto ales justin jboss com Ales Justin a public class Proxy Utils private static final Log Provider log Logging get Log Provider Proxy Utils class public static boolean is Proxy Class clazz return Proxy is Proxy Class clazz public static Object enhance Object bean Set Class interfaces Io Component component throws Exception Class bean Class bean get Class if is Proxy bean Class throw new Runtime Exception Seam can not wrap proxied Io beans Please use Lib or Javassist proxying instead if is Cglib Proxy Class bean Class is Javassist Proxy Class bean Class bean Class bean Class get Superclass if log is Debug Enabled log debug Creating proxy for component get Io Name Seam component component get Name using class bean Class get Name create pojo proxy Java Bean Interceptor interceptor new Java Bean Interceptor bean component Should probably create a Factory but required a lot of duplicated code and there is potential for a spring bean to provide different interfaces at different times in an application If need is great can create a Factory and assume the same interfaces all the time Proxy Object po Component create Proxy Factory Component Type bean Class interfaces new Instance po set Handler interceptor interceptor post Construct return po public static boolean is Cglib Proxy Class Class clazz return clazz null clazz get Name contains public static boolean is Javassist Proxy Class Class clazz return false todo 
package org jboss seam navigation import org jboss seam Scope Type import org jboss seam core Expressions Value Expression public class Put private String name private Scope Type scope private Value Expression value public String get Name return name public void set Name String name this name name public Scope Type get Scope return scope public void set Scope Scope Type scope this scope scope public Value Expression get Value return value public void set Value Value Expression value this value value 
package org jboss seam async import static org jboss seam annotations Install import java io Input Stream import java rmi server import java text Parse Exception import java util Date import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam intercept Invocation Context import org jboss seam log Log Provider import org jboss seam log Logging import org quartz Cron Trigger import org quartz Job import org quartz Job Data Map import org quartz Job Detail import org quartz Job Execution Context import org quartz Job Execution Exception import org quartz Scheduler import org quartz Scheduler Exception import org quartz Simple Trigger import org quartz impl Std Scheduler Factory Dispatcher implementation that uses the Quartz library author Michael Yuan Startup Scope Scope Type Name org jboss seam async dispatcher Install value false precedence Bypass Interceptors public class Quartz Dispatcher extends Abstract Dispatcher Quartz Trigger Handle Schedule private static final Log Provider log Logging get Log Provider Quartz Dispatcher class private Scheduler scheduler Create public void init Scheduler throws Scheduler Exception Std Scheduler Factory scheduler Factory new Std Scheduler Factory magical properties files are not the way to config Seam apps Input Stream is Thread current Thread get Context Class Loader get Resource As Stream seam quartz properties if is null scheduler Factory initialize is log debug Found seam quartz properties file Using it for Quartz config else scheduler Factory initialize log warn No seam quartz properties file Using in memory job store scheduler scheduler Factory get Scheduler scheduler start public Quartz Trigger Handle schedule Asynchronous Event String type Object parameters String job Name next Unique Name String trigger Name next Unique Name Job Detail job Detail new Job Detail job Name null Quartz Job class job Detail get Job Data Map put async new Asynchronous Event type parameters Simple Trigger trigger new Simple Trigger trigger Name null try scheduler schedule Job job Detail trigger return new Quartz Trigger Handle trigger Name catch Exception se log debug Can not Schedule a Quartz Job throw new Runtime Exception se public Quartz Trigger Handle schedule Timed Event String type Schedule schedule Object parameters return schedule With Quartz Service And Wrap Exceptions schedule new Asynchronous Event type parameters public Quartz Trigger Handle schedule Invocation Invocation Context invocation Component component return schedule With Quartz Service And Wrap Exceptions create Schedule invocation new Asynchronous Invocation invocation component private static Date calculate Delayed Date long delay Date now new Date now set Time now get Time delay return now private Quartz Trigger Handle schedule With Quartz Service And Wrap Exceptions Schedule schedule Asynchronous async try return schedule With Quartz Service schedule async catch Parse Exception pe throw new Runtime Exception pe catch Scheduler Exception se throw new Runtime Exception se private Quartz Trigger Handle schedule With Quartz Service Schedule schedule Asynchronous async throws Scheduler Exception Parse Exception String job Name next Unique Name String trigger Name next Unique Name Job Detail job Detail new Job Detail job Name null Quartz Job class job Detail get Job Data Map put async async if schedule instanceof Cron Schedule Cron Schedule cron Schedule Cron Schedule schedule Cron Trigger trigger new Cron Trigger trigger Name null trigger set Cron Expression cron Schedule get Cron trigger set End Time cron Schedule get Final Expiration if cron Schedule get Expiration null trigger set Start Time cron Schedule get Expiration else if cron Schedule get Duration null trigger set Start Time calculate Delayed Date cron Schedule get Duration scheduler schedule Job job Detail trigger else if schedule instanceof Timer Schedule Timer Schedule timer Schedule Timer Schedule schedule if timer Schedule get Interval Duration null if timer Schedule get Expiration null Simple Trigger trigger new Simple Trigger trigger Name null timer Schedule get Expiration timer Schedule get Final Expiration Simple Trigger timer Schedule get Interval Duration scheduler schedule Job job Detail trigger else if timer Schedule get Duration null Simple Trigger trigger new Simple Trigger trigger Name null calculate Delayed Date timer Schedule get Duration timer Schedule get Final Expiration Simple Trigger timer Schedule get Interval Duration scheduler schedule Job job Detail trigger else Simple Trigger trigger new Simple Trigger trigger Name null new Date timer Schedule get Final Expiration Simple Trigger timer Schedule get Interval Duration scheduler schedule Job job Detail trigger else if schedule get Expiration null Simple Trigger trigger new Simple Trigger trigger Name null schedule get Expiration scheduler schedule Job job Detail trigger else if schedule get Duration null Simple Trigger trigger new Simple Trigger trigger Name null calculate Delayed Date schedule get Duration scheduler schedule Job job Detail trigger else Simple Trigger trigger new Simple Trigger trigger Name null scheduler schedule Job job Detail trigger else throw new Illegal Argument Exception unrecognized schedule type return new Quartz Trigger Handle trigger Name private String next Unique Name return new to String Destroy public void destroy throws Scheduler Exception scheduler shutdown public static class Quartz Job implements Job private Asynchronous async public Quartz Job public void execute Job Execution Context context throws Job Execution Exception Job Data Map data Map context get Job Detail get Job Data Map async Asynchronous data Map get async Quartz Trigger Handle handle new Quartz Trigger Handle context get Trigger get Name try async execute handle catch Exception e async handle Exception e handle public Scheduler get Scheduler return scheduler public static Quartz Dispatcher instance return Quartz Dispatcher Abstract Dispatcher instance 
package org jboss seam async import java io Serializable import org quartz Scheduler import org quartz Scheduler Exception import org quartz Trigger Provides control over the Quartz Job author Michael Yuan public class Quartz Trigger Handle implements Serializable private final String trigger Name Hold a transient reference to the scheduler to allow control of the scheduler outside of Seam contexts useful in a testing context private transient Scheduler scheduler public Quartz Trigger Handle String trigger Name this trigger Name trigger Name public void cancel throws Scheduler Exception get Scheduler unschedule Job trigger Name null public void pause throws Scheduler Exception get Scheduler pause Trigger trigger Name null public Trigger get Trigger throws Scheduler Exception return get Scheduler get Trigger trigger Name null public void resume throws Scheduler Exception get Scheduler resume Trigger trigger Name null private Scheduler get Scheduler if scheduler null scheduler Quartz Dispatcher instance get Scheduler return scheduler 
package action Package import model Package entity Name import org jboss seam annotations Name import org jboss seam annotations web Request Parameter import org jboss seam framework Entity Query import java util Arrays Name component Name public class bean Name extends Entity Query entity Name private static final String query private static final String public bean Name set Ejbql set Restriction Expression Strings Arrays as List set Max Results this causes the query to run over and over again Request Parameter Override public void set First Result Integer first Result super set First Result first Result 
package org jboss seam persistence import java util Array List import java util List import java util String Tokenizer import org jboss seam core Expressions Value Expression import org jboss seam core Expressions public class Query Parser private List Value Expression parameter Value Bindings new Array List Value Expression private String Builder ejbql Builder public static String get Parameter Name int loc return el loc public String get Ejbql return ejbql Builder to String public List Value Expression get Parameter Value Bindings return parameter Value Bindings public Query Parser String ejbql this ejbql public Query Parser String ejbql int starting Parameter Number String Tokenizer tokens new String Tokenizer ejbql true ejbql Builder new String Builder ejbql length while tokens has More Tokens String token tokens next Token if equals token tokens has More Tokens String expression Token tokens next Token if expression Token starts With tokens has More Tokens ejbql Builder append token append expression Token else String expression token expression Token tokens next Token ejbql Builder append append get Parameter Name starting Parameter Number parameter Value Bindings size parameter Value Bindings add Expressions instance create Value Expression expression else ejbql Builder append token 
package org jboss seam jms import static org jboss seam annotations Install import javax jms Exception import javax jms Queue Connection Factory import javax naming Naming Exception import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log import org jboss seam util Naming Manager for a Queue Connection By default the Boss author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam jms queue Connection Install precedence generic Dependencies Managed Queue Sender class public class Queue Connection Logger private Log log private String queue Connection Factory Jndi Name Connection Factory private javax jms Queue Connection queue Connection The name of the Queue Connection Factory public String get Queue Connection Factory Jndi Name return queue Connection Factory Jndi Name public void set Queue Connection Factory Jndi Name String jndi Name this queue Connection Factory Jndi Name jndi Name Create public void init throws Naming Exception Exception queue Connection get Queue Connection Factory create Queue Connection queue Connection start Destroy public void destroy throws Exception try queue Connection stop catch javax jms Illegal State Exception e as for v specs section At least Web Sphere v enforce this log warn queue Session stop called during Destroy in an invalid context for this container Msg e get Message queue Connection close private Queue Connection Factory get Queue Connection Factory throws Naming Exception return Queue Connection Factory Naming get Initial Context lookup queue Connection Factory Jndi Name Unwrap public javax jms Queue Connection get Queue Connection return queue Connection public static javax jms Queue Connection instance return javax jms Queue Connection Component get Instance Queue Connection class Override public String to String return Queue Connection queue Connection Factory Jndi Name 
package org jboss seam jms import static org jboss seam annotations Install import javax jms Exception import javax jms Session import javax naming Naming Exception import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors Manager for a Queue Session author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam jms queue Session Install precedence generic Dependencies Managed Queue Sender class public class Queue Session private javax jms Queue Session queue Session Create public void create throws Exception Naming Exception i really want a transactional session queue Session Queue Connection instance create Queue Session false Session Destroy public void destroy throws Exception queue Session close Unwrap public javax jms Queue Session get Queue Session return queue Session public static javax jms Queue Session instance return javax jms Queue Session Component get Instance Queue Session class 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Causes an event to be raised after the method returns a non null result without exception author Gavin King Target Retention Documented public interface Raise Event The event name defaults to the name of the method return the event name String value default String if Outcome default 
package org jboss seam example numberguess import java util Random import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap Name random Number Scope Scope Type public class Random Number private int random Number Create public void begin random Number new Random next Int Unwrap public int get Value return random Number 
Licensed to the Apache Software Foundation under one or more contributor license agreements See the file distributed with this work for additional information regarding copyright ownership The licenses this file to You under the Apache License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www apache org licenses Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an either express or implied See the License for the specific language governing permissions and limitations under the License package org jboss seam util import java util Random p Operations for random code String code s p p Currently em private high surrogate em characters are ignored These are unicode characters that fall between the values db and dbff as we do n t know how to handle them High and low surrogates are correctly dealt with that is if a high surrogate is randomly chosen d to db f then it is followed by a low surrogate If a low surrogate is chosen dc to dfff then it is placed after a randomly chosen high surrogate p author a href mailto steven caswell name Steven Caswell a author Stephen Colebourne author Gary Gregory author Phil Steitz since version Id Random String Utils java pmuir public class Random String Utils p Random object used by random method This has to be not local to the random method so as to not return the same value in the same millisecond p private static final Random new Random p code Random String Utils code instances should be constructed in standard programming Instead the class should be used as code Random String Utils random code p p This constructor is public to permit tools that require a Java Bean instance to operate p public Random String Utils super Random p Creates a random string whose length is the number of characters specified p p Characters will be chosen from the set of all characters p param count the length of random string to create return the random string public static String random int count return random count false false p Creates a random string whose length is the number of characters specified p p Characters will be chosen from the set of characters whose value is between code code and code code inclusive p param count the length of random string to create return the random string public static String random Ascii int count return random count false false p Creates a random string whose length is the number of characters specified p p Characters will be chosen from the set of alphabetic characters p param count the length of random string to create return the random string public static String random Alphabetic int count return random count true false p Creates a random string whose length is the number of characters specified p p Characters will be chosen from the set of alpha numeric characters p param count the length of random string to create return the random string public static String random Alphanumeric int count return random count true true p Creates a random string whose length is the number of characters specified p p Characters will be chosen from the set of numeric characters p param count the length of random string to create return the random string public static String random Numeric int count return random count false true p Creates a random string whose length is the number of characters specified p p Characters will be chosen from the set of alpha numeric characters as indicated by the arguments p param count the length of random string to create param letters if code true code generated string will include alphabetic characters param numbers if code true code generated string will include numeric characters return the random string public static String random int count boolean letters boolean numbers return random count letters numbers p Creates a random string whose length is the number of characters specified p p Characters will be chosen from the set of alpha numeric characters as indicated by the arguments p param count the length of random string to create param start the position in set of chars to start at param end the position in set of chars to end before param letters if code true code generated string will include alphabetic characters param numbers if code true code generated string will include numeric characters return the random string public static String random int count int start int end boolean letters boolean numbers return random count start end letters numbers null p Creates a random string based on a variety of options using default source of randomness p p This method has exactly the same semantics as link random int int int boolean boolean char Random but instead of using an externally supplied source of randomness it uses the internal static link Random instance p param count the length of random string to create param start the position in set of chars to start at param end the position in set of chars to end before param letters only allow letters param numbers only allow numbers param chars the set of chars to choose randoms from If code null code then it will use the set of all chars return the random string throws Array Index Out Of Bounds Exception if there are not code end start code characters in the set array public static String random int count int start int end boolean letters boolean numbers char chars return random count start end letters numbers chars p Creates a random string based on a variety of options using supplied source of randomness p p If start and end are both code code start and end are set to code code and code z code the printable characters will be used unless letters and numbers are both code false code in which case start and end are set to code code and code Integer code p If set is not code null code characters between start and end are chosen p p This method accepts a user supplied link Random instance to use as a source of randomness By seeding a single link Random instance with a fixed seed and using it for each call the same random sequence of strings can be generated repeatedly and predictably p param count the length of random string to create param start the position in set of chars to start at param end the position in set of chars to end before param letters only allow letters param numbers only allow numbers param chars the set of chars to choose randoms from If code null code then it will use the set of all chars param random a source of randomness return the random string throws Array Index Out Of Bounds Exception if there are not code end start code characters in the set array throws Illegal Argument Exception if code count code lt since public static String random int count int start int end boolean letters boolean numbers char chars Random random if count return else if count throw new Illegal Argument Exception Requested random string length count is less than if start end end z start if letters numbers start end Integer char buffer new char count int gap end start while count char ch if chars null ch char random next Int gap start else ch chars random next Int gap start if letters Character is Letter ch numbers Character is Digit ch letters numbers if ch ch if count count else low surrogate insert high surrogate after putting it in buffer count ch count buffer count char random next Int else if ch ch if count count else high surrogate insert low surrogate before putting it in buffer count char random next Int count buffer count ch else if ch ch private high surrogate no effing clue so skip it count else buffer count ch else count return new String buffer p Creates a random string whose length is the number of characters specified p p Characters will be chosen from the set of characters specified p param count the length of random string to create param chars the String containing the set of characters to use may be null return the random string throws Illegal Argument Exception if code count code lt public static String random int count String chars if chars null return random count false false null return random count chars to Char Array p Creates a random string whose length is the number of characters specified p p Characters will be chosen from the set of characters specified p param count the length of random string to create param chars the character array containing the set of characters to use may be null return the random string throws Illegal Argument Exception if code count code lt public static String random int count char chars if chars null return random count false false null return random count chars length false false chars 
package org jboss seam tool import java util import org apache tools ant Build Exception import org apache tools ant Task Creates a random using link java util random and assigns it to the property public class Random Task extends Task private String property Override public void execute throws Build Exception get Project set Property property generate Random protected String generate Random return random to String public void set Property String property this property property 
package org jboss seam annotations security import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target author Shane Bryzak Target Documented Retention Inherited Permission Check public interface Read Class value default void class 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Marks a component as immutable not needing replication once created or a method of the component as read only not mutating the state This allows optimization of performance of Java Bean components in a clustered environment without the need to implement Mutable see org jboss seam core Mutable author Gavin King Target Retention Documented public interface Read Only 
package org jboss seam example booking import java util Date import java util Hash Map import java util Map import javax annotation Post Construct import javax ejb Lock import javax ejb Lock Type import javax ejb Singleton import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Name import org jboss seam annotations Observer import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations Startup Bypass Interceptors Scope Scope Type Singleton Name recent Bookings Startup public class Recent Bookings Action private Map Long Date latest Bookings Map Observer booking Confirmed Lock Lock Type public void on Booking Confirmed Booking booking Booking Component get Instance booking latest Bookings Map put booking get Hotel get Id new Date Lock Lock Type public Date get Most Recent Booking Date Long hotel Id return latest Bookings Map get hotel Id Post Construct public void post Construct latest Bookings Map new Hash Map Long Date 
package org jboss seam example booking import java text Date Format import java util Date import javax faces component Component import javax faces context Faces Context import javax faces convert Converter import javax faces convert Faces Converter Faces Converter org jboss seam example booking Recent Date Converter public class Recent Date Converter implements Converter Override public Object get As Object Faces Context context Component component String value throw new Unsupported Operation Exception Override public String get As String Faces Context context Component component Object value Date then Date value Date now new Date long time Now now get Time long time Then then get Time if time Now time Then return time Now time Then seconds ago else if time Now time Then return time Now time Then minutes ago else if time Now time Then return time Now time Then hours ago else return Date Format get Date Instance format then 
package org jboss seam mail ui import java io Exception import javax faces Faces Exception import javax faces context Faces Context import javax mail Messaging Exception import javax mail Message Recipient Type import javax mail internet Address Exception import javax mail internet Mime Message Encode a recipient Work is done here subclasses simply need to specify a Recipient Type public abstract class Recipient Address Component extends Address Component Override public void encode Begin Faces Context faces Context throws Exception try Mime Message mime Message find Mime Message mime Message add Recipient get Recipient Type get Internet Address faces Context catch Address Exception e throw new Faces Exception e get Message e get Ref e catch Messaging Exception e throw new Faces Exception e get Message e protected abstract Recipient Type get Recipient Type 
package org jboss seam faces import static org jboss seam annotations Install import java io Serializable import java util Hash Map import java util Map import javax faces context Faces Context import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Per Nested Conversation import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Abstract Mutable import org jboss seam core Conversation import org jboss seam navigation Pages Convenient for performing browser redirects with parameters author Gavin King Name org jboss seam faces redirect Bypass Interceptors Scope Scope Type Install precedence class Dependencies javax faces context Faces Context Per Nested Conversation public class Redirect extends Abstract Mutable implements Serializable private static final long serial Version private String view Id private Map String Object parameters new Hash Map String Object private boolean conversation Propagation Enabled true private boolean conversation Begun Get the view id to redirect to public String get View Id return view Id Set the view id to redirect to param view Id any view id public void set View Id String view Id set Dirty this view Id view Id this view Id view Id Get all the request parameters that have been set public Map String Object get Parameters return parameters Set a request parameter value to set a multi valued request parameter pass an array or collection as the value public void set Parameter String name Object value Object old parameters put name value set Dirty old value Capture the view id and request parameters from the current request and squirrel them away so we can return here later in the conversation deprecated use capture Current View public void capture Current Request parameters clear Faces Context context Faces Context get Current Instance parameters put All context get External Context get Request Parameter Map view Id Pages get View Id context set Dirty Capture the view id request parameters and page parameters which take precedence from the current request and squirrel them away so we can return here later in the conversation If no conversation is active begin a conversation The conversation is terminated by link Redirect return To Captured View if begun by this method see Redirect return To Captured View public void capture Current View Faces Context context Faces Context get Current Instance If this is n t a faces request then just return if context null return first capture all request parameters parameters put All context get External Context get Request Parameter Map then preserve page parameters overwriting request parameters with same names parameters put All Pages instance get String Values From Page Context context special case only needed for action Method if decide not to capture all request parameters if context get External Context get Request Parameter Map contains Key action Method parameters put action Method context get External Context get Request Parameter Map get action Method view Id Pages get View Id context conversation Begun Conversation instance begin true false set Dirty if the request ends with an exception the conversation context never gets flushed Contexts get Conversation Context flush Should the conversation be propagated across the redirect return true by default public boolean is Conversation Propagation Enabled return conversation Propagation Enabled Note that conversations are propagated by default public void set Conversation Propagation Enabled boolean conversation Propagation Enabled this conversation Propagation Enabled conversation Propagation Enabled Perform the redirect public void execute Faces Manager instance redirect view Id parameters conversation Propagation Enabled true Redirect to the captured view and end any conversation that began in capture Current View see Redirect capture Current View public boolean return To Captured View if view Id null if conversation Begun Conversation instance end execute return true else return false replacement for Conversation end And Redirect public boolean return To Parent View Manager manager Manager instance String view Id manager get Parent Conversation View Id if view Id null return false else manager redirect view Id return true public static Redirect instance if Contexts is Conversation Context Active throw new Illegal State Exception No active conversation context return Redirect Component get Instance Redirect class Scope Type 
package org jboss seam faces import java io Exception public class Redirect Exception extends Runtime Exception public Redirect Exception Exception ioe super ioe public Redirect Exception String message super message 
package org jboss seam web import static org jboss seam Scope Type import static org jboss seam annotations Install import static org jboss seam core Manager import java io Exception import javax faces context External Context import javax faces context Faces Context import javax servlet Filter Chain import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Http Servlet Response import javax servlet http Http Servlet Response Wrapper import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter import org jboss seam contexts Contexts import org jboss seam faces Faces Manager import org jboss seam navigation Pages Propagates the conversation context and page parameters across any browser redirect initiated from a navigation rule defined in faces config xml Note that this is no longer needed if all navigation rules are defined in pages xml author Gavin King Scope Name org jboss seam web redirect Filter Install precedence class Dependencies javax faces context Faces Context Bypass Interceptors Filter within org jboss seam web ajax jsf Filter public class Redirect Filter extends Abstract Filter public void do Filter Servlet Request request Servlet Response response Filter Chain chain throws Exception Servlet Exception chain do Filter request wrap Response Http Servlet Response response private static Servlet Response wrap Response Http Servlet Response response return new Http Servlet Response Wrapper response Override public void send Redirect String url throws Exception if Faces Context get Current Instance null Contexts is Event Context Active Contexts get Event Context is Set if url starts With http url starts With https yew String view Id get View Id url if view Id null url Pages instance encode Page Parameters Faces Context get Current Instance url view Id if Contexts is Conversation Context Active url Faces Manager instance append Conversation Id From Redirect Filter url view Id super send Redirect url public static String get View Id String url Faces Context faces Context Faces Context get Current Instance if faces Context null return null else External Context external Context faces Context get External Context String path Info external Context get Request Path Info String servlet Path external Context get Request Servlet Path String context Path external Context get Request Context Path return get View Id url path Info servlet Path context Path protected static String get View Id String url String path Info String servlet Path String context Path if path Info null for seam style servlet mappings return url substring context Path length servlet Path length get Param Loc url else if url starts With context Path for seam style servlet mappings String extension servlet Path substring servlet Path last Index Of if url ends With extension url contains extension String suffix Pages get Suffix return url substring context Path length get Param Loc url extension length suffix else return null else return null private static int get Param Loc String url int loc url index Of if loc loc url length return loc 
package org jboss seam exception import javax faces application Faces Message Severity import javax faces context Faces Context import javax servlet http Http Servlet Request import org jboss seam contexts Contexts import org jboss seam core Conversation import org jboss seam faces Redirect Exception import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Pages Base implementation of redirection exception handlers author Gavin King public abstract class Redirect Handler extends Exception Handler private static final Log Provider log Logging get Log Provider Redirect Handler class protected abstract String get View Id Exception e protected abstract String get Message Exception e protected abstract boolean is End Exception e protected abstract Severity get Message Severity Exception e Override public void handle Exception e throws Exception String view Id get View Id e if view Id null we want to perform a redirect straight back to the current page there is no View Root available so lets do it the hard way String servlet Path Http Servlet Request Faces Context get Current Instance get External Context get Request get Servlet Path view Id servlet Path substring servlet Path last Index Of Pages get Suffix add Faces Message get Message Severity e null get Display Message e get Message e if Contexts is Conversation Context Active is End e Conversation instance end try redirect view Id null catch Redirect Exception re do nothing log debug could not redirect re Override public String to String return Redirect Handler 
package org jboss seam navigation import java util Hash Map import java util List import java util Map import javax faces application Faces Message Severity import javax faces context Faces Context import org jboss seam core Expressions Value Expression Metadata for a lt redirect gt in pages xml author Gavin King public final class Redirect Navigation Handler extends Navigation Handler private final Value Expression String view Id private final Value Expression String url private final List Param params private final String message private final Severity severity private final String control private final boolean include Page Params public Redirect Navigation Handler Value Expression String view Id Value Expression String url List Param params String message Severity severity String control boolean include Page Params this view Id view Id this url url this params params this message message this severity severity this control control this include Page Params include Page Params Override public boolean navigate Faces Context context add Faces Message message severity control Map String Object parameters new Hash Map String Object for Param parameter params String value parameter get String Value From Model context render it even if the value is null since we want it to override page parameter values which would be appended by the redirect filter if value null parameters put parameter get Name value if url null redirect External url get Value else redirect view Id null null view Id get Value parameters include Page Params return true 
Id Reflections java shane bryzak jboss com package org jboss seam util import java beans Introspector import java lang annotation Annotation import java lang reflect Field import java lang reflect Invocation Target Exception import java lang reflect Member import java lang reflect Method import java lang reflect Parameterized Type import java lang reflect Type import java util Array List import java util List public class Reflections public static Object invoke Method method Object target Object args throws Exception try return method invoke target args catch Illegal Argument Exception iae String message Could not invoke method by reflection to String method if args null args length message with parameters Strings to Class Name String args message on target get Class get Name throw new Illegal Argument Exception message iae catch Invocation Target Exception ite if ite get Cause instanceof Exception throw Exception ite get Cause else throw ite public static Object get Field field Object target throws Exception boolean accessible field is Accessible try field set Accessible true return field get target catch Illegal Argument Exception iae String message Could not get field value by reflection to String field on target get Class get Name throw new Illegal Argument Exception message iae finally field set Accessible accessible public static void set Field field Object target Object value throws Exception try field set target value catch Illegal Argument Exception iae target may be null if field is static so use field get Declaring Class instead String message Could not set field value by reflection to String field on field get Declaring Class get Name if value null message with null value else message with value value get Class throw new Illegal Argument Exception message iae public static Object get And Wrap Field field Object target boolean accessible field is Accessible try field set Accessible true return get field target catch Exception e if e instanceof Runtime Exception throw Runtime Exception e else throw new Illegal Argument Exception exception setting field get Name e finally field set Accessible accessible public static void set And Wrap Field field Object target Object value boolean accessible field is Accessible try field set Accessible true set field target value catch Exception e if e instanceof Runtime Exception throw Runtime Exception e else throw new Illegal Argument Exception exception setting field get Name e finally field set Accessible accessible public static Object invoke And Wrap Method method Object target Object args try return invoke method target args catch Exception e if e instanceof Runtime Exception throw Runtime Exception e else throw new Runtime Exception exception invoking method get Name e public static String to String Method method return Strings unqualify method get Declaring Class get Name method get Name Strings to String method get Parameter Types public static String to String Member member return Strings unqualify member get Declaring Class get Name member get Name public static Class class For Name String name throws Class Not Found Exception try return Thread current Thread get Context Class Loader load Class name catch Exception e return Class for Name name Return s true if the class can be loaded using Reflections class For Name public static boolean is Class Available String name try class For Name name catch Class Not Found Exception e return false return true public static Class get Collection Element Type Type collection Type if collection Type instanceof Parameterized Type throw new Illegal Argument Exception collection type not parameterized Type type Arguments Parameterized Type collection Type get Actual Type Arguments if type Arguments length throw new Illegal Argument Exception no type arguments for collection type Type type Argument type Arguments length type Arguments type Arguments handle Maps if type Argument instanceof Parameterized Type type Argument Parameterized Type type Argument get Raw Type if type Argument instanceof Class throw new Illegal Argument Exception type argument not a class return Class type Argument public static Class get Map Key Type Type collection Type if collection Type instanceof Parameterized Type throw new Illegal Argument Exception collection type not parameterized Type type Arguments Parameterized Type collection Type get Actual Type Arguments if type Arguments length throw new Illegal Argument Exception no type arguments for collection type Type type Argument type Arguments if type Argument instanceof Class throw new Illegal Argument Exception type argument not a class return Class type Argument public static Method get Setter Method Class clazz String name Method methods clazz get Methods for Method method methods String method Name method get Name if method Name starts With set method get Parameter Types length if Introspector decapitalize method Name substring equals name return method throw new Illegal Argument Exception no such setter method clazz get Name name public static Method get Getter Method Class clazz String name Method methods clazz get Methods for Method method methods String method Name method get Name if method get Parameter Types length if method Name starts With get if Introspector decapitalize method Name substring equals name return method else if method Name starts With is if Introspector decapitalize method Name substring equals name return method throw new Illegal Argument Exception no such getter method clazz get Name name Get all the getter methods annotated with the given annotation Returns an empty list if none are found public static List Method get Getter Methods Class clazz Class annotation List Method methods new Array List Method for Method method clazz get Methods if method is Annotation Present annotation methods add method return methods public static Field get Field Class clazz String name for Class super Class clazz super Class Object class super Class super Class get Superclass try return super Class get Declared Field name catch No Such Field Exception nsfe throw new Illegal Argument Exception no such field clazz get Name name Get all the fields which are annotated with the given annotation Returns an empty list if none are found public static List Field get Fields Class clazz Class annotation List Field fields new Array List Field for Class super Class clazz super Class Object class super Class super Class get Superclass for Field field super Class get Declared Fields if field is Annotation Present annotation fields add field return fields public static Method get Method Annotation annotation String name try return annotation annotation Type get Method name catch No Such Method Exception nsme return null public static Method get Method Class clazz String name for Class super Class clazz super Class Object class super Class super Class get Superclass try return super Class get Declared Method name catch No Such Method Exception nsme throw new Illegal Argument Exception no such method clazz get Name name Check to see if clazz is an instance of name public static boolean is Instance Of Class clazz String name if name null throw new Illegal Argument Exception name can not be null for Class c clazz c Object class c c get Superclass if instance Of c name return true return false private static boolean instance Of Class clazz String name if name equals clazz get Name return true else boolean found false Class interfaces clazz get Interfaces for int i i interfaces length found i found instance Of interfaces i name return found 
Id Register java v gavin Exp package org jboss seam example booking import javax ejb Local Local public interface Register public void register public void invalid public String get Verify public void set Verify String verify public boolean is Registered public void destroy 
Id Register Action java pete muir jboss org package org jboss seam example spring import static org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam faces Faces Messages Scope Name register public class Register Action In private User user In user Service private User Service user Service In hibernate Test Service private Hibernate Test Service hibernate Test Service In hotel Search private Hotel Searching Action hotel Searching Action In private Faces Messages faces Messages private String verify private boolean registered public void register if user get Password equals verify try user Service create User user hibernate Test Service test Hibernate Integration registered true catch Validation Exception e faces Messages add e get Message else faces Messages add verify Re enter your password verify null public void invalid faces Messages add Please try again public boolean is Registered return registered public String get Verify return verify public void set Verify String verify this verify verify 
package org jboss seam security import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java rmi server import java util Array List import java util List import java util Random import javax faces context Faces Context import org jboss seam Component import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Observer import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam faces Selector import org jboss seam security management Identity Manager import org jboss seam util Base Remember me functionality is provided by this class in two different flavours The first mode provides username only persistence and is considered to be secure as the user or their browser is still required to provide a password The second mode provides an auto login feature however is considered to be secure and is vulnerable to attacks compromising the user s account Use the auto login mode with caution author Shane Bryzak Name org jboss seam security remember Me Scope Install precedence class Dependencies javax faces context Faces Context Bypass Interceptors public class Remember Me implements Serializable class Username Selector extends Selector Override public String get Cookie Name return org jboss seam security username Override public void set Dirty super set Dirty Override public String get Cookie Value return super get Cookie Value Override public void clear Cookie Value super clear Cookie Value Override public void set Cookie Value If Enabled String value super set Cookie Value If Enabled value class Token Selector extends Username Selector Override public String get Cookie Name return org jboss seam security authtoken private class Decoded Token private String username private String value public Decoded Token String cookie Value if cookie Value null try String decoded new String Base decode cookie Value username decoded substring decoded index Of value decoded substring decoded index Of catch Exception ex swallow public String get Username return username public String get Value return value private Username Selector username Selector private Token Selector token Selector private Token Store token Store private boolean enabled private int cookie Max Age Selector private boolean auto Logged In private Random random new Random System current Time Millis public enum Mode disabled username Only auto Login private Mode mode Mode username Only public Mode get Mode return mode public void set Mode Mode mode this mode mode public boolean is Enabled return enabled public void set Enabled boolean enabled if this enabled enabled this enabled enabled selector is null during component initialization setup handled in Create method if username Selector null mode equals Mode username Only username Selector set Cookie Enabled enabled username Selector set Dirty selector is null during component initialization setup handled in Create method else if token Selector null mode equals Mode auto Login token Selector set Cookie Enabled enabled token Selector set Dirty public int get Cookie Max Age return cookie Max Age public void set Cookie Max Age int cookie Max Age this cookie Max Age cookie Max Age public Token Store get Token Store return token Store public void set Token Store Token Store token Store this token Store token Store Create public void create if mode equals Mode username Only username Selector new Username Selector username Selector set Cookie Enabled enabled else if mode equals Mode auto Login token Selector new Token Selector token Selector set Cookie Enabled enabled Default to Jpa Token Store if token Store null token Store Token Store Component get Instance Jpa Token Store class true protected String generate Token Value String Builder sb new String Builder sb append new to String sb append sb append random next Long return sb to String protected String encode Token String username String value String Builder sb new String Builder sb append username sb append sb append value return Base encode Bytes sb to String get Bytes Base public String get Cookie Path Faces Context ctx Faces Context get Current Instance return ctx null ctx get External Context get Request Context Path null Observer Credentials public void init Credentials Credentials credentials String cookie Path get Cookie Path if mode equals Mode username Only if cookie Path null username Selector set Cookie Path cookie Path String username username Selector get Cookie Value if username null set Enabled true credentials set Username username username Selector set Dirty else if mode equals Mode auto Login if cookie Path null token Selector set Cookie Path cookie Path String token token Selector get Cookie Value if token null set Enabled true Decoded Token decoded new Decoded Token token if token Store validate Token decoded get Username decoded get Value credentials set Username decoded get Username credentials set Password decoded get Value else Have we been compromised Just in case invalidate all authentication tokens token Store invalidate All decoded get Username hate these hacks private class Bool Wrapper boolean value Observer Identity public void quiet Login final Identity identity Identity instance if mode equals Mode auto Login is Enabled final String username identity get Credentials get Username final Bool Wrapper user Enabled new Bool Wrapper final List String roles new Array List String Double check our credentials again if token Store validate Token username identity get Credentials get Password new Run As Operation true Override public void execute if Identity Manager instance is User Enabled username user Enabled value true for String role Identity Manager instance get Implied Roles username roles add role run if user Enabled value identity un Authenticate identity pre Authenticate populate the roles for String role roles identity add Role role Set the principal identity get Subject get Principals add new Simple Principal username identity post Authenticate auto Logged In true Observer Identity public void logged Out if mode equals Mode auto Login token Selector clear Cookie Value Observer Identity public void post Authenticate Identity identity if mode equals Mode username Only Password is set to null during authentication so we set dirty username Selector set Dirty if enabled username Selector clear Cookie Value else username Selector set Cookie Max Age cookie Max Age username Selector set Cookie Value If Enabled Identity instance get Credentials get Username else if mode equals Mode auto Login token Selector set Dirty Decoded Token decoded new Decoded Token token Selector get Cookie Value Invalidate the current token if it exists whether enabled or not if decoded get Username null token Store invalidate Token decoded get Username decoded get Value if enabled token Selector clear Cookie Value else String value generate Token Value token Store create Token identity get Principal get Name value token Selector set Cookie Enabled enabled token Selector set Cookie Max Age cookie Max Age token Selector set Cookie Value If Enabled encode Token identity get Principal get Name value Observer Credentials public void credentials Updated if mode equals Mode username Only username Selector set Dirty flag that an application can use to protect sensitive operations if the user has been auto authenticated public boolean is Auto Logged In return auto Logged In 
package org jboss seam flex import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup Name org jboss seam flex remote Startup Install false Scope Scope Type public class Remote String destination Name String component Name public void set Destination Name String destionation Name this destination Name destionation Name public String get Destination Name return destination Name public void set Component Name String component Name this component Name component Name public String get Component Name return component Name Create public void init System out println remoting destination destination Name for component Name 
package org jboss seam ui renderkit import java io Exception import java util Map import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam ui component Remote import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer Renderer for rendering the required lt script gt tags for Seam Remoting author Shane Bryzak Jsf Renderer type org jboss seam ui Remote Renderer family org jboss seam ui Remote Renderer public class Remote Renderer Base extends Renderer Base Override protected Class get Component Class return Remote class Override protected void do Encode Begin Response Writer writer Faces Context context Component component throws Exception Remote remote Remote component write Script context remote Override protected void do Encode End Response Writer writer Faces Context context Component component throws Exception writer flush public void write Script Faces Context context Remote remote throws Exception Response Writer response context get Response Writer Map request context get External Context get Request Map if request contains Key response start Element script null response write Attribute type text javascript null response write Attribute src context get External Context get Request Context Path seam resource remoting resource remote js null response end Element script request put true response start Element script null response write Attribute type text javascript null response write Attribute src context get External Context get Request Context Path seam resource remoting interface js remote get Include replace null response end Element script 
package org jboss seam remoting messaging import java util Array List import java util List import javax jms Exception import javax jms Message import javax jms Topic import javax jms Topic Connection import javax jms Topic Session import javax jms Topic Subscriber author Shane Bryzak public class Remote Subscriber private String token private String topic Name private Topic topic private Topic Session topic Session private Topic Subscriber subscriber public Remote Subscriber String token String topic Name this token token this topic Name topic Name public String get Token return token public String get Topic Name return topic Name public void subscribe Topic Connection conn throws Exception topic Session conn create Topic Session false javax jms Session topic topic Session create Topic topic Name subscriber topic Session create Subscriber topic public void unsubscribe try subscriber close Remove the subscription s token from the user s session context Subscription Registry instance get User Tokens remove token catch Exception ex try topic Session close catch Exception ex public void set Topic Subscriber Topic Subscriber subscriber this subscriber subscriber public Topic Subscriber get Topic Subscriber return subscriber public List Message poll int timeout throws Exception List Message messages null Message m null synchronized subscriber do Only timeout for the first message subsequent messages should be nowait if messages null timeout m subscriber receive timeout else m subscriber receive No Wait if m null if messages null messages new Array List Message messages add m while m null return messages 
package org jboss seam remoting import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Exception import java io Input Stream import java io Output Stream import java util Hash Map import java util Map import java util regex Matcher import java util regex Pattern import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Servlet Lifecycle import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam web Abstract Resource Serves Java Script implementation of Seam Remoting author Shane Bryzak Scope Name org jboss seam remoting remoting Install precedence Bypass Interceptors public class Remoting extends Abstract Resource public static final int seconds public static final int second private int poll Timeout private int poll Interval private boolean debug false We use a Map for this because a Servlet can serve requests for more than one context path private Map String byte cached Config new Hash Map String byte private static final Log Provider log Logging get Log Provider Remoting class private static final Pattern path Pattern Pattern compile private static final String resource Override public String get Resource Path return remoting private synchronized void init Config String context Path Http Servlet Request request if cached Config contains Key context Path try Servlet Lifecycle begin Request request get Servlet Context String Builder sb new String Builder sb append n Seam Remoting resource Path sb append context Path sb append request get Servlet Path sb append get Resource Path sb append sb append n Seam Remoting debug sb append get Debug true false sb append sb append n Seam Remoting poll Interval sb append get Poll Interval sb append sb append n Seam Remoting poll Timeout sb append get Poll Timeout sb append cached Config put context Path sb to String get Bytes finally Servlet Lifecycle end Request request Override public void get Resource Http Servlet Request request Http Servlet Response response throws Exception try String path Info request get Path Info substring get Resource Path length Request Handler handler Request Handler Factory get Instance get Request Handler path Info if handler null handler set Servlet Context get Servlet Context handler handle request response else Matcher m path Pattern matcher path Info if m matches String path m group String resource m group if equals path write Resource resource response if remote js equals resource append Config response get Output Stream request get Context Path request response get Output Stream flush catch Exception ex log error Error ex Appends various configuration options to the remoting javascript client api param out Output Stream private void append Config Output Stream out String context Path Http Servlet Request request throws Exception if cached Config contains Key context Path init Config context Path request out write cached Config get context Path param resource Name String param out Output Stream private void write Resource String resource Name Http Servlet Response response throws Exception Only allow resource requests for js files if resource Name ends With js Input Stream in this get Class get Class Loader get Resource As Stream org jboss seam remoting resource Name try if in null response set Content Type text javascript byte buffer new byte int read in read buffer while read response get Output Stream write buffer read read in read buffer else log error String format Resource s not found resource Name finally if in null in close public int get Poll Timeout return poll Timeout public void set Poll Timeout int poll Timeout this poll Timeout poll Timeout public int get Poll Interval return poll Interval public void set Poll Interval int poll Interval this poll Interval poll Interval public boolean get Debug return debug public void set Debug boolean debug this debug debug 
package org jboss seam contexts import org jboss seam Scope Type Lifecycle management for Seam Remoting requests author Shane Bryzak public class Remoting Lifecycle public static void restore Page Context Contexts page Context set new Basic Context Scope Type 
Id Remove Interceptor java pete muir jboss org package org jboss seam ejb import static org jboss seam Component Type import java lang reflect Method import java rmi Remote Exception import javax ejb Application Exception import javax ejb Remove import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam annotations intercept Interceptor Type import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context Removes components from the Seam context after invocation of an Remove method or when a system exception is thrown from the bean author Gavin King Interceptor stateless true type Interceptor Type public class Remove Interceptor extends Abstract Interceptor private static final long serial Version private static final Log Provider log Logging get Log Provider Remove Interceptor class Around Invoke public Object around Invoke Invocation Context invocation throws Exception we have the method from the local interface get the corresponding one for the actual bean class it has the Remove annotation Method remove Method get Component get Remove Method invocation get Method get Name Object result try result invocation proceed catch Exception exception remove If Necessary remove Method exception throw exception remove If Necessary remove Method return result private void remove If Necessary Method remove Method Exception exception if exception instanceof Runtime Exception exception instanceof Remote Exception if exception get Class is Annotation Present Application Exception class it is a system exception remove else if remove Method null if remove Method get Annotation Remove class retain If Exception remove private void remove If Necessary Method remove Method if remove Method null remove private void remove get Component get Scope get Context remove get Component get Name if log is Debug Enabled log debug Stateful component was removed get Component get Name public boolean is Interceptor Enabled return get Component get Type 
package org jboss seam faces import org jboss seam Component import org jboss seam annotations Install import org jboss seam annotations Name component for direct rendering of templates Especially useful with Seam Mail Name org jboss seam faces renderer Install false public abstract class Renderer public abstract String render String view Id public static Renderer instance return Renderer Component get Instance Renderer class 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui util cdk import java io Exception import java util Iterator import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import javax faces render Renderer Mangled version of Ajax Jsf s Renderer Base without supporting classes Base Renderer for all chameleon Skin s and components At most make all common procedures and realise concrete work in template methods author asmirnov exadel com latest modification by Author gavin version Revision Date St public abstract class Renderer Base extends Renderer logger for common cases protected static final String Boss Seam private static final Renderer Utils utils new Renderer Utils Override public void decode Faces Context context Component component Test for correct parameters if context null throw new Null Pointer Exception Context must not be null if component null throw new Null Pointer Exception Component must not be null if get Component Class is Instance component throw new Illegal Argument Exception Component must be of type get Component Class get Name pre Decode context component create set od common decoders Input Action Source etc for process decoding if component is Rendered do Decode context component protected void pre Decode Faces Context context Component component protected void pre Encode Begin Faces Context context Component component throws Exception Override public void encode Begin Faces Context context Component component throws Exception Test for correct parameters if context null throw new Null Pointer Exception Context must not be null if component null throw new Null Pointer Exception Component must not be null if get Component Class is Instance component throw new Illegal Argument Exception Component must be of type get Component Class get Name pre Encode Begin context component if component is Rendered Response Writer writer context get Response Writer do Encode Begin writer context component Override public void encode Children Faces Context context Component component throws Exception Test for correct parameters if context null throw new Null Pointer Exception Context must not be null if component null throw new Null Pointer Exception Component must not be null if get Component Class is Instance component throw new Illegal Argument Exception Component must be of type get Component Class get Name pre Encode Begin context component if component is Rendered Response Writer writer context get Response Writer do Encode Children writer context component Override public void encode End Faces Context context Component component throws Exception Test for correct parameters if context null throw new Null Pointer Exception Context must not be null if component null throw new Null Pointer Exception Component must not be null if get Component Class is Instance component throw new Illegal Argument Exception Component must be of type get Component Class get Name if component is Rendered Response Writer writer context get Response Writer do Encode End writer context component Get base component slass targetted for this renderer Used for check arguments in decode encode protected abstract Class get Component Class Template method for custom decoding of concrete renderer All parameters checking if performed in original decode method param context param component protected void do Decode Faces Context context Component component Template method for custom start encoding of concrete renderer All parameters checking and writer is performed in original encode Begin method param writer param context param component protected void do Encode Begin Response Writer writer Faces Context context Component component throws Exception param writer param context param component protected void do Encode Children Response Writer writer Faces Context context Component component throws Exception Hook method must be overriden in renderers with special children processing Template method for custom finish encoding of concrete renderer All parameters checking and writer is performed in original encode End method param writer param context param component throws Exception protected void do Encode End Response Writer writer Faces Context context Component component throws Exception Render all children for given component param faces Context param component throws Exception public void render Children Faces Context faces Context Component component throws Exception if component get Child Count for Iterator it component get Children iterator it has Next Component child Component it next render Child faces Context child Render one component and it childrens param faces Context param child throws Exception public void render Child Faces Context faces Context Component child throws Exception if child is Rendered return child encode Begin faces Context if child get Renders Children child encode Children faces Context else render Children faces Context child child encode End faces Context public static Renderer Utils get Utils return utils 
package org jboss seam ui facelet import static org jboss seam Scope Type import javax faces Factory Finder import javax faces context Faces Context import javax faces lifecycle Lifecycle import javax faces lifecycle Lifecycle Factory import javax servlet Servlet Request import javax servlet Servlet Response import org jboss seam Component import org jboss seam annotations Auto Create import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts copy of the Faces Servlet for use in our Renderer Shamelessly adapted from the author Pete Muir Name org jboss seam ui facelet faces Context Factory Scope Bypass Interceptors Install dependencies org jboss seam faces renderer Auto Create public class Renderer Faces Context Factory private javax faces context Faces Context Factory faces Context Factory private Lifecycle lifecycle Create public void create Acquire our Faces Context Factory instance faces Context Factory javax faces context Faces Context Factory Factory Finder get Factory Factory Finder Acquire our Lifecycle instance Lifecycle Factory lifecycle Factory Lifecycle Factory Factory Finder get Factory Factory Finder lifecycle lifecycle Factory get Lifecycle Lifecycle Factory public Faces Context get Faces Context Servlet Request request Servlet Response response return faces Context Factory get Faces Context Servlet Context Manager instance request response lifecycle Destroy public void destroy faces Context Factory null lifecycle null public static Renderer Faces Context Factory instance if Contexts is Application Context Active throw new Illegal State Exception Application context is not active return Renderer Faces Context Factory Component get Instance Renderer Faces Context Factory class 
package org jboss seam ui facelet import java io Exception import java io String Writer import java lang ref Weak Reference import java net import javax faces component View Root import javax faces context Faces Context import javax servlet Servlet Context import org jboss seam core Resource Loader import org jboss seam jsf Delegating Faces Context import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam mock Mock Http Servlet Request import org jboss seam mock Mock Http Servlet Response import org jboss seam ui util import com sun faces application Application Associate import com sun faces facelets Facelet public class Renderer Request private static final Log Provider log Logging get Log Provider Renderer Request class private Faces Context original Faces Context private Faces Context faces Context private Mock Http Servlet Request request private Mock Http Servlet Response response private String Writer writer private String view Id private Class Loader original Class Loader public Renderer Request String view Id this view Id view Id private void init if Faces Context get Current Instance null request new Mock Http Servlet Request Http Session Manager instance Faces Context get Current Instance get External Context else request new Mock Http Servlet Request Http Session Manager instance response new Mock Http Servlet Response set Context Class Loader Generate the Faces Context from the Faces Context Factory original Faces Context Faces Context get Current Instance faces Context Renderer Faces Context Factory instance get Faces Context request response Delegating Faces Context set Current Instance faces Context Create the view Root View Root new Root faces Context get Application get View Handler create View faces Context view Id faces Context set View Root new Root Set the response Writer to write to a buffer writer new String Writer faces Context set Response Writer faces Context get Render Kit create Response Writer writer null null private void cleanup faces Context release Delegating Faces Context set Current Instance original Faces Context original Faces Context null faces Context null request null response null protected void set Context Class Loader Quick fix Set the context classloader to the cached one original Class Loader Thread current Thread get Context Class Loader Servlet Context ctx request get Session get Servlet Context Weak Reference Class Loader ref Weak Reference Class Loader ctx get Attribute seam context class Loader if ref null ref get null log warn Failed to bootstrap context classloader Facelets may not work properly from Bs else Thread current Thread set Context Class Loader ref get protected void reset Context Class Loader Quick fix if original Class Loader null Thread current Thread set Context Class Loader original Class Loader original Class Loader null public void run throws Exception try init render Facelet faces Context facelet For View Id view Id finally cleanup reset Context Class Loader public String get Output return writer get Buffer to String Get a Facelet for a protected Facelet facelet For View Id String view Id throws Exception url Resource Loader instance get Resource view Id if url null throw new Illegal Argument Exception resource does n t exist view Id return Application Associate get Current Instance get Facelet Factory get Facelet url Render a Facelet protected void render Facelet Faces Context faces Context Facelet facelet throws Exception View Root root faces Context get View Root facelet apply faces Context root render Children faces Context root 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui util cdk import static org jboss seam util Reflections is Instance Of import javax faces component Component import javax faces component Form import javax faces component html Html Command Button public class Renderer Utils private static final String org apache myfaces trinidad Form private static final String org apache myfaces trinidad component core nav Core Command Button private static final String org ajax jsf component Ajax Command Button Since Trinidad and possibly other implementations do n t always subclass from link javax faces component Form we ca n t cast to Form public Component get Form Component component while component null if is Form component break component component get Parent return component public boolean is Command Button Component cmp if cmp instanceof Html Command Button is Instance Of cmp get Class is Instance Of cmp get Class return true else return false public boolean is Form Component cmp if cmp instanceof Form equals cmp get Family return true else return false 
package org jboss seam navigation import javax faces application Faces Message Severity import javax faces context Faces Context import org jboss seam core Expressions Value Expression Metadata for a lt render gt in pages xml author Gavin King public final class Render Navigation Handler extends Navigation Handler private final Value Expression String view Id private final String message private final Severity severity private final String control public Render Navigation Handler Value Expression String view Id String message Severity severity String control this view Id view Id this message message this severity severity this control control Override public boolean navigate Faces Context context add Faces Message message severity control render view Id null null view Id get Value return true 
package org jboss seam ui import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java util Date import java util Map import java util import java util concurrent Concurrent Hash Map import org jboss seam Component import org jboss seam annotations Auto Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors class that stores render stamps for use with lt s token gt when client side state saving is in use By default the render stamp store will never remove a render stamp unless instructed to by a Token If the max Size property is larger than zero then it will control the maximum number of tokens stored with the oldest token being removed when a token is inserted that will take the store over the max Size limit The default max Size is author Stuart Douglas Name org jboss seam ui render Stamp Store Scope Install precedence value false Auto Create Bypass Interceptors public class Render Stamp Store implements Serializable class Render Stamp String stamp Date time Stamp int max Size Map String Render Stamp store new Concurrent Hash Map String Render Stamp Stores a stamp in the store and returns the key it is stored under public String store Stamp String stamp if max Size if store size max Size Date oldest null String oldest Signiture null for String sig store key Set Render Stamp s store get sig if oldest null s time Stamp before oldest oldest Signiture sig store remove oldest Signiture Render Stamp s new Render Stamp s stamp stamp s time Stamp new Date String key do key random to String while store contains Key key store put key s return key public void remove Stamp String view Signiture store remove view Signiture public String get Stamp String view Signiture Render Stamp s store get view Signiture if s null return store get view Signiture stamp return null public static Render Stamp Store instance return Render Stamp Store Component get Instance Render Stamp Store class public int get Max Size return max Size public void set Max Size int max Size this max Size max Size 
package org jboss seam remoting author Shane Bryzak public class Request Context private String conversation Id public String get Conversation Id return conversation Id public void set Conversation Id String conversation Id this conversation Id conversation Id 
package org jboss seam remoting import javax servlet Servlet Context import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response author Shane Bryzak public interface Request Handler static final byte envelope get Bytes static final byte envelope get Bytes static final byte body get Bytes static final byte body get Bytes static final byte refs get Bytes static final byte refs get Bytes static final byte ref id get Bytes static final byte get Bytes static final byte ref get Bytes void handle Http Servlet Request request Http Servlet Response response throws Exception void set Servlet Context Servlet Context context 
package org jboss seam remoting import java util Map import java util Hash Map Provides request handlers for different request paths author Shane Bryzak public class Request Handler Factory private static final String execute private static final String subscription private static final String poll private static final String interface js private static Request Handler Factory instance new Request Handler Factory private Map String Request Handler handlers new Hash Map String Request Handler private Request Handler Factory register Handler new Execution Handler register Handler new Subscription Handler register Handler new Interface Generator try Class for Name javax jms Message register Handler new Poll Handler catch Class Not Found Exception ex Do n t register Poll Handler swallow the exception public void register Handler String path Request Handler handler handlers put path handler public Request Handler get Request Handler String path return handlers get path public static Request Handler Factory get Instance return instance 
Id Request Parameter java gavin package org jboss seam annotations web import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Injects a request parameter value see org jboss seam web Parameters author Gavin King Target Retention Documented public interface Request Parameter The name of the request parameter String value default 
Id Required Exception java gavin package org jboss seam Thrown when a null value is encountered during bijection of an attribute with required true author Gavin King public class Required Exception extends Runtime Exception The serial Version private static final long serial Version public Required Exception String message super message 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam example tasks resource import java net Syntax Exception import java util Array List import java util Date import java util List import javax ws rs import javax ws rs Path import javax ws rs Path Param import javax ws rs Produces import org jboss resteasy plugins providers atom Entry import org jboss resteasy plugins providers atom Feed import org jboss resteasy plugins providers atom Person import org jboss seam annotations Create import org jboss seam annotations Name import org jboss seam example tasks Resource Not Found Exception import org jboss seam example tasks entity Task import org jboss seam resteasy Resource Query This resource exposes a list of resolved tasks for a particular user using Resource Query component This list is available publicly without authentication needed The list can be marshalled to Fastinfoset Resource Query component is extended in order to provide Atom feed author Jozef Hartinger Name resolved Task Resource Query Path user username tasks resolved public class Resolved Task Resource Query extends Resource Query Task Path Param username private String username public Resolved Task Resource Query set Media Types new String application xml application json application fastinfoset Override Create public void create super create List String restrictions new Array List String restrictions add category owner username resolved Task Resource Query username resolved true get Entity Query set Restriction Expression Strings restrictions get Entity Query set Order Column updated get Entity Query set Order Direction desc Produces application atom xml public Feed get Feed throws Syntax Exception List Task tasks get Entity List if tasks size make difference between empty list and nonsense user throw new Resource Not Found Exception Feed feed new Feed feed set Title Resolved feeds for username feed get Authors add new Person username feed set Updated new Date for Task task tasks Entry entry new Entry entry set Title task get Name entry set Summary task get Name entry set Published task get Created entry set Updated task get Updated feed get Entries add entry return feed public String get Username return username 
package org jboss seam security permission import static org jboss seam Scope Type import java io Serializable import java util Array List import java util List import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors chain of permission resolvers Specific permission checks are generally mapped to a particular Resolver Chain for resolution author Shane Bryzak Scope Bypass Interceptors public class Resolver Chain implements Serializable private List Permission Resolver resolvers new Array List Permission Resolver public List Permission Resolver get Resolvers return resolvers public void set Resolvers List Permission Resolver resolvers this resolvers resolvers 
package org jboss seam core import static org jboss seam annotations Install import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors Manager component for the Seam resource bundle see Seam Resource Bundle author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam core resource Bundle Install precedence public class Resource Bundle Unwrap public java util Resource Bundle get Resource Bundle return Seam Resource Bundle get Bundle return the Resource Bundle instance public static java util Resource Bundle instance return java util Resource Bundle Component get Instance Resource Bundle class 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam resteasy import java io Input Stream import java lang reflect Parameterized Type import java lang reflect Type import java lang annotation Annotation import java net import javax ws rs import javax ws rs import javax ws rs Header Param import javax ws rs import javax ws rs import javax ws rs Path Param import javax ws rs Path import javax ws rs core Context import javax ws rs core Generic Entity import javax ws rs core Http Headers import javax ws rs core Media Type import javax ws rs core Response import javax ws rs core Uri Info import javax ws rs ext Message Body Reader import org jboss resteasy core String Parameter Injector import org jboss seam Entity import org jboss seam annotations Create import org jboss seam framework Home import static javax ws rs core Response Status import static javax ws rs core Response Status This component exposes Entity Home and Hibernate Entity Home components as a resource author Jozef Hartinger param Entity class param Entity id class Empty Path because it s ignored by second stage bootstrap if not subclassed or in components xml but we need it as a marker so we ll find components xml declarations during first stage of bootstrap Path public class Resource Home extends Abstract Resource private Entity Home Wrapper entity Home null Context private Uri Info uri Info Context private Http Headers headers Header Param Content Type private Media Type request Content Type private Class entity Id Class null private boolean readonly private static final Path Param Annotation path Param Annotation new Path Param Annotation Called at component instantiation Entity Home component must be set in order for component to be created Create public void create set Entity Home get Entity Home if entity Home null throw new Illegal State Exception entity Home is not set Called by Easy when request is received String form of entity identifier is passed as a parameter Returns a response containing database entity param raw Id String form of entity identifier return response see get Entity Path id public Response get Resource Path Param id String raw Id Media Type selected Media Type select Response Media Type if selected Media Type null return Response status build id unmarshall Id raw Id entity get Entity id return Response ok new Generic Entity entity get Entity Class selected Media Type build Retrieve an entity identified by id parameter param id entity identifier return entity database entity public get Entity id entity Home set Id id return entity Home find Called by Easy when request is received Persists received entity and returns status code with location header set to new if operation succeeds param message Body request body return response see create Entity public Response create Resource Input Stream message Body if readonly return Response status build check if we accept this content type if is Media Type Compatible request Content Type return Response status build entity unmarshall Entity message Body id create Entity entity uri uri Info get Absolute Path Builder path id to String build return Response created uri build Store entity passed as a parameter in the database param entity Object to be persisted return id identifier assigned to the entity public create Entity entity entity Home set Instance entity entity Home persist return entity Home get Id Called by Easy when request is received Merges the state of the database entity with the received representation param raw Id String form of entity identifier param message Body request body return response see update Entity Path id public Response update Resource Path Param id String raw Id Input Stream message Body if readonly return Response status build check if we accept this content type if is Media Type Compatible request Content Type return Response status build entity unmarshall Entity message Body id unmarshall Id raw Id check representation id we do n t allow renaming Object stored Id Entity for Bean entity get Identifier entity if id equals stored Id return Response status build update Entity entity id return Response no Content build Merge the state of the database entity with the entity passed as a parameter Override to customize the update strategy for instance to update specific fields only instead of a full merge param entity public void update Entity entity id entity Home merge entity Called by Easy when request is received Deletes a database entity param raw Id String form of entity identifier return response see delete Entity Path id public Response delete Resource Path Param id String raw Id if readonly return Response status build id unmarshall Id raw Id delete Entity id return Response no Content build Delete database entity param id entity identifier public void delete Entity id get Entity id entity Home remove Convert request body into entity class instance param is request body return entity private unmarshall Entity Input Stream is Class entity Class get Entity Class Message Body Reader reader Seam Resteasy Provider Factory get Instance get Message Body Reader entity Class entity Class entity Class get Annotations request Content Type if reader null throw new Runtime Exception Unable to find Message Body Reader for content type request Content Type entity try entity reader read From entity Class entity Class entity Class get Annotations request Content Type headers get Request Headers is catch Exception e throw new Runtime Exception Unable to unmarshall request body return entity Converts String form of entity identifier to it s natural type param id String form of entity identifier return entity identifier private unmarshall Id String id String Parameter Injector injector new String Parameter Injector get Entity Id Class get Entity Id Class id Path Param class null null new Annotation path Param Annotation Seam Resteasy Provider Factory get Instance return injector extract Value id Entity Home component getter Override this method to set the Entity Home this resource will operate on You can use either Entity Home or Hibernate Entity Home instance return entity home public Home get Entity Home return entity Home null null entity Home unwrap Entity Home component setter param entity Home public void set Entity Home Home entity Home this entity Home new Entity Home Wrapper entity Home Override public Class get Entity Class return entity Home get Entity Class public boolean is Readonly return readonly If set to read only mode this resource will only response to requests status code method not allowed will returned in all other cases param readonly public void set Readonly boolean readonly this readonly readonly Retrieve entity identifier s class If not set type parameters of a superclass are examined return class of entity identifier public Class get Entity Id Class if entity Id Class null Type superclass this get Class get Generic Superclass if superclass instanceof Parameterized Type Parameterized Type parameterized Superclass Parameterized Type superclass if parameterized Superclass get Actual Type Arguments length return Class parameterized Superclass get Actual Type Arguments throw new Runtime Exception Unable to determine entity id class else return entity Id Class public void set Entity Id Class Class entity Id Class this entity Id Class entity Id Class Annotation implementation Path Param id for providing Easy with metadata static class Path Param Annotation implements Path Param public String value return id public Class extends Annotation annotation Type return Path Param class 
package org jboss seam faces import static org jboss seam annotations Install import java io Input Stream import java net import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam util Faces Resources Access to application resources in tye environment author Gavin King Scope Scope Type Bypass Interceptors Install precedence class Dependencies javax faces context Faces Context Name org jboss seam core resource Loader public class Resource Loader extends org jboss seam core Resource Loader Override public Input Stream get Resource As Stream String resource Input Stream stream null javax faces context Faces Context context javax faces context Faces Context get Current Instance if context null stream Faces Resources get Resource As Stream resource context get External Context if stream null stream super get Resource As Stream resource return stream Override public get Resource String resource url null javax faces context Faces Context context javax faces context Faces Context get Current Instance if context null url Faces Resources get Resource resource context get External Context if url null url super get Resource resource return url 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam example tasks This exception is mapped to response code author Jozef Hartinger public class Resource Not Found Exception extends Runtime Exception public Resource Not Found Exception public Resource Not Found Exception String message super message 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam resteasy import java lang reflect Parameterized Type import java lang reflect Type import java util List import javax ws rs Default Value import javax ws rs import javax ws rs Path import javax ws rs Query Param import javax ws rs core Generic Entity import javax ws rs core Media Type import javax ws rs core Response import org jboss resteasy annotations providers jaxb Wrapped import org jboss seam annotations Create import org jboss seam framework Entity Query import org jboss seam framework Query import static javax ws rs core Response Status import static javax ws rs core Response Status This component exposes Entity Query component as a resource responding to request author Jozef Hartinger param entity type Empty Path because it s ignored by second stage bootstrap if not subclassed or in components xml but we need it as a marker so we ll find components xml declarations during first stage of bootstrap Path public class Resource Query extends Abstract Resource private Query entity Query null Called at component instantiation Create public void create this entity Query get Entity Query if entity Query null this entity Query create Entity Query Called by Easy to respond for an request Retrieves a list of entities matching criteria set by query parameters from database and returns it wrapped in Response instance param start first entity in the list param show maximum size of the list return representation of a list of database entries see get Entity List Wrapped public Response get Resource List Query Param start Default Value int start Query Param show Default Value int show Media Type selected Media Type select Response Media Type if selected Media Type null return Response status build if start show return Response status build final List result get Entity List start show create a proper response type Type response Type new Parameterized Type public Type get Raw Type return result get Class public Type get Owner Type return null public Type get Actual Type Arguments return new Type get Entity Class return Response ok new Generic Entity result response Type selected Media Type build Retrieve a list of database entities param start first entity in the list param show maximum size of the list for unlimited return list of database entries public List get Entity List int start int show entity Query set First Result start if show set for unlimited entity Query set Max Results show return entity Query get Result List Entity Query getter return Entity Query instance public Query get Entity Query return entity Query public void set Entity Query Query query this entity Query query public Query create Entity Query Query entity Query new Entity Query entity Query set Ejbql select entity from get Entity Class get Name entity return entity Query 
package org jboss seam ui renderkit import java io Exception import javax faces component Component import javax faces context Faces Context import org jboss seam ui Document Store Utils import org jboss seam ui component Resource import org jboss seam ui util cdk Renderer Base import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui Resource Renderer family org jboss seam ui Resource Renderer public class Resource Renderer Base extends Renderer Base Override protected Class get Component Class return Resource class Override protected void do Encode Begin javax faces context Response Writer writer Faces Context ctx Component component throws Exception Resource resource Resource component String url Document Store Utils add Resource To Data Store ctx resource ctx get External Context redirect url 
package org jboss seam mock import org jboss seam servlet Seam Resource Servlet import javax servlet http Http Servlet Request import javax servlet http Cookie import javax servlet Servlet Exception import javax servlet Servlet Response import javax servlet Servlet Request import javax servlet Filter Chain import javax servlet Servlet Config import javax servlet Servlet Context import java util Collections import java util Set import java util List import java util Map import java util Enumeration import java security Principal import java io Exception Executes through local calls not sockets an request in a unit test passing it through the Seam resource handlers and filters p This class is supposed to be used b within b a tt Seam Test tt in fact you need to pass an instance of tt Seam Test tt into its constructor This prepares the environment for the resource request processing You can either share an instance of the environment between all your test methods prepare it in tt Before Class tt or you can create a new instance for each tt Resource Request tt p pre import org jboss seam mock Resource Request Environment import org jboss seam mock Enhanced Mock Http Servlet Request import org jboss seam mock Enhanced Mock Http Servlet Response import static org jboss seam mock Resource Request Environment Resource Request import static org jboss seam mock Resource Request Environment Method public class My Test extends Seam Test Resource Request Environment shared Environment Before Class public void prepare Shared Environment throws Exception shared Environment new Resource Request Environment this Override public Map String Object get Default Headers return new Hash Map String Object put Accept text plain Test public void test throws Exception Not shared new Resource Request new Resource Request Environment this Method my relative uri new Resource Request shared Environment Method my relative uri Override protected void prepare Request Enhanced Mock Http Servlet Request request request add Query Parameter foo request add Header Accept Language en de Override protected void on Response Enhanced Mock Http Servlet Response response assert response get Status assert response get Content As String equals foobar run pre p Note that in a tt Seam Test tt the mock session is always shared between all requests in a particular test method Each test method however executes with a new mock session Design your tests accordingly this is not configurable p p b tt Resource Request tt has to be executed in a tt Test tt method or in a tt Before Method tt callback You can not execute it in any other callback such as tt Before Class tt p author Christian Bauer public class Resource Request Environment public enum Method final protected Abstract Seam Test seam Test final protected Seam Resource Servlet resource Servlet public Resource Request Environment Abstract Seam Test seam Test this seam Test seam Test resource Servlet new Seam Resource Servlet try resource Servlet init new Servlet Config public String get Servlet Name return Seam Resource Servlet public Servlet Context get Servlet Context return Resource Request Environment this seam Test servlet Context public String get Init Parameter String s return null public Enumeration get Init Parameter Names return null catch Exception ex throw new Runtime Exception ex public static class Resource Request final private Resource Request Environment environment private Method http Method private String request Path private Enhanced Mock Http Servlet Request request private Enhanced Mock Http Servlet Response response public Resource Request Resource Request Environment environment Method http Method String request Path this environment environment this http Method http Method this request Path environment get Servlet Path request Path starts With request Path request Path public void run throws Exception init prepare Request request environment seam Test seam Filter do Filter request response new Filter Chain public void do Filter Servlet Request request Servlet Response response throws Exception Servlet Exception environment resource Servlet service request response environment seam Test seam Filter destroy on Response get Response protected void init request create Request response create Response request set Method http Method to String request set Request request Path request set Servlet Path environment get Servlet Path request set Cookies get Cookies to Array new Cookie get Cookies size for Map Entry String Object entry environment get Default Headers entry Set request add Header entry get Key entry get Value request set User Principal new Principal public String get Name return get Principal Name for String role get Principal Roles request add User Role role Use the mock Http Session that Seam uses see Abstract Seam Test request set Session environment seam Test session protected Enhanced Mock Http Servlet Request create Request return new Enhanced Mock Http Servlet Request environment seam Test servlet Context protected Enhanced Mock Http Servlet Response create Response return new Enhanced Mock Http Servlet Response protected Map String String get Request Query Parameters return Collections protected List Cookie get Cookies return Collections protected String get Principal Name return null protected Set String get Principal Roles return Collections protected void prepare Request Enhanced Mock Http Servlet Request request protected void on Response Enhanced Mock Http Servlet Response response public Http Servlet Request get Request return request public Enhanced Mock Http Servlet Response get Response return response public String get Servlet Path return seam resource public Map String Object get Default Headers return Collections 
package org jboss seam example ui import java io Byte Array Input Stream import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations web Request Parameter Name resources Scope Scope Type public class Resources Request Parameter private int id private Resource Item item Create public void create switch id case item new Resource Item text txt new byte a b c null text plain break case Byte Array Input Stream str new Byte Array Input Stream new byte item new Resource Item numbers txt str null text plain break public static class Resource Item public Resource Item String file Name Object data String disposition String content Type this file Name file Name this data data this disposition disposition this content Type content Type public String file Name public Object data public String disposition public String content Type public String get File Name return file Name public Object get Data return data public String get Disposition return disposition public String get Content Type return content Type public int get Id return id public void set Id int id this id id public Resource Item get Item return item public void set Item Resource Item item this item item 
package org jboss seam servlet author Shane Bryzak deprecated use Seam Resource Servlet public class Resource Servlet extends Seam Resource Servlet 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam resteasy import static org jboss seam annotations Install import java lang annotation Annotation import java util Collection import java util Hash Set import java util Map import java util Set import javax ws rs ext Providers import org jboss resteasy core Dispatcher import org jboss resteasy core Synchronous Dispatcher import org jboss resteasy core Thread Local Resteasy Provider Factory import org jboss resteasy plugins providers Register Builtin import org jboss resteasy plugins server resourcefactory Resource Factory import org jboss resteasy spi Registry import org jboss resteasy spi Resource Factory import org jboss resteasy spi String Converter import org jboss seam Component import org jboss seam Scope Type import org jboss seam Seam import org jboss seam annotations Auto Create import org jboss seam annotations Create import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Install import org jboss seam annotations Jndi Name import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam contexts Contexts import org jboss seam core Init import org jboss seam deployment Annotation Deployment Handler import org jboss seam deployment Deployment Strategy import org jboss seam log Log import org jboss seam util import org jboss seam util Reflections Detects through scanning and configuration resources and providers then registers them with Easy p This class is a factory for tt org jboss seam resteasy dispatcher tt and it has been designed for extension Alternatively you can ignore what this class is doing and provide a different tt org jboss seam resteasy dispatcher tt yourself without extending this class p p The main methods of this class are tt register Providers tt and tt register Resources tt These methods call out to the individual fine grained registration procedures which you can override if a different registration strategy for a particular type component is desired p author Christian Bauer Name org jboss seam resteasy bootstrap Scope Scope Type Startup Auto Create Install precedence class Dependencies org jboss resteasy spi Resteasy Provider Factory public class Resteasy Bootstrap Logger Log log In protected Application application The job of this class is to initialize and configure the Easy Dispatcher instance protected Dispatcher dispatcher Factory org jboss seam resteasy dispatcher public Dispatcher get Dispatcher return dispatcher Create public void init log info bootstrapping application Custom Resteasy Provider Factory that understands Seam component lookup at runtime Seam Resteasy Provider Factory provider Factory create Provider Factory dispatcher create Dispatcher provider Factory init Dispatcher Always use the deployment sensitive factory that means it is handled through Thread Local not static How does that actually work It s never used because the dispatcher is created with the original one Seam Resteasy Provider Factory set Instance new Thread Local Resteasy Provider Factory provider Factory Put Providers Registry and Dispatcher into Easy context dispatcher get Default Context Objects put Providers class provider Factory dispatcher get Default Context Objects put Registry class dispatcher get Registry dispatcher get Default Context Objects put Dispatcher class dispatcher Map context Data Map Seam Resteasy Provider Factory get Context Data Map context Data Map put All dispatcher get Default Context Objects Seam can scan the classes for us we just have to list them in seam deployment properties Deployment Strategy deployment Deployment Strategy Component get Instance deployment Strategy Annotation Deployment Handler handler Annotation Deployment Handler deployment get Deployment Handlers get Annotation Deployment Handler Collection Class providers find Providers handler Collection Class resources find Resources handler Collection Component seam Components find Seam Components register Providers seam Components providers register Resources seam Components resources protected Seam Resteasy Provider Factory create Provider Factory return new Seam Resteasy Provider Factory protected Dispatcher create Dispatcher Seam Resteasy Provider Factory provider Factory return new Synchronous Dispatcher provider Factory protected void init Dispatcher get Dispatcher set Language Mappings application get Language Mappings get Dispatcher set Media Type Mappings application get Media Type Mappings protected Collection Class find Providers Annotation Deployment Handler handler return find Types handler application is Scan Providers javax ws rs ext Provider class get Name application get Provider Class Names protected Collection Class find Resources Annotation Deployment Handler handler return find Types handler application is Scan Resources javax ws rs Path class get Name application get Resource Class Names protected Collection Class find Types Annotation Deployment Handler handler boolean scan Classpath For Annotations String annotation Name Collection String include Type Names Collection Class types new Hash Set if scan Classpath For Annotations Collection Class annotated Types handler get Class Map get annotation Name if annotated Types null types add All annotated Types try for String s new Hash Set String include Type Names types add Reflections class For Name s catch Class Not Found Exception ex log error error loading type ex get Message ex return types protected Collection Component find Seam Components Iterate through all variables in the application context that end with component log debug discovering all Seam components Collection Component seam Components new Hash Set String application Context Names Contexts get Application Context get Names for String application Context Name application Context Names if application Context Name ends With component Component seam Component Component Component get Instance application Context Name Scope Type seam Components add seam Component return seam Components protected void register Providers Collection Component seam Components Collection Class provider Classes Easy built in providers first if application is Use Builtin Providers log info registering built in Easy providers Register Builtin register get Dispatcher get Provider Factory Set Class handled Providers new Hash Set Stuff we do n t want to examine twice Retracted due to missing Easy for external provider metadata see https jira jboss org jira browse for Component seam Component seam Components The component can have one not many Provider annotated business interface Class provider Interface get Annotated Interface javax ws rs ext Provider class seam Component How we register it depends on the component type switch seam Component get Type We do n t support Seam components as providers case We are only interested in components that have a Provider annotation on iface or bean if provider Interface null seam Component get Bean Class is Annotation Present javax ws rs ext Provider class break They also have to be in the right scope otherwise we ca n t handle their lifecylce yet switch seam Component get Scope case String Converter is a special case if String Converter class is Assignable From seam Component get Bean Class get Dispatcher get Provider Factory add String Converter String Converter Component get Instance seam Component get Name else register Seam Component Provider seam Component break default throw new Runtime Exception Provider Seam component seam Component get Name must be scoped break We simply add everything we have seen so far it s not really necessary but it does n t hurt does it handled Providers add seam Component get Bean Class handled Providers add All seam Component get Business Interfaces for Class provider Class provider Classes An Provider annotated type may have been already handled as a Seam component in the previous routine if handled Providers contains provider Class continue be a Easy built in provider if provider Class get Name starts With org jboss resteasy plugins providers continue be an interface which we do n t care about if we do n t have an implementation if provider Class is Interface continue be just plain Easy no Seam component lookup or lifecycle if String Converter class is Assignable From provider Class log debug registering provider as Easy String Converter provider Class get Dispatcher get Provider Factory add String Converter Class extends String Converter provider Class else log debug registering provider as plain type provider Class get Dispatcher get Provider Factory register Provider provider Class protected void register Resources Collection Component seam Components Collection Class resource Classes Set Class handled Resources new Hash Set Stuff we do n t want to examine twice These classes themselves should not be registered at all Configured Resource Home and Resource Query components will be registered later handled Resources add Resource Home class handled Resources add Resource Query class for Component seam Component seam Components bean class of type not subtypes Resource Home or Resource Query annotated with Path then it s a Seam component resource we need to register with get Path on the instance it has been configured in components xml if seam Component get Bean Class equals Resource Home class seam Component get Bean Class equals Resource Query class register Home Query Resources seam Component continue The component can have one not many Path annotated business interface Class resource Interface get Annotated Interface javax ws rs Path class seam Component How we register it depends on the component type switch seam Component get Type case seam component resources must be Path annotated on one of their business interfaces if resource Interface null Do we have to consider the scope It should be stateless right register Interface Seam Component Resource seam Component resource Interface break case seam component resources must be Path annotated on one of their business interfaces if resource Interface null log error Not implemented Stateful Seam component resource seam Component register Stateful Seam Component Resource seam Component break case We are only interested in components that have a Path annotation on iface or bean if resource Interface null seam Component get Bean Class is Annotation Present javax ws rs Path class break They also have to be in the right scope otherwise we ca n t handle their lifecylce yet switch seam Component get Scope case case case case if resource Interface null register Interface Seam Component Resource seam Component resource Interface else if seam Component get Bean Class is Annotation Present javax ws rs Path class register Seam Component Resource seam Component break default throw new Runtime Exception Resource Seam component seam Component get Name must be scoped either or break We simply add everything we have seen so far it s not really necessary but it does n t hurt does it handled Resources add seam Component get Bean Class handled Resources add All seam Component get Business Interfaces for Class resource Class resource Classes An Path annotated type may have been already handled as a Seam component in the previous routine if handled Resources contains resource Class continue be an interface which we do n t care about if we do n t have an implementation if resource Class is Interface continue be a Stateless implementation class that was listed in components xml if resource Class is Annotation Present register Stateless Resource resource Class be a Stateful implementation class that was listed in components xml else if resource Class is Annotation Present throw new Runtime Exception Only stateless Bs can be resources remove from configuration resource Class get Name else just be a regular lifecycle instance that can created destroyed by Easy register Plain Resource resource Class protected void register Home Query Resources Component seam Component We can always instantiate this safely here because it ca n t have dependencies Abstract Resource instance Abstract Resource seam Component new Instance String path instance get Path if path null if path starts With path path log debug registering resource configured Resource Home Query on path as Seam component seam Component get Name path Resource Factory factory new Seam Resteasy Resource Factory seam Component get Bean Class seam Component get Dispatcher get Provider Factory get Dispatcher get Registry add Resource Factory factory path else log error Unable to register resource on null path check components xml seam Component get Name protected void register Seam Component Resource Component seam Component log debug registering resource as Seam component seam Component get Name Resource Factory factory new Seam Resteasy Resource Factory seam Component get Bean Class seam Component get Dispatcher get Provider Factory get Dispatcher get Registry add Resource Factory factory protected void register Interface Seam Component Resource Component seam Component Class resource Interface log debug registering resource annotated interface as Seam component seam Component get Name resource Interface get Name Resource Factory factory new Seam Resteasy Resource Factory resource Interface seam Component get Dispatcher get Provider Factory get Dispatcher get Registry add Resource Factory factory protected void register Stateless Resource Class ejb Implementation Class String jndi Name get Jndi Name ejb Implementation Class log debug registering resource stateless implementation as Easy resource name jndi Name ejb Implementation Class get Name get Dispatcher get Registry add Jndi Resource jndi Name protected void register Plain Resource Class plain Resource Class log debug registering resource event scoped lifecycle plain Resource Class get Name get Dispatcher get Registry add Resource Factory new Resource Factory plain Resource Class protected void register Seam Component Provider Component seam Component log debug registering provider as Seam component seam Component get Name get Dispatcher get Provider Factory register Provider Instance Component get Instance seam Component get Name protected Class get Annotated Interface Class extends Annotation annotation Component seam Component Class resource Interface null for Class an Interface seam Component get Business Interfaces if an Interface is Annotation Present annotation if resource Interface null throw new Illegal State Exception Only one business interface can be annotated annotation seam Component resource Interface an Interface return resource Interface protected String get Jndi Name Class bean Class if bean Class is Annotation Present Jndi Name class return bean Class get Annotation Jndi Name class value else String jndi Pattern Init instance get Jndi Pattern if jndi Pattern null throw new Illegal Argument Exception You must specify org jboss seam core init jndi Pattern or use Jndi Name bean Class get Name return jndi Pattern replace ejb Name Seam get Ejb Name bean Class 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam resteasy import org jboss resteasy spi Http Request import org jboss resteasy spi Http Response import org jboss resteasy spi Property Injector import org jboss seam Component import org jboss seam annotations intercept Interceptor import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context Runs after Seam injection and provides Context handling required for field injection on the actual bean not proxy instance author Christian Bauer Interceptor stateless true public class Resteasy Context Injection Interceptor extends Abstract Interceptor public static final String org jboss resteasy spi Http Request public static final String org jboss resteasy spi Http Response private final Property Injector property Injector public Resteasy Context Injection Interceptor Property Injector property Injector this property Injector property Injector public Object around Invoke Invocation Context ic throws Exception Http Request request Http Request Component get Instance Http Response response Http Response Component get Instance property Injector inject request response ic get Target return ic proceed public boolean is Interceptor Enabled return true 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam resteasy import static org jboss seam annotations Install import java io Exception import java net Malformed Exception import java net import javax servlet Servlet Exception import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import javax ws rs core Http Headers import javax ws rs core Security Context import org jboss resteasy core Dispatcher import org jboss resteasy core Synchronous Dispatcher import org jboss resteasy core Thread Local Resteasy Provider Factory import org jboss resteasy plugins server servlet Http Servlet Input Message import org jboss resteasy plugins server servlet Http Servlet Response Wrapper import org jboss resteasy plugins server servlet Servlet Security Context import org jboss resteasy plugins server servlet Servlet Util import org jboss resteasy specimpl Uri Info Impl import org jboss resteasy spi Http Request import org jboss resteasy spi Http Response import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Logger import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log import org jboss seam servlet Contextual Http Servlet Request import org jboss seam web Abstract Resource import org jboss seam web Session Accepts incoming requests through the tt Seam Resource Servlet tt and dispatches the call to Easy Wraps the call in Seam contexts author Christian Bauer Scope Scope Type Name org jboss seam resteasy resource Adapter Bypass Interceptors Install precedence public class Resteasy Resource Adapter extends Abstract Resource Logger Log log protected Dispatcher dispatcher protected Application application Create public void init No injection so lookup on first request dispatcher Dispatcher Component get Instance org jboss seam resteasy dispatcher application Application Component get Instance Application class if dispatcher null throw new Illegal State Exception Reasteasy Dispatcher not available make sure Easy and all required Rs are on your classpath Override public String get Resource Path return application get Resource Path Prefix Override public void get Resource final Http Servlet Request request final Http Servlet Response response throws Servlet Exception Exception try log debug processing request As far as can tell from tracing code All this thread local stuff has no effect because the default provider factory is always used But we do it anyway just to mimic the servlet handler in Wrap in Easy thread local factory handling Thread Local Resteasy Provider Factory push dispatcher get Provider Factory Wrap in Easy contexts this also puts stuff in a thread local Seam Resteasy Provider Factory push Context Http Servlet Request class request Seam Resteasy Provider Factory push Context Http Servlet Response class response Seam Resteasy Provider Factory push Context Security Context class new Servlet Security Context request Wrap in Seam contexts new Contextual Http Servlet Request request Override public void process throws Servlet Exception Exception try Http Headers headers Servlet Util extract Http Headers request Uri Info Impl uri Info extract Uri Info request application get Resource Path Prefix Http Response the Response new Http Servlet Response Wrapper response dispatcher get Provider Factory This requires a Synchronous Dispatcher Http Request in new Http Servlet Input Message request the Response headers uri Info request get Method to Upper Case Synchronous Dispatcher dispatcher dispatcher invoke in the Response finally Prevent anemic sessions clog up the server session is New check do not close non anemic sessions established by the view layer which are reused by the requests so that the requests do not have to be re authorized if application is Destroy Session After Request request get Session is New log debug Destroying Http Session after request Session instance invalidate run finally Clean up the thread locals Seam Resteasy Provider Factory clear Context Data Thread Local Resteasy Provider Factory pop log debug completed processing of request protected Uri Info Impl extract Uri Info Http Servlet Request request String path Prefix try Append a slash if there is n t one if path Prefix starts With path Prefix path Prefix Get the full path of the current request request new request get Request to String String request Path request get Path Find the servlet mapping prefix for Easy in our case seam resource rest String mapping Prefix request Path substring request Path index Of path Prefix path Prefix length Still is context seam resource rest so cut off the context mapping Prefix mapping Prefix substring request get Context Path length log debug Using request mapping prefix mapping Prefix This is the prefix used by Easy to resolve resources and generate Is with return Servlet Util extract Uri Info request mapping Prefix catch Malformed Exception e throw new Runtime Exception e 
package org jboss seam annotations security import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Used to restrict access to a Seam component component method or entity see org jboss seam security Identity author Shane Bryzak Target Documented Retention Inherited public interface Restrict Restrictions may be expressed using any expression and usually include the use of s has Role or s has Permission If no expression is explicitly specified Seam security defaults the permission to be checked return An expression that defines the restriction to be checked String value default 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations bpm import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Marks a method as causing an existing j link org jbpm graph exe Process Instance process instance to be associated with the current conversation unless the annotated method returns a null outcome author Steve Ebersole Target Retention Documented public interface Resume Process The name of the request parameter under which we should locate the the id of process to be resumed not required for lookup by business key return a request parameter name String process Id Parameter default An expression that evaluates to the process id not required for lookup by business key return an expression String process Id default param process Id An expression that evaluates to the process business key optional only required for lookup by business key return an expression String process Key default The name of the link org jbpm graph def Process Definition optional only required for lookup by business key String definition default 
package org jboss seam web public interface Rewrite public boolean is Match public String rewrite 
package org jboss seam web import static org jboss seam Scope Type import java io Exception import java util Array List import java util Collection import java util List import javax servlet Filter Chain import javax servlet Request Dispatcher import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam Seam import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations web Filter import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Page import org jboss seam navigation Pages Scope Name org jboss seam web rewrite Filter Install precedence Install value false Bypass Interceptors Filter within org jboss seam web multipart Filter org jboss seam web authentication Filter org jboss seam web logging Filter org jboss seam web exception Filter org jboss seam web identity Filter public class Rewrite Filter extends Abstract Filter private static Log Provider log Logging get Log Provider Rewrite Filter class private String view Mapping public void do Filter Servlet Request request Servlet Response response Filter Chain chain throws Exception Servlet Exception List Pattern all Patterns get All Patterns boolean done false if request instanceof Http Servlet Request response instanceof Http Servlet Response response new Rewriting Response Http Servlet Request request Http Servlet Response response all Patterns done process Http Servlet Request request Http Servlet Response response all Patterns if done chain do Filter request response Suppress Warnings unchecked public boolean process Http Servlet Request request Http Servlet Response response List Pattern patterns throws Exception Servlet Exception String full Path request get Request log debug incoming is full Path log debug known patterns are patterns String local Path strip full Path request get Context Path Rewrite rewrite match Patterns local Path patterns if rewrite null String new Path rewrite rewrite log debug rewritten incoming path is new Path if full Path equals request get Context Path new Path Request Dispatcher dispatcher request get Request Dispatcher new Path final String wrapped Path new Path Http Servlet Request wrapped new Http Servlet Request Wrapper request Override public String get Servlet Path return wrapped Path dispatcher forward wrapped response dispatcher forward request response return true return false private Rewrite match Patterns String local Path List Pattern patterns for Pattern pattern patterns Rewrite rewrite pattern match Incoming local Path if rewrite null rewrite is Match return rewrite return null private String strip String full Path String context Path if full Path starts With context Path return full Path substring context Path length else return full Path private List Pattern get All Patterns List Pattern all Patterns new Array List Pattern Pages pages Pages get Servlet Context get Attribute Seam get Component Name Pages class if pages null Collection String ids pages get Known View Ids for String id ids Page page pages get Page id all Patterns add All page get Rewrite Patterns else log warn Pages is null for incoming request Servlet Mapping mapping new Servlet Mapping get View Mapping for Pattern pattern all Patterns pattern set View Mapping mapping return all Patterns public String get View Mapping return view Mapping null seam view Mapping public void set View Mapping String view Mapping this view Mapping view Mapping 
package org jboss seam web import java util Collection import java net import javax servlet Servlet Response import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import javax servlet http Http Servlet Response Wrapper import org jboss seam log Log Provider import org jboss seam log Logging public class Rewriting Response extends Http Servlet Response Wrapper private static Log Provider log Logging get Log Provider Rewriting Response class private Http Servlet Request request private Collection Pattern patterns public Rewriting Response Http Servlet Request request Http Servlet Response response Collection Pattern patterns super response this request request this patterns patterns Override public String encode Redirect Url String url return encode Redirect url Override public String encode Url String url return encode url Override public String encode Redirect String url String result rewrite url log debug encode Redirect url result return wrapped Encode Redirect result private String wrapped Encode Redirect String result Servlet Response response get Response if response instanceof Http Servlet Response return Http Servlet Response response encode Redirect result return result Override public String encode String url String result super encode Url rewrite url log debug encode url result return wrapped Encode result private String wrapped Encode String result Servlet Response response get Response if response instanceof Http Servlet Response return Http Servlet Response response encode Redirect result return result public boolean is Local url return url get Host equals request get Server Name public String rewrite Path String original Path String context Path request get Context Path String path original Path starts With context Path original Path substring context Path length original Path for Pattern pattern patterns Rewrite rewrite pattern match Outgoing path if rewrite null return request get Context Path rewrite rewrite return original Path public String rewrite String original Url if original Url starts With http original Url starts With https try url new original Url if is Local url new Url new url rewrite Path url get File return new Url to External Form catch Malformed Exception e ignore we simply do n t care we could log this at info debug level return rewrite Path original Url 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam Scope Type Specifies the name and scope role for a seam component role If a component has no tt Role tt annotation it has exactly one role defined by tt Name tt and tt Scope tt If it has one or more tt Role tt annotations the component has one or more roles in addition to the default role defined by tt Name tt and tt Scope tt author sar Izurieta Target Retention Documented public interface Role String name Scope Type scope default Scope Type 
package org jboss seam security management action import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java util Array List import java util List import org jboss seam annotations Begin import org jboss seam annotations In import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam core Conversation import org jboss seam security management Identity Manager Name org jboss seam security management role Action Scope Install precedence public class Role Action implements Serializable private String original Role private String role private List String groups In Identity Manager identity Manager Begin public void create Role groups new Array List String Begin public void edit Role String role this original Role role this role role groups identity Manager get Role Groups role public String save if role null original Role null role equals original Role identity Manager delete Role original Role if identity Manager role Exists role return save Existing Role else return save New Role private String save New Role boolean success identity Manager create Role role if success for String r groups identity Manager add Role To Group role r Conversation instance end return success private String save Existing Role List String granted Roles identity Manager get Role Groups role if granted Roles null for String r granted Roles if groups contains r identity Manager remove Role From Group role r for String r groups if granted Roles null granted Roles contains r identity Manager add Role To Group role r Conversation instance end return success public String get Role return role public List String get Assignable Roles List String roles identity Manager list Grantable Roles roles remove role return roles public void set Role String role this role role public List String get Groups return groups public void set Groups List String groups this groups groups 
package org jboss seam annotations security import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Meta annotation that designates an annotation as being a role requiring a security check prior to invoking the annotated method or class author Shane Bryzak Target Documented Retention Inherited public interface Role Check 
package org jboss seam annotations security management import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing whether a role is conditional or not author Shane Bryzak Target Documented Retention Inherited public interface Role Conditional 
package org jboss seam annotations security management import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the group memberships for a role author Shane Bryzak Target Documented Retention Inherited public interface Role Groups 
package org jboss seam annotations security management import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the name of a role author Shane Bryzak Target Documented Retention Inherited public interface Role Name 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Specifies the roles of a component author sar Izurieta Target Retention Documented public interface Roles Role value 
package org jboss seam security management action import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java util List import org jboss seam annotations In import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations datamodel Data Model import org jboss seam annotations datamodel Data Model Selection import org jboss seam security management Identity Manager Name org jboss seam security management role Search Scope Install precedence public class Role Search implements Serializable Data Model List String roles Data Model Selection String selected Role In Identity Manager identity Manager public void load Roles roles identity Manager list Roles public String get Role Groups String role List String roles identity Manager get Role Groups role if roles null return String Builder sb new String Builder for String r roles sb append sb length r return sb to String public String get Selected Role return selected Role 
Id Rollback Interceptor java pete muir jboss org package org jboss seam transaction import static org jboss seam Component Type import static org jboss seam util Work is Rollback Required import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context Automatically sets the current transaction to rollback only when an exception is thrown author Gavin King Interceptor stateless true public class Rollback Interceptor extends Abstract Interceptor private static final long serial Version Around Invoke public Object around Invoke Invocation Context invocation throws Exception try return invocation proceed catch Exception e if is Rollback Required e get Component get Type try Transaction instance set Rollback Only catch Exception te swallow throw e public boolean is Interceptor Enabled Just here for consistency return true 
package org jboss seam example booking import java io Serializable import java math Big Decimal import javax persistence Entity import javax persistence Id import javax persistence Generated Value import javax persistence Transient import javax validation constraints Size import org jboss seam annotations Name Entity Name room public class Room implements Serializable private Long id private String name private String description private boolean included private Big Decimal price Id Generated Value public Long get Id return id public void set Id Long id this id id Size max public String get Name return name public void set Name String name this name name Size max public String get Description return description public void set Description String description this description description public boolean is Included return included public void set Included boolean included this included included public Big Decimal get Price return price public void set Price Big Decimal price this price price Transient public Big Decimal get Price int num Nights return price multiply new Big Decimal num Nights 
package org jboss seam example booking import org jboss seam annotations Name import org jboss seam annotations Begin import org jboss seam annotations web Request Parameter import org jboss seam framework Entity Home import org jboss seam example booking Room Name room Home public class Room Home extends Entity Home Room Request Parameter private Long room Id Override public Object get Id if room Id null return super get Id else return room Id Override Begin public void create super create 
package org jboss seam example booking import org jboss seam annotations Name import org jboss seam framework Entity Query Name room List public class Room List extends Entity Query Override public String get Ejbql return select room from Room room 
package org jboss seam example booking import java math Big Decimal import javax ejb Local Local public interface Room Preference public void load Available Rooms public String select Preference public Big Decimal get Expected Price public String request Confirmation public String cancel public void destroy 
package org jboss seam example booking import java math Big Decimal import java util List import javax ejb Remove import javax ejb Stateful import org jboss seam annotations Begin import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations End import org jboss seam annotations Destroy import org jboss seam annotations Logger import org jboss seam annotations Out import org jboss seam annotations datamodel Data Model import org jboss seam annotations datamodel Data Model Selection import org jboss seam annotations security Restrict import org jboss seam log Log import org jboss seam example booking Room Stateful Name room Preference Restrict identity logged In public class Room Preference Action implements Room Preference Logger private Log log In private Hotel hotel In private Booking booking Data Model value available Rooms private List Room available Rooms Data Model Selection value available Rooms private Room room Selection In required false value room Selection Out required false value room Selection private Room room Factory available Rooms public void load Available Rooms available Rooms hotel get Available Rooms booking get Checkin Date booking get Checkout Date log info Retrieved available rooms available Rooms size public Big Decimal get Expected Price log info Retrieving price for room room Selection get Name return booking get Total room Selection Begin nested true public String select Preference log info Room selected this room this room Selection return payment public String request Confirmation all validations are performed through the s validate All so checks are already performed log info Request confirmation from user return confirm End before Redirect true public String cancel log info ending conversation return cancel Destroy Remove public void destroy 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam intercept import java io Serializable import java lang reflect Constructor import java lang reflect Method import java util List import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam Component import org jboss seam Seam import org jboss seam annotations intercept Bypass Interceptors import org jboss seam annotations intercept Interceptor Type import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam core Mutable import org jboss seam util Abstract superclass of all controller interceptors author Gavin King public class Root Interceptor implements Serializable private static final long serial Version private static final Log Provider log Logging get Log Provider Root Interceptor class private final Interceptor Type type private boolean is Seam Component private String component Name private List Object user Interceptors private transient Component component a cache of the Component reference for performance protected Root Interceptor Interceptor Type type this type type protected void init Component component is Seam Component true component Name component get Name user Interceptors component create User Interceptors type this component component protected void init Non Seam Component is Seam Component false protected void post Construct Object bean initialize the bean instance if is Seam Component try get Component initialize bean catch Runtime Exception e throw e catch Exception e throw new Runtime Exception exception initializing component e protected void invoke And Handle Invocation Context invocation Event Type invocation Type try invoke invocation invocation Type catch Runtime Exception e throw e catch Exception e throw new Runtime Exception exception in lifecycle callback e protected Object invoke Invocation Context invocation Event Type invocation Type throws Exception if is Seam Component Lifecycle is Application Initialized not a Seam component return invocation proceed else if Contexts is Event Context Active Contexts is Application Context Active not sure about the second bit only needed at init time a Seam component and Seam contexts exist return create Invocation Context invocation invocation Type proceed else if invoked outside of a set of Seam contexts set up temporary Seam and contexts just for this call Lifecycle begin Call try return create Invocation Context invocation invocation Type proceed finally Lifecycle end Call private Invocation Context create Invocation Context Invocation Context invocation Event Type event Type throws Exception if is Process Interceptors invocation get Method invocation get Target if log is Trace Enabled log trace intercepted get Interception Message invocation event Type return create Seam Invocation Context invocation event Type else if log is Trace Enabled log trace not intercepted get Interception Message invocation event Type return invocation private Seam Invocation Context create Seam Invocation Context Invocation Context invocation Event Type event Type throws Exception return create Seam Invocation Context invocation event Type create Non Seam Invocation Context invocation event Type private Seam Invocation Context create Non Seam Invocation Context Invocation Context invocation Event Type event Type return new Seam Invocation Context invocation event Type user Interceptors get Component get Interceptors type private static final Constructor static if try Class param Types Invocation Context class Event Type class List class List class Class for Name org jboss seam intercept Seam Invocation Context get Constructor param Types catch Exception e throw new Runtime Exception e else null private Seam Invocation Context create Seam Invocation Context Invocation Context invocation Event Type event Type try return Seam Invocation Context new Instance invocation event Type user Interceptors get Component get Interceptors type catch Exception e throw new Runtime Exception e private String get Interception Message Invocation Context invocation Event Type event Type return get Component get Name event Type Event Type invocation get Method get Name event Type private boolean is Process Interceptors Method method Object bean boolean res is Seam Component get Component is Interception Enabled is Bypassed method is Clear Dirty Method method bean return res private boolean is Bypassed Method method return method null method is Annotation Present Bypass Interceptors class private boolean is Clear Dirty Method Method method Object bean return bean instanceof Mutable method null method get Name equals clear Dirty method get Parameter Types length protected Component get Component if is Seam Component component null component Seam component For Name component Name return component protected boolean is Seam Component return is Seam Component protected String get Component Name return component Name 
package org jboss seam intercept import java lang reflect Method import java util Hash Map import java util Map import org jboss seam util Reflections Invocation Context for use with based interceptors author Gavin King class Root Invocation Context implements Invocation Context private final Object bean private final Method method private Object params private final Map context Data new Hash Map public Root Invocation Context Object bean Method method Object params this bean bean this method method this params params public Object proceed throws Exception method set Accessible true return Reflections invoke method bean params public Object get Target return bean public Map get Context Data return context Data public Method get Method return method public Object get Parameters return params public void set Parameters Object new Params params new Params 
package org jboss seam navigation import java util Array List import java util List import javax faces context Faces Context import org jboss seam core Events import org jboss seam core Expressions Value Expression import org jboss seam util Strings Metadata for an lt rule gt in pages xml author Gavin King public final class Rule private String outcome Value private Value Expression condition private List Output outputs new Array List Output private Conversation Control conversation Control new Conversation Control private Task Control task Control new Task Control private Process Control process Control new Process Control private List Navigation Handler navigation Handlers new Array List Navigation Handler private List String event Types new Array List String public boolean matches String actual Value return actual Value null condition null outcome Value null outcome Value equals actual Value condition null Boolean equals condition get Value public List Navigation Handler get Navigation Handlers return navigation Handlers public void add Navigation Handler Navigation Handler navigation Handler this navigation Handlers add navigation Handler public Conversation Control get Conversation Control return conversation Control public Task Control get Task Control return task Control public Process Control get Process Control return process Control public Value Expression get Condition return condition public void set Condition Value Expression expression this condition expression public String get Outcome Value return outcome Value public void set Outcome Value String value this outcome Value value public List Output get Outputs return outputs public boolean execute Faces Context context get Conversation Control begin Or End Conversation get Task Control begin Or End Task get Process Control create Or Resume Process for Output output get Outputs output out for String event Type event Types Events instance raise Event event Type for Navigation Handler nh get Navigation Handlers if nh navigate context return true return false public List String get Event Types return event Types public void add Event Type String event Type if Strings is Empty event Type event Types add event Type 
package org jboss seam drools import java io Exception import java io Input Stream import java util Properties import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam util Resources Manager component for a rule base loaded from a drools Rules Agent Scope Scope Type Bypass Interceptors public class Rule Agent private static final Log Provider log Logging get Log Provider Rule Agent class private org drools agent Rule Agent agent private String configuration File private String new Instance private String files private String url private String local Cache Dir private String poll private String config Name Create public void create Agent throws Exception Properties properties new Properties load From Path properties configuration File set Local Properties properties agent org drools agent Rule Agent new Rule Agent properties log debug Creating new rules agent protected void set Local Properties Properties properties if new Instance null properties set Property org drools agent Rule Agent new Instance if files null properties set Property org drools agent Rule Agent files if url null properties set Property org drools agent Rule Agent url if local Cache Dir null properties set Property org drools agent Rule Agent local Cache Dir if poll null properties set Property org drools agent Rule Agent poll if config Name null properties set Property org drools agent Rule Agent config Name protected void load From Path Properties properties String configuration File throws Exception if configuration File null Input Stream input Stream Resources get Resource As Stream configuration File null if input Stream null try properties load input Stream finally input Stream close Unwrap public org drools Rule Base get Rule Base return agent get Rule Base public String get New Instance return new Instance public void set New Instance String new Instance this new Instance new Instance public String get Files return files public void set Files String files this files files public String get Url return url public void set Url String url this url url public String get Local Cache Dir return local Cache Dir public void set Local Cache Dir String local Cache Dir this local Cache Dir local Cache Dir public String get Poll return poll public void set Poll String poll this poll poll public String get Config Name return config Name public void set Config Name String name this config Name name public String get Configuration File return configuration File public void set Configuration File String brms Config this configuration File brms Config 
package org jboss seam drools import java io Input Stream import java io Input Stream Reader import java io Reader import org drools Rule Base Configuration import org drools Rule Base Factory import org drools compiler Drools Error import org drools compiler Package Builder import org drools compiler Package Builder Configuration import org drools compiler Rule Build Error import org drools spi Consequence Exception Handler import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Expressions Value Expression import org jboss seam core Resource Loader import org jboss seam log Log Provider import org jboss seam log Logging Manager component for a Drools Rule Base author Gavin King author Tihomir Surdilovic Scope Scope Type Bypass Interceptors public class Rule Base private static final Log Provider log Logging get Log Provider Rule Base class private String rule Files private String dsl File private Value Expression Consequence Exception Handler consequence Exception Handler private org drools Rule Base rule Base Create public void compile Rule Base throws Exception Package Builder Configuration conf new Package Builder Configuration Package Builder builder new Package Builder conf if rule Files null for String rule File rule Files log debug parsing rules rule File Input Stream stream Resource Loader instance get Resource As Stream rule File if stream null throw new Illegal State Exception could not locate rule file rule File if is Decision Table rule File if Spreadsheet Compiler instance null builder add Package From Drl Spreadsheet Compiler instance compile stream else throw new Unsupported Operation Exception Unable to compile decision table You need drools decisiontables jar in your classpath else if is Rule Flow rule File log debug adding ruleflow rule File builder add Rule Flow new Input Stream Reader stream else read in the source Reader drl Reader new Input Stream Reader stream if dsl File null builder add Package From Drl drl Reader else Reader dsl Reader new Input Stream Reader Resource Loader instance get Resource As Stream dsl File builder add Package From Drl drl Reader dsl Reader if builder has Errors log error errors parsing rules in rule File for Drools Error error builder get Errors get Errors if error instanceof Rule Build Error Rule Build Error rule Error Rule Build Error error log error rule Error get Message rule File rule Error get Line else log error error get Message rule File if consequence Exception Handler null log debug adding consequence exception handler consequence Exception Handler get Expression String Rule Base Configuration rbconf new Rule Base Configuration rbconf set Consequence Exception Handler consequence Exception Handler get Value to String rule Base Rule Base Factory new Rule Base rbconf else rule Base Rule Base Factory new Rule Base rule Base add Package builder get Package Unwrap public org drools Rule Base get Rule Base return rule Base public String get Rule Files return rule Files public void set Rule Files String rule Files this rule Files rule Files public String get Dsl File return dsl File public void set Dsl File String dsl File this dsl File dsl File public Value Expression Consequence Exception Handler get Consequence Exception Handler return consequence Exception Handler public void set Consequence Exception Handler Value Expression Consequence Exception Handler consequence Exception Handler this consequence Exception Handler consequence Exception Handler private boolean is Decision Table String file Name return file Name null file Name length file Name ends With xls private boolean is Rule Flow String file Name support both new drools and older drools formats return file Name null file Name length file Name ends With rf file Name ends With rfm 
package org jboss seam security permission import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java security Principal import java security acl Group import java util Array List import java util Enumeration import java util Iterator import java util List import java util Set import org drools Fact Handle import org drools Rule Base import org drools Stateful Session import org drools Class Object Filter import org jboss seam Component import org jboss seam Scope Type import org jboss seam Seam import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Observer import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam drools Seam Global Resolver import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security Identity import org jboss seam security Role import org jboss seam security management Jpa Identity Store permission resolver that uses a Drools rule base to perform permission checks author Shane Bryzak Name org jboss seam security rule Based Permission Resolver Scope Bypass Interceptors Install precedence class Dependencies org drools Working Memory Startup public class Rule Based Permission Resolver implements Permission Resolver Serializable public static final String security Rules private static final Log Provider log Logging get Log Provider Rule Based Permission Resolver class private Stateful Session security Context private Rule Base security Rules Create public boolean create init Security Context return get Security Context null protected void init Security Context if get Security Rules null set Security Rules Rule Base Component get Instance true if get Security Rules null set Security Context get Security Rules new Stateful Session false get Security Context set Global Resolver new Seam Global Resolver get Security Context get Global Resolver if get Security Context null log debug no security rule base available please install a Rule Base with the name if permission checks are required Performs a permission check for the specified name and action param target Object The target of the permission check param action String The action to be performed on the target return boolean True if the user has the specified permission public boolean has Permission Object target String action Stateful Session security Context get Security Context if security Context null return false List Fact Handle handles new Array List Fact Handle Permission Check check synchronized security Context if target instanceof String target instanceof Class handles add security Context insert target else if target instanceof Class String component Name Seam get Component Name Class target target component Name null component Name Class target get Name check new Permission Check target action try synchronize Context handles add security Context insert check security Context fire All Rules finally for Fact Handle handle handles security Context retract handle return check is Granted public void filter Set By Action Set Object targets String action Iterator iter targets iterator while iter has Next Object target iter next if has Permission target action iter remove public boolean check Conditional Role String role Name Object target String action Stateful Session security Context get Security Context if security Context null return false Role Check role Check new Role Check role Name List Fact Handle handles new Array List Fact Handle Permission Check check new Permission Check target action synchronized security Context if target instanceof String target instanceof Class handles add security Context insert target else if target instanceof Class String component Name Seam get Component Name Class target target component Name null component Name Class target get Name try handles add security Context insert check Check if there are any additional requirements security Context fire All Rules if check has Requirements for String requirement check get Requirements Object value Contexts lookup In Stateful Contexts requirement if value null handles add security Context insert value synchronize Context handles add security Context insert role Check handles add security Context insert check security Context fire All Rules finally for Fact Handle handle handles security Context retract handle return role Check is Granted Suppress Warnings unchecked Observer Identity public void un Authenticate if get Security Context null get Security Context dispose set Security Context null init Security Context Synchronises the state of the security context with that of the subject private void synchronize Context Identity identity Identity instance if get Security Context null get Security Context insert identity get Principal for Group sg identity get Subject get Principals Group class if Identity equals sg get Name Enumeration e sg members while e has More Elements Principal role Principal e next Element boolean found false Iterator Role iter Iterator Role get Security Context iterate Objects new Class Object Filter Role class while iter has Next Role r iter next if r get Name equals role get Name found true break if found get Security Context insert new Role role get Name Iterator Role iter Iterator Role get Security Context iterate Objects new Class Object Filter Role class while iter has Next Role r iter next if identity has Role r get Name Fact Handle fh get Security Context get Fact Handle r get Security Context retract fh public Stateful Session get Security Context return security Context public void set Security Context Stateful Session security Context this security Context security Context public Rule Base get Security Rules return security Rules public void set Security Rules Rule Base security Rules this security Rules security Rules public static Rule Based Permission Resolver instance if Contexts is Session Context Active throw new Illegal State Exception No active session context Rule Based Permission Resolver instance Rule Based Permission Resolver Component get Instance Rule Based Permission Resolver class Scope Type if instance null throw new Illegal State Exception No Rule Based Permission Resolver could be created return instance Post authentication event observer Observer Identity public void set User Account In Security Context if get Security Context null get Security Context insert Identity instance get Principal If we were authenticated with the Jpa Identity Store then insert the authenticated User Account into the security context if Contexts is Event Context Active Contexts is Session Context Active Contexts get Event Context is Set Jpa Identity Store get Security Context insert Contexts get Event Context get Jpa Identity Store 
package org jboss seam security import java security Principal import java security acl Group import javax security auth Subject Defines a security operation that can be executed within a particular security context author Shane Bryzak public abstract class Run As Operation private Principal principal private Subject subject private boolean system Op false public Run As Operation principal new Simple Principal null subject new Subject system operation allows any security checks to pass param system Op public Run As Operation boolean system Op this this system Op system Op public abstract void execute public Principal get Principal return principal public Subject get Subject return subject public Run As Operation add Role String role for Group sg get Subject get Principals Group class if Identity equals sg get Name sg add Member new Simple Principal role break Simple Group role Group new Simple Group Identity role Group add Member new Simple Principal role get Subject get Principals add role Group return this public boolean is System Operation return system Op public void run Identity instance run As this 
package org jboss seam jmx import javax management Runtime Exception author a href mailto juha jboss org Juha Lindfors a version Revision public class Runtime Proxy Exception extends Runtime Exception private static final long serial Version Constructors public Runtime Proxy Exception super public Runtime Proxy Exception String msg super msg 
package org jboss seam navigation import static org jboss seam annotations Install import java io Buffered Reader import java io Exception import java io Input Stream import java io Input Stream Reader import java util Collections import java util Hash Set import java util Set import javax faces context Faces Context import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts Maintains a set of safe actions that may be performed by lt s link gt as determined by actually parsing the view author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam navigation safe Actions Install precedence class Dependencies javax faces context Faces Context public class Safe Actions private Set String safe Actions Collections synchronized Set new Hash Set String public static String to Action Id String view Id String expression return view Id substring expression substring expression length public static String to Action String id int loc id index Of if loc throw new Illegal Argument Exception return id substring loc public void add Safe Action String id safe Actions add id public boolean is Action Safe String id if safe Actions contains id return true int loc id index Of if loc throw new Illegal Argument Exception Invalid action method id String view Id id substring loc String action id substring loc adding slash as it otherwise wo n t find a page view Id by get Resource Input Stream is Faces Context get Current Instance get External Context get Resource As Stream view Id if is null throw new Illegal State Exception Unable to read view view Id to execute action action Buffered Reader reader new Buffered Reader new Input Stream Reader is try while reader ready if reader read Line contains action add Safe Action id return true return false catch Exception ioe throw new Runtime Exception Error parsing view view Id to execute action action ioe finally try reader close catch Exception ioe throw new Runtime Exception ioe public static Safe Actions instance if Contexts is Application Context Active throw new Illegal State Exception No active application context return Safe Actions Component get Instance Safe Actions class Scope Type 
package org jboss seam deployment import java io File The Scanner is used to find resources to be processed by Seam The processing is done by link Deployment Handler s author Pete Muir public interface Scanner Recursively scan directories skipping directories in the exclusion list param directories An array of the roots of the directory trees to scan public void scan Directories File directories Recursively scan directories skipping directories in the exclusion list param directories An array of the roots of the directory trees to scan param excluded Directories Directories to skip over during the recursive scan public void scan Directories File directories File excluded Directories Scan for structures which contain any of the given resources in their root param resources The resources to scan for public void scan Resources String resources Get the deployment strategy this scanner is used by public Deployment Strategy get Deployment Strategy public long get Timestamp 
package org jboss seam async import java io Serializable import java util Date schedule for a timed event executed by a timer service which supports delayed timed events It is the base class for the more useful Timer Schedule Nth Business Day and Cron Schedule classes author Michael Yuan public class Schedule implements Serializable private Long duration private Date expiration private Date final Expiration public Long get Duration return duration public Date get Expiration return expiration public Date get Final Expiration return final Expiration param duration the delay before the event occurs param expiration the datetime at which the event occurs public Schedule Long duration Date expiration this duration duration this expiration expiration param duration the delay before the event occurs param expiration the datetime at which the event occurs param final Expiration the datetime at which the event ends public Schedule Long duration Date expiration Date final Expiration this duration duration this expiration expiration this final Expiration final Expiration param duration the delay before the event occurs public Schedule Long duration this duration duration param expiration the datetime at which the event occurs public Schedule Date expiration this expiration expiration public Schedule Override public int hash Code final int prime int result result prime result duration null duration hash Code result prime result expiration null expiration hash Code return result Override public boolean equals Object obj if this obj return true if obj null return false if get Class obj get Class return false final Schedule other Schedule obj if duration null if other duration null return false else if duration equals other duration return false if expiration null if other expiration null return false else if expiration equals other expiration return false return true 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target import org jboss seam Scope Type Specifies the scope context of a seam component author a href mailto theute jboss org Thomas Heute a version Revision Target Retention Documented Inherited public interface Scope Scope Type value 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam import org jboss seam contexts Context import org jboss seam contexts Contexts The scopes defined by Seam author a href mailto theute jboss org Thomas Heute a public enum Scope Type The stateless pseudo context The method context Each call to a session bean or Java Bean component puts a new method context onto the stack of method contexts associated with the current thread The context is destroyed and the stack popped when the method returns The event request context Spans a server request from restore view to render response The page context Begins during the invoke application phase prior to rendering a page and lasts until the end of any invoke application phase of a faces request originating from that page Non faces requests do not propagate the page scope The conversation context Spans multiple requests from the same browser window demarcated by Begin and End methods conversation context is propagated by any faces request or by any request that specifies a conversation id as a request parameter The conversation context is not available during the restore view phase The session context servlet login session The application context Servlet context The business process context Spans multiple conversations with multiple users demarcated by the start and end states of the business process definition Indicates that the scope is implied private final String prefix private Scope Type prefix org jboss seam to String public boolean is Context Active switch this case return true case return Contexts is Method Context Active case return Contexts is Event Context Active case return Contexts is Page Context Active case return Contexts is Conversation Context Active case return Contexts is Session Context Active case return Contexts is Application Context Active case return Contexts is Business Process Context Active default throw new Illegal Argument Exception return the Context object for this scope public Context get Context switch this case throw new Unsupported Operation Exception Stateless pseudo scope does not have a Context object case if Contexts is Method Context Active throw new Illegal State Exception No method context active return Contexts get Method Context case if Contexts is Event Context Active throw new Illegal State Exception No event context active return Contexts get Event Context case if Contexts is Page Context Active throw new Illegal State Exception No page context active return Contexts get Page Context case if Contexts is Conversation Context Active throw new Illegal State Exception No conversation context active return Contexts get Conversation Context case if Contexts is Session Context Active throw new Illegal State Exception No session context active return Contexts get Session Context case if Contexts is Application Context Active throw new Illegal State Exception No application context active return Contexts get Application Context case if Contexts is Business Process Context Active throw new Illegal State Exception No process context active return Contexts get Business Process Context default throw new Illegal Argument Exception public String get Prefix return prefix 
Id Seam java dan j allen package org jboss seam import static org jboss seam Component Type import static org jboss seam Component Type import static org jboss seam Component Type import static org jboss seam Component Type import static org jboss seam Component Type import static org jboss seam Component Type import static org jboss seam util import static org jboss seam util import static org jboss seam util import static org jboss seam util import static org jboss seam util name import java io Exception import java io Input Stream import java net import java util Enumeration import java util Hash Set import java util Map import java util Set import java util concurrent Concurrent Hash Map import java util jar Attributes import java util jar Manifest import javax persistence Entity import org jboss seam annotations Name import org jboss seam annotations Role import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam init Deployment Descriptor import org jboss seam init Ejb Descriptor import org jboss seam util Strings import org jboss seam web Session Convenience methods for accessing annotated information about Seam component classes author Gavin King public class Seam private static final Map Class String new Concurrent Hash Map Class String private static final Map Class Ejb Descriptor new Concurrent Hash Map Class Ejb Descriptor private static final Set Class Loader new Hash Set Class Loader application scoped property in which the Seam version is stored public static final String org jboss seam version private static String jar Name private static String version String public static Ejb Descriptor get Ejb Descriptor Class clazz Ejb Descriptor info get clazz if info null return info else if contains clazz get Class Loader cache Ejb Descriptors clazz return get clazz return null private synchronized static void cache Ejb Descriptors Class clazz if contains clazz get Class Loader Map Class Ejb Descriptor ejb Descriptors new Deployment Descriptor clazz get Ejb Descriptors put All ejb Descriptors add clazz get Class Loader Get the default scope see Scope public static Scope Type get Component Scope Class clazz return clazz is Annotation Present Scope class clazz get Annotation Scope class value get Component Type clazz get Default Scope Get the scope for a role see Scope public static Scope Type get Component Role Scope Class clazz Role role return role scope Scope Type get Component Type clazz get Default Scope role scope Get the component type public static Component Type get Component Type Class clazz if clazz is Annotation Present return else if clazz is Annotation Present return else if clazz is Annotation Present return else if clazz is Annotation Present return else if clazz is Annotation Present Entity class return else Ejb Descriptor ejb Descriptor get Ejb Descriptor clazz if ejb Descriptor null return else return ejb Descriptor get Bean Type Get the component name see Name public static String get Component Name Class clazz String result get clazz if result null result search Component Name clazz if result null put clazz result return result public static String search Component Name Class clazz while clazz null Object class equals clazz Name name clazz get Annotation Name class if name null return name value clazz clazz get Superclass return null Get the bean class from a container generated proxy class public static Class get Entity Class Class clazz while clazz null Object class equals clazz if clazz is Annotation Present Entity class return clazz else Ejb Descriptor ejb Descriptor Seam get Ejb Descriptor clazz if ejb Descriptor null return ejb Descriptor get Bean Type Component Type clazz null else clazz clazz get Superclass return null Is the class a container generated proxy class for an entity bean public static boolean is Entity Class Class clazz return get Entity Class clazz null public static String get Ejb Name Class clazz switch get Component Type clazz case case return null case return clazz is Annotation Present get Stateful Ejb Name clazz get Ejb Name From Descriptor clazz case return clazz is Annotation Present get Stateless Ejb Name clazz get Ejb Name From Descriptor clazz case return clazz is Annotation Present get Singleton Ejb Name clazz get Ejb Name From Descriptor clazz case return clazz is Annotation Present get Message Driven Ejb Name clazz get Ejb Name From Descriptor clazz default throw new Illegal Argument Exception private static String get Message Driven Ejb Name Class clazz String md Name name clazz get Annotation return md Name equals unqualify Class Name clazz md Name private static String get Stateless Ejb Name Class clazz String stateless Name name clazz get Annotation return stateless Name equals unqualify Class Name clazz stateless Name private static String get Stateful Ejb Name Class clazz String stateful Name name clazz get Annotation return stateful Name equals unqualify Class Name clazz stateful Name private static String get Singleton Ejb Name Class clazz String singleton Name name clazz get Annotation return singleton Name equals unqualify Class Name clazz singleton Name private static String get Ejb Name From Descriptor Class clazz Ejb Descriptor ejb Descriptor get Ejb Descriptor clazz return ejb Descriptor null null ejb Descriptor get Ejb Name private static String unqualify Class Name Class clazz return Strings unqualify Strings unqualify clazz get Name public static boolean is Interception Enabled Class clazz Component Type component Type get Component Type clazz if component Type return false else if get Component Type clazz return true else if clazz is Annotation Present Bypass Interceptors class return false else return true Mark the session for invalidation at the end of the request cycle deprecated use Session instance invalidate public static void invalidate Session Session instance invalidate Is the session marked for invalidation deprecated use Session instance is Invalidated public static boolean is Session Invalid return Session instance is Invalid Get the Seam component even if no application context is associated with the current thread public static Component component For Name String name if Contexts is Application Context Active return Component for Name name else Lifecycle setup Application try return Component for Name name finally Lifecycle cleanup Application public static String get Version Package pkg Seam class get Package if pkg get Implementation Version null return pkg get Implementation Version new way of getting Manifest version string in case of module classloading for instance in Boss if version String null final Enumeration resources try resources Seam class get Class Loader get Resources while resources has More Elements version String null final url resources next Element final Input Stream stream url open Stream if stream null try final Manifest manifest new Manifest stream final Attributes main Attributes manifest get Main Attributes if main Attributes null Seam Core equals main Attributes get Value Specification Title jar Name main Attributes get Value Specification Title version String main Attributes get Value Specification Version finally try stream close catch Throwable ignored catch Exception ignored return version String public static void clear Component Name Cache clear clear 
package org jboss seam flex import java util Hash Map import java util Map import javax servlet http Http Servlet Request import org jboss seam contexts Servlet Lifecycle import org jboss seam core Conversation Propagation import org jboss seam core Manager import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam servlet Servlet Request Session Map import org jboss seam web Servlet Contexts import flex messaging Flex Context import flex messaging services remoting adapters Java Adapter import flex messaging messages Acknowledge Message import flex messaging messages Message The Seam adaptor should translate seam exceptions and do any other additional management needed public class Seam Adapter extends Java Adapter public static final String seam adapter private static final String conversation Id private static final Log Provider log Logging get Log Provider Seam Adapter class Override public Object invoke Message message log info Seam Adapter message try start Seam Contexts message Flex Context get Http Request Object result wrap Result super invoke message end Seam Contexts Flex Context get Http Request return result catch Runtime Exception e end request properly e print Stack Trace throw e protected Object wrap Result Object result Acknowledge Message response new Acknowledge Message response set Header Manager instance get Current Conversation Id response set Body result return response protected void start Seam Contexts Message message Http Servlet Request request Servlet Lifecycle begin Request request Servlet Contexts instance set Request request Map conversation Parameters conversation Map message Conversation Propagation instance restore Conversation Id conversation Parameters Manager instance restore Conversation Servlet Lifecycle resume Conversation request Manager instance handle Conversation Propagation conversation Parameters Force creation of the session if request get Session false null request get Session true protected void end Seam Contexts Http Servlet Request request Manager instance end Request new Servlet Request Session Map request Servlet Lifecycle end Request request protected Map conversation Map Message message Map result new Hash Map result put Manager instance get Conversation Id Parameter conversation Id message return result protected String conversation Id Message message if message null return null Object header message get Header return header null null header to String 
package org jboss seam jsf import java util Collection import java util Iterator import java util Locale import java util Map import java util Resource Bundle import javax el Context Listener import javax el Exception import javax el Resolver import javax el Expression Factory import javax el Value Expression import javax faces Faces Exception import javax faces application Application import javax faces application Navigation Handler import javax faces application Project Stage import javax faces application Resource import javax faces application Resource Handler import javax faces application State Manager import javax faces application View Handler import javax faces component Component import javax faces component behavior Behavior import javax faces context Faces Context import javax faces convert Converter import javax faces el Method Binding import javax faces el Property Resolver import javax faces el Reference Syntax Exception import javax faces el Value Binding import javax faces el Variable Resolver import javax faces event Action Listener import javax faces event System Event import javax faces event System Event Listener import javax faces validator Validator import org jboss seam Component import org jboss seam contexts Contexts import org jboss seam core Init import org jboss seam el Seam Expression Factory Proxies the Application object and adds all kinds of tasty extras author Gavin King Suppress Warnings deprecation public class Seam Application extends Application protected Application application public Seam Application Application application this application application public Application get Delegate return application Override public Resolver get Resolver return application get Resolver Override public void add Component String component Type String component Class application add Component component Type component Class Override public void add Converter String converter Id String converter Class application add Converter converter Id converter Class Override public void add Converter Class target Class String converter Class application add Converter target Class converter Class Override public void add Validator String validator Id String validator Class application add Validator validator Id validator Class Override public Component create Component String component Type throws Faces Exception return application create Component component Type Override public Component create Component Value Binding component Binding Faces Context context String component Type throws Faces Exception return application create Component component Binding context component Type Override public Component create Component Faces Context context String component Type String renderer Type return application create Component context component Type renderer Type Override public Component create Component Faces Context context Resource resource return application create Component context resource Override public Converter create Converter String converter Id if Contexts is Application Context Active String name Init instance get Converters get converter Id if name null return Converter Component get Instance name return application create Converter converter Id Override public Converter create Converter Class target Class Converter converter null if Contexts is Application Context Active converter new Converter Locator target Class get Converter if converter null converter application create Converter target Class return converter private class Converter Locator private Map Class String converters private Class target Class private Converter converter public Converter Locator Class target Class converters Init instance get Converters By Class this target Class target Class public Converter get Converter if converter null locate Converter target Class return converter private Converter create Converter Class clazz return Converter Component get Instance converters get clazz private void locate Converter Class clazz if converters contains Key clazz converter create Converter clazz return for Class interface clazz get Interfaces if converters contains Key interface converter create Converter interface return else locate Converter interface if converter null return Class super Class clazz get Superclass if converters contains Key super Class converter create Converter super Class return else if super Class null locate Converter super Class Override public Validator create Validator String validator Id throws Faces Exception if Contexts is Application Context Active String name Init instance get Validators get validator Id if name null return Validator Component get Instance name return application create Validator validator Id Override public Method Binding create Method Binding String expression Class params throws Reference Syntax Exception return new Unified Method Binding expression params Override public Value Binding create Value Binding String expression throws Reference Syntax Exception return new Unified Value Binding expression Override public Action Listener get Action Listener return application get Action Listener Override public Iterator get Component Types return application get Component Types Override public Iterator get Converter Ids return application get Converter Ids Override public Iterator get Converter Types return application get Component Types Override public Locale get Default Locale return application get Default Locale Override public String get Default Render Kit Id return application get Default Render Kit Id Override public String get Message Bundle return application get Message Bundle obsolete now handled by faces config xml String message Bundle application get Message Bundle if message Bundle null return message Bundle else return org jboss seam core Seam Resource Bundle Override public Navigation Handler get Navigation Handler return application get Navigation Handler Override public Property Resolver get Property Resolver return application get Property Resolver Override public State Manager get State Manager return application get State Manager Override public Iterator get Supported Locales return application get Supported Locales Override public Iterator get Validator Ids return application get Validator Ids Override public Variable Resolver get Variable Resolver return application get Variable Resolver Override public View Handler get View Handler return application get View Handler Override public void set Action Listener Action Listener listener application set Action Listener listener Override public void set Default Locale Locale locale application set Default Locale locale Override public void set Default Render Kit Id String render Kit Id application set Default Render Kit Id render Kit Id Override public void set Message Bundle String bundle application set Message Bundle bundle Override public void set Navigation Handler Navigation Handler handler application set Navigation Handler handler Override public void set Property Resolver Property Resolver resolver application set Property Resolver resolver Override public void set State Manager State Manager manager application set State Manager manager Override public void set Supported Locales Collection locales application set Supported Locales locales Override public void set Variable Resolver Variable Resolver resolver application set Variable Resolver resolver Override public void set View Handler View Handler handler application set View Handler handler Override public void add Context Listener Context Listener elcl application add Context Listener elcl Override public void add Resolver Resolver elr application add Resolver elr Override public Component create Component Value Expression ve Faces Context fc String id throws Faces Exception return application create Component ve fc id Override public Object evaluate Expression Get Faces Context ctx String expr Class type throws Exception return get Expression Factory create Value Expression ctx get Context expr type get Value ctx get Context Override public Context Listener get Context Listeners return application get Context Listeners Override public Expression Factory get Expression Factory Boss return Seam Expression Factory Override public Resource Bundle get Resource Bundle Faces Context fc String name return application get Resource Bundle fc name Override public void remove Context Listener Context Listener elcl application remove Context Listener elcl Override public String to String return application to String Override public void publish Event Faces Context context Class extends System Event system Event Class Object source application publish Event context system Event Class source Override public void publish Event Faces Context context Class extends System Event system Event Class Class source Base Type Object source application publish Event context system Event Class source Base Type source non Javadoc see javax faces application Application create Behavior java lang String Override public Behavior create Behavior String behavior Id throws Faces Exception return application create Behavior behavior Id non Javadoc see javax faces application Application get Behavior Ids Override public Iterator String get Behavior Ids return application get Behavior Ids non Javadoc see javax faces application Application get Resource Handler Override public Resource Handler get Resource Handler return application get Resource Handler non Javadoc see javax faces application Application set Resource Handler javax faces application Resource Handler Override public void set Resource Handler Resource Handler resource Handler application set Resource Handler resource Handler non Javadoc see javax faces application Application get Project Stage Override public Project Stage get Project Stage return application get Project Stage non Javadoc see javax faces application Application add Behavior java lang String java lang String Override public void add Behavior String behavior Id String behavior Class application add Behavior behavior Id behavior Class non Javadoc see javax faces application Application create Component javax el Value Expression javax faces context Faces Context java lang String java lang String Override public Component create Component Value Expression component Expression Faces Context context String component Type String renderer Type return application create Component component Expression context component Type renderer Type non Javadoc see javax faces application Application add Default Validator Id java lang String Override public void add Default Validator Id String validator Id application add Default Validator Id validator Id non Javadoc see javax faces application Application get Default Validator Info Override public Map String String get Default Validator Info return application get Default Validator Info non Javadoc see javax faces application Application subscribe To Event java lang Class java lang Class javax faces event System Event Listener Override public void subscribe To Event Class extends System Event system Event Class Class source Class System Event Listener listener application subscribe To Event system Event Class source Class listener non Javadoc see javax faces application Application subscribe To Event java lang Class javax faces event System Event Listener Override public void subscribe To Event Class extends System Event system Event Class System Event Listener listener application subscribe To Event system Event Class listener non Javadoc see javax faces application Application unsubscribe From Event java lang Class java lang Class javax faces event System Event Listener Override public void unsubscribe From Event Class extends System Event system Event Class Class source Class System Event Listener listener application unsubscribe From Event system Event Class source Class listener non Javadoc see javax faces application Application unsubscribe From Event java lang Class javax faces event System Event Listener Override public void unsubscribe From Event Class extends System Event system Event Class System Event Listener listener application unsubscribe From Event system Event Class listener 
package org jboss seam jsf import javax faces application Application import javax faces application Application Factory Factory for Seam Application how could you possibly have figured that out without Java Doc see Seam Application author Gavin King public class Seam Application Factory extends Application Factory private final Application Factory delegate public Seam Application Factory Application Factory af delegate af Override public Application get Application return new Seam Application delegate get Application Override public void set Application Application application delegate set Application application 
package org jboss seam wicket import org apache wicket Component import org apache wicket Page import org apache wicket Restart Response At Intercept Page Exception import org apache wicket authorization Action import org apache wicket authorization Authorization Strategy import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security Not Logged In Exception An authorization strategy for Wicket backed by Seam Security author pmuir public class Seam Authorization Strategy implements Authorization Strategy private Log Provider log Logging get Log Provider Seam Authorization Strategy class private Class login Page Create the strategy specifying the page to use for login param login Page public Seam Authorization Strategy final Class login Page this login Page login Page Use permission schemes for this public boolean is Action Authorized Component component Action action return is Instantiation Authorized component get Class Check whether access is allowed to the given wicket component Uses the Restrict annotation to control access public boolean is Instantiation Authorized Class component Class try Wicket Component instance Wicket Component get Instance component Class if instance null instance check Restrictions catch Not Logged In Exception e log error Unauthorized access to component Class get Name user not logged in e return handle Exception component Class catch org jboss seam security Authorization Exception e return false return true private boolean handle Exception Class component Class if Page class is Assignable From component Class Redirect to page to let the user sign in throw new Restart Response At Intercept Page Exception login Page return false 
package org jboss seam servlet import javax servlet Filter Config import javax servlet Servlet Exception import org jboss seam web Character Encoding Filter servlet filter that lets you set the character encoding of submitted data There are two init parameters encoding and override Client deprecated use Character Encoding Filter author Gavin King public class Seam Character Encoding Filter extends Character Encoding Filter Override public void init Filter Config config throws Servlet Exception super init config set Encoding config get Init Parameter encoding set Override Client Boolean parse Boolean config get Init Parameter override Client 
package org jboss seam trinidad import java util Array List import java util List import java util regex Pattern import org apache myfaces trinidad model Collection Model import org apache myfaces trinidad model Sort Criterion import org jboss seam framework Query import org jboss seam util Strings Abstract base class for an Apache Trinidad Collection Model Implementing classes need to provide conversion between the current row index and a key for the unchanging row Using row Index when backing the Collection Model with a Query is not possible as sorting and paging alters the row Index outside the control of the Collection Model author pmuir public abstract class Seam Collection Model extends Collection Model private static final Pattern Pattern compile private static final Pattern Pattern compile s private Object row Key private int row Index private List Sort Criterion criteria Override public Object get Wrapped Data return get Wrapped List public void refresh get Query refresh Override public int get Row Count return get Query get Result Count int Value Override public void set Wrapped Data Object arg throw new Unsupported Operation Exception Immutable Data Model protected List get Wrapped List return get Query get Result List protected abstract Query get Query Override public boolean is Sortable String property return true Override public List Sort Criterion get Sort Criteria if criteria null criteria as Criteria get Query get Order return criteria Override public void set Sort Criteria List Sort Criterion criteria if criteria null criteria equals get Sort Criteria get Query set Order as Ql criteria this criteria criteria Override public void set Row Index int row Index this row Index row Index row Key null Override public int get Row Index return row Index Override public Object get Row Data We can attempt to do lazy loading if get Query get Max Results null boolean refresh false Lazy load data refresh page if refresh refresh return get Wrapped List get get Row Index get First Result else return get Wrapped List get get Row Index private boolean page if get Row Index get First Result while get Row Index get First Result get Query previous return true else if get Row Index get Query get Next First Result while get Row Index get Query get Next First Result get Query next return true else return false protected int get First Result if get Query get First Result null get Query set First Result return get Query get First Result Override public boolean is Row Available return get Row Index get Row Index get Row Count public static String as Ql List Sort Criterion criteria if criteria null criteria size String Buffer sb new String Buffer boolean first true for Sort Criterion sort Criterion criteria if first first false else sb append sb append sort Criterion get Property append sort Criterion is Ascending return sb to String return null public static List Sort Criterion as Criteria String sql if Strings is Empty sql String tokens split sql trim List Sort Criterion criteria new Array List Sort Criterion tokens length for int i i tokens length i String terms split tokens i trim Sort Criterion sort Criterion new Sort Criterion terms terms length false equals Ignore Case terms criteria add i sort Criterion return criteria return new Array List Sort Criterion 
package org jboss seam ioc spring import org jboss seam Component import org springframework beans Beans Exception import org springframework beans factory Factory Bean import org springframework beans factory Object Factory import org springframework beans factory config Bean Post Processor import org springframework core Ordered Intercepts when spring attempts to obtain an instance of a bean If the bean is a seam component then we retrieve the bean from seam to ensure it gets wrapped and managed by seam as well This post processor must have a lower precedence than any spring autoproxy creators author youngm public class Seam Component Post Processor implements Bean Post Processor Ordered private int order Ordered see org springframework beans factory config Bean Post Processor post Process After Initialization java lang Object java lang String public Object post Process After Initialization final Object bean String bean Name throws Beans Exception Check to see if this bean is a component Spring Component component Spring Component for Spring Bean Name bean Name Not a spring component skip if component null return bean If this bean is a Factory Bean only request the bean from Seam if the component is a Factory Bean as well The object created by the factory should come along later if bean instanceof Factory Bean Factory Bean class is Assignable From component get Bean Class return bean Wrap our bean instance in an object factory for the Spring Component to use Spring Component set Object Factory new Object Factory public Object get Object throws Beans Exception return bean Return the seam instance return Component get Instance bean Name component get Scope see org springframework beans factory config Bean Post Processor post Process Before Initialization java lang Object java lang String public Object post Process Before Initialization Object bean String bean Name throws Beans Exception return bean This post processor must run after any spring Auto Proxy Creator see org springframework core Ordered get Order public int get Order return order param order the order to set public void set Order int order this order order 
package org jboss seam debug jsf import java io Exception import java io Writer import javax faces application State Manager import javax faces context Faces Context import javax faces event Phase Event import javax faces event Phase Id import javax faces event Phase Listener import org jboss seam contexts Faces Lifecycle import org jboss seam navigation Pages import com sun facelets State Writer Control Intercepts any request for a view id like debug xxx and renders the Seam debug page using facelets author Gavin King public class Seam Debug Phase Listener implements Phase Listener private static final String facelets public void before Phase Phase Event event Faces Lifecycle set Phase Id event get Phase Id since this gets called before Seam Phase Listener if Pages is Debug Page try Faces Context faces Context Faces Context get Current Instance url Seam Debug Phase Listener class get Class Loader get Resource resources debug xhtml Resource Resolver resolver new Resource Resolver Override public resolve Url String path return Seam Debug Phase Listener class get Class Loader get Resource path Facelet f new Default Facelet Factory new Compiler resolver null get Facelet url View Root view Root faces Context get View Root f apply faces Context view Root Http Servlet Response response Http Servlet Response faces Context get External Context get Response response set Character Encoding response set Content Type text html Response Writer original Writer faces Context get Render Kit create Response Writer response get Writer text html State Writer Control initialize original Writer Response Writer writer State Writer Control create Clone original Writer faces Context set Response Writer writer writer start Document view Root encode All faces Context writer end Document writer close write State faces Context original Writer original Writer flush faces Context response Complete catch Exception ioe throw new Runtime Exception ioe public void after Phase Phase Event event public Phase Id get Phase Id return Phase Id private void write State Faces Context faces Context Writer writer throws Exception try if State Writer Control is State Written String content State Writer Control get And Reset Buffer int end content index Of if end State Manager state Mgr faces Context get Application get State Manager Object state Obj state Mgr save View faces Context String state Str if state Obj null state Str null else state Mgr write State faces Context state Obj state Str State Writer Control get And Reset Buffer int start while end writer write content start end start if state Str null writer write state Str start end length end content index Of start writer write content start content length start else writer write content finally State Writer Control release 
package org jboss seam deployment import static org jboss seam util Strings split import java io Exception import java io Input Stream import java net import java util Array List import java util Enumeration import java util List import java util Properties import org jboss seam util Enumeration Enumeration public class Seam Deployment Properties private Class Loader class Loader private Enumeration url Enum public Seam Deployment Properties Class Loader class Loader this class Loader class Loader The resource bundle used to control Seam deployment public static final String seam deployment properties All resource bundles to use including legacy names private static final String seam scanner properties Get a list of possible values for a given key First System properties are tried followed by the specified resource bundle first in classpath only Colon deliminated lists are split out public List String get Property Values String key List String values new Array List String add Properties From System key values add Properties From Resource Bundle key values return values private void add Properties From System String key List String values add Property key System get Property key values private void add Properties From Resource Bundle String key List String values try while get Resources has More Elements url get Resources next Element Properties properties new Properties Input Stream property Stream url open Stream try properties load property Stream add Property key properties get Property key values finally if property Stream null property Stream close catch Exception e No op file is optional Add the property to the set of properties only if it has n t already been added private void add Property String key String value List String values if value null String properties split value for String property properties values add property private Enumeration get Resources throws Exception if url Enum null Enumeration enumerations new Enumeration length for int i i length i enumerations i class Loader get Resources i url Enum new Enumeration Enumeration enumerations return url Enum 
package org jboss seam el import org jboss seam util import java util Collection import java util Iterator import java util Map import javax el Context import javax el Resolver import org jboss seam Namespace import org jboss seam contexts Context import org jboss seam contexts Contexts import org jboss seam core Init Resolves Seam components and namespaces Also allows the use of data Model size data Model empty collection size map size map values map key Set and map entry Set Also allows session Context name author Gavin King public class Seam Resolver extends Resolver Override public Class get Common Property Type Context context Object base return null Override public Iterator get Feature Descriptors Context context Object base return null Override public Class get Type Context context Object base Object property return null Override public Object get Value Context context Object base Object property if base null return resolve Base context property else if base instanceof Namespace return resolve In Namespace context Namespace base property else if is Instance base return resolve In Data Model context base property else if base instanceof Collection return resolve In Collection context Collection base property else if base instanceof Map return resolve In Map context Map base property else if base instanceof Context return resolve In Context Object context Context base property else return null private Object resolve In Context Object Context context Context seam Context Object property if seam Context is Set String property context set Property Resolved true return seam Context get String property else return null private boolean contains Key Map map String key try return map contains Key key catch Unsupported Operation Exception e eat it return false private Object resolve In Map Context context Map map Object property if size equals property contains Key map size context set Property Resolved true return map size else if values equals property contains Key map values context set Property Resolved true return map values else if key Set equals property contains Key map key Set context set Property Resolved true return map key Set else if entry Set equals property contains Key map entry Set context set Property Resolved true return map entry Set else return null private Object resolve In Collection Context context Collection collection Object property if size equals property context set Property Resolved true return collection size else return null private Object resolve In Data Model Context context Object base Object property if size equals property context set Property Resolved true return get Row Count base else if empty equals property context set Property Resolved true return get Row Count base else return null private Object resolve Base Context context Object property if Contexts is Application Context Active if no Seam contexts bypass straight through to return null String key String property Init init Init instance look for a component in the root namespace Object result init get Root Namespace get Component Instance key if result null context set Property Resolved true return result else look for a component in the imported namespaces for Namespace ns init get Global Imports result ns get Component Instance key if result null context set Property Resolved true return result look for a namespace Namespace namespace init get Root Namespace get Child key if namespace null context set Property Resolved true return namespace private Object resolve In Namespace Context context Namespace namespace Object property Object result namespace get String property if the result is null it means that there is no component instance bound to this qualified name context set Property Resolved true return result Override public boolean is Read Only Context context Object base Object property return base null is Instance base base instanceof Collection base instanceof Map Override public void set Value Context context Object base Object property Object value 
package org jboss seam wicket import org apache wicket Abort Exception import org apache wicket Component import org apache wicket Page import org apache wicket Request Cycle import org apache wicket application Component On Before Render Listener import org jboss seam core Manager import org jboss seam international Status Message import org jboss seam international Status Messages listener registered by Seam Web Application which ensures that a long running conversation exists when a page annotated with No Conversation Page is rendered public class Seam Enforce Conversation Listener implements Component On Before Render Listener public void on Before Render Component component if Manager instance is Long Running Conversation Wicket Component wicket Component Wicket Component get Instance component get Class if wicket Component null Class extends Page no Conversation Page wicket Component get No Conversation Page if no Conversation Page null final Request Cycle cycle Request Cycle get Status Messages instance add From Resource Bundle Or Default Status Message Severity org jboss seam No Conversation The conversation ended or timed cycle redirect To cycle get Session get Page Factory new Page no Conversation Page throw new Abort Exception 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam servlet import org jboss seam web Exception Filter As a last line of defence rollback uncommitted transactions at the very end of the request deprecated use Exception Filter author Gavin King public class Seam Exception Filter extends Exception Filter 
package org jboss seam bpm import java lang reflect Method import java util Array List import java util List import javax el Composite Resolver import javax el Context import javax el Method Expression import javax el Method Not Found Exception import javax el Property Not Found Exception import javax el Value Expression import org jboss seam el import org jboss seam el Seam Function Mapper import org jboss seam log Log Provider import org jboss seam log Logging import org jbpm jpdl el Exception import org jbpm jpdl el Expression import org jbpm jpdl el Expression Evaluator import org jbpm jpdl el Function Mapper import org jbpm jpdl el Variable Resolver Plugs the Boss expression language and Seam resolvers into j Note that this current implementation does not allow j to see stuff defined only by the Resolvers author Gavin King author Pete Muir public class Seam Expression Evaluator extends Expression Evaluator private static Log Provider log Logging get Log Provider Seam Expression Evaluator class Override public Object evaluate String expression Class return Type final Variable Resolver resolver Function Mapper mapper throws Exception return create Expression expression return Type mapper evaluate resolver Override public Expression parse Expression final String expression final Class return Type Function Mapper mapper throws Exception return create Expression expression return Type mapper private static Expression create Expression final String expression final Class return Type final Function Mapper mapper return new Expression private Context el Context create Context private Method Expression me private Value Expression ve private void init Method Expression if me null ve null me create Method Expression el Context expression return Type new Class private void init Value Expression if me null ve null ve create Value Expression el Context expression return Type Override public Object evaluate Variable Resolver resolver throws Exception List javax el Exception exceptions new Array List javax el Exception try init Method Expression if me null try return me invoke create Context resolver mapper new Object catch Method Not Found Exception e exceptions add e catch javax el Exception e exceptions add e try init Value Expression if ve null try return ve get Value create Context resolver mapper catch Property Not Found Exception e exceptions add e catch javax el Exception e exceptions add e if exceptions size throw new Exception Error evaluating expression exceptions get else if exceptions size log debug Exceptions occurred when parsing expression for javax el Exception e exceptions log debug Possible cause e if me null ve null log debug Error parsing expression throw new Exception Error parsing expression not a valid expression throw new Exception Error evaluating expression possible causes are logged at debug level private static javax el Function Mapper decorate Function Mapper final Function Mapper function Mapper return new Seam Function Mapper new javax el Function Mapper Override public Method resolve Function String prefix String local Name return function Mapper resolve Function prefix local Name private static Context create Context Variable Resolver resolver Function Mapper function Mapper Composite Resolver composite new Composite Resolver composite add composite add new Jbpm Resolver resolver return create Context composite decorate Function Mapper function Mapper 
Boss Home of Professional Open Source Copyright Boss Inc and individual contributors as indicated by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam el import javax el Context import javax el Expression Factory import javax el Method Expression import javax el Value Expression import org jboss el lang Evaluation Context import org jboss seam util Allows action listener methods to not declare the totally useless Action Event parameter if they do n t want to author Gavin King public class Seam Expression Factory extends Expression Factory public static final Expression Factory new Seam Expression Factory private static final Class private final Expression Factory expression Factory Seam Expression Factory Expression Factory expression Factory this expression Factory expression Factory Wrap the base Context adding Seam s Function Mapper Thus any expressions with s has Role s has Permission must be evaluated either via Facelets since they are declared in the tld taglib xml or via the Expressions component param context the Context private static Evaluation Context decorate Context Context context return new Evaluation Context context new Seam Function Mapper context get Function Mapper context get Variable Mapper Override public Object coerce To Type Object obj Class target Type return expression Factory coerce To Type obj target Type Override public Method Expression create Method Expression Context el Context String expression Class return Type Class param Types if param Types length is Assignable From param Types return new Optional Parameter Method Expression expression Factory create Method Expression decorate Context el Context expression return Type param Types expression Factory create Method Expression decorate Context el Context expression return Type else return expression Factory create Method Expression decorate Context el Context expression return Type param Types Override public Value Expression create Value Expression Object instance Class expected Type return expression Factory create Value Expression instance expected Type Override public Value Expression create Value Expression Context el Context String expression Class expected Type return expression Factory create Value Expression decorate Context el Context expression expected Type 
package org jboss seam ioc spring import java util List import org jboss seam Scope Type import org springframework aop framework Default Aop Proxy Factory import org springframework aop framework Proxy Factory import org springframework beans factory Initializing Bean import org springframework beans factory config Abstract Factory Bean Obtains an instance of a Seam Component in the current context given the name and other optional parameters If proxy is set to true then return a scoped proxy of the seam component instance Use lt seam instance gt to simplify use of this factory author youngm public class Seam Factory Bean extends Abstract Factory Bean implements Initializing Bean private Scope Type scope private String name private Boolean create private Seam Target Source target Source private Object proxy Instance private Class type private boolean proxy false Initializes the factory If proxy true then initialize the proxy see org springframework beans factory config Abstract Factory Bean after Properties Set Override public void after Properties Set throws Exception if name null throw new Illegal Argument Exception name must not be null If we re creating a proxy then we want this to be a singleton set Singleton proxy this target Source new Seam Target Source name scope create type if proxy Class target Class target Source get Target Class if target Class null throw new Illegal State Exception Can not use proxy for an expression without specifying a type Not sure if should allow people to change these proxy parameters or not We ll see what issues we get hard coding them Proxy Factory pf new Proxy Factory pf set Proxy Target Class true pf set Optimize true pf set Expose Proxy false pf set Frozen true pf set Aop Proxy Factory new Default Aop Proxy Factory pf set Target Source this target Source List Class interfaces target Source get Seam Interfaces For some reason the target Class can not be an interface if target Class is Interface interfaces add target Class pf set Interfaces interfaces to Array new Class interfaces size this proxy Instance pf get Proxy Thread current Thread get Context Class Loader super after Properties Set Return the current instance of a Seam component or the proxy if proxy was set to true see org springframework beans factory config Abstract Factory Bean create Instance Override protected Object create Instance throws Exception if proxy return proxy Instance else return target Source get Target Return the type of the component if available throws Illegal State Exception if the component can not be found or if seam has not yet been initialized see org springframework beans factory config Abstract Factory Bean get Object Type Override public Class get Object Type Incase spring calls get Object Type without calling after Properties Set if target Source null return null return target Source get Target Class The name of the seam component to get an instance of required param name the name of the component public void set Name String name this name name The scope of the seam component optional param scope the scope of the component public void set Scope Scope Type scope this scope scope Should the factory create an instance of the component if one does n t already exist in this context If null Must always be true for components param create do we create an instance if needed public void set Create Boolean create this create create Should the factory wrap the component instance in a proxy so the seam component can be safely injected into a singleton param proxy true to proxy the component public void set Proxy boolean proxy this proxy proxy Forces type of a proxy created Useful when using where the type of the object may not be available at Proxy creation time param type public void set Type Class type this type type 
package org jboss seam web deprecated use org jboss seam servlet Seam Filter author Shane Bryzak public class Seam Filter extends org jboss seam servlet Seam Filter 
package org jboss seam flex import java io Input Stream import javax servlet Servlet Config import org jboss seam util Resources import flex messaging config Flex Configuration Manager import flex messaging config Servlet Resource Resolver public class Seam Flex Configuration Manager extends Flex Configuration Manager private static final String flex services config xml private static final String flex seam default services config xml Override protected void setup Configuration Path And Resolver final Servlet Config config configuration Path if Resources get Resource config get Servlet Context null configuration Path configuration Resolver new Servlet Resource Resolver config get Servlet Context Override public Input Stream get Configuration File String path return Resources get Resource As Stream path config get Servlet Context 
package org jboss seam el import java lang reflect Method import java util Array List import java util Hash Map import java util List import java util Map import javax el Function Mapper import org jboss el lang Extended Function Mapper import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security Security Functions Resolves Seam Security functions s has Role and s has Permission by decorating a delegate Unified Function Mapper author Shane Bryzak public class Seam Function Mapper extends Extended Function Mapper private static Map String List Method method Cache new Hash Map String List Method private static final Log Provider log Logging get Log Provider Seam Function Mapper class private Function Mapper function Mapper public Seam Function Mapper Function Mapper function Mapper this function Mapper function Mapper static cache Method has Permission Security Functions class has Permission new Class String class String class Object class cache Method has Permission Security Functions class has Permission new Class Object class String class cache Method has Role Security Functions class has Role new Class String class Override public Method resolve Function String prefix String local Name if s equals prefix List Method methods method Cache get local Name return methods null methods get null else if function Mapper null return function Mapper resolve Function prefix local Name else return null Override public Method resolve Function String prefix String local Name int param Count if s equals prefix List Method methods method Cache get local Name if methods null for Method m methods if m get Parameter Types length param Count return m return null else if function Mapper null return function Mapper resolve Function prefix local Name else return null private static void cache Method String local Name Class cls String name Class params try Method m cls get Method name params List Method methods if method Cache contains Key local Name methods method Cache get local Name else methods new Array List Method method Cache put local Name methods methods add m catch No Such Method Exception ex log warn String format Method s s could not be cached cls get Name name 
package org jboss seam maven helper import java io File import java io File Not Found Exception import org apache maven plugin Abstract Mojo import org apache maven plugin Mojo Execution Exception Goal which appends validator and converter custom tag file into face goal execute phase generate sources author Rafael Benevides https community jboss org people rafabene author Marek Novotny https community jboss org people mana public class Seam Generator Validator And Converters Mojo extends Abstract Mojo The source directories containing the sources to be compiled parameter expression project build source Directory required readonly protected String source Directory Output directory for processed resources parameter expression project build directory required private String target Directory private Converter Generator converter Generator private Validator Generator validator Generator public void execute throws Mojo Execution Exception converter Generator new Converter Generator source Directory target Directory get Log validator Generator new Validator Generator target Directory get Log try File source Folder new File source Directory get Log info Source Folder source Folder visit Folder source Folder converter Generator generate Converters visit Folder new File source Folder get Parent config component validator Generator generate Validators catch Exception e throw new Mojo Execution Exception Error on Generator e private void visit Folder File source Folder throws File Not Found Exception for File file source Folder list Files if file is Directory visit Folder file else converter Generator add File file validator Generator add File file 
package org jboss seam drools import org drools spi Global Resolver import org jboss seam Component import org jboss seam contexts Contexts import org jboss seam core Init Resolves Seam context variables as Drools globals author Gavin King public class Seam Global Resolver implements Global Resolver private Global Resolver delegate public Seam Global Resolver Global Resolver delegate this delegate delegate public void set Global String name Object value is this the right thing to do or Contexts get Conversation Context set name value delegate set Global name value public Object resolve Global String name if Contexts is Application Context Active return delegate resolve Global name else Object instance Component get Instance name if instance null instance delegate resolve Global name return instance null Init instance get Root Namespace get Child name instance else return instance 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam ejb import org jboss seam intercept Session Bean Interceptor Controller interceptor for server side interceptors of session bean components author Gavin King public class Seam Interceptor extends Session Bean Interceptor private static final long serial Version 
Id Seam Invocation Context java gavin package org jboss seam intercept import java lang reflect Method import java util List import java util Map Adapts from interception to Seam component interceptors author Gavin King class Seam Invocation Context implements Invocation Context private final Event Type event Type private final Invocation Context context private final List Interceptor interceptors private final List Object user Interceptors int location public Seam Invocation Context Invocation Context context Event Type type List Object user Interceptors List Interceptor interceptors this context context this interceptors interceptors this user Interceptors user Interceptors this event Type type public Object get Target return context get Target public Map get Context Data return context get Context Data public Method get Method return context get Method public Object get Parameters return context get Parameters public Object proceed throws Exception if location interceptors size return context proceed else Object user Interceptor user Interceptors get location Interceptor interceptor interceptors get location location switch event Type case if interceptor is Optimized return Optimized Interceptor user Interceptor around Invoke this else return interceptor around Invoke this user Interceptor case return interceptor around Timeout this user Interceptor case return interceptor post Construct this user Interceptor case return interceptor pre Destroy this user Interceptor case return interceptor pre Passivate this user Interceptor case return interceptor post Activate this user Interceptor default throw new Illegal Argument Exception no Invocation Type public void set Parameters Object params context set Parameters params 
package org jboss seam ioc spring import org jboss seam Scope Type import org jboss seam contexts Lifecycle import org jboss seam log Log Provider import org jboss seam log Logging import org springframework transaction support Transaction Synchronization Adapter import org springframework transaction support Transaction Synchronization Manager Utility Class for managing a spring Transactional Seam lifecycle author Mike Youngstrom public class Seam Lifecycle Utils private static final Log Provider log Logging get Log Provider Seam Lifecycle Utils class Ensure Seam lifecycle Synchronization happens last public static final int Integer Starts a Seam Call if one is not available and if executing within a Spring Transaction public static void begin Transactional Seam Call if Scope Type is Context Active log debug Application available Wo n t start a new call return if Transaction Synchronization Manager is Synchronization Active Transaction Synchronization Manager register Synchronization new Seam Lifecycle Synchronization log debug Beginning Transactional Seam Call Lifecycle begin Call return throw new Illegal State Exception Seam application context not available and can not be started Seam Managed Persistence Context not available Try placing the spring bean call inside of a spring transaction or try making the spring bean a Seam Component using seam component Callback for resource cleanup at the end of a transaction where a Seam Lifecycle was created see org springframework transaction jta Jta Transaction Manager private static class Seam Lifecycle Synchronization extends Transaction Synchronization Adapter Override public int get Order return Override public void after Completion int status Close the seam call we started if it is still active if Scope Type is Context Active log debug Ending Transactional Seam Call Lifecycle end Call else log warn Spring started a transactional Seam call but somebody else closed before it before the transaction committed 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam servlet import javax servlet Servlet Context Event import javax servlet Servlet Context Listener import javax servlet http Http Session Event import javax servlet http Http Session Listener import org jboss seam Seam import org jboss seam contexts Servlet Lifecycle import org jboss seam init Initialization import org jboss seam jmx Boss Cluster Monitor import org jboss seam log Log Provider import org jboss seam log Logging Drives certain Seam functionality such as initialization and cleanup of application and session contexts from the web application lifecycle author Gavin King public class Seam Listener implements Servlet Context Listener Http Session Listener private static final Log Provider log Logging get Log Provider Servlet Context Listener class public void context Initialized Servlet Context Event event log info Welcome to Seam Seam get Version event get Servlet Context set Attribute Seam Seam get Version Servlet Lifecycle begin Application event get Servlet Context new Initialization event get Servlet Context create init public void context Destroyed Servlet Context Event event Servlet Lifecycle end Application event get Servlet Context public void session Created Http Session Event event Servlet Lifecycle begin Session event get Session public void session Destroyed Http Session Event event Boss Cluster Monitor monitor Boss Cluster Monitor get Instance event get Session get Servlet Context if monitor null monitor failover If application is unfarmed or all nodes shutdown simultaneously cluster cache may still fail to retrieve Bs to destroy log debug Detected fail over not destroying session context else Servlet Lifecycle end Session event get Session 
package org jboss seam security jaas import static org jboss seam security Identity import java security acl Group import java util Hash Set import java util Map import java util Set import javax security auth Subject import javax security auth callback Callback import javax security auth callback Callback Handler import javax security auth callback Name Callback import javax security auth callback Password Callback import javax security auth login Login Exception import javax security auth spi Login Module import org jboss seam core Expressions Method Expression import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security Identity import org jboss seam security Simple Group import org jboss seam security Simple Principal import org jboss seam security management Identity Manager Performs authentication using a Seam component author Shane Bryzak public class Seam Login Module implements Login Module private static final Log Provider log Logging get Log Provider Seam Login Module class protected Set String roles new Hash Set String protected Subject subject protected Map String options protected Callback Handler callback Handler protected String username public boolean abort throws Login Exception return true public boolean commit throws Login Exception subject get Principals add new Simple Principal username Group role Group null for Group g subject get Principals Group class if equals Ignore Case g get Name role Group g break if role Group null role Group new Simple Group for String role roles role Group add Member new Simple Principal role subject get Principals add role Group return true public void initialize Subject subject Callback Handler callback Handler Map String shared State Map String options this subject subject this options options this callback Handler callback Handler public boolean login throws Login Exception try Name Callback cb Name new Name Callback Enter username Password Callback cb Password new Password Callback Enter password false Get the username and password from the callback handler callback Handler handle new Callback cb Name cb Password username cb Name get Name catch Exception ex log warn Error logging in ex Login Exception le new Login Exception ex get Message le init Cause ex throw le If an authentication method has been specified use that to authenticate Method Expression mb Identity instance get Authenticate Method if mb null try return Boolean mb invoke catch Exception ex log warn Error invoking login method ex Login Exception le new Login Exception ex get Message le init Cause ex throw le Otherwise if identity management is enabled use it Identity Manager identity Manager Identity Manager instance if identity Manager null identity Manager is Enabled Identity identity Identity instance try boolean success identity Manager authenticate username identity get Credentials get Password if success for String role identity Manager get Implied Roles username identity add Role role return success catch Exception ex log warn Error invoking login method Login Exception le new Login Exception ex get Message le init Cause ex throw le else log error No authentication method defined please define authenticate method for security identity in components xml throw new Login Exception No authentication method defined public boolean logout throws Login Exception return true 
package org jboss seam ioc spring import java io Serializable import java lang reflect Invocation Handler import java lang reflect Invocation Target Exception import java lang reflect Method import java lang reflect Proxy import java util Map import javax persistence Cache import javax persistence Entity Manager import javax persistence Entity Manager Factory import javax persistence Persistence Unit Util import javax persistence criteria Criteria Builder import javax persistence metamodel Metamodel import org hibernate id Sequence Identity Generator Delegate import org jboss seam Component import org jboss seam log Log Provider import org jboss seam log Logging import org springframework util Class Utils An Entity Manager Factory that defers creation and management of an Entity Manager to a Seam Managed Persistence Context author Mike Youngstrom public class Seam Managed Entity Manager Factory implements Entity Manager Factory Serializable private static final Log Provider log Logging get Log Provider Seam Managed Entity Manager Factory class private String persistence Context Name private boolean closed false public Seam Managed Entity Manager Factory String seam Persistence Context Name if seam Persistence Context Name null equals seam Persistence Context Name throw new Illegal Argument Exception persistence Context Name can not be null this persistence Context Name seam Persistence Context Name public void close closed true Wraps the Seam Managed Persistence Context in a close suppressing proxy and returns public Entity Manager create Entity Manager if closed throw new Illegal State Exception Entity Manager Factory is closed log debug Returning a Seam Managed from create Entity Manager Seam Lifecycle Utils begin Transactional Seam Call Entity Manager em Entity Manager Component get Instance persistence Context Name Creating Proxy of Entity Manager to ensure we implement all the interfaces return Entity Manager Proxy new Proxy Instance get Class get Class Loader Class Utils get All Interfaces em new Seam Managed Persistence Context Handler em public Entity Manager create Entity Manager Map properties Not really sure if should throw an exception here or just ignore the Map throw new Unsupported Operation Exception Can not change properties of a Seam Managed Persistence Context this way This must be done on the Managed Persistence Context seam component public boolean is Open return closed Entity Manager Invocation Handler used to correctly calls to close and is Open We do n t want Spring closing the Seam Entity Manager only this proxy author Mike Youngstrom public static class Seam Managed Persistence Context Handler implements Invocation Handler Serializable private static final Log Provider log Logging get Log Provider Seam Managed Persistence Context Handler class private Entity Manager delegate private boolean closed false public Seam Managed Persistence Context Handler Entity Manager delegate super this delegate delegate public Object invoke Object proxy Method method Object args throws Throwable if method get Name equals equals Only consider equal when proxies are identical return proxy args Boolean Boolean if method get Name equals hash Code Use hash Code of Entity Manager proxy return new Integer hash Code if method get Name equals is Open return delegate is Open closed if delegate is Open Defer to delegate error if it s closed try return method invoke delegate args catch Invocation Target Exception ex throw ex get Target Exception if closed throw new Illegal State Exception This Persistence Context is closed if method get Name equals close log debug Closing Persistence Context Proxy closed true return null try return method invoke delegate args catch Invocation Target Exception ex throw ex get Target Exception public Criteria Builder get Criteria Builder Auto generated method stub return null public Metamodel get Metamodel Auto generated method stub return null public Map String Object get Properties Auto generated method stub return null public Cache get Cache Auto generated method stub return null public Persistence Unit Util get Persistence Unit Util Auto generated method stub return null 
package org jboss seam ioc spring import javax persistence Entity Manager Factory import javax persistence Persistence Exception import org springframework orm jpa Abstract Entity Manager Factory Bean Factory Bean the constructs Entity Manager Factories that proxy to a Seam Managed Persistence Context author Mike Youngstrom public class Seam Managed Entity Manager Factory Bean extends Abstract Entity Manager Factory Bean private String persistence Context Name Override protected Entity Manager Factory create Native Entity Manager Factory throws Persistence Exception return new Seam Managed Entity Manager Factory persistence Context Name Override public String get Persistence Unit Name String persistence Unit Name super get Persistence Unit Name if persistence Unit Name null equals persistence Unit Name return persistence Context Name return persistence Unit Name public void set Persistence Context Name String persistence Context Name this persistence Context Name persistence Context Name 
package org jboss seam ioc spring import java io Serializable import java lang reflect Invocation Handler import java lang reflect Invocation Target Exception import java lang reflect Method import java lang reflect Proxy import java util Array List import java util Arrays import java util List import org hibernate Hibernate Exception import org hibernate Session import org hibernate Session Factory import org jboss seam Component import org jboss seam log Log Provider import org jboss seam log Logging import org springframework beans factory annotation Required import org springframework beans factory config Abstract Factory Bean import org springframework util Class Utils Session Factory that delegates requests to open a Session to a managed hibernate session author Mike Youngstrom public class Seam Managed Session Factory Bean extends Abstract Factory Bean private String session Name private Session Factory base Session Factory Override public void after Properties Set throws Exception super after Properties Set if session Name null equals session Name throw new Illegal Argument Exception Sesssion Name can not be empty Override protected Object create Instance throws Exception Class session Factory Interfaces if base Session Factory null session Factory Interfaces Class Utils get All Interfaces base Session Factory else session Factory Interfaces new Class Session Factory class Create proxy of Session Factory to implement all interfaces the base Session Factory did return Proxy new Proxy Instance get Class get Class Loader session Factory Interfaces new Seam Managed Session Factory Handler session Name base Session Factory Override public Class get Object Type if base Session Factory null return base Session Factory get Class return Session Factory class Optionally provide an instance of the Session Factory we are wrapping Only necessary if the proxy needs to expose access to any interfaces besides Session Factory class param base Session Factory public void set Base Session Factory Session Factory base Session Factory this base Session Factory base Session Factory The name of the Seam managed hibernate session component param session Name Required public void set Session Name String session Name this session Name session Name Proxy for a Session Factory Returning a close suppressing proxy on calls to open Session author Mike Youngstrom public static class Seam Managed Session Factory Handler implements Invocation Handler Serializable private Session Factory raw Session Factory private String session Name private boolean is Closed false public Seam Managed Session Factory Handler String session Name Session Factory raw Session Factory this raw Session Factory raw Session Factory this session Name session Name private synchronized Session Factory get Raw Session Factory if raw Session Factory null raw Session Factory get Session get Session Factory return raw Session Factory private Session get Session Seam Lifecycle Utils begin Transactional Seam Call return Session Component get Instance session Name public Object invoke Object proxy Method method Object args throws Throwable if method get Name equals equals Only consider equal when proxies are identical return proxy args Boolean Boolean if method get Name equals hash Code Use hash Code of Session Factory proxy return new Integer hash Code Session Factory delegate get Raw Session Factory if method get Name equals is Closed return delegate is Closed is Closed if delegate is Closed Defer to delegate error if it s closed try return method invoke delegate args catch Invocation Target Exception ex throw ex get Target Exception if is Closed throw new Illegal State Exception This Session Factory is closed if method get Name equals close Session session get Session session disconnect is Closed true return null if method get Name equals get Current Session try return get Session catch Illegal State Exception ex throw new Hibernate Exception ex get Message if method get Name equals open Session if method get Parameter Types length Session session get Session Return close suppressing Session Proxy that implements all interfaces the original did Class Utils get All Interfaces session List Class interfaces new Array List Class Arrays as List Class Utils get All Interfaces session Have to bend Session implementation since Hiberante Session Proxy does n t implement classic Session interfaces add Session class return Proxy new Proxy Instance this get Class get Class Loader interfaces to Array new Class interfaces size new Seam Managed Session Handler Session Factory proxy session else throw new Hibernate Exception This Seam Managed Session Factory will only return a session from a call to noarg open Session if method get Name equals open Stateless Session throw new Hibernate Exception This Session Factory does not support Stateless Sessions if method get Name equals get Reference throw new Hibernate Exception Seam Managed Session Factory is not referencable If this is a requirement file a feature request try if method get Declaring Class equals Session class delegate instanceof Session throw new Unsupported Operation Exception Unable to execute method method to String Seam managed session does not support classic Session methods return method invoke delegate args catch Invocation Target Exception ex throw ex get Target Exception Delegates calls to a hibernate session and suppresses calls to close author Mike Youngstrom public static class Seam Managed Session Handler implements Invocation Handler Serializable private static final Log Provider log Logging get Log Provider Seam Managed Session Handler class private Session delegate private Session Factory session Factory private boolean closed false public Seam Managed Session Handler Session Factory session Factory Session delegate super this delegate delegate this session Factory session Factory public Object invoke Object proxy Method method Object args throws Throwable if method get Name equals get Session Factory return session Factory else if method get Name equals equals Only consider equal when proxies are identical return proxy args Boolean Boolean else if method get Name equals hash Code Use hash Code of Session proxy return new Integer hash Code if method get Name equals is Open return delegate is Open closed if delegate is Open Defer to delegate error if it s closed try return method invoke delegate args catch Invocation Target Exception ex throw ex get Target Exception if closed throw new Illegal State Exception This Session is closed if method get Name equals close log debug Closing Session Proxy delegate disconnect closed true return null try return method invoke delegate args catch Invocation Target Exception ex throw ex get Target Exception 
package org jboss seam ioc spring import org jboss seam Scope Type import org jboss seam core Init import org springframework beans factory Bean Definition Store Exception import org springframework beans factory Bean Factory import org springframework beans factory config Bean Definition import org springframework beans factory config Bean Definition Holder import org springframework beans factory support Abstract Bean Definition import org springframework beans factory support Root Bean Definition import org springframework beans factory xml Abstract Simple Bean Definition Parser import org springframework beans factory xml Bean Definition Decorator import org springframework beans factory xml Namespace Handler Support import org springframework beans factory xml Parser Context import org springframework core Ordered import org springframework util Class Utils import org w c dom Element import org w c dom Node Namespace Handler for a number of seam features in spring author youngm public class Seam Namespace Handler extends Namespace Handler Support public static final String org jboss seam ioc spring Seam Scope Post Processor public static final String org jboss seam ioc spring Seam Component Post Processor public static final String org jboss seam ioc spring seam Component Post Processor see org springframework beans factory xml Namespace Handler init public void init register Bean Definition Parser configure scopes new Seam Configure Scope Parser register Bean Definition Parser instance new Seam Instance Bean Definition Parser register Bean Definition Decorator component new Seam Component Bean Definition Decorator Registers the Seam Scope Post Processor in this bean factory under the name defined in lt seam configure scope gt see Seam Scope Post Processor author youngm private static class Seam Configure Scope Parser extends Abstract Simple Bean Definition Parser see org springframework beans factory xml Abstract Single Bean Definition Parser get Bean Class org w c dom Element Override protected Class get Bean Class Element element return Seam Scope Post Processor class see org springframework beans factory xml Abstract Bean Definition Parser resolve Id org w c dom Element org springframework beans factory support Abstract Bean Definition org springframework beans factory xml Parser Context Override protected String resolve Id Element element Abstract Bean Definition definition Parser Context parser Context throws Bean Definition Store Exception return Makes a Seam Factory Bean available for use in a spring Application Context lt seam instance name some Seam Component gt see Seam Factory Bean author youngm private static class Seam Instance Bean Definition Parser extends Abstract Simple Bean Definition Parser Override protected Class get Bean Class Element element return Seam Factory Bean class Makes an existing spring bean definition a seam component or provides hints in the creation of a seam component Will use the bean definitions name and class by default and the classes annotatated Interception Type If proxy true will wrap the spring bean in a cglib proxy for safe injection into singletons lt seam component gt author youngm private static class Seam Component Bean Definition Decorator implements Bean Definition Decorator private static final String intercept private static final String spring name private static final String name private static final String class private static final String auto create see org springframework beans factory xml Bean Definition Decorator decorate org w c dom Node org springframework beans factory config Bean Definition Holder org springframework beans factory xml Parser Context public Bean Definition Holder decorate Node node Bean Definition Holder definition Parser Context parser Context Add the Seam Component Post Processor to the bean factory if it does n t already exist if parser Context get Registry contains Bean Definition Class cls try cls Class Utils for Name catch Class Not Found Exception e throw new Illegal State Exception Unable to load class make sure you have the jboss seam ioc jar in your classpath e Root Bean Definition bean Definition new Root Bean Definition cls bean Definition set Role Bean Definition bean Definition get Property Values add Property Value order Ordered parser Context get Registry register Bean Definition bean Definition get the optional bean Class String bean Class Name definition get Bean Definition get Bean Class Name if node get Attributes get Named Item null bean Class Name node get Attributes get Named Item get Node Value String bean Name definition get Bean Name get the name of the seam component to create String seam Name bean Name if node get Attributes get Named Item null seam Name node get Attributes get Named Item get Node Value get the name of the spring bean to use String spring Name bean Name if node get Attributes get Named Item null spring Name node get Attributes get Named Item get Node Value get the interception type to use Boolean interception Type null if node get Attributes get Named Item null interception Type Boolean value Of node get Attributes get Named Item get Node Value get the requested scope Scope Type scope Scope Type value Of node get Attributes get Named Item scope get Node Value if scope Scope Type Bean Definition equals definition get Bean Definition get Scope throw new Illegal State Exception The spring bean scope must be prototype to use a seam scope other than if parser Context get Registry instanceof Bean Factory throw new Runtime Exception For some reason your registry is not a Bean Factory Spring Component add Spring Component seam Name spring Name bean Class Name scope Bean Factory parser Context get Registry interception Type if node get Attributes get Named Item null if Boolean value Of node get Attributes get Named Item get Node Value Init instance add Autocreate Variable seam Name return definition 
package org jboss seam jsf import java util Map import java util Set import javax faces application Configurable Navigation Handler import javax faces application Navigation Case import javax faces application Navigation Handler import javax faces context Faces Context import javax faces context Partial View Context import org jboss seam core Init import org jboss seam faces Faces Manager import org jboss seam navigation Pages import org jboss seam pageflow Pageflow Adds three new navigation possibilities beyond the frumpy navigation rules returning the view id directly pages xml and j based pageflows author Gavin King public class Seam Navigation Handler extends Configurable Navigation Handler private final Navigation Handler base Navigation Handler public Seam Navigation Handler Navigation Handler navigation Handler this base Navigation Handler navigation Handler Override public void handle Navigation Faces Context context String from Action String outcome if context get Response Complete workaround for a bug in My Faces String old View context get View Root null context get View Root get View Id if is Outcome View Id outcome Faces Manager instance interpolate And Redirect outcome else if Init instance is Jbpm Installed Pageflow instance is In Process Pageflow instance has Transition outcome Pageflow instance navigate context outcome else if Pages instance navigate context from Action outcome base Navigation Handler handle Navigation context from Action outcome else if old View equals context get View Root get View Id Partial View Context pctx context get Partial View Context if pctx is Render All pctx set Render All true private static boolean is Outcome View Id String outcome return outcome null outcome starts With Override public Navigation Case get Navigation Case Faces Context context String from Action String outcome if base Navigation Handler instanceof Configurable Navigation Handler return Configurable Navigation Handler base Navigation Handler get Navigation Case context from Action outcome else return null Override public Map String Set Navigation Case get Navigation Cases if base Navigation Handler instanceof Configurable Navigation Handler return Configurable Navigation Handler base Navigation Handler get Navigation Cases else return null 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam jsf import static javax faces event Phase Id import static javax faces event Phase Id import static javax faces event Phase Id import static javax faces event Phase Id import static javax faces event Phase Id import static org jboss seam transaction Transaction import java lang reflect Method import java util Map import javax faces context External Context import javax faces context Faces Context import javax faces event Phase Event import javax faces event Phase Id import javax faces event Phase Listener import javax servlet http Http Servlet Request import org jboss seam Seam import org jboss seam contexts Context import org jboss seam contexts Contexts import org jboss seam contexts Faces Lifecycle import org jboss seam core Conversation Propagation import org jboss seam core Events import org jboss seam core Init import org jboss seam core Manager import org jboss seam exception Exceptions import org jboss seam faces Faces Manager import org jboss seam faces Faces Messages import org jboss seam faces Faces Page import org jboss seam faces Switcher import org jboss seam faces Validation import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Pages import org jboss seam pageflow Pageflow import org jboss seam persistence Persistence Contexts import org jboss seam transaction Transaction import org jboss seam transaction User Transaction import org jboss seam util Reflections import org jboss seam web Servlet Contexts Manages the Seam contexts associated with a request throughout the lifecycle of the request Performs transaction demarcation when Seam transaction management is enabled Hacks the lifecyle to provide page actions and page parameters author Gavin King public class Seam Phase Listener implements Phase Listener private static final long serial Version private static final Log Provider log Logging get Log Provider Seam Phase Listener class private static boolean exists false private static final Method private static final Class private static final Class static Method method null Class action Response Class null Class portlet Request Class null try Class parameter Types String class String class action Response Class Class for Name javax portlet Action Response portlet Request Class Class for Name javax portlet Portlet Request method action Response Class get Method set Render Parameter parameter Types catch Exception e method action Response Class portlet Request Class public Seam Phase Listener if exists log warn There should only be one Seam phase listener per application exists true public Phase Id get Phase Id return public void before Phase Phase Event event log trace before phase event get Phase Id Faces Lifecycle set Phase Id event get Phase Id try if is Portlet Request event before Portlet Phase event else before Servlet Phase event raise Events Before Phase event catch Exception e try Exceptions instance handle e catch Exception ehe log error swallowing exception e private void before Servlet Phase Phase Event event if event get Phase Id before Restore View event get Faces Context Servlet Contexts instance set Request Http Servlet Request event get Faces Context get External Context get Request handle Transactions Before Phase event if event get Phase Id before Render Response event get Faces Context private void before Portlet Phase Phase Event event Faces Context faces Context event get Faces Context boolean not Initialised false if event get Phase Id before Restore View faces Context if event get Phase Id Contexts is Application Context Active before Restore View faces Context not Initialised true delegate to subclass handle Transactions Before Phase event if event get Phase Id if not Initialised after Restore View faces Context before Render Response event get Faces Context public void after Phase Phase Event event log trace after phase event get Phase Id try raise Events After Phase event if is Portlet Request event after Portlet Phase event else after Servlet Phase event catch Exception e log warn uncaught exception passing to exception handler e try Exceptions instance handle e redirect occurred inside the error handler and we are in after phase so we need to clean up now as there are no more after phases to be run if event get Faces Context get Response Complete after Response Complete event get Faces Context catch Exception ehe log error swallowing exception e Faces Lifecycle clear Phase Id private void after Servlet Phase Phase Event event Faces Context faces Context event get Faces Context if event get Phase Id after Restore View faces Context else if event get Phase Id after Invoke Application else if event get Phase Id after Process Validations faces Context has to happen after since restore Any Conversation Context can add messages Faces Messages after Phase handle Transactions After Phase event if event get Phase Id after Render Response faces Context else if faces Context get Response Complete after Response Complete faces Context private void after Portlet Phase Phase Event event Object portlet Phase event get Faces Context get External Context get Request Map get javax portlet faces phase if event get Phase Id after Restore View event get Faces Context else if event get Phase Id after Invoke Application else if event get Phase Id after Process Validations event get Faces Context Faces Messages after Phase delegate to subclass handle Transactions After Phase event if event get Phase Id write Conversation Id To Response faces Context get External Context get Response after Render Response event get Faces Context else if null portlet Phase Action Phase equals portlet Phase to String event get Phase Id event get Faces Context get Render Response event get Faces Context get Response Complete Manager instance before Redirect if Manager instance is Long Running Conversation set Portlet Render Parameter event get Faces Context get External Context get Response Manager instance get Conversation Id Parameter Manager instance get Current Conversation Id after Response Complete event get Faces Context private static void set Portlet Render Parameter Object response String conversation Id Parameter String conversation Id if is Instance response Reflections invoke And Wrap response conversation Id Parameter conversation Id private static boolean is Portlet Request Phase Event event return null is Instance event get Faces Context get External Context get Request public void handle Transactions Before Phase Phase Event event if Init instance is Transaction Management Enabled Phase Id phase Id event get Phase Id boolean begin Tran phase Id Phase Id phase Id Transaction instance is Conversation Context Required Phase Id Phase Id phase Id Phase Id Init instance is Client Side Conversations if begin Tran begin phase Id public void handle Transactions After Phase Phase Event event if Init instance is Transaction Management Enabled Phase Id phase Id event get Phase Id boolean commit Tran phase Id Phase Id event get Faces Context get Render Response no need to commit the tx if we failed to restore the view event get Faces Context get Response Complete phase Id Phase Id phase Id Phase Id Init instance is Client Side Conversations if commit Tran commit Or Rollback phase Id we commit before destroying contexts cos the contexts have the in them protected void handle Transactions After Page Actions Faces Context faces Context if Init instance is Transaction Management Enabled commit Or Rollback after invoking page actions if faces Context get Response Complete begin before continuing render protected void after Invoke Application if Init instance is Transaction Management Enabled raise Transaction Failed Event protected void after Process Validations Faces Context faces Context Validation instance after Process Validations faces Context Set up the Seam contexts except for the conversation context protected void before Restore View Faces Context faces Context Faces Lifecycle begin Request faces Context get External Context Restore the page and conversation contexts during a request protected void after Restore View Faces Context faces Context boolean conversation Found Contexts is Page Context Active Contexts get Page Context is Set org jboss seam jsf Seam Phase Listener conversation Found false Faces Lifecycle resume Page Map parameters faces Context get External Context get Request Parameter Map if conversation Found there is exceptional case when restoring of conversation was n t called while page context was lazily initialized Conversation Propagation instance restore Conversation Id parameters conversation Found Manager instance restore Conversation Faces Lifecycle resume Conversation faces Context get External Context post Restore Page faces Context parameters conversation Found public void raise Events Before Phase Phase Event event if Contexts is Application Context Active Events instance raise Event org jboss seam before Phase event if Contexts is Conversation Context Active Init instance is Jbpm Installed Pageflow instance is In Process String name Phase Id phase Id event get Phase Id if phase Id Phase Id name process validations else if phase Id Phase Id name update model values else if phase Id Phase Id name invoke application else if phase Id Phase Id name render response else return Pageflow instance process Events name public void raise Events After Phase Phase Event event if Contexts is Application Context Active Events instance raise Event org jboss seam after Phase event Raise an event so that an observer may add a faces message when Seam managed transactions fail protected void raise Transaction Failed Event try User Transaction tx Transaction instance if tx is Rolled Back Or Marked Rollback if Events exists Events instance raise Event tx get Status catch Exception e swallow silently not important protected void before Render Response Faces Context faces Context if Contexts is Page Context Active Context page Context Contexts get Page Context after every time that the view may have changed we need to flush the page context since the attribute map is being discarder page Context flush force refresh of the conversation lists they are kept in context page Context remove Seam get Component Name Switcher class page Context remove org jboss seam core conversation List page Context remove org jboss seam core conversation Stack pre Render Page faces Context if faces Context get Response Complete workaround for a bug in My Faces prior to if Init instance is My Faces Lifecycle Bug Faces Lifecycle end Request faces Context get External Context else if the page actions did not call response Complete Faces Messages instance before Render Response do this both before and after render since conversations and pageflows can begin during render Faces Manager instance prepare Backswitch faces Context Faces Page instance store Conversation Faces Page instance store Pageflow Persistence Contexts persistence Contexts Persistence Contexts instance if persistence Contexts null persistence Contexts before Render protected void after Render Response Faces Context faces Context do this both before and after render since conversations and pageflows can begin during render Faces Manager instance prepare Backswitch faces Context Persistence Contexts persistence Contexts Persistence Contexts instance if persistence Contexts null persistence Contexts after Render External Context external Context faces Context get External Context Manager instance end Request external Context get Session Map Faces Lifecycle end Request external Context protected void after Response Complete Faces Context faces Context response Complete was called by one of the other phases so we will never get to the phase Note we ca n t call Manager instance before Redirect here since a redirect is not the only reason for a response Complete External Context external Context faces Context get External Context Manager instance end Request external Context get Session Map Faces Lifecycle end Request faces Context get External Context private void post Restore Page Faces Context faces Context Map parameters boolean conversation Found if Pages is Debug Page Only redirect to no conversation view if a login redirect is n t required if conversation Found Pages instance is Login Redirect Required faces Context Pages instance redirect To No Conversation View Manager instance handle Conversation Propagation parameters if Init instance is Jbpm Installed is Exception Handler Redirect Pageflow instance validate Pageflow faces Context Pages instance post Restore faces Context private boolean pre Render Page Faces Context faces Context if Pages is Debug Page return false else Faces Lifecycle set Phase Id Phase Id boolean actions Were Called false try actions Were Called Pages instance pre Render faces Context return actions Were Called finally Faces Lifecycle set Phase Id Phase Id if actions Were Called Faces Messages after Phase handle Transactions After Page Actions faces Context does it really belong in the finally private boolean is Exception Handler Redirect return Contexts get Conversation Context is Set org jboss seam handled Exception void begin Phase Id phase Id begin prior to phase phase Id void begin String phase String try if Transaction instance is Active Or Marked Rollback log debug beginning transaction phase String Transaction instance begin catch Exception e throw new Illegal State Exception Could not start transaction e void commit Or Rollback Phase Id phase Id commit Or Rollback after phase phase Id void commit Or Rollback String phase String try if Transaction instance is Active try log debug committing transaction phase String Transaction instance commit catch Illegal State Exception e log warn commit failed with illegal state exception This may be because the tx timed out and was rolled back in the background e else if Transaction instance is Rolled Back Or Marked Rollback log debug rolling back transaction phase String Transaction instance rollback catch Exception e throw new Illegal State Exception Could not commit transaction e 
package org jboss seam wicket import org apache wicket model Model import org apache wicket model Property Model public abstract class Seam Property Model implements Model private String expression private Property Model model public Seam Property Model String expression this expression expression public abstract Object get Target public Object get Object return get Model get Object public void set Object Object object get Model set Object object private Property Model get Model if model null model new Property Model get Target expression return model public void detach model null public String get Property Expression return get Model get Property Expression 
package org jboss seam servlet import org jboss seam web Redirect Filter Propagates the conversation context across a browser redirect deprecated use Redirect Filter author Gavin King public class Seam Redirect Filter extends Redirect Filter 
package org jboss seam core import java util Array List import java util Collections import java util Enumeration import java util List import java util Locale import java util Map import java util Missing Resource Exception import java util Resource Bundle import java util concurrent Concurrent Hash Map import org jboss seam Seam import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam navigation Pages import org jboss seam util Enumeration Enumeration The Seam resource bundle which searches for resources in delegate resource bundles specified in pages xml and a configurable list of delegate resource bundles specified in components xml see Resource Loader author Gavin King public class Seam Resource Bundle extends java util Resource Bundle private Map Init Map Locale List Resource Bundle bundle Cache new Concurrent Hash Map Init Map Locale List Resource Bundle private Map Locale List Resource Bundle get Cached Bundle Init init if Contexts is Application Context Active init Init Contexts get Application Context get Seam get Component Name Init class else not sure if this is nessesary init Init Lifecycle get Application get Seam get Component Name Init class if bundle Cache contains Key init bundle Cache put init new Concurrent Hash Map Locale List Resource Bundle return bundle Cache get init Get an instance for the current Seam Locale see Locale return a Seam Resource Bundle public static java util Resource Bundle get Bundle return java util Resource Bundle get Bundle Seam Resource Bundle class get Name org jboss seam core Locale instance note it does not really matter what we pass here public static java util Resource Bundle get Bundle Named String bundle Name return java util Resource Bundle get Bundle bundle Name org jboss seam core Locale instance private List java util Resource Bundle get Bundles For Current Locale Locale instance org jboss seam core Locale instance List Resource Bundle bundles get Cached Bundle get instance if bundles null bundles load Bundles For Current Locale get Cached Bundle put instance bundles return bundles private List Resource Bundle load Bundles For Current Locale List Resource Bundle bundles new Array List Resource Bundle Resource Loader resource Loader Resource Loader instance for String bundle Name resource Loader get Bundle Names Resource Bundle bundle resource Loader load Bundle bundle Name if bundle null bundles add bundle Resource Bundle bundle resource Loader load Bundle Validator Messages if bundle null bundles add bundle bundle resource Loader load Bundle org hibernate validator Validation Messages if bundle null bundles add bundle bundle resource Loader load Bundle javax faces Messages if bundle null bundles add bundle return Collections unmodifiable List bundles Override public Enumeration String get Keys List java util Resource Bundle page Bundles get Page Resource Bundles List Resource Bundle bundles get Bundles For Current Locale Enumeration String enumerations new Enumeration bundles size page Bundles size int i for java util Resource Bundle bundle page Bundles enumerations i bundle get Keys for Resource Bundle bundle bundles enumerations i bundle get Keys return new Enumeration Enumeration String enumerations Override protected Object handle Get Object String key if Contexts is Application Context Active return null List java util Resource Bundle page Bundles get Page Resource Bundles for java util Resource Bundle page Bundle page Bundles try return interpolate page Bundle get Object key catch Missing Resource Exception mre for java util Resource Bundle little Bundle get Bundles For Current Locale try return interpolate little Bundle get Object key catch Missing Resource Exception mre return null superclass is responsible for throwing private Object interpolate Object message return message null message instanceof String Interpolator instance interpolate String message message private List java util Resource Bundle get Page Resource Bundles oops hard dependency to String view Id Pages get Current View Id if view Id null we ca n t cache these bundles since the view Id may change in the middle of a request return Pages instance get Resource Bundles view Id else return Collections Override public Locale get Locale return org jboss seam core Locale instance 
package org jboss seam servlet import java io Exception import java util Hash Map import java util Map import javax servlet Servlet Config import javax servlet Servlet Context import javax servlet Servlet Exception import javax servlet http Http Servlet import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org jboss seam Component import org jboss seam contexts Lifecycle import org jboss seam core Init import org jboss seam web Abstract Resource Routes all types of requests to implementors of Abstract Resource p This servlet is optional in a Seam application but required for certain features such as tt lt s graphic Image gt tt Rich Faces resources and integration It is typically mapped in tt web xml tt with the tt seam resource tt pattern p author Shane Bryzak public class Seam Resource Servlet extends Http Servlet private Servlet Context context private Map String Abstract Resource providers new Hash Map String Abstract Resource Override public void init Servlet Config config throws Servlet Exception super init config context config get Servlet Context load Resource Providers protected void load Resource Providers try Lifecycle setup Application new Servlet Application Map context for String name Init instance get Resource Providers Abstract Resource provider Abstract Resource Component get Instance name true if provider null provider set Servlet Context context providers put provider get Resource Path provider finally Lifecycle cleanup Application Override public void service Http Servlet Request request Http Servlet Response response throws Servlet Exception Exception String prefix request get Context Path request get Servlet Path if request get Request starts With prefix String path request get Request replace First prefix int index path index Of if index path path substring index Abstract Resource provider providers get path if provider null provider get Resource request response else response send Error Http Servlet Response else response send Error Http Servlet Response 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam resteasy import org jboss resteasy spi Resteasy Provider Factory We need to significantly extend and change that class so we can lookup provider instances through Seam at runtime The original class has only been designed for registration of singleton providers during startup See comment about the handling in Resteasy Resource Adapter java author Christian Bauer public class Seam Resteasy Provider Factory extends Resteasy Provider Factory public static void set Instance Resteasy Provider Factory factory Resteasy Provider Factory set Instance factory public static Resteasy Provider Factory get Instance return Resteasy Provider Factory get Instance 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam resteasy import org jboss resteasy spi Resource Factory import org jboss resteasy spi Injector Factory import org jboss resteasy spi Http Request import org jboss resteasy spi Http Response import org jboss resteasy spi Resteasy Provider Factory import org jboss resteasy core Property Injector Impl import org jboss seam contexts Contexts import org jboss seam Component import org jboss seam log Log import org jboss seam log Logging Looks up Seam component in Seam contexts when a resource is requested author Christian Bauer public class Seam Resteasy Resource Factory implements Resource Factory Log log Logging get Log Seam Resteasy Resource Factory class private final Class resource Type private final Component seam Component private final Resteasy Provider Factory provider Factory public Seam Resteasy Resource Factory Class resource Type Component seam Component Resteasy Provider Factory provider Factory this resource Type resource Type this seam Component seam Component this provider Factory provider Factory public Class get Scannable Class return resource Type public void registered Injector Factory factory Wrap the Resteasy Property Injector Impl in a Seam interceptor for Context injection seam Component add Interceptor new Resteasy Context Injection Interceptor new Property Injector Impl get Scannable Class provider Factory Adding an interceptor to Component at this stage means that the interceptor is always executed last in the chain The sorting of interceptors of a Component occurs only when the Component metadata is instantiated This is in this case as the Context injection can occur last after all other interceptors executed public Object create Resource Http Request request Http Response response Injector Factory factory Push this onto event context so we have it available in Resteasy Context Injection Interceptor Contexts get Event Context set Resteasy Context Injection Interceptor request Contexts get Event Context set Resteasy Context Injection Interceptor response log debug creating Easy resource instance by looking up Seam component seam Component get Name return Component get Instance seam Component get Name public void request Finished Http Request request Http Response response Object resource public void unregistered 
package org jboss seam remoting gwt import com google gwt user server rpc Serialization Policy import java lang reflect Method author Tomaz Cerar version Revision modified By Author modified Date public class Seam Request private final java lang reflect Method method private final java lang Object parameters private final Class parameter Types private final com google gwt user server rpc Serialization Policy serialization Policy public Seam Request Method method Object parameters Class parameter Types Serialization Policy serialization Policy this method method this parameters parameters this parameter Types parameter Types this serialization Policy serialization Policy public Method get Method return method public Object get Parameters return parameters public Class get Parameter Types return parameter Types public Serialization Policy get Serialization Policy return serialization Policy 
package org jboss seam ioc spring import org jboss seam Component import org jboss seam Scope Type import org jboss seam core Events import org jboss seam log Log Provider import org jboss seam log Logging import org springframework beans factory Object Factory import org springframework beans factory config Scope Allows for the creation of seam scoped component in spring Seam scopes are automatically made available if the Seam Scope Post Processor is declared in the current Bean Factory lt seam configure scopes gt author youngm see Seam Scope Post Processor public class Seam Scope implements Scope private static final Log Provider log Logging get Log Provider Seam Scope class private Scope Type scope public Seam Scope Scope Type scope this scope scope Gets an instance of a Seam component providing the current Object Factory if needed see org springframework beans factory config Scope get java lang String org springframework beans factory Object Factory public Object get String name Object Factory object Factory try Spring Component set Object Factory object Factory Component component Spring Component for Spring Bean Name name return Component get Instance component get Name scope true finally Spring Component set Object Factory null Not used yet see org springframework beans factory config Scope get Conversation Id public String get Conversation Id return null see org springframework beans factory config Scope register Destruction Callback java lang String java lang Runnable public void register Destruction Callback String name Runnable callback Spring Component for Spring Bean Name name register Destroy Callback name callback On remove destroys the seam component see org springframework beans factory config Scope remove java lang String public Object remove String name copied from Component call Destory should be able to reuse Needed because if remove is called then for some reason spring does n t use the destroy callback log debug destroying name Component component Spring Component for Spring Bean Name name Object bean null if component null bean scope get Context get component get Name if bean null in a portal environment this is possible if Events exists Events instance raise Event org jboss seam pre Destroy name try if component has Destroy Method component call Component Method bean component get Destroy Method catch Exception e log warn Could not destroy component component get Name e scope get Context remove component get Name return bean public Object resolve Contextual Object String key return null 
package org jboss seam ioc spring import org jboss seam Scope Type import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam core Init import org jboss seam log Log Provider import org jboss seam log Logging import org springframework beans Beans Exception import org springframework beans factory Initializing Bean import org springframework beans factory config Bean Definition import org springframework beans factory config Bean Factory Post Processor import org springframework beans factory config Configurable Listable Bean Factory Post processor that makes all of the seam scopes available in spring and takes all of the beans with those scopes and creates Seam Components out of them p To use simply define the namespace handler in in your Application Context lt seam configure scopes gt author youngm public class Seam Scope Post Processor implements Bean Factory Post Processor Initializing Bean private static final Log Provider log Logging get Log Provider Seam Scope Post Processor class Default seam scope prefix public static final String seam private String prefix private boolean default Auto Create false Null is not a valid prefix so make it the default is used if null or empty see org springframework beans factory Initializing Bean after Properties Set public void after Properties Set throws Exception if prefix null equals prefix prefix Add all of the seam scopes to this bean Factory see org springframework beans factory config Bean Factory Post Processor post Process Bean Factory org springframework beans factory config Configurable Listable Bean Factory public void post Process Bean Factory Configurable Listable Bean Factory bean Factory throws Beans Exception for Scope Type scope Scope Type values Do n t create a scope for Unspecified if scope Scope Type bean Factory register Scope prefix scope name new Seam Scope scope bean Factory register Scope prefix scope name to Lower Case new Seam Scope scope Create a mock application context if not available Reuse boolean unmock Application false if Contexts is Application Context Active Lifecycle setup Application unmock Application true try Iterate through all the beans in the factory for String bean Name bean Factory get Bean Definition Names Bean Definition definition bean Factory get Bean Definition bean Name Scope Type scope if definition get Scope starts With prefix Will throw an error if the scope is not found scope Scope Type value Of definition get Scope replace First prefix to Upper Case else if log is Debug Enabled log debug No scope could be derived for bean with name bean Name continue if scope Scope Type if log is Debug Enabled log debug Discarding bean with scope Spring will throw an error later bean Name continue Can not be a seam component without a specified class seam component will need to be used for this bean if definition get Bean Class Name null if log is Debug Enabled log debug Unable to create component for bean bean Name No class defined try seam component instead continue Spring Component add Spring Component bean Name bean Name definition get Bean Class Name scope bean Factory null if default Auto Create Init instance add Autocreate Variable bean Name finally if unmock Application Lifecycle cleanup Application param prefix case sensitive the prefix to use to identify seam scopes for spring beans Default is seam public void set Prefix String prefix this prefix prefix param default Auto Create whether or not context variables should be set to auto create Default is false public void set Default Auto Create boolean default Auto Create this default Auto Create default Auto Create 
package org jboss seam servlet import org jboss seam web Context Filter Manages the Seam contexts associated with a request to any servlet deprecated use Context Filter author Gavin King public class Seam Servlet Filter extends Context Filter 
package org jboss seam jsf import java io Exception import javax faces application State Manager import javax faces component View Root import javax faces context Faces Context import org jboss seam contexts Contexts import org jboss seam navigation Pages wrapper for the implementation s State Manager that allows us to intercept saving of the serialized component tree This is quite ugly but was needed in order to allow conversations to be started and manipulated during the phase author Gavin King Suppress Warnings deprecation public class Seam State Manager extends State Manager private final State Manager state Manager public Seam State Manager State Manager sm this state Manager sm Override protected Object get Component State To Save Faces Context ctx throw new Unsupported Operation Exception Override protected Object get Tree Structure To Save Faces Context ctx throw new Unsupported Operation Exception Override protected void restore Component State Faces Context ctx View Root view Root String str throw new Unsupported Operation Exception Override protected View Root restore Tree Structure Faces Context ctx String str String str throw new Unsupported Operation Exception Override public Serialized View save Serialized View Faces Context faces Context if Contexts is Page Context Active store the page parameters in the view root Pages instance update String Values In Page Context Using Model faces Context return state Manager save Serialized View faces Context Override public void write State Faces Context ctx Serialized View sv throws Exception state Manager write State ctx sv Override public View Root restore View Faces Context ctx String str String str return state Manager restore View ctx str str Override public Object save View Faces Context faces Context if Contexts is Page Context Active store the page parameters in the view root Pages instance update String Values In Page Context Using Model faces Context return state Manager save View faces Context Override public void write State Faces Context ctx Object sv throws Exception state Manager write State ctx sv Override public boolean is Saving State In Client Faces Context ctx return state Manager is Saving State In Client ctx 
package org jboss seam wicket international import java util List import org apache wicket Component import org apache wicket Page import org apache wicket application Component On Before Render Listener import org jboss seam international Status Message public class Seam Status Messages Listener implements Component On Before Render Listener public void on Before Render Component component Wicket Status Messages wicket Status Messages Wicket Status Messages instance wicket Status Messages on Before Render if component instanceof Page If the component is the page then we also add global messages List Status Message status Messages wicket Status Messages get Global Messages if status Messages null for Status Message status Message status Messages add Feedback Message status Message component wicket Status Messages clear Global Messages List Status Message status Messages wicket Status Messages get Keyed Messages component get Id if status Messages null for Status Message status Message status Messages add Feedback Message status Message component wicket Status Messages clear Keyed Messages component get Id private void add Feedback Message Status Message status Message Component component switch status Message get Severity case component error status Message get Summary break case component fatal status Message get Summary break case component info status Message get Summary break case component warn status Message get Summary break 
package org jboss seam ioc spring import java io Serializable import java util Array List import java util List import javax servlet http Http Session Activation Listener import org jboss seam Component import org jboss seam Scope Type import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam core Expressions import org jboss seam core Mutable import org jboss seam core Expressions Value Expression import org jboss seam intercept Proxy import org springframework aop Target Source Target Source for a seam component instance Will obtain an instance given a name and optionally a scope and create Used by the Seam Factory Bean to create a proxy for a requested seam component instance author youngm Suppress Warnings serial public class Seam Target Source implements Target Source Serializable private Scope Type scope private String name private Boolean create private Value Expression value Expression private Class type public Seam Target Source String name Scope Type scope Boolean create Class type this name scope create this type type param name Name of the component required param scope Name of the scope the component is in optional param create Whether to create a new instance if one does n t already exist optional public Seam Target Source String name Scope Type scope Boolean create if name null equals name throw new Illegal Argument Exception Name is required this name name this scope scope this create create if name starts With this value Expression Expressions instance create Value Expression name Returns a component instance for this Target Source see org springframework aop Target Source get Target public Object get Target throws Exception if value Expression null return value Expression get Value else if scope null create null return Component get Instance name else if scope null return Component get Instance name create else if create null return Component get Instance name scope else return Component get Instance name scope create Obtains the seam component bean Class or the defined type for this Target Source see org springframework aop Target Source get Target Class public Class get Target Class if type null return type Component component get Component if component null return null if component has Unwrap Method return component get Unwrap Method get Return Type return component get Bean Class public List Class get Seam Interfaces List Class interfaces new Array List Class Component component get Component Attempt to piece together all of the possible interfaces to apply to our proxy if component null component is Interception Enabled if component get Type is Session Bean interfaces add All component get Business Interfaces else interfaces add Http Session Activation Listener class interfaces add Mutable class interfaces add Proxy class return interfaces Get the component for this Target Source return component public Component get Component if value Expression null return null else reuse boolean unmock Application false if Contexts is Application Context Active Lifecycle setup Application unmock Application true try Component component Component for Name name if component null throw new Illegal State Exception Can not find target Class for seam component name Make sure Seam is being configured before Spring return component finally if unmock Application Lifecycle cleanup Application see org springframework aop Target Source is Static public boolean is Static return false Do n t think we need to do anything here see org springframework aop Target Source release Target java lang Object public void release Target Object target throws Exception Do Nothing 
package org jboss seam bpm import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jbpm context exe Context Instance import org jbpm graph def Action import org jbpm graph exe Execution Context import org jbpm graph exe Token import org jbpm instantiation User Code Interceptor import org jbpm taskmgmt def Assignment Handler import org jbpm taskmgmt def Task Controller Handler import org jbpm taskmgmt exe Assignable import org jbpm taskmgmt exe Task Instance Intercepts calls to user code coming from j sets up Seam contexts and associates the process and task instances with the contexts author Gavin King class Seam User Code Interceptor implements User Code Interceptor abstract static class Contextual Call abstract void process throws Exception void run throws Exception if Contexts is Event Context Active Contexts is Application Context Active not sure about the second bit only needed at init time process else Lifecycle begin Call try process finally Lifecycle end Call void run And Wrap try run catch Runtime Exception re throw re catch Exception e throw new Runtime Exception e public void execute Action final Action action final Execution Context context throws Exception if is Pageflow context action execute context else new Contextual Call Override void process throws Exception init Process And Task context action execute context run private boolean is Pageflow final Execution Context context return Contexts is Conversation Context Active Jbpm instance is Pageflow Process Definition context get Process Definition get Name public void execute Assignment final Assignment Handler handler final Assignable assignable final Execution Context context throws Exception new Contextual Call Override void process throws Exception init Process And Task context handler assign assignable context run public void execute Task Controller Initialization final Task Controller Handler handler final Task Instance task final Context Instance context final Token token new Contextual Call Override void process throws Exception init Process And Task task handler initialize Task Variables task context token run And Wrap public void execute Task Controller Submission final Task Controller Handler handler final Task Instance task final Context Instance context final Token token new Contextual Call Override void process throws Exception init Process And Task task handler submit Task Variables task context token run And Wrap private static void init Process And Task Execution Context context Business Process business Process Business Process instance business Process set Process Id context get Process Instance get Id Task Instance task Instance context get Task Instance if task Instance null business Process set Task Id task Instance get Id private static void init Process And Task Task Instance task Business Process business Process Business Process instance business Process set Process Id task get Process Instance get Id business Process set Task Id task get Id 
package org jboss seam jsf import java io Exception import java util List import java util Locale import java util Map import javax faces Faces Exception import javax faces application View Handler import javax faces application View Handler Wrapper import javax faces component View Root import javax faces context Faces Context import org jboss seam contexts Contexts import org jboss seam core Conversation import org jboss seam core Manager import org jboss seam international Locale Selector import org jboss seam util Faces Url Transformer Allows the view locale to be integrated with the locale coming from Seam internationalization see org jboss seam international Locale Selector author Gavin King public class Seam View Handler extends View Handler Wrapper private static enum Source private View Handler view Handler private static final Thread Local Source source new Thread Local Source public Seam View Handler View Handler view Handler this view Handler view Handler Override public String calculate Character Encoding Faces Context context return view Handler calculate Character Encoding context Override public void init View Faces Context context throws Faces Exception view Handler init View context Override public Locale calculate Locale Faces Context faces Context Locale jsf Locale view Handler calculate Locale faces Context if Contexts is Session Context Active return jsf Locale else return Locale Selector instance calculate Locale jsf Locale Override public String calculate Render Kit Id Faces Context ctx return view Handler calculate Render Kit Id ctx Override public View Root create View Faces Context ctx String view Id return view Handler create View ctx view Id Allow the delegate to produce the action If the conversation is long running append the conversation id request parameter to the query string part of the but only if the request parameter is not already present p This covers form actions Ajax calls and redirect Ls which we want and link hrefs which we do n t see link View Handler get Action Faces Context String Override public String get Action Faces Context faces Context String view Id String action Url super get Action faces Context view Id Conversation conversation Conversation instance Manager manager Manager instance String conversation Id Parameter manager get Conversation Id Parameter if get Source equals Source get Source equals Source if conversation is Long Running return new Faces Url Transformer action Url faces Context append Conversation Id If Necessary conversation Id Parameter conversation get Id get Url else if conversation is Nested return new Faces Url Transformer action Url faces Context append Conversation Id If Necessary conversation Id Parameter conversation get Parent Id get Url else return action Url else return action Url non Javadoc see javax faces application View Handler Wrapper get Redirect javax faces context Faces Context java lang String java util Map boolean Override public String get Redirect Faces Context context String view Id Map String List String parameters boolean include View Params try source set Source return super get Redirect context view Id parameters include View Params finally source remove non Javadoc see javax faces application View Handler Wrapper get Bookmarkable javax faces context Faces Context java lang String java util Map boolean Override public String get Bookmarkable Faces Context context String view Id Map String List String parameters boolean include View Params try source set Source return view Handler get Bookmarkable context view Id parameters include View Params finally source remove private Source get Source if source get null return Source else return source get Override public String get Resource Faces Context ctx String path try source set Source return super get Resource ctx path finally source remove Override public void render View Faces Context ctx View Root view Root throws Exception Faces Exception view Handler render View ctx view Root Override public View Root restore View Faces Context ctx String view Id View Root view Root view Handler restore View ctx view Id if view Root null view Root set View Id view Handler derive View Id ctx view Id return view Root Override public void write State Faces Context ctx throws Exception view Handler write State ctx Override public View Handler get Wrapped return view Handler 
package org jboss seam wicket import javax servlet http Http Servlet Request import org apache wicket Request Target import org apache wicket Meta Data Key import org apache wicket Page import org apache wicket Request import org apache wicket Request Cycle import org apache wicket Response import org apache wicket Session import org apache wicket protocol http Web Application import org apache wicket protocol http Web Request import org apache wicket protocol http Web Request Cycle import org apache wicket protocol http Web Request Cycle Processor import org apache wicket protocol http Web Response import org apache wicket request Request Cycle Processor import org apache wicket request target component Bookmarkable Page Request Target import org apache wicket request target component Page Request Target import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam contexts Servlet Lifecycle import org jboss seam core Conversation Propagation import org jboss seam core Events import org jboss seam core Manager import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam servlet Servlet Request Session Map import org jboss seam web Servlet Contexts import org jboss seam wicket international Seam Status Messages Listener The base class for Seam Web Applications author Pete Muir Clint Popetz public abstract class Seam Web Application extends Web Application private static final Log Provider log Logging get Log Provider Seam Web Application class When operating in tests it is sometimes useful to leave the contexts extant after a request and destroy them upon the next request so that models that use injections can be queried post request to determine their values protected boolean destroy Contexts Lazily false public boolean is Destroy Contexts Lazily return destroy Contexts Lazily public void set Destroy Contexts Lazily boolean destroy Contexts Lazily this destroy Contexts Lazily destroy Contexts Lazily Custom session with invalidation override We ca n t just let Wicket invalidate the session as Seam might have to do some cleaning up to do We provide Seam Web Session as a separate class to allow for user subclasssing Override public Session new Session Request request Response response return new Seam Web Session request This is the key we will use to to store the conversation metadata in the wicket page private static Meta Data Key new Meta Data Key String Seam s hooks into Wicket Required for proper functioning Override protected Request Cycle Processor new Request Cycle Processor return new Web Request Cycle Processor If a long running conversation has been started store its id into page metadata Override public void respond Request Cycle request Cycle super respond request Cycle if Manager instance is Long Running Conversation Page page Request Cycle get get Response Page if page null page set Meta Data Manager instance get Current Conversation Id Override to set up seam security seam status messages and add the Seam Enforce Conversation Listener Override protected void init super init inititialize Seam Security initialize Seam Status Messages add Pre Component On Before Render Listener new Seam Enforce Conversation Listener Add Seam Security to the wicket app This allows you to Restrict your Wicket components Override this method to apply a different scheme protected void inititialize Seam Security get Security Settings set Authorization Strategy new Seam Authorization Strategy get Login Page Add Seam status message transport support to your app protected void initialize Seam Status Messages add Pre Component On Before Render Listener new Seam Status Messages Listener protected abstract Class get Login Page Override to provide a seam specific Request Cycle which sets up seam contexts Override public Request Cycle new Request Cycle final Request request final Response response return new Seam Web Request Cycle this Web Request request Web Response response Web Request Cycle that sets up seam requests Essentially this is similiar to the work of Contextual Http Servlet Request but using the wicket protected static class Seam Web Request Cycle extends Web Request Cycle public Seam Web Request Cycle Web Application application Web Request request Response response super application request response Override this so that we can pull out the conversation id from page metadata when a new page is chosen as the target Override protected void on Request Target Set Request Target target super on Request Target Set target Page page null if target instanceof Bookmarkable Page Request Target page Bookmarkable Page Request Target target get Page else if target instanceof Page Request Target page Page Request Target target get Page if page null String cid String page get Meta Data if cid null Manager manager Manager instance if manager is Long Running Conversation if cid equals manager get Current Conversation Id manager switch Conversation cid else Conversation Propagation cp Conversation Propagation instance cp set Conversation Id cid manager restore Conversation else Manager manager Manager instance if manager is Long Running Conversation page set Meta Data Manager instance get Current Conversation Id Override to destroy the old seam contexts if we are destroying lazily and they still exist and to set up the new seam contexts Override protected void on Begin Request Http Servlet Request http Request Web Request request get Http Servlet Request if Contexts get Event Context null Seam Web Application get Application is Destroy Contexts Lazily Servlet Contexts instance get Request http Request destroy Contexts if Contexts get Event Context null Servlet Lifecycle begin Request http Request Servlet Contexts instance set Request http Request Conversation Propagation instance restore Conversation Id request get Parameter Map Manager instance restore Conversation Servlet Lifecycle resume Conversation http Request Manager instance handle Conversation Propagation request get Parameter Map Force creation of the session if http Request get Session false null http Request get Session true super on Begin Request Events instance raise Event org jboss seam wicket before Request Override to tear down seam contexts unless we are destroying lazily Override protected void on End Request try super on End Request Events instance raise Event org jboss seam wicket after Request finally if Contexts get Event Context null Seam Web Application get Application is Destroy Contexts Lazily destroy Contexts The actual work of destroying the seam contexts private void destroy Contexts try Http Servlet Request http Request Web Request request get Http Servlet Request Manager instance end Request new Servlet Request Session Map http Request Servlet Lifecycle end Request http Request catch Exception e Make sure we always clear out the thread locals Lifecycle end Request log warn ended request due to exception e throw new Runtime Exception e 
package org jboss seam wicket import org apache wicket Request import org apache wicket protocol http Web Session This subclass of Web Session exists so that calls to invalidate the wicket session result in a delegation to the seam session invalidation code author cpopetz public class Seam Web Session extends Web Session public Seam Web Session Request request super request Override public void invalidate org jboss seam web Session get Instance invalidate Override public void invalidate Now sorry ca n t support this with Seam org jboss seam web Session get Instance invalidate 
package org jboss seam wicket ioc import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Specifies that a class should be instrumented to allow for use as a Seam Wicket component author Clint Popetz Target Retention Documented public interface Seam Wicket Component 
Id Search Service java sannegrinovero package actions import java util List import org apache lucene search Query import org hibernate search jpa Full Text Entity Manager import org hibernate search query dsl Query Builder import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import domain Blog Entry Pulls the search results author Gavin King author Sanne Grinovero Name search Service public class Search Service In private Full Text Entity Manager entity Manager private String search Pattern Factory search Results public List Blog Entry get Search Results if search Pattern null equals search Pattern search Pattern null return get Latest Blog Entries else Query lucene Query get Full Text Query return entity Manager create Full Text Query lucene Query Blog Entry class set Max Results get Result List private Query get Full Text Query Create a Query Builder targeting Blog Entry Query Builder query Builder entity Manager get Search Factory build Query Builder for Entity Blog Entry class get fulltext query using English Analyzer Query query Using English Stemmer query Builder keyword on Fields title en boosted To f and Field body en matching search Pattern create Query fulltext query using ngrams Query query Using Grams query Builder keyword on Fields title ngrams boosted To f and Field body ngrams boosted To f matching search Pattern create Query Combine them for best results Query full Text Query query Builder bool should query Using English Stemmer should query Using Grams create Query return full Text Query private List Blog Entry get Latest Blog Entries int limit return entity Manager create Query select be from Blog Entry be order by date desc set Hint org hibernate cacheable true set Max Results limit get Result List public String get Search Pattern return search Pattern public void set Search Pattern String search Pattern this search Pattern search Pattern 
package org jboss seam example restbay resteasy import javax ws rs import javax ws rs Path import javax ws rs Produces import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Transactional import org jboss seam annotations security Restrict import org jboss seam security Identity import org jboss seam transaction Synchronizations author Jozef Hartinger Path secured Name secured Resource Produces text plain public class Secured Resource In private Identity identity public String get Hello return Hello world Path admin public boolean is Admin return identity has Role admin Path restricted Admin Restrict s has Role admin public boolean restricted Is Admin return identity has Role admin Path synchronizations Lookup Transactional public boolean synchronizations Lookup Synchronizations ejb Synchronizations Component get Instance org jboss seam transaction synchronizations Scope Type return ejb is Aware Of Container Transactions Path ejb Lookup public boolean ejb Lookup Test Ejb Local ejb Test Ejb Local Component get Instance secured Ejb Scope Type return ejb foo 
package org jboss seam security Delegating wrapper for security functions author Shane Bryzak public class Security Functions public static boolean has Role String name return Identity instance has Role name public static boolean has Permission String name String action Object arg if arg null return Identity instance has Permission name action arg else return Identity instance has Permission name action public static boolean has Permission Object target String action return Identity instance has Permission target action 
package org jboss seam security import java io Serializable import java lang annotation Annotation import java lang reflect Method import java util Hash Map import java util Hash Set import java util Map import java util Set import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam annotations intercept Interceptor Type import org jboss seam annotations security Permission Check import org jboss seam annotations security Restrict import org jboss seam annotations security Role Check import org jboss seam async Asynchronous Interceptor import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context import org jboss seam util Strings Provides authorization services for component invocations author Shane Bryzak Interceptor type Interceptor Type around Asynchronous Interceptor class public class Security Interceptor extends Abstract Interceptor implements Serializable private static final long serial Version You may encounter a bug where the field initializer is not evaluated for a transient field after deserialization see http bugs sun com bugdatabase view bug do bug id private transient volatile Map Method Restriction restrictions new Hash Map Method Restriction private class Restriction private String expression private String permission Target private String permission Action private Map String Object method Restrictions private Map Integer Set String param Restrictions private Set String role Restrictions public void set Expression String expression this expression expression public void set Permission Target String target this permission Target target public void set Permission Action String action this permission Action action public void add Method Restriction Object target String action if method Restrictions null method Restrictions new Hash Map String Object method Restrictions put action target public void add Role Restriction String role if role Restrictions null role Restrictions new Hash Set String role Restrictions add role public void add Parameter Restriction int index String action Set String actions null if param Restrictions null param Restrictions new Hash Map Integer Set String if param Restrictions contains Key index actions new Hash Set String param Restrictions put index actions else actions param Restrictions get index actions add action public void check Object parameters if Identity is Security Enabled if expression null Identity instance check Restriction expression if method Restrictions null for String action method Restrictions key Set Identity instance check Permission method Restrictions get action action if param Restrictions null for Integer idx param Restrictions key Set Set String actions param Restrictions get idx for String action actions Identity instance check Permission parameters idx action if role Restrictions null for String role role Restrictions Identity instance check Role role if permission Target null permission Action null Identity instance check Permission permission Target permission Action Around Invoke public Object around Invoke Invocation Context invocation throws Exception Method interface Method invocation get Method if hash Code equals interface Method get Name Restriction restriction get Restriction interface Method if restriction null restriction check invocation get Parameters return invocation proceed private Restriction get Restriction Method interface Method throws Exception see field declaration as to why this is done if restrictions null synchronized this restrictions new Hash Map Method Restriction if restrictions contains Key interface Method synchronized restrictions this logic should be abstracted rather than sitting in the middle of this interceptor if restrictions contains Key interface Method Restriction restriction null Method method get Component get Bean Class get Method interface Method get Name interface Method get Parameter Types Restrict restrict null if method is Annotation Present Restrict class restrict method get Annotation Restrict class else if get Component get Bean Class is Annotation Present Restrict class if get Component is Lifecycle Method method restrict get Component get Bean Class get Annotation Restrict class if restrict null if restriction null restriction new Restriction if Strings is Empty restrict value restriction set Permission Target get Component get Name restriction set Permission Action method get Name else restriction set Expression restrict value for Annotation annotation method get Declaring Class get Annotations if annotation annotation Type is Annotation Present Role Check class if restriction null restriction new Restriction restriction add Role Restriction annotation annotation Type get Simple Name to Lower Case for Annotation annotation method get Annotations if annotation annotation Type is Annotation Present Permission Check class Permission Check permission Check annotation annotation Type get Annotation Permission Check class Method value Method null for Method m annotation annotation Type get Declared Methods value Method m break if value Method null if restriction null restriction new Restriction Object target value Method invoke annotation if target equals void class restriction add Method Restriction target get Permission Action permission Check annotation if annotation annotation Type is Annotation Present Role Check class if restriction null restriction new Restriction restriction add Role Restriction annotation annotation Type get Simple Name to Lower Case for int i i method get Parameter Annotations length i Annotation annotations method get Parameter Annotations i for Annotation annotation annotations if annotation annotation Type is Annotation Present Permission Check class Permission Check permission Check annotation annotation Type get Annotation Permission Check class if restriction null restriction new Restriction restriction add Parameter Restriction i get Permission Action permission Check annotation restrictions put interface Method restriction return restriction return restrictions get interface Method private String get Permission Action Permission Check check Annotation annotation if equals check value return check value else return annotation annotation Type get Simple Name to Lower Case public boolean is Interceptor Enabled return get Component is Secure get Component bean Class Has Annotation javax jws Web Service 
package org jboss seam faces import java io Serializable import javax faces context Faces Context import javax servlet http Cookie import javax servlet http Http Servlet Response import org jboss seam core Abstract Mutable Support for selector objects which remember their selection as a cookie author Gavin King public abstract class Selector extends Abstract Mutable implements Serializable public static final int year in seconds private boolean cookie Enabled private int cookie Max Age private String cookie Path Is the cookie enabled return false by default public boolean is Cookie Enabled return cookie Enabled public void set Cookie Enabled boolean cookie Enabled set Dirty this cookie Enabled cookie Enabled this cookie Enabled cookie Enabled The max age of the cookie return year by default public int get Cookie Max Age return cookie Max Age public void set Cookie Max Age int cookie Max Age this cookie Max Age cookie Max Age public String get Cookie Path return cookie Path public void set Cookie Path String cookie Path this cookie Path cookie Path Override to define the cookie name protected abstract String get Cookie Name Get the value of the cookie protected String get Cookie Value If Enabled return is Cookie Enabled get Cookie Value null protected Cookie get Cookie Faces Context ctx Faces Context get Current Instance if ctx null return Cookie ctx get External Context get Request Cookie Map get get Cookie Name else return null protected String get Cookie Value Cookie cookie get Cookie return cookie null null cookie get Value protected void clear Cookie Value Cookie cookie get Cookie if cookie null Http Servlet Response response Http Servlet Response Faces Context get Current Instance get External Context get Response cookie set Value null cookie set Path cookie Path cookie set Max Age response add Cookie cookie Set the cookie protected void set Cookie Value If Enabled String value Faces Context ctx Faces Context get Current Instance if is Cookie Enabled ctx null Http Servlet Response response Http Servlet Response ctx get External Context get Response Cookie cookie new Cookie get Cookie Name value cookie set Max Age get Cookie Max Age cookie set Path cookie Path response add Cookie cookie 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam contexts import java util Hash Map import java util Hash Set import java util Linked List import java util List import java util Map import java util Set import org jboss seam Component import org jboss seam Scope Type import org jboss seam Seam import org jboss seam core Events import org jboss seam core Manager import org jboss seam persistence Persistence Contexts conversation context is a logical context that lasts longer than a request but shorter than a login session Conversation state may be passivated or replicated author Gavin King author a href mailto theute jboss org Thomas Heute a public class Server Conversation Context implements Context private final Map String Object session private final Map String Object additions new Hash Map String Object private final Set String removals new Hash Set String private final String id private final List String id Stack private List String get Id Stack return id Stack null Manager instance get Current Conversation Id Stack id Stack private String get Id return id null Manager instance get Current Conversation Id id public Scope Type get Type return Scope Type private String get Key String name return get Prefix get Id name private String get Key String name String id return get Prefix id name private String get Prefix String id return Scope Type get Prefix id public Server Conversation Context Map String Object session this session session id null id Stack null public Server Conversation Context Map String Object session String id this session session this id id this id Stack new Linked List String id Stack add id public Object get String name Object result additions get name if result null return unwrap Entity Bean result else if removals contains name return null else List String stack get Id Stack if stack null return unwrap Entity Bean session get get Key name else for int i i stack size i String id stack get i result session get get Key name id if result null return unwrap Entity Bean result only continue checking if it is not pernestedconversation if i is Per Nested Conversation name return null return null private boolean is Per Nested Conversation String name Component component Component for Name name return component null component is Per Nested Conversation private Object unwrap Entity Bean Object result if result null return null if result instanceof Wrapper return Wrapper result get Instance else return result public void set String name Object value if Events exists Events instance raise Event org jboss seam pre Set Variable name if value null yes we need this remove name else removals remove name if Seam is Entity Class value get Class value new Entity Bean value else if value instanceof List value new Entity Bean List List value else if value instanceof Map value new Entity Bean Map Map value else if value instanceof Set value new Entity Bean Set Set value additions put name value if Events exists Events instance raise Event org jboss seam post Set Variable name public boolean is Set String name return get name null public void remove String name if Events exists Events instance raise Event org jboss seam pre Remove Variable name additions remove name removals add name if Events exists Events instance raise Event org jboss seam post Remove Variable name public String get Names Set String results get Names From Session results add All additions key Set after to override return results to Array new String private Set String get Names From Session Hash Set String results new Hash Set String String prefix get Prefix get Id for String name session key Set if name starts With prefix name name substring prefix length if removals contains name results add name return results private Set String get Names For All Conversations From Session Set String results new Hash Set String List String ids Manager instance get Current Conversation Id Stack if ids null for String conversation Id ids String prefix get Prefix conversation Id for String name session key Set if name starts With prefix String short Name name substring prefix length if removals contains short Name results add name return results public Object get Class clazz return get Component get Component Name clazz public void clear additions clear removals add All get Names From Session public void unflush for String key get Names For All Conversations From Session Object attribute session get key if attribute null attribute instanceof Wrapper Wrapper attribute activate Propagate additions and removals to the Http Session if the current conversation is long running or remove all attributes if it is a temporary conversation This work may only be done at the end of the request since we do n t know for sure the conversation id until then public void flush boolean long Running is Current Manager instance is Long Running Conversation if long Running force update for dirty mutable objects for String key get Names For All Conversations From Session Object attribute session get key if attribute null if passivate attribute is Attribute Dirty attribute session put key attribute remove removed objects for String name removals session remove get Key name removals clear Nothing to do if there is no addition if additions is Empty this is a hack We should find a more elegant way of handling new objects being added to additions during the following for loop Persistence Contexts instance add new objects for Map Entry String Object entry additions entry Set Object attribute entry get Value passivate attribute session put get Key entry get Key attribute additions clear else for a pure temporary conversation this is unnecessary optimize it for String name get Names From Session session remove get Key name remove removed objects for String name removals session remove get Key name removals clear private boolean passivate Object attribute if attribute instanceof Wrapper return Wrapper attribute passivate else return false private boolean is Attribute Dirty Object attribute return Contexts is Attribute Dirty attribute private boolean is Current return id null id equals Manager instance get Current Conversation Id Override public String to String return Conversation Context get Id 
package org jboss seam example remoting gwt server import org jboss seam annotations Name import org jboss seam annotations remoting Web Remote import org jboss seam example remoting gwt client My Service import org jboss seam example remoting gwt client Validation Utility This is the seam component that implements the service the uses Note that Web Remote is needed as is Name to match the service full class name defaults are not a great idea as this is open to the wide world author Michael Neale Name org jboss seam example remoting gwt client My Service public class Service Impl implements My Service Web Remote public String ask It String question if validate question throw new Illegal State Exception Hey this should n t happen checked on the client but its always good to double check return Its the real question that you seek now Woh we can re use code from the client public boolean validate String q Validation Utility util new Validation Utility return util is Valid q 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam servlet import java util Collection import java util Enumeration import java util Hash Set import java util Map import java util Set import javax servlet Servlet Context Abstracts the servlet specific application context as a Map author Gavin King public class Servlet Application Map implements Map String Object private Servlet Context servlet Context public Servlet Application Map Servlet Context servlet Context this servlet Context servlet Context public void clear throw new Unsupported Operation Exception public boolean contains Key Object key return servlet Context get Attribute String key null public boolean contains Value Object value throw new Unsupported Operation Exception public Set java util Map Entry String Object entry Set throw new Unsupported Operation Exception public Object get Object key return servlet Context get Attribute String key public boolean is Empty throw new Unsupported Operation Exception public Set String key Set Set String keys new Hash Set String Enumeration String names servlet Context get Attribute Names while names has More Elements keys add names next Element return keys public Object put String key Object value Object result servlet Context get Attribute key servlet Context set Attribute key value return result public void put All Map extends String extends Object t throw new Unsupported Operation Exception public Object remove Object key Object result servlet Context get Attribute String key servlet Context remove Attribute String key return result public int size throw new Unsupported Operation Exception public Collection Object values throw new Unsupported Operation Exception 
package org jboss seam ui facelet import static org jboss seam Scope Type import javax servlet Servlet Context import org jboss seam Component import org jboss seam annotations Auto Create import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam contexts Servlet Lifecycle import org jboss seam mock Mock Servlet Context Name org jboss seam ui facelet mock Servlet Context Scope Bypass Interceptors Install dependencies org jboss seam faces renderer Auto Create public class Servlet Context Manager private Servlet Context servlet Context Create public void create bit of a hack we should store the servlet context properly if Servlet Lifecycle get Current Servlet Context null servlet Context Servlet Lifecycle get Current Servlet Context else this servlet Context new Mock Servlet Context Unwrap public Servlet Context get Servlet Context return servlet Context public static Servlet Context instance if Contexts is Application Context Active throw new Illegal State Exception Application context is not active return Servlet Context Component get Instance Servlet Context Manager class 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam web import static org jboss seam annotations Install import javax servlet http Http Servlet Request import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts Seam component that binds the Http Servlet Request object to the current thread author Gavin King Scope Scope Type Name org jboss seam web servlet Contexts Bypass Interceptors Install precedence public class Servlet Contexts private Http Servlet Request request public static Servlet Contexts instance if Contexts is Event Context Active throw new Illegal State Exception no event context active return Servlet Contexts Component get Instance Servlet Contexts class Scope Type public static Servlet Contexts get Instance return Contexts is Event Context Active Servlet Contexts Component get Instance Servlet Contexts class Scope Type null public Http Servlet Request get Request return request public void set Request Http Servlet Request request this request request 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam mock import java io Input Stream import java net Malformed Exception import java net import java util Enumeration import java util Event Listener import java util Hash Map import java util Map import java util Set import javax servlet Filter import javax servlet Filter Registration import javax servlet Request Dispatcher import javax servlet Servlet import javax servlet Servlet Context import javax servlet Servlet Exception import javax servlet Servlet Registration import javax servlet Servlet Registration Dynamic import javax servlet Session Cookie Config import javax servlet Session Tracking Mode import javax servlet descriptor Jsp Config Descriptor import org jboss seam util Iterator Enumeration Wraps a Servlet Context with own attributes author Marek Schmidt public class Servlet Context Wrapper implements Servlet Context private Servlet Context delegate private Map String Object attributes new Hash Map String Object public Servlet Context Wrapper Servlet Context delegate this delegate delegate public Object get Attribute String arg return attributes get arg public Enumeration get Attribute Names return new Iterator Enumeration attributes key Set iterator public Servlet Context get Context String arg return delegate get Context arg public String get Context Path return delegate get Context Path public String get Init Parameter String arg return delegate get Init Parameter arg public Enumeration get Init Parameter Names return delegate get Init Parameter Names public int get Major Version return delegate get Major Version public String get Mime Type String arg return delegate get Mime Type arg public int get Minor Version return delegate get Minor Version public Request Dispatcher get Named Dispatcher String arg return delegate get Named Dispatcher arg public String get Real Path String arg return delegate get Real Path arg public Request Dispatcher get Request Dispatcher String arg return delegate get Request Dispatcher arg public get Resource String arg throws Malformed Exception return delegate get Resource arg public Input Stream get Resource As Stream String arg Input Stream ret delegate get Resource As Stream arg return ret public Set get Resource Paths String arg return delegate get Resource Paths arg public String get Server Info return delegate get Server Info public Servlet get Servlet String arg throws Servlet Exception return delegate get Servlet arg public String get Servlet Context Name return Wrap public Enumeration get Servlet Names return delegate get Servlet Names public Enumeration get Servlets return delegate get Servlets public void log String arg delegate log arg public void log Exception arg String arg delegate log arg arg public void log String arg Throwable arg delegate log arg arg public void remove Attribute String arg attributes remove arg public void set Attribute String key Object value if value null attributes remove key else attributes put key value public int get Effective Major Version return delegate get Effective Major Version public int get Effective Minor Version return delegate get Effective Minor Version public boolean set Init Parameter String name String value return delegate set Init Parameter name value public Dynamic add Servlet String servlet Name String class Name return delegate add Servlet servlet Name class Name public Dynamic add Servlet String servlet Name Servlet servlet return delegate add Servlet servlet Name servlet public Dynamic add Servlet String servlet Name Class extends Servlet servlet Class return delegate add Servlet servlet Name servlet Class public extends Servlet create Servlet Class clazz throws Servlet Exception return delegate create Servlet clazz public Servlet Registration get Servlet Registration String servlet Name return delegate get Servlet Registration servlet Name public Map String extends Servlet Registration get Servlet Registrations return delegate get Servlet Registrations public javax servlet Filter Registration Dynamic add Filter String filter Name String class Name return delegate add Filter filter Name class Name public javax servlet Filter Registration Dynamic add Filter String filter Name Filter filter return delegate add Filter filter Name filter public javax servlet Filter Registration Dynamic add Filter String filter Name Class extends Filter filter Class return delegate add Filter filter Name filter Class public extends Filter create Filter Class clazz throws Servlet Exception return delegate create Filter clazz public Filter Registration get Filter Registration String filter Name return delegate get Filter Registration filter Name public Map String extends Filter Registration get Filter Registrations return delegate get Filter Registrations public Session Cookie Config get Session Cookie Config return delegate get Session Cookie Config public void set Session Tracking Modes Set Session Tracking Mode session Tracking Modes delegate set Session Tracking Modes session Tracking Modes public Set Session Tracking Mode get Default Session Tracking Modes return delegate get Default Session Tracking Modes public Set Session Tracking Mode get Effective Session Tracking Modes return delegate get Effective Session Tracking Modes public void add Listener String class Name delegate add Listener class Name public extends Event Listener void add Listener t delegate add Listener t public void add Listener Class extends Event Listener listener Class delegate add Listener listener Class public extends Event Listener create Listener Class clazz throws Servlet Exception return delegate create Listener clazz public Jsp Config Descriptor get Jsp Config Descriptor return delegate get Jsp Config Descriptor public Class Loader get Class Loader return delegate get Class Loader public void declare Roles String role Names delegate declare Roles role Names 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam contexts import java lang ref Weak Reference import javax servlet Servlet Context import javax servlet http Http Servlet Request import javax servlet http Http Session import org jboss seam Scope Type import org jboss seam core Events import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam servlet Servlet Application Map import org jboss seam servlet Servlet Request Map import org jboss seam servlet Servlet Request Session Map import org jboss seam servlet Servlet Session Map import org jboss seam web Session Methods for setup and teardown of Seam contexts at the beginning and end of servlet requests author Gavin King author a href mailto theute jboss org Thomas Heute a public class Servlet Lifecycle private static final Log Provider log Logging get Log Provider Servlet Lifecycle class private static Servlet Context servlet Context public static final String seam contexts servlet Context public static Servlet Context get Servlet Context do n t throw an exception if null because of unit tests return servlet Context public static void begin Request Http Servlet Request request begin Request request null public static void begin Request Http Servlet Request request Servlet Context context Servlet Context ctx context if ctx null try and figure out which servlet context to use from the request Http Session session request get Session false if session null ctx servlet Context else ctx session get Servlet Context log debug Begin web request Contexts event Context set new Event Context new Servlet Request Map request Contexts session Context set new Session Context new Servlet Request Session Map request Contexts application Context set new Application Context new Servlet Application Map ctx Contexts conversation Context set null in case end Request was never called public static void end Request Http Servlet Request request log debug After request destroying contexts try Session session Session get Instance boolean session Invalid session null session is Invalid Contexts flush And Destroy Contexts if session Invalid Lifecycle clear Threadlocals request get Session invalidate actual session context will be destroyed from the listener finally Lifecycle clear Threadlocals log debug End web request Deprecated public static void begin Reinitialization Http Servlet Request request begin Reinitialization request servlet Context public static void begin Reinitialization Http Servlet Request request Servlet Context servlet Context log debug Begin re initialization Contexts application Context set new Application Context new Servlet Application Map servlet Context Contexts event Context set new Basic Context Scope Type Contexts session Context set new Session Context new Servlet Request Session Map request Contexts conversation Context set new Basic Context Scope Type public static void end Reinitialization Contexts startup Scope Type Events instance raise Event org jboss seam post Re Initialization Clean up contexts used during reinitialization Contexts destroy Contexts get Conversation Context Contexts conversation Context set null Contexts destroy Contexts get Event Context Contexts event Context set null Contexts session Context set null Contexts application Context set null log debug End re initialization public static void begin Initialization log debug Begin initialization Contexts application Context set new Application Context Lifecycle get Application Contexts event Context set new Basic Context Scope Type Contexts conversation Context set new Basic Context Scope Type public static void end Initialization Contexts startup Scope Type Events instance raise Event org jboss seam post Initialization Clean up contexts used during initialization Contexts destroy Contexts get Conversation Context Contexts conversation Context set null Contexts destroy Contexts get Event Context Contexts event Context set null Contexts session Context set null Contexts application Context set null log debug End initialization public static void begin Application Servlet Context context caching the classloader to servlet Context Weak Reference Class Loader ref new Weak Reference Class Loader Thread current Thread get Context Class Loader context set Attribute seam context class Loader ref log debug Cached the context classloader in servlet Context as seam context class Loader context set Attribute context servlet Context context Lifecycle begin Application new Servlet Application Map context public static void end Application end Application servlet Context public static void end Application Servlet Context context Lifecycle end Application new Servlet Application Map context servlet Context null public static void begin Session Http Session session Lifecycle begin Session new Servlet Session Map session new Servlet Application Map session get Servlet Context public static void end Session Http Session session Lifecycle end Session new Servlet Session Map session new Servlet Application Map session get Servlet Context public static void resume Conversation Http Servlet Request request Server Conversation Context conversation Context new Server Conversation Context new Servlet Request Session Map request Contexts conversation Context set conversation Context Contexts business Process Context set new Business Process Context conversation Context unflush Convenience method that retrieves the servlet context from application scope return the current servlet context public static Servlet Context get Current Servlet Context if Contexts is Application Context Active return servlet Context return Servlet Context Contexts get Application Context get 
package org jboss seam web functions related to the faces servlet mapping and the translation from view Id to and back public class Servlet Mapping String mapping public Servlet Mapping String mapping this mapping mapping public String map View Id To String view Id if mapping ends With return mapping substring mapping length view Id else if mapping starts With int pos view Id last Index Of if pos return view Id substring pos mapping substring return null private String strip Extension String text int pos text last Index Of return pos null text substring pos this method should really be one that converts the base to the view Id but we need default faces extension for that public boolean is Mapped String base String view Id if mapping starts With String base Value strip Extension base String view Value strip Extension view Id return base Value null view Value null base Value equals view Value else if mapping ends With String prefix mapping substring mapping length view Id return base equals prefix return false 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam servlet import java util Collection import java util Enumeration import java util Hash Set import java util Map import java util Set import javax servlet Servlet Request Abstracts the servlet specific request context as a Map author Gavin King public class Servlet Request Map implements Map String Object private Servlet Request request public Servlet Request Map Servlet Request request this request request public void clear throw new Unsupported Operation Exception public boolean contains Key Object key return request get Attribute String key null public boolean contains Value Object value throw new Unsupported Operation Exception public Set java util Map Entry String Object entry Set throw new Unsupported Operation Exception public Object get Object key return request get Attribute String key public boolean is Empty throw new Unsupported Operation Exception public Set String key Set Set String keys new Hash Set String Enumeration String names request get Attribute Names while names has More Elements keys add names next Element return keys public Object put String key Object value Object result request get Attribute key request set Attribute key value return result public void put All Map extends String extends Object t throw new Unsupported Operation Exception public Object remove Object key Object result request get Attribute String key request remove Attribute String key return result public int size throw new Unsupported Operation Exception public Collection Object values throw new Unsupported Operation Exception 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam servlet import java util Collection import java util Collections import java util Enumeration import java util Hash Set import java util Map import java util Set import javax servlet http Http Servlet Request import javax servlet http Http Session Abstracts the servlet specific session context as a Map Actual sessions are created lazily author Gavin King public class Servlet Request Session Map implements Map String Object private Http Servlet Request request public Servlet Request Session Map Http Servlet Request request this request request public void clear throw new Unsupported Operation Exception public boolean contains Key Object key Http Session session request get Session false return session null false session get Attribute String key null public boolean contains Value Object value throw new Unsupported Operation Exception public Set java util Map Entry String Object entry Set throw new Unsupported Operation Exception public Object get Object key Http Session session request get Session false return session null null session get Attribute String key public boolean is Empty throw new Unsupported Operation Exception public Set String key Set Http Session session request get Session false if session null return Collections else Set String keys new Hash Set String Enumeration String names session get Attribute Names while names has More Elements keys add names next Element return keys public Object put String key Object value Http Session session request get Session true Object result session get Attribute key session set Attribute key value return result public void put All Map extends String extends Object t throw new Unsupported Operation Exception public Object remove Object key Http Session session request get Session false if session null return null else Object result session get Attribute String key session remove Attribute String key return result public int size throw new Unsupported Operation Exception public Collection Object values throw new Unsupported Operation Exception 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam servlet import java util Collection import java util Enumeration import java util Hash Set import java util Map import java util Set import javax servlet http Http Session Abstracts the servlet specific application context as a Map author Gavin King public class Servlet Session Map implements Map String Object private Http Session session public Servlet Session Map Http Session session this session session public void clear throw new Unsupported Operation Exception public boolean contains Key Object key return session get Attribute String key null public boolean contains Value Object value throw new Unsupported Operation Exception public Set java util Map Entry String Object entry Set throw new Unsupported Operation Exception public Object get Object key return session get Attribute String key public boolean is Empty throw new Unsupported Operation Exception public Set String key Set Set String keys new Hash Set String Enumeration String names session get Attribute Names while names has More Elements keys add names next Element return keys public Object put String key Object value Object result session get Attribute key session set Attribute key value return result public void put All Map extends String extends Object t throw new Unsupported Operation Exception public Object remove Object key Object result session get Attribute String key session remove Attribute String key return result public int size throw new Unsupported Operation Exception public Collection Object values throw new Unsupported Operation Exception 
package org jboss seam web import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Abstract Mutable Controls Http Session invalidation in any servlet or environment Since Seam keeps internal state in the Http Session it is illegal to call Http Session invalidate while Seam contexts are active Applications using Seam security should call Identity logout instead of calling this component directly author Gavin King Scope Scope Type Name org jboss seam web session Bypass Interceptors Startup public class Session extends Abstract Mutable private boolean is Invalid private boolean invalidate On Scheme Change private String current Scheme Is Http Session invalidation scheduled for the end of this request public boolean is Invalid return is Invalid Schedule Http Session invalidation at the end of the request public void invalidate this is Invalid true set Dirty Should we invalidate the session due to a change in the request scheme param request Scheme the scheme of the current request return true if we should invalidate the session public boolean is Invalid Due To New Scheme String request Scheme if invalidate On Scheme Change if current Scheme null current Scheme request Scheme set Dirty return false else if current Scheme equals request Scheme current Scheme request Scheme set Dirty return true else return false else return false Is session invalidation on scheme change enabled public boolean is Invalidate On Scheme Change return invalidate On Scheme Change Enable or disable session invalidation on scheme change public void set Invalidate On Scheme Change boolean invalidate On Scheme Change set Dirty this invalidate On Scheme Change invalidate On Scheme Change public static Session instance if Contexts is Session Context Active throw new Illegal State Exception No active session context return Session Component get Instance Session class Scope Type public static Session get Instance if Contexts is Session Context Active throw new Illegal State Exception No active session context return Session Component get Instance Session class Scope Type false 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam intercept import javax annotation Post Construct import javax annotation Pre Destroy import javax ejb Post Activate import javax ejb Pre Passivate import javax interceptor Around Invoke import javax interceptor Around Timeout import javax interceptor Invocation Context import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam Component import org jboss seam Seam import org jboss seam annotations Name import org jboss seam annotations intercept Interceptor Type Controller interceptor for server side interceptors of session bean components author Gavin King public class Session Bean Interceptor extends Root Interceptor private static final long serial Version private static final Log Provider log Logging get Log Provider Session Bean Interceptor class public static Thread Local Component new Thread Local Component Called when instantiated by container In this case it might be a Seam component but we wo n t know until post Construct is called public Session Bean Interceptor super Interceptor Type Around Invoke public Object around Invoke Invocation Context invocation throws Exception return invoke new Invocation Context invocation Event Type Around Timeout public Object around Timeout Invocation Context invocation throws Exception return invoke new Invocation Context invocation Event Type Pre Passivate public void pre Passivate Invocation Context invocation invoke And Handle new Invocation Context invocation Event Type Post Activate public void post Activate Invocation Context invocation invoke And Handle new Invocation Context invocation Event Type Pre Destroy public void pre Destroy Invocation Context invocation invoke And Handle new Invocation Context invocation Event Type Post Construct public void post Construct Invocation Context invocation Component invoking Component Session Bean Interceptor get Object bean invocation get Target if invoking Component null invoking Component get Bean Class is Instance bean the session bean was obtained by the application by calling Component get Instance could be a role other than the default role note minor bug here since if we got another instance of the same bean from or while constructing a component or in an interceptor while calling a component this will cause that bean to think it is an instance of the component role rather than the default role if log is Trace Enabled log trace post construct phase for instance of component invoking Component get Name init invoking Component else if bean get Class is Annotation Present Name class the session bean was obtained by the application from or or it was an so assume the default role look at more than just Name consider components xml String default Component Name bean get Class get Annotation Name class value if log is Trace Enabled log trace post construct phase for component instantiated outside Seam assuming default role default Component Name init Seam component For Name default Component Name else if log is Trace Enabled log trace post construct phase for non component bean init Non Seam Component post Construct bean invoke And Handle new Invocation Context invocation Event Type 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam contexts import java util Array List import java util Map import org jboss seam Scope Type import org jboss seam Seam Session context state associated with a user session Session state may be passivated or replicated author Gavin King public class Session Context extends Basic Context public Session Context Map String Object map super Scope Type map Override public String get Names Array List String results new Array List String String prefix Scope Type get Prefix for String name super get Names if name contains prefix results add name return results to Array new String Override public void flush for String name get Names Object attribute get name boolean dirty attribute null Contexts is Attribute Dirty attribute Seam is Entity Class attribute get Class if dirty set name attribute Override public String to String return Session Context 
package org jboss seam transaction import static org jboss seam annotations Install import java util Stack import javax transaction Synchronization import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors This implementation does not have access to the Transaction Manager so it is not fully aware of container managed transaction lifecycle and is not able to register Synchronizations with a container managed transaction author Gavin King Name org jboss seam transaction synchronizations Scope Scope Type Install precedence Bypass Interceptors public class Se Synchronizations implements Synchronizations protected Stack Synchronization Registry synchronizations new Stack Synchronization Registry public void after Transaction Begin synchronizations push new Synchronization Registry public void after Transaction Commit boolean success if synchronizations is Empty synchronizations pop after Transaction Completion success public void after Transaction Rollback if synchronizations is Empty synchronizations pop after Transaction Completion false public void before Transaction Commit if synchronizations is Empty synchronizations peek before Transaction Completion public void register Synchronization Synchronization sync if synchronizations is Empty throw new Illegal State Exception Transaction begin not detected try installing transaction ejb transaction in components xml else synchronizations peek register Synchronization sync public boolean is Aware Of Container Transactions return false 
Id Set Data Model java pete muir jboss org package org jboss seam jsf import java io Exception import java io Object Input Stream import java io Object Output Stream import java io Serializable import java util Abstract Set import java util Array List import java util Iterator import java util List import java util Set import javax faces model Data Model Event import javax faces model Data Model Listener Data Model for sets author Gavin King public class Set Data Model extends javax faces model Data Model implements Serializable private static final long serial Version private int row Index private List entries public Set Data Model public Set Data Model Set set if set null throw new Illegal Argument Exception null set data set Wrapped Data set Override public int get Row Count if entries null return return entries size Override public Object get Row Data if entries null return null if is Row Available throw new Illegal Argument Exception row is unavailable return entries get row Index Override public int get Row Index return row Index Override public Object get Wrapped Data return new Abstract Set Override public Iterator iterator return entries iterator Override public int size return entries size Override public boolean is Row Available return entries null row Index row Index entries size Override public void set Row Index int new Row Index if new Row Index throw new Illegal Argument Exception illegal row Index new Row Index int old Row Index row Index row Index new Row Index if entries null old Row Index new Row Index Object data is Row Available get Row Data null Data Model Event event new Data Model Event this new Row Index data Data Model Listener listeners get Data Model Listeners for int i i listeners length i listeners i row Selected event Override public void set Wrapped Data Object data entries data null null new Array List Set data int row Index data null set Row Index row Index private void write Object Object Output Stream oos throws Exception oos write Int row Index oos write Object entries private void read Object Object Input Stream ois throws Exception Class Not Found Exception row Index ois read Int entries List ois read Object 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam public interface Ship public String get Track public void set Track String track public String ship public String view Task public void destroy 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import javax ejb Remove import javax ejb Stateful import javax validation constraints import org jboss seam annotations bpm Begin Task import org jboss seam annotations bpm End Task import org jboss seam annotations In import org jboss seam annotations Name Stateful Name ship public class Ship Action implements Ship Serializable private static final long serial Version In Order order String track Not Null Size min max public String get Track return track public void set Track String track this track track Begin Task public String view Task return ship End Task public String ship order ship track return admin Remove public void destroy 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import org jboss seam annotations Name An example of a Seam component used to do j assignments This is silly for such a simple case we would not need a component author Gavin King Name shipper Assignment public class Shipper Assignment public String get Pooled Actors return new String shippers admins 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java math Big Decimal import java util List import java util Map public interface Shopping Cart public boolean get Is Empty public void add Product Product product int quantity public List Order Line get Cart Suppress Warnings unchecked public Map get Cart Selection public Big Decimal get Subtotal public Big Decimal get Tax public Big Decimal get Total public void update Cart public void reset Cart public void destroy 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import static org jboss seam Scope Type import java io Serializable import java math Big Decimal import java util Array List import java util Hash Map import java util List import java util Map import javax ejb Remove import javax ejb Stateful import javax persistence Entity Manager import javax persistence Persistence Context import javax persistence Persistence Context Type import org jboss seam annotations Name import org jboss seam annotations Scope Stateful Name cart Scope public class Shopping Cart Bean implements Shopping Cart Serializable static final long serial Version Persistence Context type Persistence Context Type Entity Manager em Order cart Order new Order Map Product Boolean cart Selection new Hash Map Product Boolean public List Order Line get Cart return cart Order get Order Lines public boolean get Is Empty return cart Order is Empty public void add Product Product product int quantity cart Order add Product product quantity cart Order calculate Totals Suppress Warnings unchecked public Map get Cart Selection return cart Selection public Big Decimal get Subtotal return cart Order get Net Amount public Big Decimal get Tax return cart Order get Tax public Big Decimal get Total return cart Order get Total Amount public void update Cart List Order Line new Lines new Array List Order Line for Order Line line cart Order get Order Lines if line get Quantity Boolean selected cart Selection get line if selected null selected new Lines add line cart Order set Order Lines new Lines cart Order calculate Totals cart Selection new Hash Map Product Boolean public void reset Cart cart Order new Order Remove public void destroy 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam public interface Show Orders public String find Orders public String detail Order public String cancel Order public String reset public void destroy 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java io Serializable import java util List import javax ejb Remove import javax ejb Stateful import javax persistence Entity Manager import javax persistence Persistence Context import org jboss seam Scope Type import org jboss seam annotations Begin import org jboss seam annotations End import org jboss seam annotations Factory import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations Out import org jboss seam annotations bpm Resume Process import org jboss seam annotations datamodel Data Model import org jboss seam annotations datamodel Data Model Selection import org jbpm graph exe Process Instance import com jboss dvd seam Order Status Stateful Name showorders public class Show Orders Action implements Show Orders Serializable private static final long serial Version In value current User required false Customer customer Persistence Context Entity Manager em Data Model List Order orders Data Model Selection Out value myorder required false scope Scope Type Order order Begin Factory orders Suppress Warnings unchecked public String find Orders orders em create Query select o from Order o where o customer customer set Parameter customer customer get Result List order null return showorders In required false Process Instance process Instance Resume Process definition Order Management process Key orders row Data order Id public String cancel Order order em merge order em refresh order if order get Status Status return null order set Status Status process Instance signal cancel return find Orders public String detail Order order em merge order em refresh order return showorders End public String reset return null Remove public void destroy 
package org jboss seam ui util cdk License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston import javax faces component State Holder import javax faces context Faces Context import javax faces el Evaluation Exception import javax faces el Method Binding import javax faces el Method Not Found Exception Simple method binding for constant action outcome author asmirnov exadel com latest modification by Author pmuir Deprecated public class Simple Action Method Binding extends Method Binding implements State Holder private static final Log log Log Factory get Log Simple Action Method Binding class private String outcome public Simple Action Method Binding String outcome outcome outcome Override public Object invoke Faces Context facescontext Object aobj throws Evaluation Exception Method Not Found Exception return outcome Override public Class get Type Faces Context facescontext throws Method Not Found Exception return String class State Holder support private boolean transient false Empty constructor so that new instances can be created when restoring state public Simple Action Method Binding outcome null public Object save State Faces Context facescontext return outcome public void restore State Faces Context facescontext Object obj outcome String obj public boolean is Transient return transient public void set Transient boolean flag transient flag Override public String to String return outcome Override public String get Expression String return outcome 
package org jboss seam example wicket import java io Serializable import org apache wicket markup repeater data Data Provider import org apache wicket model Model import org apache wicket model Model public abstract class Simple Data Provider implements Data Provider public Model model Object object return new Model Serializable object public void detach No op 
package org jboss seam test unit entity import java io Serializable import javax persistence Entity import javax persistence Generated Value import javax persistence Id simple entity class that can be used in tests Entity public class Simple Entity implements Serializable private Long id private String name Id Generated Value public Long get Id return id public String get Name return name public void set Id Long id this id id public void set Name String name this name name 
package org jboss seam security import java io Serializable import java security Principal import java security acl Group import java util Collections import java util Enumeration import java util Hash Set import java util Set Implementation of the Group interface used for holding roles etc author Shane Bryzak public class Simple Group implements Group Serializable private static final long serial Version The name of the group private String name The members of this group private Set Principal members new Hash Set Principal public Simple Group String name this name name public boolean add Member Principal user return members add user public boolean is Member Principal member if members contains member return true else for Principal m members if m instanceof Group Group m is Member member return true return false public Enumeration extends Principal members return Collections enumeration members public boolean remove Member Principal user return members remove user public String get Name return name Override public boolean equals Object obj if obj instanceof Simple Group Simple Group other Simple Group obj return other name equals name else return false Override public int hash Code return name hash Code 
package org jboss seam security import java io Serializable import java security Principal Simple implementation of the Principal interface supporting a named user author Shane Bryzak public class Simple Principal implements Principal Serializable private static final long serial Version private String name public Simple Principal String name this name name public String get Name return name Override public boolean equals Object obj if obj instanceof Principal Principal other Principal obj return name null other get Name null name equals other get Name else return false Override public int hash Code return name null name hash Code super hash Code Override public String to String return name 
package org jboss seam webservice import java util Hash Set import java util Iterator import java util Set import javax servlet http Http Servlet Request import javax xml namespace Name import javax xml soap Element import javax xml soap Envelope import javax xml soap Exception import javax xml soap Header import javax xml ws handler Message Context import javax xml ws handler soap Handler import javax xml ws handler soap Message Context import org jboss seam contexts Lifecycle import org jboss seam contexts Servlet Lifecycle import org jboss seam core Conversation Propagation import org jboss seam core Manager import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam servlet Servlet Request Session Map import org jboss seam web Servlet Contexts request handler for controlling Seam s lifecycle and managing conversation propagation author Shane Bryzak public class Request Handler implements Handler The Name of the conversation element in the request header public static final Name new Name http www jboss org seam webservice conversation Id seam private static final Log Provider log Logging get Log Provider Request Handler class private Set Name headers new Hash Set Name private String handler Name Handle inbound and outbound messages param msg Context The message context return boolean true if processing should continue public boolean handle Message Message Context msg Context Boolean outbound Boolean msg Context get Message Context if outbound null throw new Illegal State Exception Can not obtain required property Message Context return outbound handle Outbound msg Context handle Inbound msg Context Inbound message handler Seam contexts should be initialized here and the conversation if present is extracted from the request param message Context The message context return boolean true if processing should continue public boolean handle Inbound Message Context message Context try Http Servlet Request request Http Servlet Request message Context get Message Context Servlet Lifecycle begin Request request Servlet Lifecycle get Servlet Context Servlet Contexts instance set Request request String conversation Id extract Conversation Id message Context Conversation Propagation instance set Conversation Id conversation Id Manager instance restore Conversation Servlet Lifecycle resume Conversation request return true catch Exception ex log error Error handling inbound request ex return false Sets the conversation in the outbound message param message Context The message context return boolean true if processing should continue public boolean handle Outbound Message Context message Context try Http Servlet Request request Http Servlet Request message Context get Message Context String conversation Id Manager instance get Current Conversation Id if conversation Id null Message Context smc Message Context message Context Header header smc get Message get Header if header null Envelope envelope smc get Message get Part get Envelope header envelope add Header Element element header add Child Element element add Text Node conversation Id smc get Message save Changes Manager instance end Request new Servlet Request Session Map request return true catch Exception ex log error Exception processing outbound message ex return false Extracts the conversation from an incoming message param message Context return The conversation or null if there is no conversation set throws Exception private String extract Conversation Id Message Context message Context throws Exception Message Context smc Message Context message Context Header header smc get Message get Header if header null Iterator iter header get Child Elements if iter has Next Element element Element iter next return element get First Child get Node Value return null Called just prior to dispatching a message fault or exception The Seam request lifecycle is ended here public void close Message Context message Context Lifecycle end Request public Set Name get Headers return headers public void set Headers Set Name headers this headers headers public String get Handler Name return handler Name public void set Handler Name String handler Name this handler Name handler Name public boolean handle Fault Message Context messagecontext return true Override public String to String return handler Name null handler Name super to String 
package org jboss seam util import java util Array List import java util List public class Sorter private List Sort Item list null new Array List public List Sort Item sort List Sort Item lst this list lst List Sort Item res new Array List Sort Item Sort Item inmost null do inmost get Inmost if inmost null res add inmost remove inmost while list is Empty inmost null if list is Empty throw new Illegal Argument Exception Can not sort list list return res private void remove Sort Item item list remove item for Sort Item o list o get Within remove item private Sort Item get Inmost Sort Item res null for Sort Item o list if o get Within is Empty nobody Wants Around o res o break return res private boolean nobody Wants Around Sort Item item boolean res true for Sort Item o list if o get Around contains item res false break return res 
package org jboss seam util import java util Array List import java util List public class Sort Item private obj private List Sort Item around new Array List Sort Item private List Sort Item within new Array List Sort Item public Sort Item obj this obj obj public get Obj return obj public void add Around Sort Item item if item null around add item public void add Within Sort Item item if item null within add item public List Sort Item get Around return around public List Sort Item get Within return within 
package org jboss seam ui renderkit import java io Exception import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam ui component Span import org jboss seam ui component Style import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui Span Renderer family org jboss seam ui Span Renderer public class Span Renderer Base extends Style Renderer Base Override protected Class get Component Class return Span class Override public void end Element Response Writer writer throws Exception writer end Element span Override protected void do Encode Begin Response Writer writer Faces Context context Component component throws Exception Span span Span component start Element writer span writer write Attribute id component get Client Id context id if span get Style Class null writer write Attribute class span get Style Class style Class if span get Style null writer write Attribute style span get Style style if span get Title null writer write Attribute title span get Title title Override public void start Element Response Writer writer Style style throws Exception writer start Element span style 
package org jboss seam example ui import org jboss seam annotations Name import org jboss seam annotations Unwrap Name span Title public class Span Title Unwrap public String unwrap return Span title 
package org jboss seam drools import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Byte Array Input Stream import java io Input Stream import java io Input Stream Reader import org drools decisiontable Input Type import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam log Log Provider import org jboss seam log Logging Compiles Drools Decision Table author Tihomir Surdilovic Name org jboss seam drools spreadsheet Component Bypass Interceptors Scope Install precedence class Dependencies org drools decisiontable Spreadsheet Compiler public class Spreadsheet Compiler private static final Log Provider log Logging get Log Provider Spreadsheet Compiler class public Input Stream Reader compile Input Stream stream org drools decisiontable Spreadsheet Compiler compiler new org drools decisiontable Spreadsheet Compiler String drl compiler compile stream Input Type byte current Bytes drl get Bytes Input Stream Reader source new Input Stream Reader new Byte Array Input Stream current Bytes return source public static Spreadsheet Compiler instance if Contexts is Application Context Active return new Spreadsheet Compiler else return Spreadsheet Compiler Component get Instance Spreadsheet Compiler class Scope Type 
package org jboss seam ioc spring import java util Collections import java util Hash Map import java util List import java util Map import org jboss seam Component import org jboss seam Scope Type import org jboss seam contexts Contexts import org jboss seam contexts Lifecycle import org jboss seam init Initialization import org jboss seam ioc Io Component import org springframework aop framework Advised import org springframework beans Fatal Bean Exception import org springframework beans factory Bean Factory import org springframework beans factory Object Factory import org springframework util Class Utils An extension of Component that allows spring to provide the base instance for a seam component author youngm public class Spring Component extends Io Component private static final String org jboss seam Spring Component Name Map public static final String Io Component class get Name private Bean Factory beanfactory private Boolean interception Enabled private String spring Bean Name private static final Thread Local Object Factory object Factory new Thread Local Object Factory public static Object Factory get Object Factory return object Factory get public static void set Object Factory Object Factory bean object Factory set bean Utility to add a Spring Component to the seam component Application Context param component Name the seam component name to use param spring Bean Name the spring bean name to map to this seam component param bean Class Name the seam bean Class to use param scope Type the scope of this component param bean Factory the beanfactory this spring bean exists in param intercept the Interceptor Typ to force the bean to use Will override any annotations on the bean public static void add Spring Component String component Name String spring Bean Name String bean Class Name Scope Type scope Type Bean Factory bean Factory Boolean intercept mock the application context reuse boolean unmock Application false if Contexts is Application Context Active Lifecycle setup Application unmock Application true try if Component for Name component Name null throw new Illegal State Exception Can not add spring component to seam with name component Name There is already a seam component with that name Map String String spring Component Name Map get Spring Component Name Map Add an entry to the spring seam name association map spring Component Name Map put spring Bean Name component Name Class bean Class Class Utils for Name bean Class Name Add the component to seam Contexts get Application Context set component Name Initialization new Spring Component bean Class component Name spring Bean Name scope Type bean Factory intercept catch Class Not Found Exception e throw new Fatal Bean Exception Error e finally if unmock Application Lifecycle cleanup Application Suppress Warnings unchecked private static Map String String get Spring Component Name Map if Contexts get Application Context get null Contexts get Application Context set new Hash Map String String return Map String String Contexts get Application Context get Just like Component for Name but mocks the application Context and you provide it with the spring bean name instead of the seam component name param spring Bean Name the spring bean name return the Spring Component mapped to that spring bean name public static Spring Component for Spring Bean Name String spring Bean Name reuse boolean unmock Application false if Contexts is Application Context Active Lifecycle setup Application unmock Application true try return Spring Component Component for Name get Spring Component Name Map get spring Bean Name finally if unmock Application Lifecycle cleanup Application Creates a Spring Seam Component given a bean Factory param clazz the seam bean Class to use param component Name component name param spring Bean Name the spring bean name param scope component scope param factory the beanfactory this spring component should use param intercept the interception type public Spring Component Class clazz String component Name String spring Bean Name Scope Type scope Bean Factory factory Boolean intercept super clazz component Name scope this spring Bean Name spring Bean Name this beanfactory factory this interception Enabled intercept Override protected String get Io Name return Spring Override protected Object instantiate Io Bean throws Exception Object Factory object Factory get Object Factory if object Factory null return beanfactory get Bean spring Bean Name set Object Factory null return object Factory get Object Calls the spring destroy callback when seam destroys the component see org jboss seam Component call Destroy Method Object Override public void destroy Object instance super destroy instance Can not call the callback on a bean because we have no way of storing it if get Scope Scope Type Runnable callback Runnable get Scope get Context get get Name if callback null callback run Registers a destruction callback with this bean param name bean name param destroy the destroy to set public void register Destroy Callback String name Runnable destroy Not sure yet how to register a stateless bean s Destruction callback if get Scope Scope Type get Scope get Context set name destroy Overrides Components inject to unwrap all of the spring layers so that fields can be injected into this bean see org jboss seam Component inject java lang Object boolean Override public void inject Object bean boolean enforce Required if bean instanceof Advised try inject Advised bean get Target Source get Target enforce Required catch Runtime Exception e throw e catch Exception e throw new Runtime Exception e super inject bean enforce Required Use the Interception Type override if available otherwise use the annotation or seam default see org jboss seam Component is Interception Enabled Override public boolean is Interception Enabled if interception Enabled null return super is Interception Enabled return interception Enabled Override protected void check Synchronized For Component Type Override protected void check Persistence Context For Component Type Ignore Persistence Context Attributes if scope is stateless Override public List Bijected Attribute get Persistence Context Attributes if get Scope equals Scope Type return Collections empty List return super get Persistence Context Attributes 
package org jboss seam ioc spring import java beans Feature Descriptor import java util Iterator import javax el Composite Resolver import javax el Context import javax el Resolver import javax servlet Servlet Context import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Startup import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Servlet Lifecycle import org jboss seam el import org jboss seam log Log Provider import org jboss seam log Logging import org springframework beans factory Bean Factory import org springframework web context support Web Application Context Utils Resolver patterned after the Spring Delegating Variable Resolver providing el access to Spring beans in non Faces Requests author youngstrommj Scope Scope Type Name org jboss seam ioc spring spring Resolver Install precedence Install class Dependencies org springframework beans factory Bean Factory Startup Bypass Interceptors public class Spring Resolver extends Resolver private static final Log Provider log Logging get Log Provider Spring Resolver class Create public void initialize Resolver resolver if resolver null resolver instanceof Composite Resolver throw new Illegal State Exception Could not add Spring Resolver to Resolver Chain Seam resolver was not an instance of Composite Resolver Composite Resolver resolver add this Override public Class get Common Property Type Context context Object base return null Override public Iterator Feature Descriptor get Feature Descriptors Context context Object base return null Override public Class get Type Context context Object base Object property return null Override public Object get Value Context context Object base Object property if base null We only resolve root variable return null Servlet Context servlet Context Servlet Lifecycle get Servlet Context if servlet Context null log debug Could not locate seam stored servlet Context Skipping return null Bean Factory bf get Bean Factory servlet Context if bf null log debug No Spring Bean Factory found Skipping return null if property instanceof String log debug Property not a string Skipping return null if bf contains Bean String property if log is Debug Enabled log debug Successfully resolved property property in root Web Application Context context set Property Resolved true return bf get Bean String property if log is Debug Enabled log debug Could not resolve property of name property return null Override public boolean is Read Only Context context Object base Object property return true Override public void set Value Context context Object base Object property Object value Obtain the Bean Factory using Web Application Contextx Utils get Web Application Context protected Bean Factory get Bean Factory Servlet Context servlet Context return Web Application Context Utils get Web Application Context servlet Context 
package org jboss seam ioc spring import static org jboss seam annotations Install import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam async Abstract Dispatcher import org jboss seam async Asynchronous import org jboss seam async Asynchronous Event import org jboss seam async Asynchronous Invocation import org jboss seam async Dispatcher import org jboss seam async Schedule import org jboss seam async Timer Schedule import org jboss seam core Expressions Value Expression import org jboss seam intercept Invocation Context import org springframework core task Task Executor Dispatcher that can utilizes Spring Task Executors for non scheduled asynchronous events but defer to another Scheduled Dispatcher for Scheduled asynchronous events author Mike Youngstrom Scope Scope Type Name org jboss seam async dispatcher Install value false precedence public class Spring Task Executor Dispatcher extends Schedule extends Abstract Dispatcher private Value Expression Dispatcher schedule Dispatcher private Value Expression Task Executor task Executor public schedule Asynchronous Event String type Object parameters task Executor get Value execute new Runnable Asynchronous new Asynchronous Event type parameters return null public schedule Invocation Invocation Context invocation Component component Schedule schedule create Schedule invocation if Timer Schedule equals schedule return get Schedule Dispatcher schedule Invocation invocation component task Executor get Value execute new Runnable Asynchronous new Asynchronous Invocation invocation component return null public schedule Timed Event String type schedule Object parameters return get Schedule Dispatcher schedule Timed Event type schedule parameters protected Dispatcher get Schedule Dispatcher Dispatcher dispatcher schedule Dispatcher null null schedule Dispatcher get Value if dispatcher null throw new Illegal State Exception Spring Task Executor Dispatcher does not support scheduled Events Provide a fallback schedule Dispatcher for timed events return dispatcher The dispatcher to handle scheduled events param schedule Dispatcher public void set Schedule Dispatcher Value Expression Dispatcher schedule Dispatcher this schedule Dispatcher schedule Dispatcher The Spring Task Executor to handle immediate asynchronous events param task Executor public void set Task Executor Value Expression Task Executor task Executor this task Executor task Executor Same as the one in Thread Pool Dispatcher Perhaps area for reuse static class Runnable Asynchronous implements Runnable private Asynchronous async Runnable Asynchronous Asynchronous async this async async public void run async execute null 
package org jboss seam ioc spring import static org jboss seam annotations Install import javax persistence Entity Manager import javax transaction Heuristic Mixed Exception import javax transaction Heuristic Rollback Exception import javax transaction Not Supported Exception import javax transaction Rollback Exception import javax transaction Status import javax transaction Synchronization import javax transaction System Exception import org jboss seam Scope Type import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Servlet Lifecycle import org jboss seam core Expressions Value Expression import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam transaction Abstract User Transaction import org jboss seam transaction Synchronizations import org springframework beans factory Bean Factory import org springframework orm jpa Jpa Transaction Manager import org springframework transaction Platform Transaction Manager import org springframework transaction Transaction Status import org springframework transaction support Default Transaction Definition import org springframework transaction support Transaction Synchronization Manager import org springframework web context support Web Application Context Utils Name org jboss seam transaction transaction Scope Scope Type Install value false precedence Bypass Interceptors public class Spring Transaction extends Abstract User Transaction private static final Log Provider log Logging get Log Provider Spring Transaction class private Value Expression Platform Transaction Manager platform Transaction Manager private String platform Transaction Manager Name private Default Transaction Definition definition new Default Transaction Definition private boolean conversation Context Required true private Transaction Status current Transaction private Boolean join Transaction Override public void register Synchronization Synchronization sync get Synchronizations register Synchronization sync public void begin throws Not Supported Exception System Exception log debug beginning Spring transaction if Transaction Synchronization Manager is Actual Transaction Active throw new Not Supported Exception Spring transaction is already active current Transaction get Platform Transaction Manager Required get Transaction definition get Synchronizations after Transaction Begin Obtains a Platform Transaction Manager from either the name or expression specified protected Platform Transaction Manager get Platform Transaction Manager if platform Transaction Manager Name null equals platform Transaction Manager Name platform Transaction Manager null platform Transaction Manager Name null equals platform Transaction Manager Name platform Transaction Manager null throw new Illegal Argument Exception When configuring spring spring transaction you must specify either platform Transaction Manager or platform Transaction Manager Name if platform Transaction Manager Name null equals platform Transaction Manager Name return platform Transaction Manager get Value Bean Factory bean Factory find Bean Factory if bean Factory null log debug Bean Factory either not found or not yet available return null Platform Transaction Manager ptm Platform Transaction Manager bean Factory get Bean platform Transaction Manager Name return ptm private Platform Transaction Manager get Platform Transaction Manager Required Platform Transaction Manager ptm get Platform Transaction Manager if ptm null throw new Illegal State Exception Unable to find Platform Transaction Manager return ptm Attempts to find a Bean Factory and return the instance found return Bean Factory or null if non found protected Bean Factory find Bean Factory return Web Application Context Utils get Web Application Context Servlet Lifecycle get Servlet Context public void commit throws Rollback Exception Heuristic Mixed Exception Heuristic Rollback Exception Security Exception Illegal State Exception System Exception log debug committing Spring transaction assert Active boolean success false Synchronizations synchronizations get Synchronizations synchronizations before Transaction Commit try get Platform Transaction Manager Required commit current Transaction success true finally current Transaction null synchronizations after Transaction Commit success public int get Status throws System Exception Platform Transaction Manager ptm get Platform Transaction Manager if ptm null return Status if Transaction Synchronization Manager is Actual Transaction Active Transaction Status transaction null try if current Transaction null transaction ptm get Transaction definition if transaction is New Transaction return Status else transaction current Transaction If Synchronization Manager thinks it has an active transaction but our transaction is a new one then we must be in the middle of committing if transaction is Completed if transaction is Rollback Only return Status return Status else if transaction is Rollback Only return Status return Status finally if current Transaction null ptm commit transaction return Status public void rollback throws Illegal State Exception Security Exception System Exception log debug rolling back Spring transaction assert Active try get Platform Transaction Manager Required rollback current Transaction finally current Transaction null get Synchronizations after Transaction Rollback private void assert Active if Transaction Synchronization Manager is Actual Transaction Active current Transaction null throw new Illegal State Exception No transaction currently active that Seam started Seam should only be able to committ or rollback transactions it started public void set Rollback Only throws Illegal State Exception System Exception if Transaction Synchronization Manager is Actual Transaction Active throw new Illegal State Exception No Spring Transaction is currently available Transaction Status transaction null Platform Transaction Manager ptm get Platform Transaction Manager Required try if current Transaction null transaction ptm get Transaction definition else transaction current Transaction transaction set Rollback Only finally if current Transaction null ptm commit transaction public void set Transaction Timeout int timeout throws System Exception if Transaction Synchronization Manager is Actual Transaction Active can not set timeout on already running transaction return definition set Timeout timeout Override public void enlist Entity Manager entity Manager throws System Exception if join Transaction null If not set attempt to detect if we should join or not if get Platform Transaction Manager Required instanceof Jpa Transaction Manager super enlist entity Manager else if join Transaction super enlist entity Manager Destroy public void cleanup Current Transaction if current Transaction null try log debug Attempting to rollback left over transaction Should never be called get Platform Transaction Manager Required rollback current Transaction catch Throwable e ignore public void set Platform Transaction Manager Value Expression Platform Transaction Manager platform Transaction Manager this platform Transaction Manager platform Transaction Manager public void set Platform Transaction Manager Name String platform Transaction Manager Name this platform Transaction Manager Name platform Transaction Manager Name Override public boolean is Conversation Context Required return conversation Context Required public void set Conversation Context Required boolean conversation Context Required this conversation Context Required conversation Context Required public void set Join Transaction Boolean join Transaction this join Transaction join Transaction 
package org jboss seam deployment import java io File import java util Collections import java util Hash Set import java util Map import java util Set import javax servlet Servlet Context import org jboss seam contexts Contexts The standard deployment strategy used with Seam deploys non hot deployable Seam components and namespaces author Pete Muir public class Standard Deployment Strategy extends Deployment Strategy private Class Loader class Loader private Servlet Context servlet Context The files used to identify a Seam archive public static final String seam properties seam properties components xml The contextual variable name this deployment strategy is made available at during Seam startup public static final String deployment Strategy The key under which to list extra deployment handlers This can be specified as a System property or in seam deployment properties public static final String org jboss seam deployment deployment Handlers private Component Deployment Handler component Deployment Handler private Components Xml Deployment Handler components Xml Deployment Handler private Namespace Deployment Handler namespace Deployment Handler private Annotation Deployment Handler annotation Deployment Handler private Dot Component Dot Xml Deployment Handler dot Component Dot Xml Deployment Handler param class Loader The classloader used to load and handle resources public Standard Deployment Strategy Class Loader class Loader Servlet Context servlet Context this class Loader Thread current Thread get Context Class Loader this servlet Context servlet Context component Deployment Handler new Component Deployment Handler get Deployment Handlers put Component Deployment Handler component Deployment Handler components Xml Deployment Handler new Components Xml Deployment Handler get Deployment Handlers put Components Xml Deployment Handler components Xml Deployment Handler dot Component Dot Xml Deployment Handler new Dot Component Dot Xml Deployment Handler get Deployment Handlers put Dot Component Dot Xml Deployment Handler dot Component Dot Xml Deployment Handler namespace Deployment Handler new Namespace Deployment Handler get Deployment Handlers put Namespace Deployment Handler namespace Deployment Handler annotation Deployment Handler new Annotation Deployment Handler new Seam Deployment Properties class Loader get Property Values Annotation Deployment Handler class Loader get Deployment Handlers put Annotation Deployment Handler annotation Deployment Handler Override public Class Loader get Class Loader return class Loader Override protected String get Deployment Handlers Key return Get all annotated components known to this strategy public Set Class Descriptor get Annotated Components return Collections unmodifiable Set component Deployment Handler get Classes Get all defined throught components xml and component xml components public Set File Descriptor get Xml Components Set File Descriptor file Descriptors new Hash Set File Descriptor file Descriptors add All components Xml Deployment Handler get Resources file Descriptors add All dot Component Dot Xml Deployment Handler get Resources return Collections unmodifiable Set file Descriptors Get all scanned and handled Seam namespaces public Set Package get Scanned Namespaces return Collections unmodifiable Set namespace Deployment Handler get Packages public Map String Set Class get Annotated Classes return Collections unmodifiable Map annotation Deployment Handler get Class Map Override public void scan get Scanner scan Resources get Scanner scan Directories get Files to Array new File post Scan public static Standard Deployment Strategy instance if Contexts get Event Context is Set return Standard Deployment Strategy Contexts get Event Context get return null Override public Servlet Context get Servlet Context return servlet Context 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations bpm import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target import org jboss seam annotations Flush Mode Type Marks a method as causing j link org jbpm taskmgmt exe Task Instance task to be started The j link org jbpm context exe Context Instance is associated with the scope and the link org jbpm taskmgmt exe Task Instance is associated with a new conversation unless the annotated method returns a null outcome p Note that both link Begin Task and link Start Task have effect before invocation of the intercepted method in that they are both about setting up appropriate link org jbpm context exe Context Instance for the current link org jboss seam contexts Business Process Context link Start Task however also has effect after method invocation as that is the time it actually marks the task as started see org jbpm taskmgmt exe Task Instance start author Steve Ebersole Target Retention Documented public interface Start Task The name of the request parameter under which we should locate the the id of task to be started String task Id Parameter default An expression that evaluates to the task id return an expression String task Id default param task Id The name of the j process definition defining the page flow for this conversation String pageflow default An expression for the conversation id If a conversation with the same id aready exists Seam will redirect to that conversation deprecated use conversation in pages xml String id default Set the Flush Mode for any Entity Manager used in this conversation Flush Mode Type flush Mode default Flush Mode Type 
Id Startup java gavin package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Specifies that an instance of this component is created at system initialization time for an application scoped component or when a session is started for a session scoped component May only be applied to or scoped components author Gavin King Target Retention Documented public interface Startup list of other Seam Components that should be started before this one if they are installed If applied to an scope component the dependant components should be scope If applied to a scope component the components should be in scope String depends default 
package org jboss seam wicket ioc import java io Serializable public interface Stateless Interceptor extends Serializable public void before Invoke Invocation Context invocation Context public Object after Invoke Invocation Context invocation Context Object result public Exception handle Exception Invocation Context invocation Context Exception exception 
package com sun facelets import java io Writer import java lang reflect import javax faces context Response Writer This is a hack to instantiate a thread local object that Facelets uses to write the into the response when directed by The is written in the case when there is a form on the page This hack is necessary since we are not calling Facelets in the normal way and hence it is not completely initialized public class State Writer Control final static String com sun faces facelets State Writer static Class get State Writer try return Class for Name catch Exception e throw new Runtime Exception Could not load class com sun faces facelets State Writer using reflection e public static void initialize Writer writer try Class sw get State Writer Constructor constructor sw get Constructor Writer class int class constructor set Accessible true constructor new Instance writer catch Exception e throw new Runtime Exception Could not initilise com sun faces facelets State Writer using reflection e public static Response Writer create Clone Response Writer writer try Class sw get State Writer Method meth sw get Method get Current Instance meth set Accessible true Writer w Writer meth invoke null return writer clone With Writer w catch Exception e throw new Runtime Exception Could not create clone of com sun faces facelets State Writer using reflection e public static boolean is State Written try Class sw get State Writer Method meth sw get Method get Current Instance meth set Accessible true Object o meth invoke null Method inst Meth sw get Method is State Written inst Meth set Accessible true return Boolean inst Meth invoke o catch Exception e throw new Runtime Exception Could not call is State Written on com sun faces facelets State Writer using reflection e public static String get And Reset Buffer try Class sw get State Writer Method meth sw get Method get Current Instance meth set Accessible true Object o meth invoke null Method inst Meth sw get Method get And Reset Buffer inst Meth set Accessible true return String inst Meth invoke o catch Exception e throw new Runtime Exception Could not call get And Reset Buffer on com sun faces facelets State Writer using reflection e public static void release try Class sw get State Writer Method meth sw get Method get Current Instance meth set Accessible true Object o meth invoke null Method inst Meth sw get Method release inst Meth set Accessible true inst Meth invoke o catch Exception e throw new Runtime Exception Could not call release on com sun faces facelets State Writer using reflection e 
package org jboss seam international import java io Serializable import java util Missing Resource Exception import java util Resource Bundle import org jboss seam core Interpolator import org jboss seam core Seam Resource Bundle import org jboss seam util Strings status message which can be created in the business layer and displayed in the view layer author Pete Muir public class Status Message implements Serializable The severity of the status message public enum Severity private String summary Template private String summary private String detail Template private String detail private Severity severity Severity Create a status message looking up the message in the resource bundle using the provided key If the message is found it is used otherwise the default Message Template will be used public Status Message Severity severity String key String detail Key String default Message Template String default Message Detail Template this summary Template get Bundle Message key default Message Template this detail Template get Bundle Message detail Key default Message Detail Template if Strings is Empty summary Template this severity severity public boolean is Empty return Strings is Empty summary Strings is Empty summary Template public void interpolate Object params if Strings is Empty summary Template this summary Interpolator instance interpolate summary Template params if Strings is Empty detail Template this detail Interpolator instance interpolate detail Template params Get the message public String get Summary return summary Get the message severity public Severity get Severity return severity public String get Detail return detail public static String get Bundle Message String key String default Message Template String message Template default Message Template if key null Resource Bundle resource Bundle Seam Resource Bundle get Bundle if resource Bundle null try String bundle Message resource Bundle get String key if bundle Message null message Template bundle Message catch Missing Resource Exception mre swallow return message Template Override public String to String return severity summary detail 
package org jboss seam international import static org jboss seam international Status Message Severity import static org jboss seam international Status Message Severity import java io Serializable import java util Array List import java util Hash Map import java util List import java util Map import java util Set import javax validation Constraint Violation import org jboss seam Component import org jboss seam international Status Message Severity Abstract base class for providing status messages View layers should provide a concrete implementation author Pete Muir public abstract class Status Messages implements Serializable private static final long serial Version public static final String org jboss seam international status Messages private List Status Message messages new Array List Status Message private Map String List Status Message keyed Messages new Hash Map String List Status Message private transient List Runnable tasks protected List Status Message get Messages return messages protected Map String List Status Message get Keyed Messages return keyed Messages Clear all status messages public void clear messages clear keyed Messages clear public void clear Keyed Messages String id keyed Messages remove id public void clear Global Messages messages clear Add a status message looking up the message in the resource bundle using the provided key If the message is found it is used otherwise the default Message Template will be used You can also specify the severity and parameters to be interpolated public void add Severity severity String key String detail Key String message Template String message Detail Template final Object params final Status Message message new Status Message severity key detail Key message Template message Detail Template if message is Empty messages add message get Tasks add new Runnable public void run message interpolate params Add a status message looking up the message in the resource bundle using the provided key If the message is found it is used otherwise the default Message Template will be used The message will be added to the widget specified by the The algorithm used determine which widget the id refers to is determined by the view layer implementation in use You can also specify the severity and parameters to be interpolated public void add To Control String id Severity severity String key String message Template final Object params final Status Message message new Status Message severity key null message Template null if message is Empty if keyed Messages contains Key id keyed Messages get id add message else List Status Message list new Array List Status Message list add message keyed Messages put id list get Tasks add new Runnable public void run message interpolate params Create a new status message with the message Template is as the message severity of will be used and you can specify paramters to be interpolated public void add String message Template Object params add message Template params Create a new status message with the message Template is as the message You can also specify the severity and parameters to be interpolated public void add Severity severity String message Template Object params add severity null null message Template null params Create a new status message with the message Template is as the message The message will be added to the widget specified by the The algorithm used determine which widget the id refers to is determined by the view layer implementation in use severity of will be used and you can specify parameters to be interpolated public void add To Control String id String message Template Object params add To Control id null message Template params Create a new status message with the message Template is as the message The message will be added to the widget specified by the The algorithm used determine which widget the id refers to is determined by the view layer implementation in use You can also specify the severity and parameters to be interpolated public void add To Control String id Severity severity String message Template Object params add To Control id severity null message Template params Add a status message looking up the message in the resource bundle using the provided key If the message is found it is used otherwise the default Message Template will be used severity of will be used and you can specify parameters to be interpolated public void add From Resource Bundle String key Object params add From Resource Bundle key params Add a status message looking up the message in the resource bundle using the provided key You can also specify the severity and parameters to be interpolated public void add From Resource Bundle Severity severity String key Object params add From Resource Bundle Or Default severity key key params Add a status message looking up the message in the resource bundle using the provided key If the message is found it is used otherwise the default Message Template will be used severity of will be used and you can specify parameters to be interpolated public void add From Resource Bundle Or Default String key String default Message Template Object params add From Resource Bundle Or Default key default Message Template params Add a status message looking up the message in the resource bundle using the provided key If the message is found it is used otherwise the default Message Template will be used You can also specify the severity and parameters to be interpolated public void add From Resource Bundle Or Default Severity severity String key String default Message Template Object params add severity key null default Message Template null params Create a new status message looking up the message in the resource bundle using the provided key The message will be added to the widget specified by the The algorithm used determine which widget the id refers to is determined by the view layer implementation in use severity of will be used and you can specify parameters to be interpolated public void add To Control From Resource Bundle String id String key Object params add To Control From Resource Bundle id key params Create a new status message looking up the message in the resource bundle using the provided key The message will be added to the widget specified by the The algorithm used determine which widget the id refers to is determined by the view layer implementation in use You can also specify the severity and parameters to be interpolated public void add To Control From Resource Bundle String id Severity severity String key Object params add To Control From Resource Bundle Or Default id severity key key params Add a status message looking up the message in the resource bundle using the provided key If the message is found it is used otherwise the default Message Template will be used The message will be added to the widget specified by the The algorithm used determine which widget the id refers to is determined by the view layer implementation in use severity of will be used and you can specify parameters to be interpolated public void add To Control From Resource Bundle Or Default String id String key String default Message Template Object params add To Control From Resource Bundle Or Default id key default Message Template params Add a status message looking up the message in the resource bundle using the provided key If the message is found it is used otherwise the default Message Template will be used The message will be added to the widget specified by the The algorithm used determine which widget the id refers to is determined by the view layer implementation in use You can also specify the severity and parameters to be interpolated public void add To Control From Resource Bundle Or Default String id Severity severity String key String default Message Template Object params add To Control id severity key default Message Template params Add an array of Invalid Values from Hibernate Validator Each message will be added with a severity of public void add Set Constraint Violation Object constraint Violations for Constraint Violation Object constraint Violation constraint Violations add constraint Violation Add an array of Invalid Values from Hibernate Validator Each message will be added with a severity of The name of the property that was validated will be used as the widget public void add To Controls Set Constraint Violation Object constraint Violations for Constraint Violation Object constraint Violation constraint Violations add To Control constraint Violation Add an Invalid Value from Hibernate Validator The message will be added with a severity of public void add Constraint Violation Object constraint Violation add constraint Violation get Message Add an Invalid Value from Hibernate Validator The message will be added with a severity of The name of the property that was validated will be used as the widget public void add To Control Constraint Violation Object constraint Violation add To Control constraint Violation get Invalid Value to String constraint Violation Add an Invalid Value from Hibernate Validator The message will be added with a severity of You can also specify the id of the widget to add the message to public void add To Control String id Constraint Violation Object constraint Violation add To Control id constraint Violation get Message private List Runnable get Tasks if tasks null tasks new Array List Runnable return tasks protected static void run Tasks Component component Component for Name Status Messages if component null component get Scope is Context Active return Attempting to get the instance anyway for backwards compatibility with some potential hack situations Status Messages status Messages instance if status Messages null status Messages do Run Tasks protected void do Run Tasks if tasks null for Runnable task tasks task run tasks clear public static Status Messages instance Component component Component for Name Status Messages if component null component get Scope is Context Active throw new Illegal State Exception No active component get Scope name context Attempting to get the instance anyway for backwards compatibility with some potential hack situations return Status Messages Component get Instance 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java math Big Decimal import javax ejb Local Local public interface Store Manager public long get Number Orders public long get Units Sold public long get Total Inventory public Big Decimal get Total Sales 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package com jboss dvd seam import java math Big Decimal import java io Serializable import javax ejb Stateless import javax persistence Entity Manager import javax persistence No Result Exception import javax persistence Persistence Context import org jboss seam annotations Name Stateless Name stats public class Store Manager Bean implements Store Manager Serializable private static final long serial Version Persistence Context Entity Manager em public long get Number Orders return Long em create Query select count o from Order o where o status status set Parameter status Order Status get Single Result public Big Decimal get Total Sales try Big Decimal total Sales Big Decimal em create Query select sum o total Amount from Order o where o status status set Parameter status Order Status get Single Result return total Sales null Big Decimal total Sales catch No Result Exception e return Big Decimal public long get Units Sold try return Long em create Query select sum i sales from Inventory i get Single Result catch No Result Exception e return public long get Total Inventory try return Long em create Query select sum i quantity from Inventory i get Single Result catch No Result Exception e return 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam util import java beans Introspector import java beans Property Descriptor import java io Exception import java io Input Stream import java util String Tokenizer author a href mailto theute jboss org Thomas Heute a public class Strings public static String unqualify String name return unqualify name public static String unqualify String name char sep return name substring name last Index Of sep name length public static boolean is Empty String string int len if string null len string length return true for int i i len i if Character is Whitespace string char At i false return false return true public static String null If Empty String string return is Empty string null string public static String empty If Null String string return string null string public static String to String Object component try Property Descriptor props Introspector get Bean Info component get Class get Property Descriptors String Builder builder new String Builder for Property Descriptor descriptor props builder append descriptor get Name append append descriptor get Read Method invoke component append return builder to String catch Exception e return public static String split String strings String delims if strings null return new String else String Tokenizer tokens new String Tokenizer strings delims String result new String tokens count Tokens int i while tokens has More Tokens result i tokens next Token return result public static String to String Object objects return to String objects public static String to String String sep Object objects if objects length return String Builder builder new String Builder for Object object objects builder append sep append object return builder substring sep length public static String to Class Name String String sep Object objects if objects length return String Builder builder new String Builder for Object object objects builder append sep if object null builder append null else builder append object get Class get Name return builder substring sep length public static String to String String sep Class classes if classes length return String Builder builder new String Builder for Class clazz classes builder append sep append clazz get Name return builder substring sep length public static String to String Input Stream in throws Exception final String Builder out new String Builder final byte b new byte for int n n in read b out append new String b n return out to String 
package org jboss seam remoting wrapper import java io Exception import java io Output Stream import java io Unsupported Encoding Exception import java lang reflect Type import java math Big Decimal import java math Big Integer import java net Decoder import java net Encoder import java util Hash Map import java util Map String wrapper class author Shane Bryzak public class String Wrapper extends Base Wrapper implements Wrapper private interface String Converter Object convert String value private static final Map Class String Converter converters new Hash Map Class String Converter static converters put String class new String Converter public Object convert String value return value converters put Object class new String Converter public Object convert String value return value converters put String Builder class new String Converter public Object convert String value return new String Builder value converters put String Buffer class new String Converter public Object convert String value return new String Buffer value converters put Integer class new String Converter public Object convert String value return Integer value Of value converters put Integer new String Converter public Object convert String value return Integer parse Int value converters put Long class new String Converter public Object convert String value return Long value Of value converters put Long new String Converter public Object convert String value return Long parse Long value converters put Short class new String Converter public Object convert String value return Short value Of value converters put Short new String Converter public Object convert String value return Short parse Short value converters put Boolean class new String Converter public Object convert String value return Boolean value Of value converters put Boolean new String Converter public Object convert String value return Boolean parse Boolean value converters put Double class new String Converter public Object convert String value return Double value Of value converters put Double new String Converter public Object convert String value return Double parse Double value converters put Float class new String Converter public Object convert String value return Float value Of value converters put Float new String Converter public Object convert String value return Float parse Float value converters put Character class new String Converter public Object convert String value return Character value Of value char At converters put Character new String Converter public Object convert String value return value char At converters put Byte class new String Converter public Object convert String value return Byte value Of value converters put Byte new String Converter public Object convert String value return Byte parse Byte value converters put Big Integer class new String Converter public Object convert String value return new Big Integer value converters put Big Decimal class new String Converter public Object convert String value return new Big Decimal value public static final String private static final byte str get Bytes private static final byte str get Bytes private static final Class Integer class Integer Long class Long Short class Short Boolean class Boolean Double class Double Float class Float Character class Character Byte class Byte Big Integer class Big Decimal class Object class public Object convert Type type throws Conversion Exception String element Value null try element Value Decoder decode element get String Value catch Unsupported Encoding Exception ex throw new Conversion Exception Error converting value encoding not supported try if converters contains Key type value converters get type convert element Value else if type instanceof Class Class type is Enum value Enum value Of Class type element Value else Should never reach this line calc Converstion Score should guarantee this throw new Conversion Exception String format Value s can not be converted to type s element Value type return value catch Exception ex if ex instanceof Conversion Exception throw Conversion Exception ex else throw new Conversion Exception String format Could not convert value s to type s element Value type to String ex public Conversion Score conversion Score Class cls if cls equals String class String Buffer class is Assignable From cls return Conversion Score exact for Class c if cls equals c return Conversion Score compatible if cls is Enum try String element Value Decoder decode element get String Value Enum value Of cls element Value return Conversion Score compatible catch Illegal Argument Exception ex catch Unsupported Encoding Exception ex return Conversion Score nomatch public void marshal Output Stream out throws Exception out write out write Encoder encode value to String replace get Bytes out write 
package org jboss seam excel css import java util Hash Map Utility class Not much here but makes nested Maps look prettier Contains a key value mapping author karlsnic public class Style Map extends Hash Map String Object 
package org jboss seam ui renderkit import java io Exception import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam ui component Style import org jboss seam ui util cdk Renderer Base public abstract class Style Renderer Base extends Renderer Base Override protected void do Encode Begin Response Writer writer Faces Context context Component component throws Exception Style style Style component start Element writer style writer write Attribute id component get Client Id context id if style get Style Class null writer write Attribute class style get Style Class style Class if style get Style null writer write Attribute style style get Style style Override protected void do Encode End Response Writer writer Faces Context context Component component throws Exception end Element writer public abstract void start Element Response Writer writer Style style throws Exception public abstract void end Element Response Writer writer throws Exception 
package org jboss seam excel css import java text Character Iterator import java text String Character Iterator import java util Array List import java util List import java util Map import org jboss seam log Log import org jboss seam log Logging public class Style String Parser private static final char private static final String private static final String private static final char private Log log Logging get Log Style String Parser class private String style String private Map String Property Builder property Builder Map private Style Map style Map new Style Map private boolean escaping false public static Style String Parser of String style String Map String Property Builder property Builder Map return new Style String Parser style String property Builder Map protected Style String Parser String style String Map String Property Builder property Builder Map this style String style String this property Builder Map property Builder Map private void add Style String Builder style Builder String style String style Builder to String int key Value Breakpoint Index style String index Of if key Value Breakpoint Index log warn Key value separator character not found in style dropping style Builder to String return String style Name style String substring key Value Breakpoint Index to Lower Case trim if property Builder Map contains Key style Name log warn No property builder unknown style for property style Name return Property Builder property Builder property Builder Map get style Name String style Value style String substring key Value Breakpoint Index log trace Parsed style to style String style Name style Value String style Values trim Array style Value trim split style Map put All property Builder parse Property style Name style Values public static String trim Array String array List String valid Values new Array List String for int i i array length i if equals array i equals array i valid Values add array i to Lower Case trim return valid Values to Array new String valid Values size public Style Map parse Character Iterator iterator new String Character Iterator style String String Builder style Builder new String Builder for char c iterator first c Character Iterator c iterator next if c escaping escaping else if c escaping add Style style Builder style Builder new String Builder else style Builder append c if style Builder length add Style style Builder if escaping log warn Unbalanced escape characters in style style Builder to String return style Map 
package org jboss seam example restbay resteasy import javax ws rs author Christian Bauer public class Sub Resource private String baz public Sub Resource String baz this baz baz public String get return bar baz 
package org jboss seam remoting import java io Exception import java io Output Stream import java util Array List import java util List import javax servlet http Http Servlet Request import javax servlet http Http Servlet Response import org dom j Document import org dom j Element import org dom j io Reader import org jboss seam contexts Lifecycle import org jboss seam contexts Servlet Lifecycle import org jboss seam core Manager import org jboss seam remoting messaging Remote Subscriber import org jboss seam remoting messaging Subscription Registry import org jboss seam remoting messaging Subscription Request import org jboss seam util import org jboss seam web Servlet Contexts author Shane Bryzak public class Subscription Handler extends Base Request Handler implements Request Handler The entry point for handling a request param request Http Servlet Request param response Http Servlet Response throws Exception public void handle Http Servlet Request request Http Servlet Response response throws Exception We re sending an response so set the response content type to text xml response set Content Type text xml Parse the incoming request as Reader xml Reader get Safe Sax Reader Document doc xml Reader read request get Input Stream Element env doc get Root Element Element body env element body First handle any new subscriptions List Subscription Request requests new Array List Subscription Request List Element elements body elements subscribe for Element e elements requests add new Subscription Request e attribute Value topic Servlet Lifecycle begin Request request try Servlet Contexts instance set Request request Manager instance initialize Temporary Conversation Servlet Lifecycle resume Conversation request for Subscription Request req requests req subscribe Then handle any unsubscriptions List String unsubscribe Tokens new Array List String elements body elements unsubscribe for Element e elements unsubscribe Tokens add e attribute Value token for String token unsubscribe Tokens Remote Subscriber subscriber Subscription Registry instance get Subscription token if subscriber null subscriber unsubscribe finally Lifecycle end Request Package up the response marshal Response requests response get Output Stream private void marshal Response List Subscription Request requests Output Stream out throws Exception out write out write for Subscription Request req requests req marshal out out write out write out flush 
package org jboss seam remoting messaging import static org jboss seam annotations Install import java util Hash Set import java util Map import java util Set import java util import java util concurrent Concurrent Hash Map import javax jms Exception Listener import javax jms Exception import javax jms Topic Connection import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam log Log Provider import org jboss seam log Logging author Shane Bryzak Scope Scope Type Bypass Interceptors Name org jboss seam remoting messaging subscription Registry Install value false precedence public class Subscription Registry private static final Log Provider log Logging get Log Provider Subscription Registry class private String connection Provider private volatile Topic Connection topic Connection private Object monitor new Object private Map String Remote Subscriber subscriptions new Concurrent Hash Map String Remote Subscriber Contains a list of all the topics that clients are allowed to subscribe to private Set String allowed Topics new Hash Set String public static Subscription Registry instance Subscription Registry registry Subscription Registry Component get Instance Subscription Registry class if registry null throw new Illegal State Exception No Subscription Registry exists return registry public Set String get Allowed Topics return allowed Topics public void set Allowed Topics Set String allowed Topics this allowed Topics allowed Topics public String get Connection Provider return connection Provider public void set Connection Provider String connection Provider this connection Provider connection Provider private Topic Connection get Topic Connection throws Exception if topic Connection null synchronized monitor if topic Connection null topic Connection org jboss seam jms Topic Connection instance topic Connection set Exception Listener new Exception Listener public void on Exception Exception ex swallow the exception for now do we need to try and reconnect topic Connection start return topic Connection public Remote Subscriber subscribe String topic Name if allowed Topics contains topic Name throw new Illegal Argument Exception String format Can not subscribe to a topic that is not allowed Topic s is not an allowed topic topic Name Remote Subscriber sub new Remote Subscriber random to String topic Name try subscribe sub subscriptions put sub get Token sub Save the client s token in their session context get User Tokens add sub get Token return sub catch Exception ex log error ex return null private void subscribe Remote Subscriber sub throws Exception Exception try sub subscribe get Topic Connection catch Exception e log debug e Clear the topic connection and try again reset Topic sub subscribe get Topic Connection private void reset Topic Topic Connection saved Topic null synchronized monitor if topic Connection null saved Topic topic Connection topic Connection null if saved Topic null try saved Topic close catch Exception ignored public User Tokens get User Tokens return User Tokens Component get Instance User Tokens class public Remote Subscriber get Subscription String token if get User Tokens contains token throw new Illegal Argument Exception Invalid token argument token not found in Session Context return subscriptions get token public Set String get All Tokens return subscriptions key Set public void cleanup Tokens Set String tokens for String token tokens Remote Subscriber subscriber subscriptions remove token if subscriber null try subscriber unsubscribe catch Exception e log debug problem cleaning up subcription e 
package org jboss seam remoting messaging import java io Exception import java io Output Stream author Shane Bryzak public class Subscription Request private String topic Name private Remote Subscriber subscriber public Subscription Request String topic Name this topic Name topic Name public void subscribe subscriber Subscription Registry instance subscribe topic Name public void marshal Output Stream out throws Exception out write subscription topic get Bytes out write topic Name get Bytes out write token get Bytes out write subscriber get Token get Bytes out write get Bytes out flush 
package org jboss seam example pdf import java awt import javax swing import org jboss seam annotations Create import org jboss seam annotations Name Name swing public class Swing Component Create public void init try Manager set Look And Feel Manager get Cross Platform Look And Feel Class Name catch Exception e System out println Error setting Java e public Component get Label Label label new Label Hello Seam Swing Constants return label public Component get Label Label label new Label label Swing Constants return label 
package org jboss seam faces import static org jboss seam annotations Install import java io Serializable import java util Array List import java util Collections import java util List import java util Set import java util Tree Set import javax faces model Select Item import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Conversation Entries import org jboss seam core Conversation Entry import org jboss seam core Manager import org jboss seam web Session Support for the conversation switcher drop down menu author Gavin King Scope Scope Type Name org jboss seam faces switcher Install precedence class Dependencies javax faces context Faces Context Bypass Interceptors public class Switcher implements Serializable private static final long serial Version private List Select Item select Items private String conversation Id Or Outcome private String resulting Conversation Id Or Outcome Create public void create Select Items Conversation Entries conversation Entries Conversation Entries get Instance if conversation Entries null select Items Collections else Set Conversation Entry ordered Entries new Tree Set Conversation Entry ordered Entries add All conversation Entries get Conversation Entries select Items new Array List Select Item conversation Entries size for Conversation Entry entry ordered Entries if entry is Displayable Session instance is Invalid select Items add new Select Item entry get Id entry get Description public List Select Item get Select Items return select Items private String get Long Running Conversation Id Manager manager Manager instance if manager is Long Running Conversation return manager get Current Conversation Id else if manager is Nested Conversation return manager get Parent Conversation Id else is there any way to set it to the current outcome instead of null return null public String get Conversation Id Or Outcome return resulting Conversation Id Or Outcome null get Long Running Conversation Id resulting Conversation Id Or Outcome public void set Conversation Id Or Outcome String selected Id this conversation Id Or Outcome selected Id public String select boolean is Outcome conversation Id Or Outcome null Character is Digit conversation Id Or Outcome char At conversation Id Or Outcome index Of String actual Outcome if is Outcome resulting Conversation Id Or Outcome conversation Id Or Outcome actual Outcome conversation Id Or Outcome else Conversation Entry ce Conversation Entries instance get Conversation Entry conversation Id Or Outcome if ce null resulting Conversation Id Or Outcome ce get Id ce redirect actual Outcome null return actual Outcome 
Id Synchronization Interceptor java shane bryzak jboss com package org jboss seam core import java util concurrent Time Unit import java util concurrent locks Reentrant Lock import javax ejb Stateful import org jboss seam Component Type import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam annotations intercept Interceptor Type import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context Serializes calls to a component author Gavin King Interceptor type Interceptor Type public class Synchronization Interceptor extends Abstract Interceptor private static final long serial Version private Reentrant Lock lock new Reentrant Lock true Around Invoke public Object around Invoke Invocation Context invocation throws Exception if lock try Lock get Component get Timeout Time Unit try return invocation proceed finally lock unlock else throw new Lock Timeout Exception could not acquire lock on Synchronized component get Component get Name public boolean is Interceptor Enabled return get Component is Synchronize 
package org jboss seam transaction import java util Array List import java util List import javax transaction Status import javax transaction Synchronization import org jboss seam core Events import org jboss seam log Log Provider import org jboss seam log Logging list of Synchronizations to be invoked before and after transaction completion This class is used when we ca n t register a synchronization directly with author Gavin King class Synchronization Registry private static final Log Provider log Logging get Log Provider Synchronization Registry class private List Synchronization synchronizations new Array List Synchronization void register Synchronization Synchronization sync synchronizations add sync void after Transaction Completion boolean success if Events exists Events instance raise Event org jboss seam after Transaction Completion success for Synchronization sync synchronizations try sync after Completion success Status Status catch Exception e log error Exception processing transaction Synchronization after completion e synchronizations clear void before Transaction Completion if Events exists Events instance raise Event org jboss seam before Transaction Completion for Synchronization sync synchronizations try sync before Completion catch Exception e log error Exception processing transaction Synchronization before completion e 
package org jboss seam transaction import javax transaction Synchronization Interface for registering transaction synchronizations author Gavin King public interface Synchronizations public void after Transaction Begin public void after Transaction Commit boolean success public void after Transaction Rollback public void before Transaction Commit public void register Synchronization Synchronization sync public boolean is Aware Of Container Transactions 
package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Specifies that a stateful component has multiple concurrent clients and so access to the component must be synchronized This annotation is not required for session scoped components which are synchronized by default author Gavin King Target Retention Documented Inherited public interface Synchronized public static final int How long should we wait for the lock before throwing an exception return the timeout in milliseconds long timeout default 
package org jboss seam rss ui import javax faces component Component Base import javax faces context Faces Context public abstract class Syndication Component extends Component Base protected static final String the Feed protected static final String yyyy dd mm ss protected Object value Of String name Object default Value Object value default Value if get Value Expression name null value get Value Expression name get Value Faces Context get Current Instance get Context return value 
package org jboss seam navigation import java util Map import org jboss seam core Conversation Propagation import org jboss seam core Manager import org jboss seam util Id Seam s default strategy for propagating conversations public class Synthetic Conversation Id Parameter implements Conversation Id Parameter public String get Name return null public String get Parameter Name return Manager instance get Conversation Id Parameter public String get Parameter Value return Manager instance get Current Conversation Id public String get Parameter Value String value return value public String get Initial Conversation Id Map parameters return Id next Id public String get Conversation Id return Id next Id public String get Request Conversation Id Map parameters return Conversation Propagation get Request Parameter Value parameters get Parameter Name 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam example tasks entity import java util Date import javax persistence import javax xml bind annotation Xml Element import javax xml bind annotation Xml Root Element import javax xml bind annotation Xml Transient import javax validation constraints Not Null author Jozef Hartinger Entity Xml Root Element Named Query name task By Name And Category query select t from Task t where t name like task and t category id category public class Task private Long id private String name private boolean resolved private Date created private Date updated private Category category Id Generated Value strategy Generation Type public Long get Id return id public void set Id Long id this id id Not Null public String get Name return name public void set Name String name this name name Not Null public boolean is Resolved return resolved public void set Resolved boolean resolved this resolved resolved Temporal Temporal Type Xml Element name created Not Null public Date get Created return created public void set Created Date created this created created Temporal Temporal Type public Date get Updated return updated public void set Updated Date updated this updated updated Many To One Xml Transient Not Null public Category get Category return category public void set Category Category category this category category Transient Xml Element name category public String get Category Name return category get Name Transient public User get Owner return category get Owner 
package org jboss seam navigation import org jboss seam bpm Business Process import org jboss seam core Expressions Value Expression public class Task Control private boolean is Begin Task private boolean is Start Task private boolean is End Task private Value Expression Long task Id private Value Expression String transition public void begin Or End Task if end Task Business Process instance validate Task Business Process instance end Task transition null null transition get Value if begin Task start Task if task Id null task Id get Value null throw new Null Pointer Exception task id may not be null Business Process instance resume Task task Id get Value if start Task Business Process instance start Task private boolean begin Task return is Begin Task task Id get Value null private boolean start Task return is Start Task task Id get Value null private boolean end Task return is End Task public boolean is Begin Task return is Begin Task public void set Begin Task boolean is Begin Task this is Begin Task is Begin Task public boolean is End Task return is End Task public void set End Task boolean is End Task this is End Task is End Task public boolean is Start Task return is Start Task public void set Start Task boolean is Start Task this is Start Task is Start Task public void set Task Id Value Expression Long task Id this task Id task Id public Value Expression Long get Task Id return task Id public Value Expression String get Transition return transition public void set Transition Value Expression String transition this transition transition 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam bpm import static org jboss seam annotations Install import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam util Work Seam component that allows injection of the current j Task Instance author Gavin King Scope Scope Type Name org jboss seam bpm task Instance Bypass Interceptors Install precedence dependencies org jboss seam bpm jbpm public class Task Instance Unwrap public org jbpm taskmgmt exe Task Instance get Task Instance throws Exception if Contexts is Conversation Context Active return null return new Work org jbpm taskmgmt exe Task Instance Override protected org jbpm taskmgmt exe Task Instance work throws Exception Long task Id Business Process instance get Task Id if task Id null do we need to cache this return Managed Jbpm Context instance get Task Instance For Update task Id else return null work In Transaction public static org jbpm taskmgmt exe Task Instance instance if Contexts is Conversation Context Active Business Process instance has Current Task return null so we do n t start a txn return org jbpm taskmgmt exe Task Instance Component get Instance Task Instance class Scope Type 
package org jboss seam bpm import static org jboss seam Scope Type import static org jboss seam annotations Install import java util List import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Transactional import org jboss seam annotations Unwrap import org jbpm taskmgmt exe Task Instance Support for the task list see Task Instance List For Type see Pooled Task author a href mailto steve hibernate org Steve Ebersole a author Gavin King Name org jboss seam bpm task Instance List Scope Install precedence dependencies org jboss seam bpm jbpm public class Task Instance List Unwrap Transactional public List Task Instance get Task Instance List return get Task Instance List Actor instance get Id private List Task Instance get Task Instance List String actor Id if actor Id null return null return Managed Jbpm Context instance get Task List actor Id 
package org jboss seam bpm import static org jboss seam Scope Type import static org jboss seam annotations Install import java util Array List import java util Hash Map import java util List import java util Map import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Transactional import org jboss seam annotations Unwrap import org jbpm taskmgmt exe Task Instance Support for a list of tasks of a particular type see Task Instance List author Gavin King author a href mailto steve hibernate org Steve Ebersole a Name org jboss seam bpm task Instance List For Type Scope Install precedence dependencies org jboss seam bpm jbpm public class Task Instance List For Type Unwrap Transactional public Map String List Task Instance get Task Instance List return get Task Instance List Actor instance get Id private Map String List Task Instance get Task Instance List String actor Id if actor Id null return null Map String List Task Instance map new Hash Map String List Task Instance List Task Instance task Instances Managed Jbpm Context instance get Task List actor Id for Task Instance task task Instances String name task get Name List Task Instance list map get name if list null list new Array List Task Instance map put name list list add task return map 
package org jboss seam bpm import static org jboss seam Scope Type import static org jboss seam annotations Install import java util List import org hibernate criterion Order import org hibernate criterion Restrictions import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Transactional import org jboss seam annotations Unwrap import org jbpm taskmgmt exe Task Instance Support for a task list ordered by priority see Task Instance List see Pooled Task author Gavin King Name org jboss seam bpm task Instance Priority List Scope Install precedence dependencies org jboss seam bpm jbpm public class Task Instance Priority List we really need to cache the list in the event context but then we would need some events to refresh it when tasks end which is non trivial to do Unwrap Transactional public List Task Instance get Task Instance List return get Task Instance List Actor instance get Id private List Task Instance get Task Instance List String actor Id if actor Id null return null return Managed Jbpm Context instance get Session create Criteria Task Instance class add Restrictions eq actor Id actor Id add Restrictions eq is Open true add Restrictions ne is Suspended true add Order Order asc priority set Cacheable true list 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam example tasks resource import java io Input Stream import java util Date import javax ws rs import javax ws rs Path import javax ws rs Path Param import javax ws rs core Response import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam example tasks Category Home import org jboss seam example tasks Resource Not Found Exception import org jboss seam example tasks entity Task import org jboss seam example tasks entity User import org jboss seam framework Entity Home import org jboss seam framework Home import org jboss seam resteasy Resource Home This class exposes interface for manipulating tasks Resource Home component is used as the base and is significantly customized to correspond with usecase author Jozef Hartinger Path auth category category status Name task Resource Home public class Task Resource Home extends Resource Home Task Long Path Param status private String task Status In private User user In private Category Home category Home In private Entity Home Task task Home Path Param category private String category Name public Task Resource Home set Media Types new String application xml application json application fastinfoset Override public Task get Entity Long id Task task super get Entity id if task get Category get Name equals category Name task get Owner get Username equals user get Username throw new Resource Not Found Exception Task not found if task is Resolved is Resolved throw new Resource Not Found Exception Task found but in different state return task Override public Response create Resource Input Stream message Body if is Resolved do not allow creating already resolved tasks return Response status build return super create Resource message Body Override public Long create Entity Task entity entity set Category category Home find By Username And Category user get Username category Name entity set Resolved false entity set Created new Date return super create Entity entity Override public void update Entity Task entity Long id Task task super get Entity id task set Category category Home find By Username And Category user get Username category Name task set Resolved is Resolved if entity get Name null task set Name entity get Name if is Resolved task set Updated new Date task Home update Override public Home Task get Entity Home return task Home private boolean is Resolved if task Status equals resolved return true else if task Status equals unresolved return false else throw new Resource Not Found Exception 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam example tasks resource import java util Array List import java util List import javax ws rs Path import javax ws rs Path Param import org jboss seam annotations Create import org jboss seam annotations Factory import org jboss seam annotations Name import org jboss seam example tasks Resource Not Found Exception import org jboss seam example tasks entity Task import org jboss seam resteasy Resource Query This class exposes two lists of tasks for every category Unresolved tasks can be obtained by sending request to category category unresolved To obtain a list of already resolved tasks use category category resolved author Jozef Hartinger Name task Resource Query Path auth category category status public class Task Resource Query extends Resource Query Task Path Param category private String category Name Path Param status private String task Status public Task Resource Query set Media Types new String application xml application json application fastinfoset Override Create public void create super create List String restrictions new Array List String restrictions add category name category Name restrictions add resolved task Status restrictions add category owner username user username get Entity Query set Restriction Expression Strings restrictions Factory category Name public String get Category Name return category Name Factory task Status public boolean is Resolved if task Status equals resolved return true else if task Status equals unresolved return false else throw new Resource Not Found Exception 
package org jboss seam example wicket import org apache wicket markup html basic Label import org apache wicket markup html border Border import org apache wicket markup html link Link import org jboss seam annotations In import org jboss seam core Manager import org jboss seam example wicket action User import org jboss seam security Identity public class Template extends Border In private User user In private Identity identity public Template String id super id add new Link search Override public void on Click Manager instance leave Conversation set Response Page Main class add new Link settings Override public void on Click Manager instance leave Conversation set Response Page Password class add new Link logout Override public void on Click identity logout set Response Page Home class add new Label user Name user get Name 
package org jboss seam theme import static org jboss seam Scope Type import static org jboss seam annotations Install import java util import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Factory import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Interpolator Factory for a Map of resources that may be used for skinning the user interface author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam theme theme Factory Install precedence public class Theme protected Map String String create Map final java util Resource Bundle bundle Theme Selector instance get Theme Resource Bundle if bundle null return null return new Abstract Map String String Override public String get Object key if key instanceof String String resource Key String key String resource try resource bundle get String resource Key catch Missing Resource Exception mre return resource Key if resource null return resource Key else return Interpolator instance interpolate resource else return null Override public Set Map Entry String String entry Set Set Map Entry String String entry Set new Hash Set Map Entry String String Enumeration String keys bundle get Keys while keys has More Elements final String key keys next Element entry Set add new Map Entry String String public String get Key return key public String get Value return get key public String set Value String arg throw new Unsupported Operation Exception not implemented return entry Set Create a Map in the event scope When the theme is changed Theme Selector is responsible for removing the Map from the event context Factory value org jboss seam theme theme auto Create true scope public java util Map get Theme return create Map public static java util Map instance return java util Map Component get Instance org jboss seam theme theme true 
package org jboss seam theme import static org jboss seam annotations Install import java util Array List import java util Arrays import java util Collections import java util Enumeration import java util List import java util Missing Resource Exception import java util Resource Bundle import javax faces component View Root import javax faces context Faces Context import javax faces event Value Change Event import javax faces model Select Item import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Events import org jboss seam faces Selector import org jboss seam core Locale import org jboss seam international Messages import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam navigation Pages import org jboss seam util Iterator Enumeration Selects the current user s theme author Gavin King Scope Scope Type Name org jboss seam theme theme Selector Bypass Interceptors Install precedence class Dependencies javax faces context Faces Context public class Theme Selector extends Selector private static final long serial Version private static final Log Provider log Logging get Log Provider Theme Selector class private String theme private String available Themes Create public void init Default Theme String theme Name get Cookie Value If Enabled if theme Name null Arrays as List available Themes contains theme Name set Theme theme Name if theme null if available Themes null available Themes length throw new Illegal State Exception no themes defined theme available Themes Override protected String get Cookie Name return org jboss seam core Theme Recreate the view using the new theme and raise the org jboss seam theme Selected event public void select Contexts remove From All Contexts org jboss seam theme theme Faces Context faces Context Faces Context get Current Instance String view Id Pages get View Id faces Context View Root view Root faces Context get Application get View Handler create View faces Context view Id faces Context set View Root view Root set Cookie Value If Enabled get Theme if Events exists Events instance raise Event org jboss seam theme Selected get Theme public void select Value Change Event event select Theme String event get New Value public void select Theme String theme Name set Theme theme Name select Get a selectable list of available themes for display in the public List Select Item get Themes List Select Item select Items new Array List Select Item available Themes length for String name available Themes select Items add new Select Item name get Localized Theme Name name return select Items Get the name of the current theme public String get Theme return theme public void set Theme String theme Name set Dirty this theme theme Name this theme theme Name public void set Available Themes String theme Names set Dirty this available Themes theme Names this available Themes theme Names Get the resource bundle for the theme public Resource Bundle get Theme Resource Bundle try java util Resource Bundle bundle java util Resource Bundle get Bundle theme Locale instance Thread current Thread get Context Class Loader log trace loaded resource bundle theme return bundle catch Missing Resource Exception mre log debug resource bundle missing theme return new Resource Bundle Override public Enumeration String get Keys return new Iterator Enumeration Collections iterator Override protected Object handle Get Object String key return null Get the localized name of the named theme by looking for org jboss seam theme lt name gt in the Seam resource bundle public String get Localized Theme Name String name String key org jboss seam theme name String localized Name Messages instance get key return key equals localized Name name localized Name public static Theme Selector instance if Contexts is Session Context Active throw new Illegal State Exception No active session context return Theme Selector Component get Instance Theme Selector class Scope Type public String get Available Themes return available Themes 
package org jboss seam test integration import javax persistence Entity import javax persistence Generated Value import javax persistence Id import javax persistence Version Entity public class Thing public Thing Generated Value Id private Long id Version private Integer version private String name public Long get Id return id public void set Id Long id this id id public String get Name return name public void set Name String name this name name public Integer get Version return version public void set Version Integer version this version version Override public String to String return Thing id v version 
package org jboss seam async import static org jboss seam annotations Install import java util Date import java util concurrent Executors import java util concurrent Future import java util concurrent Scheduled Executor Service import java util concurrent Time Unit import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam intercept Invocation Context Dispatcher implementation that uses a java util concurrent Scheduled Thread Pool Executor author Gavin King Scope Scope Type Name org jboss seam async dispatcher Install precedence public class Thread Pool Dispatcher extends Abstract Dispatcher Future Timer Schedule private int thread Pool Size private Scheduled Executor Service executor Create public void startup executor Executors new Scheduled Thread Pool thread Pool Size public Future schedule Asynchronous Event String type Object parameters Runnable Asynchronous runnable Asynchronous new Runnable Asynchronous new Asynchronous Event type parameters Future future executor submit runnable Asynchronous runnable Asynchronous set Future future return future public Future schedule Timed Event String type Timer Schedule schedule Object parameters return schedule With Executor Service schedule new Runnable Asynchronous new Asynchronous Event type parameters public Future schedule Invocation Invocation Context invocation Component component return schedule With Executor Service create Timer Schedule invocation new Runnable Asynchronous new Asynchronous Invocation invocation component private static long to Duration Date expiration return expiration get Time new Date get Time private Future schedule With Executor Service Timer Schedule schedule Runnable Asynchronous runnable Future future null if schedule get Interval Duration null if schedule get Expiration null future executor schedule At Fixed Rate runnable to Duration schedule get Expiration schedule get Interval Duration Time Unit else if schedule get Duration null future executor schedule At Fixed Rate runnable schedule get Duration schedule get Interval Duration Time Unit else future executor schedule At Fixed Rate runnable l schedule get Interval Duration Time Unit else if schedule get Expiration null future executor schedule runnable to Duration schedule get Expiration Time Unit else if schedule get Duration null future executor schedule runnable schedule get Duration Time Unit else future executor schedule runnable l Time Unit runnable set Future future return future Destroy public void destroy executor shutdown try executor await Termination Time Unit catch Interrupted Exception ie static class Runnable Asynchronous implements Runnable private Asynchronous async private Future future Runnable Asynchronous Asynchronous async this async async public void run try async execute future catch Exception exception async handle Exception exception future public void set Future Future future this future future public int get Thread Pool Size return thread Pool Size public void set Thread Pool Size int thread Pool Size this thread Pool Size thread Pool Size 
Version The contents of this file are subject to the Mozilla Public License Version the License you may not use this file except in compliance with the License You may obtain a copy of the License at http www mozilla org Software distributed under the License is distributed on an basis either express or implied See the License for the specific language governing rights and limitations under the License The Original Code is Efaces open source software code released November The Initial Developer of the Original Code is Esoft Technologies Canada Corp Portions created by Esoft are Copyright Esoft Technologies Canada Corp All Rights Reserved Contributor s Alternatively the contents of this file may be used under the terms of the Lesser General Public License Version or later the License in which case the provisions of the License are applicable instead of those above If you wish to allow use of your version of this file only under the terms of the License and not to allow others to use your version of this file under the indicate your decision by deleting the provisions above and replace them with the notice and other provisions required by the License If you do not delete the provisions above a recipient may use your version of this file under either the or the License package action Package import org jboss seam annotations Name import org jboss seam annotations Destroy import org jboss seam annotations Scope import org jboss seam annotations Begin import org jboss seam annotations In import org jboss seam Scope Type import org jboss seam core Manager import javax faces context Faces Context import javax ejb Stateful import javax ejb Remove import java util Date import java text Date Format import java io Serializable import javax faces event Action Event import com icesoft faces webapp xmlhttp Persistent Faces State import com icesoft faces webapp xmlhttp Rendering Exception import com icesoft faces async render Render Manager import com icesoft faces async render Interval Renderer import com icesoft faces async render Renderable import com icesoft faces context effects Effect import com icesoft faces context effects Blind Down import com icesoft faces context effects Blind Up import org jboss seam annotations Logger import org jboss seam log Log author Esoft Technologies Inc Name timer Scope Scope Type public class Timer Bean Impl implements Renderable Serializable Logger private Log log expand contract effects to take place of panel Collapsible private Effect current Effect new Blind Up private boolean visibility false private boolean toggled Effect private boolean expanded false private Date Format date Formatter In private Render Manager render Manager private boolean done Setup private Interval Renderer ir private Persistent Faces State state Persistent Faces State get Instance private String synchronous private int my Id private static int id public Persistent Faces State get State return state public void rendering Exception Rendering Exception re if log is Trace Enabled log trace View obsoleted my Id cleanup public Timer Bean Impl date Formatter Date Format get Date Time Instance my Id id to simulate panel Collapsible private void build Effect if expanded current Effect new Blind Down else current Effect new Blind Up current Effect set Submit true current Effect set Transitory false current Effect set Duration f public boolean get Expanded return expanded public void set Expanded boolean expanded this expanded expanded visibility expanded build Effect current Effect set Fired true public boolean is Visibility return visibility public void set Visibility boolean visibility this visibility visibility Method used to toggle the expanded status of this item This would be called from the front end pages return toggle Expanded for use with faces config navigation public String toggle Expanded expanded expanded build Effect toggled Effect true current Effect set Fired false current Effect set Submit true return null Gets the effect used when a cell is expanded or contracted return effect public Effect get Expand Effect if toggled Effect current Effect set Submit false toggled Effect false return current Effect public String get Current Time state Persistent Faces State get Instance if done Setup if log is Trace Enabled log trace new Timer Bean renderable my Id Faces Context fc Faces Context get Current Instance synchronous String fc get External Context get Init Parameter Map get com icesoft faces synchronous Update boolean timed Boolean value Of String fc get External Context get Init Parameter Map get org icesoft examples server Clock if timed ir render Manager get Interval Renderer org icesoft clock clock Renderer ir set Interval ir add this ir request Render done Setup true return date Formatter format new Date System current Time Millis public String get Render Mode return synchronous my Id Do n t make this begin a conversation as this class is intended to be used in a footer If this method starts a conversation it ca n t be added to the foot of applications that do n t expect conversations to already be in progress public String get Current Conversation Manager m Manager instance return m get Current Conversation Id public String get Long Running Manager m Manager instance return Boolean to String m is Long Running Conversation Remove Destroy public void remove if log is Trace Enabled log trace View removed my Id cleanup private void cleanup if ir null ir remove this if ir is Empty if log is Trace Enabled log trace Interval Renderer Stopped ir request Stop 
package org jboss seam async import java util Date schedule for a timed event executed by the timer service or some other timer service which supports delayed and or periodic timed events author Gavin King public class Timer Schedule extends Schedule private Long interval Duration public Long get Interval Duration return interval Duration param duration the delay before the event occurs public Timer Schedule Long duration super duration param expiration the datetime at which the event occurs public Timer Schedule Date expiration super expiration param duration the delay before the first event occurs param interval Duration the period between the events public Timer Schedule Long duration Long interval Duration super duration this interval Duration interval Duration param expiration the datetime at which the first event occurs param interval Duration the period between the events public Timer Schedule Date expiration Long interval Duration super expiration this interval Duration interval Duration public Timer Schedule Long duration Date expiration Long interval Duration super duration expiration this interval Duration interval Duration public Timer Schedule Long duration Date expiration Long interval Duration Date final Expiration super duration expiration final Expiration this interval Duration interval Duration private Timer Schedule public static final Timer Schedule new Timer Schedule Override public int hash Code final int prime int result super hash Code result prime result interval Duration null interval Duration hash Code return result Override public boolean equals Object obj if super equals obj return false final Timer Schedule other Timer Schedule obj if interval Duration null if other interval Duration null return false else if interval Duration equals other interval Duration return false return true 
package org jboss seam async import static org jboss seam annotations Install import java io Serializable import java util Date import java util concurrent Callable import javax annotation Post Construct import javax annotation Resource import javax ejb Exception import javax ejb No Such Object Local Exception import javax ejb Schedule Expression import javax ejb Stateless import javax ejb Timeout import javax ejb Timer import javax ejb Timer Handle import javax ejb Timer Service import javax interceptor Interceptors import org jboss seam Component import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam ejb Seam Interceptor import org jboss seam intercept Invocation Context Dispatcher implementation that uses the Timer Service author Gavin King Stateless Name org jboss seam async dispatcher Interceptors Seam Interceptor class Install value false precedence public class Timer Service Dispatcher extends Abstract Dispatcher Timer Timer Schedule implements Local Timer Service Dispatcher Resource Timer Service timer Service Post Construct public void post Construct workaround for a bug in Timeout public void dispatch Timer timer Asynchronous timer get Info execute timer public Timer schedule Timed Event String type Timer Schedule schedule Object parameters return new Timer Proxy schedule With Timer Service schedule new Asynchronous Event type parameters public Timer schedule Asynchronous Event String type Object parameters return new Timer Proxy timer Service create Timer l new Asynchronous Event type parameters public Timer schedule Invocation Invocation Context invocation Component component return new Timer Proxy schedule With Timer Service create Timer Schedule invocation new Asynchronous Invocation invocation component private Timer schedule With Timer Service Timer Schedule schedule Asynchronous asynchronous if schedule get Interval Duration null if schedule get Expiration null return timer Service create Timer schedule get Expiration schedule get Interval Duration asynchronous else if schedule get Duration null return timer Service create Timer schedule get Duration schedule get Interval Duration asynchronous else return timer Service create Timer l schedule get Interval Duration asynchronous else if schedule get Expiration null return timer Service create Timer schedule get Expiration asynchronous else if schedule get Duration null return timer Service create Timer schedule get Duration asynchronous else return timer Service create Timer l asynchronous static class Timer Proxy implements Timer Timer timer public Timer Proxy Timer timer throws Illegal State Exception No Such Object Local Exception Exception this timer timer public void cancel throws Illegal State Exception No Such Object Local Exception Exception instance call new Callable public Object call timer cancel return null public Timer Handle get Handle throws Illegal State Exception No Such Object Local Exception Exception Timer Handle handle Timer Handle instance call new Callable public Object call return timer get Handle return new Timer Handle Proxy handle public Serializable get Info throws Illegal State Exception No Such Object Local Exception Exception return Serializable instance call new Callable public Object call return timer get Info public Date get Next Timeout throws Illegal State Exception No Such Object Local Exception Exception return Date instance call new Callable public Object call return timer get Next Timeout public long get Time Remaining throws Illegal State Exception No Such Object Local Exception Exception return Long instance call new Callable public Object call return timer get Time Remaining Override public Schedule Expression get Schedule throws Illegal State Exception No Such Object Local Exception Exception return null Override public boolean is Calendar Timer throws Illegal State Exception No Such Object Local Exception Exception return false Override public boolean is Persistent throws Illegal State Exception No Such Object Local Exception Exception return false static class Timer Handle Proxy implements Timer Handle Serializable private static final long serial Version Timer Handle handle public Timer Handle Proxy Timer Handle handle this handle handle public Timer get Timer throws Illegal State Exception No Such Object Local Exception Exception Timer timer Timer instance call new Callable public Object call try return handle get Timer catch No Such Object Local Exception nsoe return null if timer null throw new No Such Object Local Exception else return new Timer Proxy timer public Object call Callable task try return task call catch Runtime Exception e just pass along runtime exceptions throw e catch Exception e throw new Runtime Exception e public static Local Timer Service Dispatcher instance return Local Timer Service Dispatcher Abstract Dispatcher instance 
package org jboss seam deployment An accelerated version of the underlying strategy that uses the Simple Scanner to determine the timestamp of the latest file author Dan Allen public abstract class Timestamp Check Forwarding Deployment Strategy extends Forwarding Deployment Strategy private Scanner scanner public boolean changed Since long mark scan return get Timestamp mark Override protected void init Scanner if get Scanner instanceof Abstract Scanner final Abstract Scanner delegate Abstract Scanner get Scanner this scanner new Timestamp Scanner get Servlet Context Override protected Abstract Scanner delegate return delegate Override protected void post Scan No op 
package org jboss seam deployment import javax servlet Servlet Context no op version of the Scanner that merely returns whether the deployment handler would in fact handle this file It does not process the file in any way This allows us to use this scanner for timestamp checking author Dan Allen public abstract class Timestamp Scanner extends Forwarding Abstract Scanner Override protected boolean handle String name for Deployment Handler handler get Deployment Strategy get Deployment Handlers values if handler instanceof Class Deployment Handler if name ends With class return true else if name ends With handler get Metadata get File Name Suffix return true return false Deprecated public Timestamp Scanner public Timestamp Scanner Servlet Context servlet Context super servlet Context 
package org jboss seam international import static org jboss seam annotations Install import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors Manager component for the current user s locale author Gavin King Scope Scope Type Name org jboss seam international time Zone Bypass Interceptors Install precedence dependencies org jboss seam international time Zone Selector public class Time Zone Unwrap public java util Time Zone get Time Zone return Time Zone Selector instance get Time Zone public static java util Time Zone instance return java util Time Zone Component get Instance Time Zone class Scope Type 
package org jboss seam international import java util Array List import java util Collections import java util Comparator import java util List import java util Time Zone import org jboss seam Scope Type import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations Create p Seam component that provides a list of time zones limited to time zones with Ds in the form Continent Place excluding deprecated three letter time zone Ds The time zones returned have a fixed offset from which takes daylight savings time into account For example Europe Amsterdam is in winter this is and in summer p p The time zone objects returned are wrapped in an implementation of Time Zone that provides a more friendly interface for accessing the time zone information In particular this type provides a more bean friend property for the time zone id id than and provides a convenience property named label that formats the time zone for display in the This wrapper can be disabled by setting the component property wrap to false p author Peter Hilton Lunatech Research author Dan Allen Scope Scope Type Name org jboss seam international time Zones public class Time Zones private static final String Africa America Asia Atlantic Australia Europe Indian Pacific private boolean wrap true private List Time Zone time Zones null Create public void init time Zones new Array List Time Zone final String time Zone Ids Time Zone get Available Ds for final String id time Zone Ids if id matches time Zones add wrap new Time Zone Wrapper Time Zone get Time Zone id Time Zone get Time Zone id Collections sort time Zones new Comparator Time Zone public int compare final Time Zone a final Time Zone b return a get compare To b get Unwrap public List Time Zone get Time Zones return time Zones public boolean is Wrap return wrap public void set Wrap boolean wrap this wrap wrap 
package org jboss seam international import static org jboss seam annotations Install import javax faces event Value Change Event import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Events import org jboss seam faces Selector Selects the current user s time zone defaulting to the server time zone author Gavin King Scope Scope Type Name org jboss seam international time Zone Selector Bypass Interceptors Install precedence class Dependencies javax faces context Faces Context public class Time Zone Selector extends Selector private static final long serial Version private String id Create public void init Time Zone String time Zone Id get Cookie Value If Enabled if time Zone Id null set Time Zone Id time Zone Id Override protected String get Cookie Name return org jboss seam core Time Zone Force the resource bundle to reload using the current locale and raise the org jboss seam time Zone Selected event public void select set Cookie Value If Enabled get Time Zone Id if Events exists Events instance raise Event org jboss seam time Zone Selected get Time Zone Id public void select Value Change Event event select Time Zone String event get New Value public void select Time Zone String time Zone Id set Time Zone Id time Zone Id select public void set Time Zone java util Time Zone time Zone set Time Zone Id time Zone get public void set Time Zone Id String id set Dirty this id id this id id public String get Time Zone Id return id Get the selected timezone public java util Time Zone get Time Zone if id null return java util Time Zone get Default else return java util Time Zone get Time Zone get Time Zone Id public static Time Zone Selector instance if Contexts is Session Context Active throw new Illegal State Exception No active session context return Time Zone Selector Component get Instance Time Zone Selector class Scope Type 
package org jboss seam international import java util Date import java util Time Zone wrapper around a Time Zone that provides a more convenience interface to access the time zone information in the in particular in the options of a select menu author Dan Allen public class Time Zone Wrapper extends Time Zone private static final int private Time Zone time Zone public Time Zone Wrapper Time Zone tz time Zone tz set tz get Override public void set String id super set id time Zone Time Zone get Time Zone id public String get Id return time Zone get public String get Label String Builder label new String Builder label append get Id replace label append label append time Zone get Raw Offset if Math abs time Zone get Raw Offset label append label append Math abs time Zone get Raw Offset label append return label to String public Time Zone get Time Zone return time Zone Override public int get Offset int era int year int month int day int day Of Week int millis return time Zone get Offset era year month day day Of Week millis Override public void set Raw Offset int offset time Zone set Raw Offset offset Override public int get Raw Offset return time Zone get Raw Offset Override public boolean use Daylight Time return time Zone use Daylight Time Override public boolean in Daylight Time Date date return time Zone in Daylight Time date Override public Object clone return time Zone clone Override public boolean equals Object obj if obj null return false if get Class obj get Class return false final Time Zone Wrapper other Time Zone Wrapper obj if time Zone other time Zone time Zone null time Zone equals other time Zone return false return true Override public int hash Code int hash hash hash time Zone null time Zone hash Code return hash 
package org jboss seam example todo import org jboss seam annotations bpm Create Process import org jboss seam annotations bpm End Task import org jboss seam annotations Name import org jboss seam annotations bpm Start Task Name todo List public class Todo List private String description public String get Description return description public void set Description String description this description description Create Process definition todo public void create Todo Start Task End Task public void done 
package org jboss seam ui renderkit import java io Exception import java security Message Digest import java security No Such Algorithm Exception import javax faces component Component import javax faces component Form import javax faces context Faces Context import javax faces context Response Writer import javax servlet http Http Session import org jboss seam ui Render Stamp Store import org jboss seam ui Unauthorized Command Exception import org jboss seam ui component Token import org jboss seam ui util import org jboss seam ui util cdk Renderer Base import org jboss seam util Base import org jboss seam util Random String Utils import org richfaces cdk annotations Jsf Renderer p The strong Token Renderer Base strong renders the form s signature as a hidden form field for the Token component If the render Stamp Store component is enabled the actually signature will be stored in the session and the key to this token store in the hidden form field providing the same guarantee for client side state saving as with server side state saving p p The form signature is calculated as follows p pre sha signature context Path view Id quot quot form Client Id random alphanum salt client Uid pre p The developer can also choose to incorporate the session id into this hash to generate a more secure token at the cost of binding it to the session by setting the require Session attribute to true Then the calculation becomes p pre sha signature context Path view Id quot quot form Client Id quot quot random alphanum session Id salt client Uid pre p The decode method performs the following steps p ol li Check if this is a postback otherwise skip the check li li Check that this form was the one that was submitted otherwise skip the check li li Get the unique client identifier from cookie otherwise throw an exception that the browser must have unique identifier li li Get the javax faces Form Signature request parameter otherwise throw an exception that the form signature is missing li li If the render Stamp Store component is enabled retrieve the render stamp from the store using the key stored in the render stamp attribute of the form li li Generate the hash as before and verify that it equals the value of the javax faces Form Signature request parameter otherwise throw an exception li ol p If all of that passes we are okay to process the form advance to validate phase as decode is called in apply request values p author Dan Allen author Stuart Douglas see Unauthorized Command Exception Jsf Renderer type org jboss seam ui Token Renderer family org jboss seam ui Token Renderer public class Token Renderer Base extends Renderer Base public static final String javax faces Form Signature public static final String javax faces Render Stamp private static final String org jboss seam ui Override protected Class get Component Class return Token class Override protected void do Decode Faces Context context Component component Token token Token component Form form token get Parent Form if context get Render Kit get Response State Manager is Postback context form is Submitted String client Token token get Client Uid String view Id context get View Root get View Id if client Token null throw new Unauthorized Command Exception view Id No client identifier provided String requested View Sig context get External Context get Request Parameter Map get if requested View Sig null throw new Unauthorized Command Exception view Id No form signature provided if requested View Sig equals generate View Signature context form token is Allow Multiple Posts token is Require Session client Token throw new Unauthorized Command Exception view Id Form signature invalid Render Stamp Store store Render Stamp Store instance if store null remove the key from the store if we are using it store remove Stamp String value Of form get Attributes get form get Attributes remove Override protected void do Encode Begin Response Writer writer Faces Context context Component component throws Exception Token token Token component Form form token get Parent Form if form null throw new Illegal State Exception Token must be inside a Form String render Stamp Random String Utils random Alphanumeric Render Stamp Store store Render Stamp Store instance if store null if the store is not null we store the key instead of the actual stamp this puts the server in control of this value rather than the component tree which is owned by the client when using client side state saving render Stamp store store Stamp render Stamp write Cookie Check Script context writer token token get Client Uid Selector seed form get Attributes put render Stamp writer start Element component writer write Attribute writer write Attribute writer write Attribute generate View Signature context form token is Allow Multiple Posts token is Require Session token get Client Uid Selector get Client Uid writer end Element If the client has not already delivered us a cookie and the cookie notice is enabled write out Java Script that will show the user an alert if cookies are not enabled private void write Cookie Check Script Faces Context context Response Writer writer Token token throws Exception if token get Client Uid Selector is Set token is Enable Cookie Notice context get External Context get Request Map contains Key writer start Element token writer write Attribute text javascript writer write if document cookie alert This website uses a security measure that requires cookies to be enabled in your browser Since you have cookies disabled you will not be permitted to submit a form writer end Element context get External Context get Request Map put true private String generate View Signature Faces Context context Form form boolean use Render Stamp boolean use Session Id String salt Phrase String raw View Signature context get External Context get Request Context Path context get View Root get View Id form get Client Id context if use Render Stamp String render Stamp form get Attributes get to String Render Stamp Store store Render Stamp Store instance if store null if we are using the Render Stamp Store the key to access the render stamp is stored in the view root instead of the actual render stamp render Stamp store get Stamp render Stamp raw View Signature render Stamp if use Session Id raw View Signature Http Session context get External Context get Session true get Id try Message Digest digest Message Digest get Instance digest update salt Phrase get Bytes byte salt digest digest digest reset digest update raw View Signature get Bytes digest update salt byte raw digest digest return Base encode Bytes raw catch No Such Algorithm Exception ex ex print Stack Trace return null 
package org jboss seam security store containing user authentication tokens Used in conjunction with the Remember Me component to auto login users that present a valid cookie based token author Shane Bryzak public interface Token Store void create Token String username String value boolean validate Token String username String value void invalidate Token String username String value void invalidate All String username 
package org jboss seam annotations security import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the username for an authentication token author Shane Bryzak Target Documented Retention Inherited public interface Token Username 
package org jboss seam annotations security import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the value for an authentication token author Shane Bryzak Target Documented Retention Inherited public interface Token Value 
package org jboss seam jms import static org jboss seam annotations Install import javax jms Exception import javax jms Topic Connection Factory import javax naming Naming Exception import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam util Naming Manager for a Topic Connection By default the Boss author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam jms topic Connection Install precedence generic Dependencies Managed Topic Publisher class public class Topic Connection private String topic Connection Factory Jndi Name Connection Factory private javax jms Topic Connection topic Connection The name of the Topic Connection Factory public String get Topic Connection Factory Jndi Name return topic Connection Factory Jndi Name public void set Topic Connection Factory Jndi Name String jndi Name this topic Connection Factory Jndi Name jndi Name Create public void init throws Naming Exception Exception topic Connection get Topic Connection Factory create Topic Connection topic Connection start Destroy public void destroy throws Exception topic Connection stop topic Connection close private Topic Connection Factory get Topic Connection Factory throws Naming Exception return Topic Connection Factory Naming get Initial Context lookup get Topic Connection Factory Jndi Name Unwrap public javax jms Topic Connection get Topic Connection return topic Connection public static javax jms Topic Connection instance return javax jms Topic Connection Component get Instance Topic Connection class Override public String to String return Topic Connection get Topic Connection Factory Jndi Name 
package org jboss seam jms import static org jboss seam annotations Install import javax jms Exception import javax jms Session import javax naming Naming Exception import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Create import org jboss seam annotations Destroy import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors Manager for a Topic Session author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam jms topic Session Install precedence generic Dependencies Managed Topic Publisher class dependencies org jboss seam jms topic Connection public class Topic Session private javax jms Topic Session topic Session Create public void create throws Exception Naming Exception i really want a transactional session topic Session Topic Connection instance create Topic Session false Session Destroy public void destroy throws Exception topic Session close Unwrap public javax jms Topic Session get Topic Session return topic Session public static javax jms Topic Session instance return javax jms Topic Session Component get Instance Topic Session class 
package org jboss seam transaction import static org jboss seam annotations Install import javax naming Initial Context import javax naming Name Not Found Exception import javax naming Naming Exception import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam util import org jboss seam util Naming Supports injection of a Seam User Transaction object that wraps the current transaction or container managed transaction author Mike Youngstrom author Gavin King Name org jboss seam transaction transaction Scope Scope Type Install precedence Bypass Interceptors public class Transaction Event keys public static final String org jboss seam transaction transaction Failed public static User Transaction instance return User Transaction Component get Instance Transaction class Scope Type Unwrap public User Transaction get Transaction throws Naming Exception try return create Transaction catch Name Not Found Exception nnfe try return create Transaction catch Name Not Found Exception nnfe return create No Transaction protected User Transaction create No Transaction return new No Transaction protected User Transaction create Transaction throws Naming Exception return new Transaction get Context protected User Transaction create Transaction throws Naming Exception return new Transaction get User Transaction protected javax transaction User Transaction get User Transaction throws Naming Exception Initial Context context Naming get Initial Context try return javax transaction User Transaction context lookup java comp User Transaction catch Naming Exception ne try Embedded Boss has no java comp User Transaction javax transaction User Transaction ut javax transaction User Transaction context lookup User Transaction ut get Status for glassfish which can return an unusable return ut catch Naming Exception nnfe Try the other Boss location in Boss return javax transaction User Transaction context lookup java jboss User Transaction catch Exception e throw ne 
package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Specifies that the transaction propagation for a Java Bean component or method of a Java Bean component Java Bean components have Transactional behavior if no Transactional annotation is specified author Gavin King Target Retention Documented Inherited public interface Transactional The transaction propagation type return by default Transaction Propagation Type value default Transaction Propagation Type 
package org jboss seam async import javax transaction Synchronization An event that is processed when a transaction ends author Gavin King public class Transaction Completion Event extends Asynchronous Event implements Synchronization public Transaction Completion Event String type Object params super type params public void after Completion int status execute null public void before Completion Override public String to String return Transaction Completion Event get Type 
package org jboss seam transaction import static org jboss seam Component Type import java lang reflect Annotated Element import java lang reflect Method import java util Hash Map import java util Map import org jboss seam annotations Transaction Propagation Type import org jboss seam annotations Transactional import org jboss seam annotations intercept Around Invoke import org jboss seam annotations intercept Interceptor import org jboss seam bpm Business Process Interceptor import org jboss seam core Bijection Interceptor import org jboss seam core Conversation Interceptor import org jboss seam intercept Abstract Interceptor import org jboss seam intercept Invocation Context import org jboss seam util Work Implements transaction propagation rules for Seam Java Bean components author Gavin King author Shane Bryzak Interceptor stateless false around Rollback Interceptor class Business Process Interceptor class Conversation Interceptor class Bijection Interceptor class public class Transaction Interceptor extends Abstract Interceptor private static final long serial Version transient private Map Annotated Element Transaction Metadata transaction Metadata new Hash Map Annotated Element Transaction Metadata private class Transaction Metadata private boolean annotation Present Transaction Propagation Type prop Type public Transaction Metadata Annotated Element element annotation Present element is Annotation Present Transactional class if annotation Present prop Type element get Annotation Transactional class value public boolean is Annotation Present return annotation Present public boolean is New Transaction Required boolean transaction Active return prop Type null prop Type is New Transaction Required transaction Active private Transaction Metadata lookup Transaction Metadata Annotated Element element if transaction Metadata null transaction Metadata new Hash Map Annotated Element Transaction Metadata Transaction Metadata metadata transaction Metadata get element if metadata null metadata load Metadata element return metadata private synchronized Transaction Metadata load Metadata Annotated Element element if transaction Metadata contains Key element Transaction Metadata metadata new Transaction Metadata element transaction Metadata put element metadata return metadata return transaction Metadata get element Around Invoke public Object around Invoke final Invocation Context invocation throws Exception return new Work Override protected Object work throws Exception return invocation proceed Override protected boolean is New Transaction Required boolean transaction Active return is New Transaction Required invocation get Method get Component get Bean Class transaction Active private boolean is New Transaction Required Method method Class bean Class boolean transaction Active Transaction Metadata metadata lookup Transaction Metadata method if metadata is Annotation Present return metadata is New Transaction Required transaction Active else metadata lookup Transaction Metadata bean Class return metadata is New Transaction Required transaction Active work In Transaction public boolean is Interceptor Enabled return get Component get Type get Component bean Class Has Annotation Transactional class 
package org jboss seam annotations Transaction propagation strategies for Seam Java Bean components Note that unlike components there are no strategies for suspending transactions author Gavin King public enum Transaction Propagation Type public boolean is New Transaction Required boolean transaction Active switch this case return transaction Active case return false case if transaction Active throw new Illegal State Exception No transaction active on call to method else return false case if transaction Active throw new Illegal State Exception Transaction active on call to method else return false default throw new Illegal Argument Exception 
package org jboss seam example quartz test import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Auto Create import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam contexts Contexts author Pete Muir Name transaction Status Scope Scope Type Auto Create public class Transaction Status private Object id private boolean transaction Succeded private boolean transaction Completed return the transaction Success public boolean get Transaction Succeded return this transaction Succeded param transaction Success the transaction Success to set public void set Transaction Succeded boolean transaction Success this transaction Succeded transaction Success return the transaction Completed public boolean get Transaction Completed return this transaction Completed param transaction Completed the transaction Completed to set public void set Transaction Completed boolean transaction Completed this transaction Completed transaction Completed public static void clear Contexts get Application Context remove transaction Status public static Transaction Status instance return Transaction Status Component get Instance transaction Status return the id public Object get Id return this id param id the id to set public void set Id Object id this id id 
package org jboss seam async import javax transaction Status import javax transaction Synchronization An event that is processed when a transaction completes succesfully author Gavin King public class Transaction Success Event extends Asynchronous Event implements Synchronization public Transaction Success Event String type Object params super type params public void after Completion int status if status Status execute null public void before Completion Override public String to String return Transaction Success Event get Type 
Boss Home of Professional Open Source Distributable under license See terms of license at gnu org package org jboss seam annotations bpm import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Marks a method as causing a j transition after the method returns a non null result without exception author Gavin King Target Retention Documented public interface Transition The transition name defaults to the name of the method return the transition name String value default 
package org jboss seam trinidad import static org jboss seam Scope Type import static org jboss seam annotations Install import javax faces model Data Model import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam faces Data Models import org jboss seam framework Entity Query import org jboss seam framework Hibernate Entity Query import org jboss seam framework Query Provide enhanced features when Trinidad is used as a component set author pmuir Name org jboss seam faces data Models Install precedence class Dependencies org apache myfaces trinidad component Component Scope Bypass Interceptors public class Trinidad Data Models extends Data Models Override public Data Model get Data Model Query query If an Entity Query is in use we can return a Collection Model backed by the database if query instanceof Entity Query return new Entity Collection Model Entity Query query else if query instanceof Hibernate Entity Query return new Hibernate Entity Collection Model Hibernate Entity Query query else return super get Data Model query 
package org jboss seam util import java beans Introspector import java lang reflect Field import java lang reflect Method public class Typed Bean Property private Field property Field private Method property Getter private Method property Setter private String name private boolean is Field Property private boolean set false public Typed Bean Property Class cls Class type First check declared fields for Field f cls get Declared Fields if f get Generic Type equals type setup Field Property f set true return Then check public fields in case it s inherited for Field f cls get Fields if f get Generic Type equals type setup Field Property f set true return Then check public methods we ignore private methods for Method m cls get Methods if m get Generic Return Type equals type String method Name m get Name if m get Name starts With get this name Introspector decapitalize m get Name substring else if method Name starts With is this name Introspector decapitalize m get Name substring if this name null this property Getter Reflections get Getter Method cls this name this property Setter Reflections get Setter Method cls this name is Field Property false set true else throw new Illegal State Exception Invalid accessor method must start with get or is Method m in class cls private void setup Field Property Field property Field this property Field property Field is Field Property true this name property Field get Name public void set Value Object bean Object value if is Field Property Reflections set And Wrap property Field bean value else Reflections invoke And Wrap property Setter bean value public Object get Value Object bean if is Field Property return Reflections get And Wrap property Field bean else return Reflections invoke And Wrap property Getter bean public String get Name return name public boolean is Set return set 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui component import javax faces component Parameter import javax faces context Faces Context import org jboss seam navigation Pages import org jboss seam navigation Safe Actions This is a support component and is not processed by the does n t appear in faces config public class Action extends Parameter private static final String org jboss seam ui Action Override public String get Family return private String action public String get Action return action public void set Action String action this action action private boolean is Method Binding return get Action starts With Override public String get Name return is Method Binding action Method action Outcome Override public Object get Value String view Id Pages get Current View Id if is Method Binding String action Id Safe Actions to Action Id view Id get Action Safe Actions instance add Safe Action action Id return action Id else return get Action Override public void restore State Faces Context context Object state Object values Object state super restore State context values action String values Override public Object save State Faces Context context Object values new Object values super save State context values action return values 
package org jboss seam pdf ui import javax faces context import com lowagie text public class Anchor extends Text Component public static final String org jboss seam pdf ui Anchor Anchor anchor String name String reference public void set Name String name this name name public void set Reference String reference this reference reference Override public Object get Text Object return anchor Override public void remove Text Object anchor null Override public void create Text Object Faces Context context anchor new Anchor name String value Binding context name name if name null anchor set Name name reference String value Binding context reference reference if reference null anchor set Reference reference Override public void handle Add Object o anchor add o 
package org jboss seam pdf ui import javax faces context Faces Context import org jfree chart Free Chart import org jfree data general Dataset public class Any Chart extends Chart Override public Free Chart create Chart Faces Context context throw new Runtime Exception the chart tag requires a chart Override public Dataset create Dataset return null 
package org jboss seam mail ui import java io File import java io Exception import java io Input Stream import java lang reflect Method import java net import javax activation Data Handler import javax activation Data Source import javax activation File Data Source import javax activation Data Source import javax faces Faces Exception import javax faces component Value Holder import javax faces context Faces Context import javax faces convert Converter import javax mail Messaging Exception import javax mail internet Mime Body Part import javax mail util Byte Array Data Source import org jboss seam contexts Contexts import org jboss seam ui util import org jboss seam util Faces Resources import org jboss seam util Random String Utils import org jboss seam util Reflections public class Attachment extends Mail Component implements Value Holder public class Attachment Status private String content Id public String get Content Id return content Id public void set Content Id String content Id this content Id content Id private Object value private String content Type private String file Name private String status private String disposition attachment public Object get Value if value null return value else return get Value value public void set Value Object value this value value public String get Status return status public void set Status String status this status status Override public void encode Begin Faces Context context throws Exception if this get Child Count if Reflections is Instance Of this get Children get get Class org jboss seam pdf ui Document Reflections is Instance Of this get Children get get Class org jboss seam excel ui Workbook Method method Reflections get Setter Method this get Children get get Class send Redirect Reflections invoke And Wrap method this get Children get false render Children context this else set Value encode context get Bytes if get Content Type null User has n t specified content assume html set Content Type text html Override public void encode End Faces Context context throws Exception Data Source ds null try if get Value instanceof url get Value ds new Data Source url else if get Value instanceof File File file File get Value ds new File Data Source file else if get Value instanceof String String string String get Value ds new Data Source Faces Resources get Resource string context get External Context else if get Value instanceof Input Stream Input Stream is Input Stream get Value ds new Byte Array Data Source is get Content Type else if get Value null Reflections is Instance Of get Value get Class org jboss seam document Document Data Method data Getter Reflections get Getter Method get Value get Class data Method doc Type Getter Reflections get Getter Method get Value get Class document Type Object doc Type Reflections invoke And Wrap doc Type Getter get Value Method mime Type Getter Reflections get Getter Method doc Type get Class mime Type ds new Byte Array Data Source byte Reflections invoke And Wrap data Getter get Value String Reflections invoke And Wrap mime Type Getter doc Type else if get Value null get Value get Class is Array if get Value get Class get Component Type is Assignable From Byte byte b byte get Value ds new Byte Array Data Source b get Content Type if ds null Check the Data Source is available try ds get Input Stream catch Exception e if value null throw new Null Pointer Exception Error accessing value else throw new Null Pointer Exception Error accessing get Value Expression value get Expression String Mime Body Part attachment new Mime Body Part Need to manually set the contentid String content Id Random String Utils random Alphabetic to Lower Case if disposition equals inline attachment set Content new Header content Id get Sanitized Value attachment set Data Handler new Data Handler ds attachment set File Name new Header get Name ds get Name get Sanitized Value attachment set Disposition new Header get Disposition get Sanitized Value find Message get Attachments add attachment if get Status null Attachment Status attachment Status new Attachment Status if disposition equals inline attachment Status set Content Id content Id Contexts get Event Context set get Status attachment Status catch Messaging Exception e throw new Faces Exception e get Message e public String get Content Type if content Type null return get String content Type else return content Type public void set Content Type String content Type this content Type content Type public String get File Name if file Name null return get String file Name else return file Name public void set File Name String file Name this file Name file Name private String remove Path String file Name if file Name last Index Of return file Name substring file Name last Index Of else return file Name private String get Name String name if get File Name null return get File Name else return remove Path name public Converter get Converter return null public Object get Local Value return value public void set Converter Converter converter throw new Unsupported Operation Exception Can not attach a converter to an attachment public String get Disposition return disposition public void set Disposition String disposition if attachment equals disposition inline equals disposition this disposition disposition 
package org jboss seam pdf ui import javax faces context Faces Context import org jfree chart Chart Factory import org jfree chart Free Chart import org jfree chart renderer category Bar Renderer import org jfree chart renderer category Category Item Renderer import org jfree data category Category Dataset import org jfree data category Default Category Dataset import org jfree data general Dataset public class Bar Chart extends Category Chart Base Override public void restore State Faces Context context Object state Object values Object state super restore State context values Override public Object save State Faces Context context Object values new Object values super save State context return values Override public Dataset create Dataset return new Default Category Dataset Override public void configure Plot Plot p super configure Plot p Override public void configure Renderer Category Item Renderer renderer super configure Renderer renderer if renderer instanceof Bar Renderer configure Renderer Bar Renderer renderer public void configure Renderer Bar Renderer renderer Override public Free Chart create Chart Faces Context context Free Chart chart if get Is chart Chart Factory create Bar Chart get Title get Domain Axis Label get Range Axis Label Category Dataset dataset plot Orientation get Orientation get Legend false false else chart Chart Factory create Bar Chart get Title get Domain Axis Label get Range Axis Label Category Dataset dataset plot Orientation get Orientation get Legend false false configure Title chart get Title configure Legend chart get Legend return chart 
package org jboss seam pdf ui import java awt Color import java awt Graphics import java awt image Buffered Image import java io Byte Array Output Stream import java io Exception import java lang reflect Field import javax faces context Faces Context import javax faces context Response Writer import javax imageio Image import org jboss seam core Manager import org jboss seam pdf Text Utils import org jboss seam pdf ui Text Component import org jboss seam ui graphic Image Graphic Image Resource import org jboss seam ui graphic Image Graphic Image Store import org jboss seam ui graphic Image Graphic Image Store Image Wrapper import org jboss seam ui graphic Image Image Type import com lowagie text Image import com lowagie text pdf based on submission by user ivan public class Bar Code extends Text Component private Barcode barcode private Object itext Object private String type private String code private String code Type private Float xpos private Float ypos private Float rot Degrees private String alt Text private Float bar Height private Float text Size private Float min Bar Width private Float bar Multiplier String bar Color String text Color public String get Code return String value Binding code code public void set Code String code this code code public String get Type return String value Binding type type public void set Type String type this type type public String get Code Type return String value Binding code Type code Type public void set Code Type String code Type this code Type code Type public Float get Rot Degrees return Float value Binding rot Degrees rot Degrees public void set Rot Degrees Float rot Degrees this rot Degrees rot Degrees public Float get Xpos return Float value Binding xpos xpos public void set Xpos Float xpos this xpos xpos public Float get Ypos return Float value Binding ypos ypos public void set Ypos Float ypos this ypos ypos public String get Alt Text return String value Binding alt Text alt Text public void set Alt Text String alt Text this alt Text alt Text public Float get Bar Height return Float value Binding bar Height bar Height public void set Bar Height Float bar Height this bar Height bar Height public Float get Bar Multiplier return Float value Binding bar Multiplier bar Multiplier public void set Bar Multiplier Float bar Multiplier this bar Multiplier bar Multiplier public Float get Min Bar Width return Float value Binding min Bar Width min Bar Width public void set Min Bar Width Float min Bar Width this min Bar Width min Bar Width public Float get Text Size return Float value Binding text Size text Size public void set Text Size Float text Size this text Size text Size public String get Bar Color return String value Binding bar Color bar Color public void set Bar Color String bar Color this bar Color bar Color public String get Text Color return String value Binding text Color text Color public void set Text Color String text Color this text Color text Color Override public void restore State Faces Context context Object state Object values Object state super restore State context values type String values code String values xpos Float values ypos Float values rot Degrees Float values alt Text String values bar Height Float values text Size Float values min Bar Width Float values bar Multiplier Float values code Type String values bar Color String values text Color String values Override public Object save State Faces Context context Object values new Object values super save State context values type values code values xpos values ypos values rot Degrees values alt Text values bar Height values text Size values min Bar Width values bar Multiplier values code Type values bar Color values text Color return values Override public Object get Text Object return itext Object Override public void create Text Object Faces Context context throws Exception barcode create Barcode Type get Type barcode set Code get Code Integer code Val lookup Code Type get Code Type if code Val null barcode set Code Type code Val if get Alt Text null barcode set Alt Text get Alt Text if get Bar Height null barcode set Bar Height get Bar Height if get Bar Multiplier null barcode set get Bar Multiplier if get Min Bar Width null barcode set get Min Bar Width Document doc Document find Text Parent get Parent Document class if doc null Pdf Writer writer Pdf Writer doc get Writer Pdf Content Byte cb writer get Direct Content Image image barcode create Image With Barcode cb Text Utils color Value get Bar Color Text Utils color Value get Text Color if get Rot Degrees null image set Rotation Degrees get Rot Degrees if get Xpos null get Ypos null image set Absolute Position get Xpos get Ypos itext Object image else Color bars Text Utils color Value get Bar Color if bars null bars Color byte image Data image To Byte Array barcode create Awt Image bars Color itext Object new Image Wrapper image Data Type private Integer lookup Code Type String code Type if code Type null code Type length return null try Field field Barcode class get Declared Field code Type to Upper Case return field get Int Barcode class catch Exception e throw new Runtime Exception e private Barcode create Barcode Type String barcode Type if barcode Type null barcode Type length return new Barcode if barcode Type equals Ignore Case code return new Barcode else if barcode Type equals Ignore Case code return new Barcode else if barcode Type equals Ignore Case codabar return new Barcode Codabar else if barcode Type equals Ignore Case ean return new Barcode else if barcode Type equals Ignore Case inter return new Barcode Inter else if barcode Type equals Ignore Case postnet return new Barcode Postnet throw new Runtime Exception Unknown barcode type barcode Type Override public void remove Text Object itext Object null Override public void handle Add Object other throw new Runtime Exception ca n t add other get Class get Name to barcode public static byte image To Byte Array java awt Image image throws Exception Buffered Image buffered Image new Buffered Image image get Width null image get Height null Buffered Image Graphics gc buffered Image create Graphics gc draw Image image null Byte Array Output Stream stream new Byte Array Output Stream Image write buffered Image jpeg stream return stream to Byte Array Override public void no Text Parent Found try Faces Context context Faces Context get Current Instance Response Writer response context get Response Writer response start Element img null Graphic Image Store store Graphic Image Store instance String key store put Image Wrapper itext Object String url context get External Context get Request Context Path Graphic Image Resource key Type get Extension response write Attribute src url null response end Element img Manager instance before Redirect catch Exception e throw new Runtime Exception e 
package org jboss seam mail ui import javax mail Message Recipient Type component for rendering a Bcc public class Bcc extends Recipient Address Component Override protected Recipient Type get Recipient Type return Recipient Type 
package org jboss seam mail ui import java io Exception import java util Array List import java util List import javax faces Faces Exception import javax faces component Component import javax faces context Faces Context import javax mail Body Part import javax mail Messaging Exception import javax mail internet Mime Body Part import javax mail internet Mime Multipart import org jboss seam mail ui context Mail Response Writer component for rendering the body Supports plain text html bodies and setting an alternative text part using an alternative facet public class Body extends Mail Component public static final String html public static final String plain private String type Override public void encode Children Faces Context faces Context throws Exception try Body Part body Part new Mime Body Part Mime Multipart body Multipart if contains Inline Attachment find Message get Attachments body Multipart new Mime Multipart related else body Multipart null if equals Ignore Case get Type String body encode faces Context Mail Response Writer body Part get Text Body faces Context body else if equals get Type Component alternative get Facet alternative String body encode faces Context Mail Response Writer if alternative null Mime Multipart multipart Alt new Mime Multipart alternative multipart Alt add Body Part get Text Body faces Context encode faces Context alternative Mail Response Writer multipart Alt add Body Part get Html Body faces Context body body Part new Mime Body Part body Part set Content multipart Alt else body Part get Html Body faces Context body if find Message get Attachments size for Mime Body Part attachment find Message get Attachments if attachment get Disposition equals Ignore Case inline body Multipart add Body Part attachment else get Root Multipart add Body Part attachment reset the attachment list after adding to message body This is because ui message can be in ui repeat tag find Message set Attachments new Array List Mime Body Part if body Multipart null body Multipart add Body Part body Part Body Part body Part Content new Mime Body Part body Part Content set Content body Multipart get Root Multipart add Body Part body Part Content else get Root Multipart add Body Part body Part catch Messaging Exception e throw new Faces Exception e get Message e public void set Type String type this type type The type of the body plain or html public String get Type if type null return get String type return type private Body Part get Text Body Faces Context faces Context String body throws Messaging Exception Mime Body Part body Part new Mime Body Part body Part set Disposition new Header inline get Sanitized Value String charset find Message get Charset if charset null body Part set Content body text plain charset charset format flowed body Part set Text body new Header charset get Sanitized Value else body Part set Text body return body Part private Body Part get Html Body Faces Context faces Context Object body throws Messaging Exception Mime Body Part body Part new Mime Body Part body Part set Disposition new Header inline get Sanitized Value String charset find Message get Charset if charset null body Part set Content body new Header text html charset charset get Sanitized Value else body Part set Content body new Header text html get Sanitized Value return body Part private static boolean contains Inline Attachment List Mime Body Part attachments throws Messaging Exception for Mime Body Part attachment attachments if attachment get Disposition equals Ignore Case inline return true return false 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui component import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Tag import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer component class for Seam Button Jsf Component description Description display Name org jboss seam ui Button value link that supports invocation of an action with control over conversation propagation family org jboss seam ui Button type org jboss seam ui Button generate org jboss seam ui component html Html Button tag Tag base Class org jboss seam ui util cdk Component Tag Base name button handler org jboss seam ui handler Command Button Parameter Component Handler renderer Jsf Renderer type org jboss seam ui Button Renderer family org jboss seam ui Button Renderer attributes command button props xml javax faces component Command xml javax faces component Value Holder xml i n props xml accesskey props xml public abstract class Button extends Seam Command Base Attribute public abstract String get Style Class Attribute public abstract String get Style Attribute default Value false public abstract boolean is Disabled Attribute public abstract String get Onclick Attribute public abstract String get Image Attribute default Value true description Description Include page parameters defined in pages xml when rendering the button public abstract boolean is Include Page Params Attribute description Description The name of the conversation for natural conversations public abstract String get Conversation Name Attribute description Description Specify the task to operate on e g for Start Task public abstract Object get Task Instance Attribute public abstract String get Outcome Attribute description Description the fragment identifier to link to public abstract String get Fragment Attribute default Value default description Description determines the conversation propagation style begin join nest none end or end Root public abstract String get Propagation Attribute description Description a pageflow definition to begin This is only useful when propagation begin or propagation join public abstract String get Pageflow Attribute description Description the view id to link to public abstract String get View 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui component import javax faces component Component Base import org jboss seam cache Cache Provider import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag component class for Seam Cache Jsf Component description Description display Name org jboss seam ui Cache value Cache the rendered page fragment using the installed cache provider family org jboss seam ui Cache type org jboss seam ui Cache generate org jboss seam ui component html Html Cache tag Tag base Class org jboss seam ui util cdk Component Tag Base name cache renderer Jsf Renderer type org jboss seam ui Cache Renderer family org jboss seam ui Cache Renderer attributes base props xml public abstract class Cache extends Component Base Attribute default Value true description Description a value expression that determines if the cache should be used public abstract boolean is Enabled Attribute description Description the key to cache rendered content often a value expression For example if we were caching a page fragment that displays a document we might use key Document document id public abstract String get Key Attribute description Description a cache node to use different nodes can have different expiry policies public abstract String get Region Attribute default Value org jboss seam cache Cache Provider instance description Description The cache provider to use only needed if you install alter the default cache provider in an application where multiple cache providers are in use public abstract Cache Provider get Cache Provider 
package org jboss seam pdf ui import javax faces context Faces Context import org jboss seam log import org jfree chart axis Category Label Positions import org jfree chart block Block Border import org jfree chart plot Category Plot import org jfree chart plot Plot import org jfree chart renderer category Category Item Renderer import org jfree chart title Legend Title import org jfree chart title Text Title public abstract class Category Chart Base extends Chart private static Log log Logging get Log Category Chart Base class private String orientation private String title Background Paint private String title Paint private String legend Background Paint private String legend Item Paint private String legend Outline Paint private String domain Axis Label private String domain Label Position private String domain Axis Paint private Boolean domain Gridlines Visible private String domain Gridline Paint private String domain Gridline Stroke private String range Axis Label private String range Axis Paint private Boolean range Gridlines Visible private String range Gridline Paint private String range Gridline Stroke public String get Domain Axis Label return String value Binding domain Axis Label domain Axis Label public void set Domain Axis Label String category Axis Label this domain Axis Label category Axis Label public String get Range Axis Label return String value Binding range Axis Label range Axis Label public void set Range Axis Label String value Axis Label this range Axis Label value Axis Label public String get Domain Label Position return String value Binding domain Label Position domain Label Position public void set Domain Label Position String domain Label Position this domain Label Position domain Label Position public void set Orientation String orientation this orientation orientation public String get Orientation return String value Binding orientation orientation public void set Title Background Paint String title Background Paint this title Background Paint title Background Paint public String get Title Background Paint return String value Binding title Background Paint title Background Paint public void set Title Paint String title Paint this title Paint title Paint public String get Title Paint return String value Binding title Paint title Paint public String get Legend Background Paint return String value Binding legend Background Paint legend Background Paint public void set Legend Background Paint String legend Background Paint this legend Background Paint legend Background Paint public String get Legend Item Paint return String value Binding legend Item Paint legend Item Paint public void set Legend Item Paint String legend Item Paint this legend Item Paint legend Item Paint public String get Legend Outline Paint return String value Binding legend Outline Paint legend Outline Paint public void set Legend Outline Paint String legend Outline Paint this legend Outline Paint legend Outline Paint public String get Domain Gridline Paint return String value Binding domain Gridline Paint domain Gridline Paint public void set Domain Gridline Paint String domain Gridline Paint this domain Gridline Paint domain Gridline Paint public String get Domain Gridline Stroke return String value Binding domain Gridline Stroke domain Gridline Stroke public void set Domain Gridline Stroke String domain Gridline Stroke this domain Gridline Stroke domain Gridline Stroke public Boolean get Domain Gridlines Visible return Boolean value Binding domain Gridlines Visible domain Gridlines Visible public void set Domain Gridlines Visible Boolean domain Gridlines Visible this domain Gridlines Visible domain Gridlines Visible public String get Range Gridline Paint return String value Binding range Gridline Paint range Gridline Paint public void set Range Gridline Paint String range Gridline Paint this range Gridline Paint range Gridline Paint public String get Range Gridline Stroke return String value Binding range Gridline Stroke range Gridline Stroke public void set Range Gridline Stroke String range Gridline Stroke this range Gridline Stroke range Gridline Stroke public Boolean get Range Gridlines Visible return Boolean value Binding range Gridlines Visible range Gridlines Visible public void set Range Gridlines Visible Boolean range Gridlines Visible this range Gridlines Visible range Gridlines Visible public String get Domain Axis Paint return String value Binding domain Axis Paint domain Axis Paint public void set Domain Axis Paint String domain Axis Paint this domain Axis Paint domain Axis Paint public String get Range Axis Paint return String value Binding range Axis Paint range Axis Paint public void set Range Axis Paint String range Axis Paint this range Axis Paint range Axis Paint Override public void restore State Faces Context context Object state Object values Object state super restore State context values orientation String values legend Boolean values is Boolean values title Background Paint String values title Paint String values legend Background Paint String values legend Item Paint String values legend Outline Paint String values domain Axis Label String values domain Axis Paint String values domain Gridlines Visible Boolean values domain Gridline Paint String values domain Gridline Stroke String values range Axis Label String values range Axis Paint String values range Gridlines Visible Boolean values range Gridline Paint String values range Gridline Stroke String values domain Label Position String values Override public Object save State Faces Context context Object values new Object values super save State context values orientation values legend values is values title values title Background Paint values title Paint values legend Background Paint values legend Item Paint values legend Outline Paint values domain Axis Label values domain Axis Paint values domain Gridlines Visible values domain Gridline Paint values domain Gridline Stroke values range Axis Label values range Axis Paint values range Gridlines Visible values range Gridline Paint values range Gridline Stroke values domain Label Position return values Override public void configure Plot Plot plot super configure Plot plot if plot instanceof Category Plot configure Plot Category Plot plot else log error unknown plot plot public void configure Plot Category Plot plot plot set Axis Offset Rectangle Insets plot set Domain Axis Location arg plot set Range Axis Location arg if get Domain Gridlines Visible null plot set Domain Gridlines Visible get Domain Gridlines Visible if find Color get Domain Gridline Paint null plot set Domain Gridline Paint find Color get Domain Gridline Paint if find Stroke get Domain Gridline Stroke null plot set Domain Gridline Stroke find Stroke get Domain Gridline Stroke if find Color get Domain Axis Paint null plot get Domain Axis set Label Paint find Color get Domain Axis Paint if get Range Gridlines Visible null plot set Range Gridlines Visible get Range Gridlines Visible if find Color get Range Gridline Paint null plot set Range Gridline Paint find Color get Range Gridline Paint if find Stroke get Range Gridline Stroke null plot set Range Gridline Stroke find Stroke get Range Gridline Stroke if find Color get Range Axis Paint null plot get Range Axis set Label Paint find Color get Range Axis Paint if get Domain Label Position null Category Label Positions positions category Label Position get Domain Label Position plot get Domain Axis set Category Label Positions positions configure Renderer plot get Renderer private Category Label Positions category Label Position String position if position null return Category Label Positions else if position equals return Category Label Positions else if position equals return Category Label Positions else if position equals return Category Label Positions else if position equals return Category Label Positions double angle Double parse Double position if angle return Category Label Positions create Up Rotation Label Positions angle else return Category Label Positions create Down Rotation Label Positions angle public void configure Renderer Category Item Renderer renderer renderer set Item Margin renderer set Base arg renderer set Base Fill Paint arg renderer set Base Item Label Font arg renderer set Base Item Label Paint arg renderer set Base Item Labels Visible arg renderer set Base Outline Paint arg renderer set Base Outline Stroke arg renderer set Base Series Visible arg renderer set Base Series Visible In Legend arg renderer set Base Shape arg renderer set Base Stroke renderer set Fill Paint arg renderer set Item Label Font arg renderer set Item Label Paint arg renderer set Item Labels Visible arg renderer set Item Margin arg renderer set Outline Paint arg renderer set Outline Stroke arg renderer set Paint arg renderer set Stroke arg renderer set Base Outline Stroke new Basic Stroke f Basic Stroke Basic Stroke f new float public void configure Title Text Title chart Title if chart Title null if find Color get Title Background Paint null chart Title set Background Paint find Color get Title Background Paint if find Color get Title Paint null chart Title set Paint find Color get Title Paint void configure Legend Legend Title chart Legend if chart Legend null if find Color get Legend Background Paint null chart Legend set Background Paint find Color get Legend Background Paint if find Color get Legend Outline Paint null chart Legend set Frame new Block Border find Color get Legend Outline Paint if find Color get Legend Item Paint null chart Legend set Item Paint find Color get Legend Item Paint 
package org jboss seam mail ui import javax mail Message Recipient Type component for rendering a Cc public class Cc extends Recipient Address Component Override protected Recipient Type get Recipient Type return Recipient Type 
package org jboss seam pdf ui import org jboss seam pdf Text Utils import com lowagie text import com lowagie text pdf import javax faces context Faces Context public class Cell extends Rectangle public static final String org jboss seam pdf ui Cell Pdf Cell cell String horizontal Alignment String vertical Alignment Float padding Float padding Left Float padding Right Float padding Top Float padding Bottom Boolean use Border Padding Float leading Float multiplied Leading Float indent Float extra Paragraph Space Float fixed Height Boolean no Wrap Float minimum Height Integer colspan Float following Indent Float right Indent Integer space Char Ratio Integer run Direction Integer arabic Options Boolean use Ascender Float gray Fill Integer rotation boolean has Content false public void set Gray Fill Float gray Fill this gray Fill gray Fill public void set Horizontal Alignment String horizontal Alignment this horizontal Alignment horizontal Alignment public void set Vertical Alignment String vertical Alignment this vertical Alignment vertical Alignment public void set Padding Float padding this padding padding public void set Padding Left Float padding Left this padding Left padding Left public void set Padding Right Float padding Right this padding Right padding Right public void set Padding Top Float padding Top this padding Top padding Top public void set Padding Bottom Float padding Bottom this padding Bottom padding Bottom public void set Use Border Padding Boolean use Border Padding this use Border Padding use Border Padding public void set Leading Float leading this leading leading public void set Multiplied Leading Float multiplied Leading this multiplied Leading multiplied Leading public void set Indent Float indent this indent indent public void set Extra Paragraph Space Float extra Paragraph Space this extra Paragraph Space extra Paragraph Space public void set Fixed Height Float fixed Height this fixed Height fixed Height public void set No Wrap Boolean no Wrap this no Wrap no Wrap public void set Minimum Height Float minimum Height this minimum Height minimum Height public void set Colspan Integer colspan this colspan colspan public void set Following Indent Float following Indent this following Indent following Indent public void set Right Indent Float right Indent this right Indent right Indent public void set Space Char Ratio Integer space Char Ratio this space Char Ratio space Char Ratio public void set Run Direction Integer run Direction this run Direction run Direction public void set Arabic Options Integer arabic Options this arabic Options arabic Options public void set Use Ascender Boolean use Ascender this use Ascender use Ascender public void set Rotation Integer rotation this rotation rotation Override public Object get Text Object return cell Override public void remove Text Object cell null Override public void create Text Object Faces Context context has Content false Pdf Cell default Cell get Default Cell From Table if default Cell null cell new Pdf Cell default Cell else cell new Pdf Cell horizontal Alignment String value Binding context horizontal Alignment horizontal Alignment if horizontal Alignment null cell set Horizontal Alignment Text Utils alignment Value horizontal Alignment vertical Alignment String value Binding context vertical Alignment vertical Alignment if vertical Alignment null cell set Vertical Alignment Text Utils alignment Value vertical Alignment padding Float value Binding context padding padding if padding null cell set Padding padding padding Left Float value Binding context padding Left padding Left if padding Left null cell set Padding Left padding Left padding Right Float value Binding context padding Right padding Right if padding Right null cell set Padding Right padding Right padding Top Float value Binding context padding Top padding Top if padding Top null cell set Padding Top padding Top padding Bottom Float value Binding context padding Bottom padding Bottom if padding Bottom null cell set Padding Bottom padding Bottom use Border Padding Boolean value Binding context use Border Padding use Border Padding if use Border Padding null cell set Use Border Padding use Border Padding leading Float value Binding context leading leading multiplied Leading Float value Binding context multiplied Leading multiplied Leading if leading null multiplied Leading null cell set Leading leading null leading float Value multiplied Leading null multiplied Leading float Value indent Float value Binding context indent indent if indent null cell set Indent indent extra Paragraph Space Float value Binding context extra Paragraph Space extra Paragraph Space if extra Paragraph Space null cell set Extra Paragraph Space extra Paragraph Space fixed Height Float value Binding context fixed Height fixed Height if fixed Height null cell set Fixed Height fixed Height no Wrap Boolean value Binding context no Wrap no Wrap if no Wrap null cell set No Wrap no Wrap minimum Height Float value Binding context minimum Height minimum Height if minimum Height null cell set Minimum Height minimum Height colspan Integer value Binding context colspan colspan if colspan null cell set Colspan colspan following Indent Float value Binding context following Indent following Indent if following Indent null cell set Following Indent following Indent right Indent Float value Binding context right Indent right Indent if right Indent null cell set Right Indent right Indent space Char Ratio Integer value Binding context space Char Ratio space Char Ratio if space Char Ratio null cell set Space Char Ratio space Char Ratio run Direction Integer value Binding context run Direction run Direction if run Direction null cell set Run Direction run Direction arabic Options Integer value Binding context arabic Options arabic Options if arabic Options null cell set Arabic Options arabic Options use Ascender Boolean value Binding context use Ascender use Ascender if use Ascender null cell set Use Ascender use Ascender gray Fill Float value Binding context gray Fill gray Fill if gray Fill null cell set Gray Fill gray Fill rotation Integer value Binding context rotation rotation if rotation null cell set Rotation rotation apply Rectangle Properties context cell private Pdf Cell get Default Cell From Table Table parent Table Table find Text Parent this Table class if parent Table null return parent Table get Default Cell Facet return null Override public void handle Add Object o if has Content if o instanceof Image added by user request but it mages the logic here rather ugly cell set Image Image o else if o instanceof Phrase cell set Phrase Phrase o else if o instanceof Element cell add Element Element o else throw new Runtime Exception Ca n t add o get Class get Name to cell has Content true else if o instanceof Element if cell get Image null Image image cell get Image cell set Image null cell add Element image if cell get Phrase null Phrase p cell get Phrase cell set Phrase null cell add Element p cell add Element Element o else throw new Runtime Exception Ca n t add o get Class get Name to cell 
package org jboss seam excel ui public abstract class Cell Base extends Excel Component private String comment private Integer comment Width private Integer comment Height public String get Comment return String value Of comment comment public void set Comment String comment this comment comment public Integer get Comment Width return Integer value Of comment Width comment Width public void set Comment Width Integer comment Width this comment Width comment Width public Integer get Comment Height return Integer value Of comment Height comment Height public void set Comment Height Integer comment Height this comment Height comment Height 
package org jboss seam pdf ui import javax faces context import com lowagie text public class Chapter extends Section public static final String org jboss seam pdf ui Chapter Integer number String chapter Title public Chapter get Chapter return Chapter get Section public void set Number Integer number this number number Override public Object get Text Object return section remove Text Object handle Add set by parent Override public void create Text Object Faces Context context number Integer value Binding context number number number Depth Integer value Binding context number Depth number Depth chapter Title String value Binding context chapter Title chapter Title section new Chapter number if number Depth null section set Number Depth number Depth if chapter Title null section set Bookmark Title chapter Title section set Trigger New Page get New Page 
package org jboss seam pdf ui import java awt Graphics import java awt Paint import java awt Stroke import java awt geom Rectangle import java io Byte Array Output Stream import java io Exception import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam pdf Text Utils import org jboss seam ui graphic Image Graphic Image Resource import org jboss seam ui graphic Image Graphic Image Store import org jboss seam ui graphic Image Graphic Image Store Image Wrapper import org jboss seam ui graphic Image Image Type import org jfree chart Chart Utilities import org jfree chart Free Chart import org jfree chart plot Plot import org jfree chart plot Plot Orientation import org jfree data general Dataset import com lowagie text import com lowagie text pdf Default Font Mapper import com lowagie text pdf Pdf Content Byte import com lowagie text pdf Pdf Template import com lowagie text pdf Pdf Writer import com lowagie text pdf Asian Font Mapper public abstract class Chart extends Text Component private Image image null private Free Chart chart null private byte image Data private int height private int width private boolean legend private boolean is false private String title private String border Background Paint private String border Paint private String border Stroke private boolean border Visible true private String plot Background Paint private Float plot Background Alpha private Float plot Foreground Alpha private String plot Outline Stroke private String plot Outline Paint protected Dataset dataset public void set Title String title this title title public String get Title return String value Binding title title public void set Height int height this height height public int get Height return Integer value Binding Faces Context get Current Instance height height public void set Width int width this width width public int get Width return Integer value Binding Faces Context get Current Instance width width public void set Legend boolean legend this legend legend public boolean get Legend return Boolean value Binding legend legend public void set Is boolean is this is true public boolean get Is return Boolean value Binding is is public void set Border Background Paint String background Paint this border Background Paint background Paint public String get Border Background Paint return String value Binding Faces Context get Current Instance border Background Paint border Background Paint public void set Border Paint String border Paint this border Paint border Paint public String get Border Paint return String value Binding Faces Context get Current Instance border Paint border Paint public void set Border Stroke String border Stroke this border Stroke border Stroke public String get Border Stroke return String value Binding Faces Context get Current Instance border Stroke border Stroke public void set Border Visible boolean border Visible this border Visible border Visible public boolean get Border Visible return Boolean value Binding Faces Context get Current Instance border Visible border Visible public void set Plot Background Alpha Float plot Background Alpha this plot Background Alpha plot Background Alpha public Float get Plot Background Alpha return Float value Binding Faces Context get Current Instance plot Background Alpha plot Background Alpha public void set Plot Background Paint String plot Background Paint this plot Background Paint plot Background Paint public String get Plot Background Paint return String value Binding Faces Context get Current Instance plot Background Paint plot Background Paint public void set Plot Foreground Alpha Float plot Foreground Alpha this plot Foreground Alpha plot Foreground Alpha public Float get Plot Foreground Alpha return Float value Binding Faces Context get Current Instance plot Foreground Alpha plot Foreground Alpha public void set Plot Outline Paint String plot Outline Paint this plot Outline Paint plot Outline Paint public String get Plot Outline Paint return String value Binding Faces Context get Current Instance plot Outline Paint plot Outline Paint public void set Plot Outline Stroke String plot Outline Stroke this plot Outline Stroke plot Outline Stroke public String get Plot Outline Stroke return String value Binding Faces Context get Current Instance plot Outline Stroke plot Outline Stroke public void set Dataset Dataset dataset this dataset dataset public Dataset get Dataset return Dataset value Binding Faces Context get Current Instance dataset dataset public void set Chart Free Chart chart this chart chart public Free Chart get Chart return Free Chart value Binding Faces Context get Current Instance chart chart Override public void restore State Faces Context context Object state Object values Object state super restore State context values height Integer values width Integer values border Background Paint String values border Paint String values border Stroke String values border Visible Boolean values plot Background Paint String values plot Background Alpha Float values plot Foreground Alpha Float values plot Outline Stroke String values plot Outline Paint String values title String values is Boolean values legend Boolean values Override public Object save State Faces Context context Object values new Object values super save State context values height values width values border Background Paint values border Paint values border Stroke values border Visible values plot Background Paint values plot Background Alpha values plot Foreground Alpha values plot Outline Stroke values plot Outline Paint values title values is values legend return values public static Paint find Color String name if name null name length return null Component component Faces Context get Current Instance get View Root find Component name if component null if component instanceof Color return Color component get Paint else throw new Runtime Exception return Text Utils color Value name public static Stroke find Stroke String id if id null id length return null Component component Faces Context get Current Instance get View Root find Component id if component instanceof Stroke return Stroke component get Stroke else throw new Runtime Exception public abstract Free Chart create Chart Faces Context context Override public void create Text Object Faces Context context if get Border Background Paint null chart set Background Paint find Color get Border Background Paint if get Border Paint null chart set Border Paint find Color get Border Paint if get Border Stroke null chart set Border Stroke find Stroke get Border Stroke chart set Border Visible get Border Visible configure Plot chart get Plot try Document doc Document find Text Parent get Parent Document class if doc null Pdf Writer writer Pdf Writer doc get Writer Pdf Content Byte cb writer get Direct Content Pdf Template tp cb create Template get Width get Height Font font Font find Text Parent this Font class Default Font Mapper font Mapper if font null font Mapper new Default Font Mapper else font Mapper new Asian Font Mapper font get Name font get Encoding Graphics g tp create Graphics get Width get Height font Mapper chart draw g new Rectangle Double get Width get Height g dispose image new Img Template tp else Byte Array Output Stream stream new Byte Array Output Stream Chart Utilities write Chart As stream chart get Width get Height image Data stream to Byte Array stream close catch Exception e throw new Runtime Exception e public void configure Plot Plot plot if get Plot Background Alpha null plot set Background Alpha get Plot Background Alpha if get Plot Foreground Alpha null plot set Foreground Alpha get Plot Foreground Alpha if get Plot Background Paint null plot set Background Paint find Color get Plot Background Paint if get Plot Outline Paint null plot set Outline Paint find Color get Plot Outline Paint if get Plot Outline Stroke null plot set Outline Stroke find Stroke get Plot Outline Stroke public Plot Orientation plot Orientation String orientation if orientation null orientation equals Ignore Case horizontal return Plot Orientation else return Plot Orientation Override public void encode Begin Faces Context context throws Exception bypass super to avoid create Text Object before the chart is ready dataset create Dataset chart get Chart if chart null chart create Chart context Override public void encode End Faces Context context throws Exception call create here so that we ll have a valid chart create Text Object context if image Data null Response Writer response context get Response Writer response start Element img null Graphic Image Store store Graphic Image Store instance String key store put new Image Wrapper image Data Type String url context get External Context get Request Context Path Graphic Image Resource key Type get Extension response write Attribute src url null response write Attribute height get Height null response write Attribute width get Width null response end Element img super encode End context Override public Object get Text Object return image Override public void handle Add Object arg throw new Runtime Exception No children allowed Override public void remove Text Object image null chart null public abstract Dataset create Dataset 
package org jboss seam pdf ui import java io Exception import java math Big Decimal import javax faces context Faces Context import org jfree chart plot Pie Plot import org jfree data category Default Category Dataset import org jfree data general Dataset import org jfree data general Default Pie Dataset public class Chart Data extends Text Component private String key private String series private Object value private Float exploded Percent private String section Paint private String section Outline Paint private String section Outline Stroke public Object get Value return value Binding value value public void set Value Object value this value value public Number get Numeric Value Object val get Value if val instanceof Number return Number get Value else if val instanceof String return new Big Decimal String val else throw new Runtime Exception Ca n t convert val get Class get Name to numeric value public String get Key return String value Binding key key public void set Key String key this key key public String get Series String value String value Binding series series if value null Chart Series series Chart Series find Text Parent this Chart Series class value series get Key return value public void set Series String series this series series public void set Value Double value this value value public Float get Exploded Percent return Float value Binding exploded Percent exploded Percent public void set Exploded Percent Float exploded Percent this exploded Percent exploded Percent public String get Section Outline Paint return String value Binding section Outline Paint section Outline Paint public void set Section Outline Paint String section Outline Paint this section Outline Paint section Outline Paint public String get Section Outline Stroke return String value Binding section Outline Stroke section Outline Stroke public void set Section Outline Stroke String section Outline Stroke this section Outline Stroke section Outline Stroke public String get Section Paint return String value Binding section Paint section Paint public void set Section Paint String section Paint this section Paint section Paint Override public void restore State Faces Context context Object state Object values Object state super restore State context values key String values column Key String values series String values value values exploded Percent Float values section Paint String values section Outline Paint String values section Outline Stroke String values Override public Object save State Faces Context context Object values new Object values super save State context values key values column Key values series values value values exploded Percent values section Paint values section Outline Paint values section Outline Stroke return values Override public void encode End Faces Context context throws Exception super encode End context Chart chart Chart find Text Parent get Parent Chart class if chart null Dataset dataset chart get Dataset if dataset instanceof Default Pie Dataset Default Pie Dataset piedata Default Pie Dataset dataset piedata set Value get Key get Numeric Value Pie Plot plot Pie Plot chart get Chart get Plot if get Exploded Percent null plot set Explode Percent get Key get Exploded Percent if Chart find Color get Section Paint null plot set Section Paint get Key Chart find Color get Section Paint if Chart find Color get Section Outline Paint null plot set Section Outline Paint get Key Chart find Color get Section Outline Paint if Chart find Stroke get Section Outline Stroke null plot set Section Outline Stroke get Key Chart find Stroke get Section Outline Stroke else if dataset instanceof Default Category Dataset Default Category Dataset data Default Category Dataset dataset Category Plot plot Category Plot chart get Chart get Plot data add Value get Numeric Value get Series get Key else if dataset instanceof Default Dataset Default Dataset data Default Dataset dataset else throw new Runtime Exception Can not add data to dataset of type dataset get Class Override public void create Text Object Faces Context context Override public Object get Text Object return null Override public void handle Add Object other Override public void remove Text Object 
package org jboss seam pdf ui import java io Exception import javax faces context Faces Context import org jboss seam log import org jfree chart plot Category Plot import org jfree chart plot Plot import org jfree chart renderer Abstract Renderer import org jfree chart renderer category Category Item Renderer import org jfree data category Category Dataset import org jfree data general Dataset public class Chart Series extends Text Component private static Log log Logging get Log Chart Series class private String key private String series Paint private String series Fill Paint private String series Outline Paint private String series Outline Stroke private String series Stroke private Boolean series Visible private Boolean series Visible In Legend public String get Key return String value Binding key key public void set Key String key this key key public String get Series Paint return String value Binding series Paint series Paint public void set Series Paint String series Paint this series Paint series Paint public String get Series Fill Paint return String value Binding series Fill Paint series Fill Paint public void set Series Fill Paint String series Fill Paint this series Fill Paint series Fill Paint public String get Series Outline Paint return String value Binding series Outline Paint series Outline Paint public void set Series Outline Paint String series Outline Paint this series Outline Paint series Outline Paint public String get Series Outline Stroke return String value Binding series Outline Stroke series Outline Stroke public void set Series Outline Stroke String series Outline Stroke this series Outline Stroke series Outline Stroke public String get Series Stroke return String value Binding series Stroke series Stroke public void set Series Stroke String series Stroke this series Stroke series Stroke public Boolean get Series Visible return Boolean value Binding series Visible series Visible public void set Series Visible Boolean series Visible this series Visible series Visible public Boolean get Series Visible In Legend return Boolean value Binding series Visible In Legend series Visible In Legend public void set Series Visible In Legend Boolean series Visible In Legend this series Visible In Legend series Visible In Legend Override public void restore State Faces Context context Object state Object values Object state super restore State context values key String values series Paint String values series Fill Paint String values series Outline Paint String values series Outline Stroke String values series Stroke String values series Visible Boolean values series Visible In Legend Boolean values Override public Object save State Faces Context context Object values new Object values super save State context values key values series Paint values series Fill Paint values series Outline Paint values series Outline Stroke values series Stroke values series Visible values series Visible In Legend return values Override public void encode End Faces Context context throws Exception Chart chart Chart find Text Parent get Parent Chart class if chart null Dataset dataset chart get Dataset Plot p chart get Chart get Plot if p instanceof Category Plot Category Plot plot Category Plot p int series Index Category Dataset dataset get Row Index get Key Category Item Renderer renderer plot get Renderer Category Renderer if renderer instanceof Abstract Renderer configure Series Abstract Renderer renderer series Index else log error render is not Abtract Renderer renderer else if p instanceof Plot private void configure Series Abstract Renderer renderer int series Index if get Series Paint null renderer set Series Paint series Index Chart find Color get Series Paint if get Series Fill Paint null renderer set Series Fill Paint series Index Chart find Color get Series Fill Paint if get Series Outline Paint null renderer set Series Outline Paint series Index Chart find Color get Series Outline Paint if get Series Outline Stroke null renderer set Series Outline Stroke series Index Chart find Stroke get Series Outline Stroke if get Series Stroke null renderer set Series Stroke series Index Chart find Stroke get Series Stroke if get Series Visible null renderer set Series Visible series Index get Series Visible if get Series Visible In Legend null renderer set Series Visible In Legend series Index get Series Visible In Legend renderer set Series Item Labels Visible series Index true Override public void create Text Object Faces Context context Override public Object get Text Object return null Override public void remove Text Object Override public void handle Add Object other 
package org jboss seam pdf ui import java awt Gradient Paint import java awt Paint import java awt geom Point import javax el Value Expression import javax faces component Component Base import javax faces context Faces Context import org jboss seam pdf Text Utils public class Color extends Component Base String color String color String point String point public void set Color String color this color color public String get Color return color null color String eval Expression color public void set Color String color this color color public String get Color return color null color String eval Expression color public void set Point String point this point point public String get Point return point null point String eval Expression point public void set Point String point this point point public String get Point return point null point String eval Expression point Override public String get Family return Text Component public Object eval Expression String el Value Expression expr get Value Expression el return expr null null expr get Value Faces Context get Current Instance get Context public Point point Value String string Point point new Point Float float vals Text Utils string To Float Array string point set Location vals vals return point public Paint get Paint String c get Color String c get Color if c null return Text Utils color Value c else return new Gradient Paint point Value get Point Text Utils color Value c point Value get Point Text Utils color Value c 
package org jboss seam excel ui import java io Exception import java util Array List import java util Iterator import java util List import javax faces context Faces Context import org jboss seam excel Excel Workbook import org jboss seam excel Excel Workbook Exception import org jboss seam excel Worksheet Item import org jboss seam excel ui command Command public class Column extends Excel Component public static final String org jboss seam excel ui Column public static final String header private static final String footer Override public String get Family return Suppress Warnings unchecked Override public void encode Begin Faces Context faces Context throws Exception Get workbook and worksheet Excel Workbook excel Workbook get Workbook get Parent if excel Workbook null throw new Excel Workbook Exception Could not find excel workbook Column width etc excel Workbook apply Column Settings this Worksheet sheet Worksheet get Parent By Class get Parent Worksheet class if sheet null throw new Excel Workbook Exception Could not find worksheet Add header items if any Worksheet Item header Item Worksheet Item get Facet if header Item null excel Workbook add Item header Item Execute commands if any List Command commands get Commands get Children for Command command commands excel Workbook execute Command command Get Ui Cell template this column s data cells and iterate over sheet data for Worksheet Item item get Items get Children Object old Value null Iterator iterator null Store away the old value for the sheet binding var if there is one if sheet get Var null old Value Faces Context get Current Instance get External Context get Request Map get sheet get Var iterator sheet get Data Iterator else No var no iteration iterator new Array List iterator while iterator has Next Store the bound data in the request map and add the cell Faces Context get Current Instance get External Context get Request Map put sheet get Var iterator next excel Workbook add Item item No iteration nothing to restore if sheet get Var null continue Restore the previously modified request map if there was a var if old Value null Faces Context get Current Instance get External Context get Request Map remove sheet get Var else Faces Context get Current Instance get External Context get Request Map put sheet get Var old Value Add footer items if any Worksheet Item footer Item Worksheet Item get Facet if footer Item null excel Workbook add Item footer Item Move column pointer to next column excel Workbook next Column 
package org jboss seam faces import static org jboss seam Scope Type import static org jboss seam annotations Install import java util Abstract Map import java util Map import java util Set import javax faces component Component import javax faces component View Root import javax faces context Faces Context import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors Access to Components in the current view by id author Gavin King Name org jboss seam faces ui Component Bypass Interceptors Scope Install precedence class Dependencies javax faces context Faces Context public class Ui Component Unwrap public Map String Component get View Components return new Abstract Map String Component Override public boolean contains Key Object key return get key null Override public Set Map Entry String Component entry Set throw new Unsupported Operation Exception Override public Component get Object key if key instanceof String return null try Faces Context context Faces Context get Current Instance if context null return null View Root view Root context get View Root if view Root null return null return view Root find Component String key catch Illegal Argument Exception iae return null 
package org jboss seam ui util cdk import javax el Method Expression import javax el Value Expression import javax faces component Action Source import javax faces component Editable Value Holder import javax faces component Component import javax faces component Value Holder import javax faces context Faces Context import javax faces convert Converter import javax faces event Method Expression Action Listener import javax faces event Method Expression Value Change Listener import javax faces validator Method Expression Validator import javax faces webapp Component Tag import org jboss seam log Log Provider import org jboss seam log Logging author Maksim Kaszynski public abstract class Component Tag Base extends Component Tag private static final Log Provider log Logging get Log Provider Component Tag Base class protected void set Action Listener Property Component component Method Expression action Listener if action Listener null if component instanceof Action Source Action Source action Source Action Source component action Source add Action Listener new Method Expression Action Listener action Listener else throw new Illegal Argument Exception Messages get Message Messages component get Client Id get Faces Context protected void set Action Property Component component Method Expression action if action null if component instanceof Action Source Action Source action Source Action Source component action Source set Action Expression action else throw new Illegal Argument Exception Messages get Message Messages component get Client Id get Faces Context protected void set Converter Property Component component Value Expression converter if converter null if component instanceof Value Holder Value Holder output Value Holder component if converter is Literal Text component set Value Expression converter converter else Converter conv Faces Context get Current Instance get Application create Converter converter get Expression String output set Converter conv else throw new Illegal Argument Exception Messages get Message Messages component get Class get Name protected void set Validator Property Component component Method Expression validator if validator null if component instanceof Editable Value Holder Editable Value Holder input Editable Value Holder component input add Validator new Method Expression Validator validator else throw new Illegal Argument Exception Messages get Message Messages component get Id protected void set Value Change Listener Property Component component Method Expression value Change Listener if value Change Listener null if component instanceof Editable Value Holder Editable Value Holder input Editable Value Holder component input add Value Change Listener new Method Expression Value Change Listener value Change Listener else throw new Illegal Argument Exception Messages get Message Messages component get Id 
package org jboss seam ui util cdk import javax el Expression Factory import javax el Method Expression import javax el Value Expression import javax faces component Command import javax faces component Component import javax faces component Graphic import javax faces component Parameter import javax faces component Select Boolean import javax faces component Value Holder import javax faces event Action Event import javax faces event Value Change Event author Maksim Kaszynski public abstract class Component Tag Base extends Component Tag Base protected Expression Factory get Expression Factory return get Faces Context get Application get Expression Factory protected void set Property Component component String prop Name Value Expression value Expression if value Expression null if value Expression is Literal Text component get Attributes put prop Name value Expression get Value get Context else component set Value Expression prop Name value Expression protected void set Property Component component Class type String prop Name String value if value null Value Expression value Expression get Expression Factory create Value Expression get Context value type set Property component prop Name value Expression protected void set Integer Property Component component String prop Name Value Expression value set Property component prop Name value protected void set Long Property Component component String prop Name Value Expression value set Property component prop Name value protected void set Float Property Component component String prop Name Value Expression value set Property component prop Name value protected void set Double Property Component component String prop Name Value Expression value set Property component prop Name value protected void set String Property Component component String prop Name Value Expression value set Property component prop Name value protected void set Boolean Property Component component String prop Name Value Expression value set Property component prop Name value protected void set Integer Property Component component String prop Name String value set Property component Integer class prop Name value protected void set Long Property Component component String prop Name String value set Property component Long class prop Name value protected void set Float Property Component component String prop Name String value set Property component Float class prop Name value protected void set Double Property Component component String prop Name String value set Property component Double class prop Name value protected void set String Property Component component String prop Name String value set Property component String class prop Name value protected void set Boolean Property Component component String prop Name String value set Property component Boolean class prop Name value protected void set Value Property Component component String value if value null Value Expression expression get Expression Factory create Value Expression get Context value Object class set Value Property component expression protected void set Value Property Component component Value Expression expression if expression null String value expression get Expression String if expression is Literal Text component set Value Expression value expression else if component instanceof Command Command component set Value value else if component instanceof Parameter Parameter component set Value value else if component instanceof Select Boolean Select Boolean component set Value Boolean value Of value else if component instanceof Graphic Graphic component set Value value Since many input components are Value Holders the special components must come first Value Holder is the last resort else if component instanceof Value Holder Value Holder component set Value value else component get Attributes put value value public boolean is Value Reference String s return get Expression Factory create Value Expression s Object class is Literal Text protected void set Action Property Component component String action if action null Method Expression expression get Expression Factory create Method Expression get Context action String class new Class set Action Property component expression protected void set Action Listener Property Component component String action Listener if action Listener null Method Expression expression get Expression Factory create Method Expression get Context action Listener String class new Class Action Event class set Action Listener Property component expression protected void set Value Changed Listener Property Component component String value Changed Listener if value Changed Listener null Method Expression expression get Expression Factory create Method Expression get Context value Changed Listener String class new Class Value Change Event class set Value Change Listener Property component expression 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui component import javax faces component Parameter import javax faces context Faces Context import org jboss seam core Conversation import org jboss seam core Manager import org jboss seam navigation Page import org jboss seam navigation Pages import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Tag component class which addd the conversation id to link or button e g lt h command Link gt lt s button gt Jsf Component description Description display Name org jboss seam ui Conversation Id value Add the conversation id to link or button e g lt h command Link gt lt s button gt family org jboss seam ui Conversation Id type org jboss seam ui Conversation Id generate org jboss seam ui component html Html Conversation Id tag Tag base Class org jboss seam ui util cdk Component Tag Base name conversation Id attributes javax faces component Parameter xml public abstract class Conversation Id extends Parameter private static final String org jboss seam ui Conversation Id Override public String get Name Conversation conversation Conversation instance if get View Id null conversation is Nested conversation is Long Running return Pages instance get Page get View Id get Conversation Id Parameter get Parameter Name else return Manager instance get Conversation Id Parameter Override public Object get Value Conversation conversation Conversation instance if conversation is Nested conversation is Long Running if get View Id null Page page Pages instance get Page get View Id return page get Conversation Id Parameter get Parameter Value else return conversation get Id else return conversation get Parent Id Attribute hidden true literal true public abstract String get View Id public abstract void set View Id String view Id public static Conversation Id new Instance return Conversation Id Faces Context get Current Instance get Application create Component 
package org jboss seam ui component import javax faces component Parameter import javax faces context Faces Context import org jboss seam navigation Conversation Id Parameter import org jboss seam navigation Pages import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag Embeds the natural conversation into the request author Shane Bryzak Jsf Component description Description display Name org jboss seam ui Conversation Name value Set the conversation name for a command link or button or similar control family org jboss seam ui Conversation Name type org jboss seam ui Conversation Name generate org jboss seam ui component html Html Conversation Name tag Tag base Class org jboss seam ui util cdk Component Tag Base name conversation Name handler org jboss seam ui handler Command Button Parameter Component Handler renderer Jsf Renderer type org jboss seam ui Conversation Name Renderer family org jboss seam ui Conversation Name Renderer attributes javax faces component Parameter xml public abstract class Conversation Name extends Parameter private static final String org jboss seam ui Conversation Name Override public String get Name return conversation Name Override public Object get Value Conversation Id Parameter param Pages instance get Conversation Id Parameter super get Value to String return param null param get Conversation Id null public static Conversation Name new Instance return Conversation Name Faces Context get Current Instance get Application create Component 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui component import javax faces component Parameter import javax faces context Faces Context import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag component class for customization of the conversation propagation in a command link or a button Jsf Component description Description display Name org jboss seam ui Conversation Propagation value Customize the conversation propagation for a command link or button or similar control family org jboss seam ui Conversation Propagation type org jboss seam ui Conversation Propagation generate org jboss seam ui component html Html Conversation Propagation tag Tag base Class org jboss seam ui util cdk Component Tag Base name conversation Propagation renderer Jsf Renderer type org jboss seam ui Conversation Propagation Renderer family org jboss seam ui Conversation Propagation Renderer attributes javax faces component Parameter xml public abstract class Conversation Propagation extends Parameter private static final String org jboss seam ui Conversation Propagation Override public String get Name return conversation Propagation Override public Object get Value return get Pageflow null get Type get Type get Pageflow Attribute description Description a pageflow definition to begin This is only useful when propagation begin or propagation join public abstract String get Pageflow public abstract void set Pageflow String pageflow Attribute default Value none description Description determines the conversation propagation style begin join nested none end or end Root public abstract String get Type public abstract void set Type String type public static Conversation Propagation new Instance return Conversation Propagation Faces Context get Current Instance get Application create Component 
package org jboss seam ui component import javax faces component Naming Container import javax faces component Component import javax faces component Component Base import javax faces context Faces Context import org jboss seam ui util Decoration import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag Decorates a input field when validation fails or when required true is set author mnovotny Jsf Component description Description display Name org jboss seam ui Decorate value Decorate a input field when validation fails or when required true is set family org jboss seam ui Decorate type org jboss seam ui Decorate generate org jboss seam ui component html Html Decorate tag Tag base Class org jboss seam ui util cdk Component Tag Base name decorate handler org jboss seam ui handler Decorate Handler renderer Jsf Renderer type org jboss seam ui Decorate Renderer family org jboss seam ui Decorate Renderer attributes javax faces component Component xml core props xml public abstract class Decorate extends Component Base implements Naming Container private static final String org jboss seam ui Decorate public boolean has Message String client Id get Input Client Id if client Id null return false else return get Faces Context get Messages client Id has Next public String get Input Id String id get For if id null Component evh Decoration get Editable Value Holder this return evh null null evh get Id else return id private String get Input Client Id String id get For if id null Component evh Decoration get Editable Value Holder this return evh null null evh get Client Id get Faces Context else As Decorate implements Naming Container it alters the search algorithm used by Component component null if get Parent null component get Parent find Component id return component null null component get Client Id get Faces Context Attribute description Description Id of the input field to decorate public abstract String get For public abstract void set For String for Id Attribute public abstract String get Style Class public abstract void set Style Class String style Class Attribute public abstract String get Style public abstract void set Style String style Attribute default Value true description Description if true the template used to decorate the input field is enclosed by the element specified with the element attribute By default this is a div element public abstract boolean is Enclose public abstract void set Enclose boolean enclose Attribute default Value div description Description the element to enclose the template used to decorate the input field By default the template is enclosed with a div element public abstract String get Element public abstract void set Element String element Attribute public Component get Decoration String name return Decoration get Decoration name this public static Decorate new Instance return Decorate Faces Context get Current Instance get Application create Component Attribute description Description template to use to decorate the input field public abstract String get Template 
package org jboss seam ui component Component that is aware of being used from a facet by s decorate public interface Decorate Aware Method called by Decorate Renderer Base when it s about to render a subtree containing this component void set Decorate Decorate decorate 
package org jboss seam ui component import javax faces component Output import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag Simulates pressing the action source when enter is pressed author mnovotny Jsf Component description Description display Name org jboss seam ui Default Action value Simulates pressing the action source when enter is pressed family org jboss seam ui Default Action type org jboss seam ui Default Action generate org jboss seam ui component html Html Default Action tag Tag base Class org jboss seam ui util cdk Component Tag Base name default Action renderer Jsf Renderer type org jboss seam ui Default Action Renderer family org jboss seam ui Default Action Renderer public abstract class Default Action extends Output 
package org jboss seam pdf ui import java io Byte Array Output Stream import java io Exception import java io Output Stream import javax faces component Component import javax faces component Value Holder import javax faces context Faces Context import org jboss seam core Manager import org jboss seam document Byte Array Document Data import org jboss seam document Document Data import org jboss seam document Document Store import org jboss seam document Document Data Document Type import org jboss seam navigation Pages import org jboss seam pdf Text Utils import com lowagie text Doc Writer import com lowagie text Document import com lowagie text Document Exception import com lowagie text Element import com lowagie text Rectangle import com lowagie text html Html Writer import com lowagie text pdf Pdf Content Byte import com lowagie text pdf Pdf Template import com lowagie text pdf Pdf Writer import com lowagie text rtf Rtf Writer public class Document extends Text Component public static final String org jboss seam pdf ui Document public static Document Type new Document Type pdf application pdf public static Document Type new Document Type rtf text rtf public static Document Type new Document Type html text html Doc Writer writer Document document Byte Array Output Stream stream Document Type document Type String type String title String subject String keywords String author String creator String orientation String page Size String margins Boolean margin Mirroring String disposition String file Name boolean send Redirect true Signature signature Field public void set Disposition String disposition this disposition disposition public void set File Name String file Name this file Name file Name public void set Type String type this type type public void set Margins String margins this margins margins public void set Page Size String page Size this page Size page Size public void set Margin Mirroring Boolean margin Mirroring this margin Mirroring margin Mirroring public void set Author String author this author author public void set Creator String creator this creator creator public void set Keywords String keywords this keywords keywords public void set Subject String subject this subject subject public void set Title String title this title title public void set Orientation String orientation this orientation orientation public void set Send Redirect boolean send Redirect this send Redirect send Redirect public boolean get Send Redirect return send Redirect Override public Object get Text Object return document Override public void create Text Object Faces Context context type String value Binding context type type document Type document Type For Name type document new Document most of this needs to be done document open page Size String value Binding context page Size page Size if page Size null document set Page Size Text Utils page Size Value page Size orientation String value Binding context orientation orientation if orientation null if orientation equals Ignore Case portrait do nothing else if orientation equals Ignore Case landscape Rectangle current Size document get Page Size document set Page Size new Rectangle current Size get Height current Size get Width else throw new Runtime Exception orientation value orientation unknown margins String value Binding context margins margins if margins null float vals Text Utils string To Float Array margins if vals length throw new Runtime Exception margins must contain float values document set Margins vals vals vals vals margin Mirroring Boolean value Binding context margin Mirroring margin Mirroring if margin Mirroring null document set Margin Mirroring margin Mirroring protected void init Meta Data Faces Context context title String value Binding context title title if title null document add Title title subject String value Binding context subject subject if subject null document add Subject subject keywords String value Binding context keywords keywords if keywords null document add Keywords keywords author String value Binding context author author if author null document add Author author creator String value Binding context creator creator if creator null document add Creator creator Override public void remove Text Object document null Override public void handle Add Object o if o instanceof Element try document add Element o catch Document Exception e throw new Runtime Exception e else throw new Illegal Argument Exception can not add o public void add Signature Signature signature Field this signature Field signature Field Override public void encode Begin Faces Context context throws Exception super encode Begin context stream new Byte Array Output Stream try writer create Writer For Stream stream init Meta Data context process Headers document open catch Document Exception e throw new Runtime Exception e protected void process Headers Component facet get Facet header if facet null return try encode Faces Context get Current Instance facet catch Exception e throw new Runtime Exception e Override public void encode End Faces Context context throws Exception document reset Header document reset Footer document close byte bytes stream to Byte Array if signature Field null bytes signature Field sign bytes String view Id Pages get View Id context String base Name Pages get Current Base Name Document Data document Data new Byte Array Document Data base Name document Type bytes String disposition Value String value Binding context disposition disposition if disposition Value null document Data set Disposition disposition Value String file Name Value String value Binding context file Name file Name if file Name Value null document Data set Filename file Name Value if send Redirect Document Store store Document Store instance String id store new Id String url store preferred Url For Content base Name document Type get Extension id url Manager instance encode Conversation Id url view Id store save Data id document Data remove Text Object context get External Context redirect url else Component parent get Parent if parent instanceof Value Holder Value Holder holder Value Holder parent holder set Value document Data public Doc Writer get Writer return writer public Pdf Content Byte get Pdf Content Pdf Writer writer Pdf Writer get Writer return writer get Direct Content public Pdf Template create Pdf Template float width float height return get Pdf Content create Template width height private Document Type document Type For Name String type Name if type Name null if type Name equals Ignore Case pdf return else if type Name equals Ignore Case rtf return else if type Name equals Ignore Case html return return protected Doc Writer create Writer For Stream Output Stream stream throws Document Exception if document Type return Pdf Writer get Instance document stream else if document Type return Rtf Writer get Instance document stream else if document Type return Html Writer get Instance document stream throw new Illegal Argument Exception unknown document type 
package org jboss seam ui component import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag Component for Link which is able to download a file author Daniel Roth Jsf Component description Description display Name org jboss seam ui Download value Component for Link which is able to download a file family org jboss seam ui Download type org jboss seam ui Download generate org jboss seam ui component html Html Download tag Tag base Class org jboss seam ui util cdk Component Tag Base name download renderer Jsf Renderer type org jboss seam ui Download Renderer family org jboss seam ui Download Renderer attributes core props xml javax faces component Command xml i n props xml javax faces component Output xml javax faces component Graphic xml accesskey props xml public abstract class Download extends Link Attribute description Description Source xhtml file that acts as resource holder public abstract String get Src public abstract void set Src String src Attribute default Value true description Description true iff this component should be rendered public abstract boolean is Rendered Attribute description Description the view id to link to public abstract String get View Attribute description Description a pageflow definition to begin This is only useful when propagation begin or propagation join public abstract String get Pageflow Attribute default Value default description Description determines the conversation propagation style begin join nest none end or end Root public abstract String get Propagation Attribute description Description the fragment identifier to link to public abstract String get Fragment Attribute description Description The outcome to use when evaluating navigation rules public abstract String get Outcome Attribute description Description If true write the link as disabled in public abstract boolean is Disabled Attribute description Description Specify the task to operate on e g for Start Task public abstract String get Task Instance Attribute description Description The name of the conversation for natural conversations public abstract String get Conversation Name Attribute default Value true description Description Include page parameters defined in pages xml when rendering the button public abstract boolean is Include Page Params 
package org jboss seam pdf ui import javax faces context Faces Context import com lowagie text Element public class Element extends Text Component Element element public void set Value Element element this element element Override public void create Text Object Faces Context context element Element value Binding context value element Override public Object get Text Object return element Override public void handle Add Object other throw new Runtime Exception No children allowed Override public void remove Text Object element null 
package org jboss seam rss ui import java io Exception import java text Simple Date Format import java util Date import javax faces context Faces Context import org jboss seam contexts Contexts import yarfraw core datamodel Channel Feed import yarfraw core datamodel Item Entry import yarfraw core datamodel Person import yarfraw core datamodel Text import yarfraw core datamodel Text Text Type atom Entry element atom entry atom Common Attributes atom Author atom Category atom Content atom Contributor atom Id atom Link atom Published atom Rights atom Source atom Summary atom Title atom Updated extension Element public class Entry extends Syndication Component private static final String org jboss seam rss ui Entry private String uid private String title private String link private String author private String summary private Text Type text Format Text Type html private Date published private Date updated Override public String get Family return private Text make Text String text String Text text new Text text Format text set Text text String return text Suppress Warnings unchecked Override public void encode Begin Faces Context faces Context throws Exception Channel Feed channel Feed Channel Feed Contexts get Event Context get Item Entry item Entry new Item Entry item Entry set Uid get Uid item Entry set Title make Text get Title item Entry add Link get Link String author get Author if author null Person author Person new Person author Person set Name author item Entry add Author Or Creator author Person item Entry set Description Or Summary make Text get Summary if get Updated null item Entry set Updated Date get Updated new Simple Date Format if get Published null item Entry set Pub Date get Published new Simple Date Format channel Feed add Item item Entry public String get Title return String value Of title title public void set Title String title this title title public String get Link return String value Of link link public void set Link String link this link link public String get Author return String value Of author author public void set Author String author this author author public String get Summary return String value Of summary summary public void set Summary String summary this summary summary public Date get Published return Date value Of published published public void set Published Date published this published published public Date get Updated return Date value Of updated updated public void set Updated Date updated this updated updated public String get Uid return String value Of uid uid public void set Uid String uid this uid uid public Text Type get Text Format return text Format public void set Text Format Text Type text Format this text Format text Format 
package org jboss seam ui component import javax faces component Select Item import javax faces model Select Item import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Tag component class for creating Select Item from an enum value Jsf Component description Description display Name org jboss seam ui Enum Item value Creates a Select Item from an enum value family org jboss seam ui Enum Item type org jboss seam ui Enum Item generate org jboss seam ui component html Html Enum Item tag Tag base Class org jboss seam ui util cdk Component Tag Base name enum Item attributes base props xml javax faces component Command xml public abstract class Enum Item extends Select Item Attribute description Description the string representation of the enum value public abstract String get Enum Value public abstract void set Enum Value String enum Value public abstract void set Label String label Attribute description Description the label to be used when rendering the Select Item public abstract String get Label Override public Object get Item Value return get Enum Value Override public void set Item Value Object item Value set Enum Value item Value null null item Value to String Override public String get Item Label return get Label Override public void set Item Label String item Label set Label item Label Override public Object get Value Class c get Parent get Value Expression value get Type get Faces Context get Context String enum Value get Enum Value String label get Label Object value Enum value Of c enum Value return new Select Item value label null enum Value label 
package org jboss seam ui component import javax faces component Component Base import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag Component for validation of all child input fields against the bound properties using Bean Validation author Daniel Roth Jsf Component description Description display Name org jboss seam ui Equality Validator value Validate all child input fields against the bound propertys using Hibernate Validator family org jboss seam ui Equality Validator type org jboss seam ui Equality Validator generate org jboss seam ui component html Html Equality Validator tag Tag base Class org jboss seam ui util cdk Component Tag Base name validate Equality renderer Jsf Renderer type org jboss seam ui Equality Validator Renderer family org jboss seam ui Equality Validator Renderer public abstract class Equality Validator extends Component Base Attribute description Description Id of component to validate against public abstract String get For public abstract void set For String for Id Attribute description Description Error message to show public abstract String get Message public abstract void set Message String message Attribute description Description Message id to use on failure public abstract String get Message Id public abstract void set Message Id String message Id public abstract void set Operator String operator Attribute description Description Operation to use public abstract String get Operator public abstract void set Required boolean required Attribute default Value true description Description True if a value is required for the filed to validate default true public abstract boolean is Required 
package org jboss seam rss ui import java io Byte Array Output Stream import java io Exception import java io Writer import java text Simple Date Format import java util Date import javax faces context Faces Context import javax servlet http Http Servlet Response import org jboss seam contexts Contexts import yarfraw core datamodel Channel Feed import yarfraw core datamodel Feed Format import yarfraw core datamodel Yarfraw Exception import yarfraw io Feed Writer atom Feed element atom feed atom Common Attributes atom Author atom Category atom Contributor atom Generator atom Icon atom Id atom Link atom Logo atom Rights atom Subtitle atom Title atom Updated extension Element atom Entry public class Feed extends Syndication Component private static final String org jboss seam rss ui Feed private static final String xml private static final String text xml private boolean send Redirect true private String uid private String title private String subtitle private Date updated private String link private Feed Format feed Format Feed Format Suppress Warnings unchecked Override public void encode Begin Faces Context faces Context throws Exception Channel Feed channel Feed new Channel Feed channel Feed set Uid get Uid channel Feed set Title get Title channel Feed set Description Or Subtitle get Subtitle if get Updated null channel Feed set Pub Date get Updated new Simple Date Format channel Feed add Link get Link Contexts get Event Context set channel Feed Override public void encode End Faces Context faces Context throws Exception Channel Feed channel Feed Channel Feed Contexts get Event Context get Byte Array Output Stream byte Stream new Byte Array Output Stream try Feed Writer write Channel feed Format channel Feed byte Stream catch Yarfraw Exception e Was Exception but does not have this constructor http java sun com j se docs api java io Exception html throw new Runtime Exception Could not create feed e Writer response Writer Http Servlet Response faces Context get External Context get Response get Writer Http Servlet Response response Http Servlet Response faces Context get External Context get Response response set Content Type response set Content Length byte Stream size response Writer write byte Stream to String response flush Buffer faces Context response Complete public boolean is Send Redirect return send Redirect public void set Send Redirect boolean send Redirect this send Redirect send Redirect Override public String get Family return public String get Title return String value Of title title public void set Title String title this title title public String get Subtitle return String value Of subtitle subtitle public void set Subtitle String subtitle this subtitle subtitle public Date get Updated return Date value Of updated updated public void set Updated Date updated this updated updated public String get Link return String value Of link link public void set Link String link this link link public Feed Format get Feed Format return Feed Format value Of feed Format feed Format public void set Feed Format Feed Format feed Format this feed Format feed Format public String get Uid return String value Of uid uid public void set Uid String uid this uid uid 
package org jboss seam pdf ui import java io Exception import java util Iterator import java util Map import javax faces Faces Exception import javax faces context Faces Context import org jboss seam contexts Contexts import org jboss seam core Interpolator import org jboss seam log Log import org jboss seam log Logging import com lowagie text Document Exception import com lowagie text pdf Acro Fields import com lowagie text pdf Pdf Stamper public class Field extends Form Component public static final String org jboss seam pdf Field private static Log log Logging get Log Form Component class private String name private Object value private Boolean read Only Boolean Override public void encode Begin Faces Context faces Context throws Exception Acro Fields fields Acro Fields Contexts get Event Context get String the Name get Name Object the Value get Value if the Value null return Boolean read Only get Read Only try log debug Setting field to value the Name the Value boolean success false if the Value instanceof String success fields set Field the Name String the Value else if the Value instanceof String String string Value String the Value if string Value length success fields set List Selection the Name string Value else success true else String message Interpolator instance interpolate Field expected String or String but got get Name the Value get Class get Name throw new Illegal Argument Exception message if success warn Not Found fields the Name the Value else if read Only boolean Value Pdf Stamper stamper Pdf Stamper Contexts get Event Context get stamper partial Form Flattening the Name catch Document Exception e String message Interpolator instance interpolate Could not set field to the Name the Value throw new Faces Exception message e private void warn Not Found Acro Fields fields String the Name Object the Value log warn Could not set field to the Name the Value Map field Map fields get Fields if field Map contains Key the Name log warn Could not find field Found fields are the Name for Iterator i field Map key Set iterator i has Next log warn i next return String options fields get List Option Export the Name String values fields get List Option Display the Name log warn Valid values for are the Name for int i i options length i log warn options i values i Override public String get Family return public String get Name return String value Of name name public void set Name String name this name name public Object get Value return value Of value value public void set Value Object value this value value public Boolean get Read Only return Boolean value Of read Only read Only public void set Read Only Boolean read Only this read Only read Only 
package org jboss seam ui component import java io Byte Array Output Stream import java io Exception import java io Input Stream import javax el Value Expression import javax faces component Input import javax faces context Faces Context import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag component class which renders a file upload control This control must be used within a form with an encoding type of multipart form data Jsf Component description Description display Name org jboss seam ui File Upload value Renders a file upload control This control must be used within a form with an encoding type of multipart form data family org jboss seam ui File Upload type org jboss seam ui File Upload generate org jboss seam ui component html Html File Upload tag Tag base Class org jboss seam ui util cdk Component Tag Base name file Upload renderer Jsf Renderer type org jboss seam ui File Upload Renderer family org jboss seam ui File Upload Renderer attributes core props xml focus props xml javax faces component Editable Value Holder xml public abstract class File Upload extends Input private String local Content Type private String local File Name private Integer local File Size private Input Stream local Input Stream Override public void process Updates Faces Context context Skip processing if rendered flag is false this logic is in javax faces component Input process Updates Faces Context context if is Rendered return Value Expression data Binding get Value Expression data if data Binding null if get Local Content Type null Value Expression value Expression get Value Expression content Type if value Expression null value Expression set Value context get Context get Local Content Type if get Local File Name null Value Expression value Expression get Value Expression file Name if value Expression null value Expression set Value context get Context get Local File Name if get Local File Size null Value Expression value Expression get Value Expression file Size if value Expression null value Expression set Value context get Context get Local File Size Class clazz data Binding get Type context get Context if clazz is Assignable From Input Stream class data Binding set Value context get Context get Local Input Stream else if clazz is Assignable From byte class byte bytes null if get Local Input Stream null Byte Array Output Stream bos new Byte Array Output Stream try byte buffer new byte int read get Local Input Stream read buffer while read bos write buffer read read get Local Input Stream read buffer bytes bos to Byte Array catch Exception e throw new Runtime Exception e data Binding set Value context get Context bytes public String get Local Content Type return local Content Type public void set Local Content Type String local Content Type this local Content Type local Content Type public String get Local File Name return local File Name public void set Local File Name String local File Name this local File Name extract Filename local File Name Workaround for which includes the full path to the file private String extract Filename String filename if filename null filename last Index Of return filename substring filename last Index Of else return filename public Integer get Local File Size return local File Size public void set Local File Size Integer local File Size this local File Size local File Size public Input Stream get Local Input Stream return local Input Stream public void set Local Input Stream Input Stream local Input Stream this local Input Stream local Input Stream inherit Doc see javax faces component Output get Local Value Override public Object get Local Value return new Local Upload Value local Content Type local File Name local File Size local Input Stream inherit Doc see javax faces component Input set Value java lang Object Override public void set Value Object value Check if the local values get restored if value null value instanceof Local Upload Value Local Upload Value local Value Local Upload Value value local File Name local Value get File Name local File Size local Value get File Size local Content Type local Value get Content Type local Input Stream local Value get Input Stream else super set Value value inherit Doc see javax faces component Input is Local Value Set Override public boolean is Local Value Set return local Content Type null local File Name null local File Size null local Input Stream null Helper class to store the local values protected class Local Upload Value Stores the local content type private String content Type Stores the local file name private String file Name Stores the local file size private Integer file Size Stores the local stream information private Input Stream input Stream Constructor for this class param content Type The local content type to save param file Name The local file name to save param file Size The local file size to save param input Stream The local input stream to save public Local Upload Value String content Type String file Name Integer file Size Input Stream input Stream super this content Type content Type this file Name file Name this file Size file Size this input Stream input Stream Returns the content Type value return the content Type value public String get Content Type return content Type Returns the file Name value return the file Name value public String get File Name return file Name Returns the file Size value return the file Size value public Integer get File Size return file Size Returns the input Stream value return the input Stream value public Input Stream get Input Stream return input Stream public abstract void set Accept String accept Attribute description Description a comma separated list of content types to accept may not be supported by the browser g images png images jpg images public abstract String get Accept Attribute description Description this value binding receives the file s content type optional public abstract Object get Data Attribute description Description the property to receive the content Type public abstract String get Content Type Attribute description Description this value binding receives the filename optional public abstract String get File Name Attribute description Description this value binding receives the file size optional public abstract Integer get File Size Attribute public abstract String get Style Class Attribute public abstract String get Style public abstract void set Style Class String style Class public abstract void set Style String style 
package org jboss seam pdf ui import javax faces context import org jboss seam pdf Text Utils import com lowagie text public class Font extends Text Component public static final String org jboss seam pdf ui Font Font font String name String encoding int size Font String style String color boolean embedded false public String get Name return String value Binding name name public void set Family String name this name name public void set Name String name this name name public String get Encoding return String value Binding encoding encoding public void set Encoding String encoding this encoding encoding public int get Size return Integer value Binding size size public void set Size int size this size size public void set Style String style this style style public String get Style return String value Binding style style public String get Color return String value Binding color color public void set Color String color this color color public boolean get Embedded return Boolean value Binding embedded embedded public void set Embedded boolean embedded this embedded embedded Override public Font get Font return font Override public Object get Text Object return null we do n t add to this component so skip Override public void remove Text Object font null Override public void create Text Object Faces Context context if encoding null font Font Factory get Font get Name get Size else font Font Factory get Font get Name get Encoding get Embedded get Size if get Style null font set Style get Style if get Color null font set Color Text Utils color Value get Color Override public void handle Add Object o add To Text Parent o 
package org jboss seam pdf ui import com lowagie text Document import com lowagie text Header Footer public class Footer extends Header Footer Override public void handle Header Footer Header Footer footer Document document find Document if document null throw new Runtime Exception can not locate document object find Document set Footer footer 
package org jboss seam pdf ui import java io Byte Array Output Stream import java io Exception import java net import javax faces Faces Exception import javax faces component Component import javax faces component Value Holder import javax faces context Faces Context import org jboss seam contexts Contexts import org jboss seam core Manager import org jboss seam core Resource Loader import org jboss seam document Byte Array Document Data import org jboss seam document Document Data import org jboss seam document Document Store import org jboss seam document Document Data Document Type import org jboss seam log Log import org jboss seam log Logging import org jboss seam navigation Pages import com lowagie text Document Exception import com lowagie text pdf Acro Fields import com lowagie text pdf Pdf Reader import com lowagie text pdf Pdf Stamper public class Form extends Form Component public static final String org jboss seam pdf Form private Log log Logging get Log get Class private String private String filename private String export Key Pdf Reader reader Pdf Stamper stamper Acro Fields fields Byte Array Output Stream buffer public String get return String value Of public void set String url url Override public void encode Begin Faces Context faces Context throws Exception log info Loading template get if get index Of reader new Pdf Reader Resource Loader instance get Resource As Stream get else reader new Pdf Reader new get buffer new Byte Array Output Stream try stamper new Pdf Stamper reader buffer Contexts get Event Context set stamper catch Document Exception e throw new Faces Exception Could not create stamper e fields stamper get Acro Fields Contexts get Event Context set fields Override public void encode End Faces Context faces Context throws Exception stamper set Form Flattening true try stamper close catch Document Exception e throw new Faces Exception Could not flush e if get Export Key null Component parent get Parent if parent null parent instanceof Value Holder log debug Storing data in Value Holder parent Value Holder value Holder Value Holder parent value Holder set Value buffer to Byte Array return String view Id Pages get View Id faces Context String base Name Pages get Current Base Name Document Store store Document Store instance Document Type document Type new Document Data Document Type pdf application pdf Document Data document Data new Byte Array Document Data base Name document Type buffer to Byte Array document Data set Filename get Filename if get Export Key null log debug Exporting data to event key get Export Key Contexts get Event Context set get Export Key document Data return String id store new Id String url store preferred Url For Content base Name document Type get Extension id url Manager instance encode Conversation Id url view Id store save Data id document Data log debug Redirecting to for view url faces Context get External Context redirect url Override public String get Family return public String get Filename return String value Of filename filename public void set Filename String filename this filename filename public String get Export Key return String value Of export Key export Key public void set Export Key String export Key this export Key export Key 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui component import java io Reader import java io String Reader import javax faces component Output import org jboss seam log Log import org jboss seam log Logging import org jboss seam text Seam Text Lexer import org jboss seam text Seam Text Parser import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag import antlr Exception import antlr Recognition Exception component class which outputs Seam Text Parse errors generate level log messages Jsf Component description Description display Name org jboss seam ui Formatted Text value Outputs Seam Text Parse errors generate level log messages family org jboss seam ui Formatted Text type org jboss seam ui Formatted Text generate org jboss seam ui component html Html Formatted Text tag Tag base Class org jboss seam ui util cdk Component Tag Base name formatted Text renderer Jsf Renderer type org jboss seam ui Formatted Text Renderer family org jboss seam ui Formatted Text Renderer attributes javax faces component Output xml public abstract class Formatted Text extends Output Log log Logging get Log Formatted Text class Suppress Warnings unused private static final String org jboss seam ui Formatted Text Suppress Warnings unused private static final String org jboss seam ui Formatted Text public String get Formatted Text if get Value null return null Reader r new String Reader String get Value Seam Text Lexer lexer new Seam Text Lexer r Seam Text Parser parser new Seam Text Parser lexer try parser start Rule catch Recognition Exception rex Log a nice message for any lexer parser errors users can disable this if they want to log warn Seam Text parse error rex get Message catch Exception ex All other errors are fatal throw new Runtime Exception ex return parser to String 
package org jboss seam excel ui public class Formula extends Cell public static final String org jboss seam excel ui Formula Override public String get Family return 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui component import javax faces component Component Base import javax faces context Faces Context import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag component class which surrounds a page fragment and allows you to apply render not render without any html output Jsf Component description Description display Name org jboss seam ui Fragment value Surround a page fragment allows you to apply render not render without any html output family org jboss seam ui Fragment type org jboss seam ui Fragment generate org jboss seam ui component html Html Fragment tag Tag base Class org jboss seam ui util cdk Component Tag Base name fragment renderer Jsf Renderer type org jboss seam ui renderkit Fragment Renderer Base family org jboss seam ui Fragment Renderer attributes base props xml public abstract class Fragment extends Component Base private static final String org jboss seam ui Fragment Suppress Warnings unused private static final String org jboss seam ui Fragment public static Fragment new Instance return Fragment Faces Context get Current Instance get Application create Component 
package org jboss seam mail ui import java io Exception import javax faces Faces Exception import javax faces context Faces Context import javax mail Messaging Exception import javax mail internet Address Exception import javax mail internet Mime Message Component for rendering a from address public class From extends Address Component Override public void encode Begin Faces Context faces Context throws Exception try Mime Message mime Message find Mime Message if mime Message get From null mime Message get From length throw new Address Exception Email can not have more than one from address get Address mime Message set From get Internet Address faces Context catch Address Exception e throw new Faces Exception e get Message e get Ref e catch Messaging Exception e throw new Faces Exception e get Message e 
package org jboss seam ui graphic Image import javax faces component html Html Graphic Image import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag Outputs an image to the view You can specify the file as a path a java io File java io Input Stream java net or byte author mnovotny Jsf Component description Description display Name org jboss seam ui graphic Image Graphic Image value Output an image to the view You can specify the file as a path a java io File java io Input Stream java net or byte family org jboss seam ui graphic Image Graphic Image type org jboss seam ui graphic Image Graphic Image generate org jboss seam ui component html Html Graphic Image tag Tag base Class org jboss seam ui util cdk Component Tag Base name graphic Image renderer Jsf Renderer type org jboss seam ui graphic Image Graphic Image Renderer family org jboss seam ui Graphic Image Renderer attributes core props xml javax faces component Graphic xml javax faces component Output xml public abstract class Graphic Image extends Html Graphic Image public static final String org jboss seam ui Graphic Image Attribute description Description File name for the generated allows a stable file name and thus browser caching public abstract String get File Name Attribute public abstract String get Style Attribute public abstract Object get Value Attribute description Description True if this image should be cached public abstract boolean is Cache Attribute description Description Unique string for a cached image public abstract String get Cache Key Attribute description Description if property resolves to true current cached key will be removed public abstract boolean is Invalidate 
package org jboss seam pdf ui import java awt Graphics import javax faces context Faces Context import com lowagie text Bad Element Exception import com lowagie text Image import com lowagie text Img Template import com lowagie text pdf Pdf Template public abstract class Graphics extends Text Component private Image image null private int height private int width public void set Height int height this height height public int get Height return Integer value Binding height height public void set Width int width this width width public int get Width return Integer value Binding width width Override public void create Text Object Faces Context context Document doc Document find Text Parent get Parent Document class if doc null Pdf Template tp doc create Pdf Template get Width get Height Graphics g tp create Graphics get Width get Height render g g dispose try image new Img Template tp catch Bad Element Exception e throw new Runtime Exception e public abstract void render Graphics g Override public void handle Add Object arg throw new Runtime Exception No children allowed Override public void remove Text Object image null Override public Object get Text Object return image 
package org jboss seam excel ui command import org jboss seam excel ui Excel Component public class Group Columns extends Excel Component implements Command public static final String org jboss seam excel ui command Group Columns private Integer start Column private Integer end Column private Boolean collapse public Boolean get Collapse return Boolean value Of collapse collapse public void set Collapse Boolean collapse this collapse collapse public Integer get Start Column return Integer value Of start Column start Column public void set Start Column Integer start Column this start Column start Column public Integer get End Column return Integer value Of end Column end Column public void set End Column Integer end Column this end Column end Column Override public String get Family return public Command Type get Command Type return Command Type group columns 
package org jboss seam excel ui command import org jboss seam excel ui Excel Component public class Group Rows extends Excel Component implements Command public static final String org jboss seam excel ui command Group Rows private Integer start Row private Integer end Row private Boolean collapse public Boolean get Collapse return Boolean value Of collapse collapse public void set Collapse Boolean collapse this collapse collapse public Integer get Start Row return Integer value Of start Row start Row public void set Start Row Integer start Row this start Row start Row public Integer get End Row return Integer value Of end Row end Row public void set End Row Integer end Row this end Row end Row Override public String get Family return public Command Type get Command Type return Command Type group rows 
package org jboss seam pdf ui import com lowagie text Document import com lowagie text Header Footer public class Header extends Header Footer Override public void handle Header Footer Header Footer header Document document find Document if document null throw new Runtime Exception can not locate document object find Document set Header header 
package org jboss seam pdf ui import java io Exception import javax faces context Faces Context import org jboss seam pdf Text Utils import com lowagie text Font import com lowagie text Header Footer import com lowagie text Phrase public abstract class Header Footer extends Rectangle Header Footer header Phrase before Phrase after String alignment public Header Footer super public void set Alignment String alignment this alignment alignment Override public void create Text Object Faces Context context before default Phrase after null Override public Object get Text Object return null Override public void handle Add Object other if after null before add other else after add other Override public void remove Text Object before null after null public void mark Page after default Phrase Override public void encode End Faces Context context throws Exception Header Footer header if after null header new Header Footer before false else header new Header Footer before after alignment String value Binding context alignment alignment if alignment null header set Alignment Text Utils alignment Value alignment apply Rectangle Properties context header super encode End context handle Header Footer header public abstract void handle Header Footer Header Footer item Header Footer derives the font for the number from the font of the before phrase Worse still there is no way to set the font after the phrase is created The best we can do is get the surrounding font context and hope for the best private Phrase default Phrase Font font get Font if font null return new Phrase else return new Phrase font 
package org jboss seam pdf ui import java io Exception import java io String Reader import java io String Writer import javax faces Faces Exception import javax faces component Value Holder import javax faces context Faces Context import javax faces context Response Writer import javax faces convert Converter import org jboss seam ui util import com lowagie text html simpleparser Worker import com lowagie text html simpleparser Style Sheet public class Html Text extends Text Component implements Value Holder private Converter converter private Object local Value Override public boolean get Renders Children return true Override public void encode Children Faces Context context throws Exception Response Writer writer context get Response Writer String Writer string Writer new String Writer Response Writer caching Response Writer writer clone With Writer string Writer context set Response Writer caching Response Writer render Children context this context set Response Writer writer String output string Writer get Buffer to String add From Html output Override public void encode End Faces Context context throws Exception Object value get Value if value null add From Html convert context value super encode End context private void add From Html String html throws Exception for Object o Worker parse To List new String Reader html get Style add To Text Parent o paragraph add All Worker parse To List new String Reader html get Style this needs some work private Style Sheet get Style Style Sheet styles new Style Sheet styles load Tag Style body leading return styles protected String convert Faces Context context Object value Converter my Converter converter For Value context value if my Converter null return my Converter get As String context this value else if value null return value to String else return protected Converter converter For Value Faces Context ctx Object value if converter null return converter if value null try return ctx get Application create Converter value get Class catch Faces Exception e no converter defined no problem return null Override public void create Text Object Faces Context context Override public Object get Text Object return null Override public void remove Text Object Override public void handle Add Object other throw new Runtime Exception illegal child element public Converter get Converter return converter public void set Converter Converter converter this converter converter public Object get Value return value Binding Faces Context get Current Instance value local Value public void set Value Object value this local Value value public Object get Local Value return local Value 
package org jboss seam excel ui import org jboss seam excel Worksheet Item public class Hyperlink extends Cell Base implements Worksheet Item public static final String org jboss seam excel ui Hyperlink private String description private String private Integer start Column private Integer start Row private Integer end Column private Integer end Row Override public String get Family return public String get Description return String value Of description description public void set Description String description this description description public String get return String value Of public void set String url url public Integer get Start Column return Integer value Of start Column start Column public void set Start Column Integer start Column this start Column start Column public Integer get Start Row return Integer value Of start Row start Row public void set Start Row Integer start Row this start Row start Row public Integer get End Column return Integer value Of end Column end Column public void set End Column Integer end Column this end Column end Column public Integer get End Row return Integer value Of end Row end Row public void set End Row Integer end Row this end Row end Row public Item Type get Item Type return Item Type hyperlink public Integer get Column return get Start Column public Integer get Row return get Start Row public Object get Value return get 
package org jboss seam pdf ui import java awt image Buffered Image import java io Exception import javax faces component Component import javax faces context Faces Context import org jboss seam pdf Text Utils import org jboss seam ui graphic Image Image Transform import com lowagie text Document Exception import com lowagie text Image public class Image extends Rectangle public static final String org jboss seam pdf ui Image Image image Object value float rotation float height float width String alignment String alt Float indentation Left Float indentation Right Float spacing Before Float spacing After Float width Percentage Float initial Rotation String dpi String scale Percent String scale To Fit Boolean wrap Boolean underlying java awt Image image Data public void set Value Object value this value value public void set Rotation float rotation this rotation rotation public void set Height float height this height height public void set Width float width this width width public void set Alignment String alignment this alignment alignment public void set Alt String alt this alt alt public void set Wrap Boolean wrap this wrap wrap public void set Underlying Boolean underlying this underlying underlying public void set Dpi String dpi this dpi dpi public void set Indentation Left Float indentation Left this indentation Left indentation Left public void set Indentation Right Float indentation Right this indentation Right indentation Right public void set Initial Rotation Float initial Rotation this initial Rotation initial Rotation public void set Spacing After Float spacing After this spacing After spacing After public void set Spacing Before Float spacing Before this spacing Before spacing Before public void set Width Percentage Float width Percentage this width Percentage width Percentage public void set Scale Percent String scale Percent this scale Percent scale Percent public void set Scale To Fit String scale To Fit this scale To Fit scale To Fit Override public Object get Text Object return image Override public void remove Text Object image null Suppress Warnings unchecked Override public void create Text Object Faces Context context throws Exception Document Exception value value Binding context value value instance does n t work here we need a new instance org jboss seam ui graphic Image Image seam Image new org jboss seam ui graphic Image Image if value instanceof Buffered Image seam Image set Buffered Image Buffered Image value else seam Image set Input value for Component cmp this get Children if cmp instanceof Image Transform Image Transform image Transform Image Transform cmp image Transform apply Transform seam Image byte data seam Image get Image image Image get Instance data rotation Float value Binding context rotation rotation if rotation image set Rotation Degrees rotation height Float value Binding context height height width Float value Binding context width width if height width image scale Absolute width height int alignment Value alignment String value Binding context alignment alignment if alignment null alignment Value Text Utils alignment Value alignment wrap Boolean value Binding context wrap wrap if wrap null wrap boolean Value alignment Value Image underlying Boolean value Binding context underlying underlying if underlying null underlying boolean Value alignment Value Image image set Alignment alignment Value alt String value Binding context alt alt if alt null image set Alt alt indentation Left Float value Binding context indentation Left indentation Left if indentation Left null image set Indentation Left indentation Left indentation Right Float value Binding context indentation Right indentation Right if indentation Right null image set Indentation Right indentation Right spacing Before Float value Binding context spacing Before spacing Before if spacing Before null image set Spacing Before spacing Before spacing After Float value Binding context spacing After spacing After if spacing After null image set Spacing After spacing After width Percentage Float value Binding context width Percentage width Percentage if width Percentage null image set Width Percentage width Percentage initial Rotation Float value Binding context initial Rotation initial Rotation if initial Rotation null image set Initial Rotation initial Rotation dpi String value Binding context dpi dpi if dpi null int dpi Values Text Utils string To Int Array dpi image set Dpi dpi Values dpi Values apply Rectangle Properties context image scale To Fit String value Binding context scale To Fit scale To Fit if scale To Fit null float scale Text Utils string To Float Array scale To Fit if scale length image scale To Fit scale scale else throw new Runtime Exception scale To Fit must contain two dimensions scale Percent String value Binding context scale Percent scale Percent if scale Percent null float scale Text Utils string To Float Array scale Percent if scale length image scale Percent scale else if scale length image scale Percent scale scale else throw new Runtime Exception scale Percent must contain one or two scale percentages Override public void handle Add Object o throw new Runtime Exception ca n t add o get Class get Name to image 
package org jboss seam ui component import javax faces component Editable Value Holder import javax faces component Component import javax faces component html Html Output Label import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Tag Component which renders a label associated with the nearest input component author mnovotny Jsf Component description Description display Name org jboss seam ui Label value label associated with the nearest input component family javax faces Output type org jboss seam ui Label generate org jboss seam ui component html Html Label tag Tag base Class org jboss seam ui util cdk Component Tag Base name label attributes javax faces component Output xml core props xml accesskey props xml focus props xml public abstract class Label extends Html Output Label implements Decorate Aware protected Decorate decorate depth first search for an Editable Value Holder protected static Component get Editable Value Holder Component component if component instanceof Editable Value Holder return component is Rendered component null for Object child component get Children if child instanceof Component Component evh get Editable Value Holder Component child if evh null return evh return null private static String get Input Id Component cmp String for Id cmp instanceof Decorate Decorate cmp get For null if for Id null Component evh get Editable Value Holder cmp return evh null null evh get Id else return for Id private static String get For Component component if component get Parent null return null else if component instanceof Decorate return get Input Id component else return get For component get Parent Override Attribute description Description Id of input component this label is for public String get For if decorate null return get For decorate return get For this Override public void set Decorate Decorate decorate this decorate decorate 
package org jboss seam pdf ui import javax faces context Faces Context import org jfree chart Chart Factory import org jfree chart Free Chart import org jfree chart renderer category Category Item Renderer import org jfree data category Category Dataset import org jfree data category Default Category Dataset import org jfree data general Dataset public class Line Chart extends Category Chart Base Override public void restore State Faces Context context Object state Object values Object state super restore State context values Override public Object save State Faces Context context Object values new Object values super save State context return values Override public Dataset create Dataset return new Default Category Dataset Override public Free Chart create Chart Faces Context context Free Chart chart if get Is chart Chart Factory create Line Chart get Title get Domain Axis Label get Range Axis Label Category Dataset dataset plot Orientation get Orientation get Legend false false else chart Chart Factory create Line Chart get Title get Domain Axis Label get Range Axis Label Category Dataset dataset plot Orientation get Orientation get Legend false false configure Title chart get Title configure Legend chart get Legend return chart Override public void configure Plot Plot p super configure Plot p Override public void configure Renderer Category Item Renderer renderer super configure Renderer renderer 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui component import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag component class which renders a link that supports invocation of an action with control over conversation propagation It does not submit the form Jsf Component description Description display Name org jboss seam ui Link value link that supports invocation of an action with control over conversation propagation Does not submit the form family org jboss seam ui Link type org jboss seam ui Link generate org jboss seam ui component html Html Link tag Tag base Class org jboss seam ui util cdk Component Tag Base name link renderer Jsf Renderer type org jboss seam ui Link Renderer family org jboss seam ui Link Renderer attributes command button props xml javax faces component Command xml javax faces component Value Holder xml i n props xml accesskey props xml public abstract class Link extends Seam Command Base Attribute public abstract String get Style Class public abstract void set Style Class String style Class Attribute public abstract String get Style public abstract void set Style String style Attribute public abstract boolean is Disabled public abstract void set Disabled boolean disabled Attribute description Description the view id to link to public abstract String get View Attribute description Description a pageflow definition to begin This is only useful when propagation begin or propagation join public abstract String get Pageflow Attribute default Value default description Description determines the conversation propagation style begin join nest none end or end Root public abstract String get Propagation Attribute description Description the fragment identifier to link to public abstract String get Fragment Attribute public abstract String get Outcome Attribute public abstract String get Image Attribute description Description Specify the task to operate on e g for Start Task public abstract Object get Task Instance Attribute description Description The name of the conversation for natural conversations public abstract String get Conversation Name Attribute default Value true description Description Include page parameters defined in pages xml when rendering the button public abstract boolean is Include Page Params 
package org jboss seam pdf ui import javax faces context import com lowagie text public class List extends Text Component public static final String org jboss seam pdf ui List public static final String public static final String public static final String public static final String public static final String public static final String List list String style String list Symbol float indent Boolean lower Case false Integer char Number Integer number Type public void set Style String style this style style public void set Indent float indent this indent indent public void set List Symbol String list Symbol this list Symbol list Symbol for dingbats symbol list public void set Char Number Integer char Number this char Number char Number for dingbats number list public void set Number Type Integer number Type this number Type number Type for public void set Lower Case Boolean lower Case this lower Case lower Case Override public Object get Text Object return list Override public void remove Text Object list null Override public void create Text Object Faces Context context style String value Binding context style style lower Case Boolean value Binding context lower Case lower Case indent Float value Binding context indent indent list Symbol String value Binding context list Symbol list Symbol if style null if style equals Ignore Case list new Roman List int indent int bug in text if lower Case null list set Lowercase lower Case Roman List list set Roman Lower lower Case else if style equals Ignore Case list new Greek List int indent int bug in itext if lower Case null list set Lowercase lower Case Greek List list set Greek Lower lower Case else if style equals Ignore Case char Number Integer value Binding context char Number char Number list new Zapf Dingbats List char Number int indent else if style equals Ignore Case number Type Integer value Binding context number Type number Type list new Zapf Dingbats Number List number Type int indent else if style equals Ignore Case list new List true indent set First int else if style equals Ignore Case list new List false true indent set First char if list null list new List false indent if list Symbol null list set List Symbol list Symbol Override public void handle Add Object o list add o 
package org jboss seam pdf ui import javax faces context import org jboss seam pdf Text Utils import com lowagie text public class List Item extends Text Component public static final String org jboss seam pdf ui List Item List Item list Item String alignment Float indentation Left Float indentation Right Integer list Symbol public void set List Symbol Integer list Symbol this list Symbol list Symbol public void set Alignment String alignment this alignment alignment public void set Indentation Left Float indentation Left this indentation Left indentation Left public void set Indentation Right Float indentation Right this indentation Right indentation Right Override public Object get Text Object return list Item Override public void create Text Object Faces Context context list Item new List Item should list Symbol be a facet list Symbol Integer value Binding context list Symbol list Symbol if list Symbol null int symbol list Symbol Font font get Font if font null list Item set List Symbol new Chunk char symbol else list Item set List Symbol new Chunk char symbol font alignment String value Binding context alignment alignment if alignment null list Item set Alignment Text Utils alignment Value alignment indentation Left Float value Binding context indentation Left indentation Left if indentation Left null list Item set Indentation Left indentation Left indentation Right Float value Binding context indentation Right indentation Right if indentation Right null list Item set Indentation Right indentation Right Override public void remove Text Object list Item null Override public void handle Add Object o list Item add o 
package org jboss seam excel ui validation import org jboss seam excel ui Excel Component public class List Validation extends Excel Component implements Validation public static final String org jboss seam excel ui validation List Validation Override public String get Family return public Validation Type get Type return Validation Type list 
package org jboss seam excel ui validation import org jboss seam excel ui Excel Component public class List Validation Item extends Excel Component public static final String org jboss seam excel ui validation List Validation Item private String value public String get Value return String value Of value value public void set Value String value this value value Override public String get Family return 
package org jboss seam excel ui command import org jboss seam excel ui Excel Component public class Merge Cells extends Excel Component implements Command public static final String org jboss seam excel ui command Merge Cells private Integer start Column private Integer start Row private Integer end Column private Integer end Row public Integer get Start Column return Integer value Of start Column start Column public void set Start Column Integer start Column this start Column start Column public Integer get Start Row return Integer value Of start Row start Row public void set Start Row Integer start Row this start Row start Row public Integer get End Column return Integer value Of end Column end Column public void set End Column Integer end Column this end Column end Column public Integer get End Row return Integer value Of end Row end Row public void set End Row Integer end Row this end Row end Row Override public String get Family return public Command Type get Command Type return Command Type merge cells 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui component import javax faces component Editable Value Holder import javax faces component Component import javax faces component html Html Message import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Tag component class which decorates a input field with the validation error message Jsf Component description Description display Name org jboss seam ui Message value Decorate a input field with the validation error message family javax faces Message type org jboss seam ui Message generate org jboss seam ui component html Html Message tag Tag base Class org jboss seam ui util cdk Component Tag Base name message attributes javax faces component Message xml public abstract class Message extends Html Message implements Decorate Aware protected Decorate decorate depth first search for an Editable Value Holder protected static Component get Editable Value Holder Component component if component instanceof Editable Value Holder return component is Rendered component null for Object child component get Children if child instanceof Component Component evh get Editable Value Holder Component child if evh null return evh return null private static String get Input Id Component cmp String for Id cmp instanceof Decorate Decorate cmp get For null if for Id null Component evh get Editable Value Holder cmp return evh null null evh get Id else return for Id private static String get For Component component if component get Parent null return null else if component instanceof Decorate return get Input Id component else return get For component get Parent Override public String get For if decorate null return get For decorate return get For this Override public void set Decorate Decorate decorate this decorate decorate 
package org jboss seam pdf ui import java io Exception import javax faces context Faces Context import org jboss seam pdf Text Utils import com lowagie text Document Exception import com lowagie text Element import com lowagie text Page Size import com lowagie text pdf Multi Column Text public class Multi Column Text extends Text Component float left float right Page Size get Width String direction default Multi Column Text multi Column Text null public float get Left return Float value Binding left left public void set Left float left this left left public float get Right return Float value Binding right right public void set Right float right this right right public String get Direction return String value Binding direction direction public void set Direction String direction this direction direction Override public void create Text Object Faces Context context throws Exception Document Exception multi Column Text new Multi Column Text multi Column Text add Simple Column get Left get Right multi Column Text set Run Direction Text Utils run Direction get Direction Override public Object get Text Object return multi Column Text Override public void handle Add Object other if other instanceof Element try multi Column Text add Element Element other catch Document Exception e throw new Runtime Exception e else throw new Runtime Exception Multi Column Text only supports Element children Override public void remove Text Object multi Column Text null 
package org jboss seam excel ui validation import org jboss seam excel ui Excel Component public class Numeric Validation extends Excel Component implements Validation public static final String org jboss seam excel ui validation Numeric Validation public enum Validation Condition equal greater equal less equal less than not equal between not between private Double value private Double value private Validation Condition condition Override public String get Family return public Double get Value return Double value Of value value public void set Value Double value this value value public Double get Value return Double value Of value value public void set Value Double value this value value public Validation Condition get Condition return Validation Condition value Of condition condition public void set Condition Validation Condition condition this condition condition public Validation Type get Type return Validation Type numeric 
package org jboss seam pdf ui import java io Exception import javax faces Faces Exception import javax faces component Value Holder import javax faces context Faces Context import javax faces convert Converter import com lowagie text Chunk public class Output Text extends Text Component implements Value Holder Chunk chunk Converter converter Object value Object local Value Text Component methods Override public void encode End Faces Context context throws Exception chunk append convert context get Value super encode End context protected String convert Faces Context context Object value Converter my Converter converter For Value context value if my Converter null return my Converter get As String context this value else if value null return value to String else return protected Converter converter For Value Faces Context ctx Object value if converter null return converter if value null try return ctx get Application create Converter value get Class catch Faces Exception e no converter defined no problem return null Override public void create Text Object Faces Context context com lowagie text Font font get Font if font null chunk new Chunk else chunk new Chunk get Font Override public Object get Text Object return chunk Override public void handle Add Object other throw new Runtime Exception illegal child element Override public void remove Text Object chunk null Value Holder methods public Converter get Converter return converter public void set Converter Converter converter this converter converter public Object get Value return value Binding Faces Context get Current Instance value local Value public void set Value Object value this local Value value public Object get Local Value return local Value 
package org jboss seam pdf ui import javax faces context import java io import com lowagie text public class Page extends Text Component public static final String org jboss seam pdf ui Page Override public Object get Text Object return null Override public void remove Text Object nothing to do Override public void create Text Object Faces Context context nothing to do Override public void handle Add Object o add To Text Parent o Override public void encode Begin Faces Context context throws Exception super encode Begin context Document document find Document if document null document new Page else throw new Illegal Argument Exception Can not find parent document 
package org jboss seam pdf ui import java io Exception import javax faces context Faces Context public class Page Number extends Text Component Override public void create Text Object Faces Context context Override public Object get Text Object return null Override public void handle Add Object other throw new Runtime Exception header page number can not contain other elements Override public void remove Text Object Override public void encode End Faces Context context throws Exception super encode End context Header Footer header Header Footer find Text Parent this Header Footer class if header null throw new Runtime Exception page Number can only be used in the context of a header or footer header mark Page 
package org jboss seam pdf ui import javax faces context import com lowagie text public class Paragraph extends Text Component public static final String org jboss seam pdf ui Paragraph Paragraph paragraph String alignment Float first Line Indent Float extra Paragraph Space Float leading Float multiplied Leading Float spacing Before Float spacing After Float indentation Left Float indentation Right Boolean keep Together public void set Alignment String alignment this alignment alignment public void set First Line Indent Float first Line Indent this first Line Indent first Line Indent public void set Extra Paragraph Space Float extra Paragraph Space this extra Paragraph Space extra Paragraph Space public void set Leading Float leading this leading leading public void set Multiplied Leading Float multiplied Leading this multiplied Leading multiplied Leading public void set Spacing Before Float spacing Before this spacing Before spacing Before public void set Spacing After Float spacing After this spacing After spacing After public void set Indentation Left Float indentation Left this indentation Left indentation Left public void set Indentation Right Float indentation Right this indentation Right indentation Right public void set Keep Together Boolean keep Together this keep Together keep Together Override public Object get Text Object return paragraph Override public void remove Text Object paragraph null Override public void create Text Object Faces Context context Font font get Font if font null paragraph new Paragraph else paragraph new Paragraph font alignment String value Binding context alignment alignment if alignment null paragraph set Alignment alignment first Line Indent Float value Binding context first Line Indent first Line Indent if first Line Indent null paragraph set First Line Indent first Line Indent extra Paragraph Space Float value Binding context extra Paragraph Space extra Paragraph Space if extra Paragraph Space null paragraph set Extra Paragraph Space extra Paragraph Space leading Float value Binding context leading leading multiplied Leading Float value Binding context multiplied Leading multiplied Leading if leading null if multiplied Leading null paragraph set Leading leading multiplied Leading else paragraph set Leading leading spacing Before Float value Binding context spacing Before spacing Before if spacing Before null paragraph set Spacing Before spacing Before spacing After Float value Binding context spacing After spacing After if spacing After null paragraph set Spacing After spacing After indentation Left Float value Binding context indentation Left indentation Left if indentation Left null paragraph set Indentation Left indentation Left indentation Right Float value Binding context indentation Right indentation Right if indentation Right null paragraph set Indentation Right indentation Right keep Together Boolean value Binding context keep Together keep Together if keep Together null paragraph set Keep Together keep Together Override public void handle Add Object o paragraph add o 
package org jboss seam pdf ui import javax faces context Faces Context import org jfree chart Chart Factory import org jfree chart Free Chart import org jfree chart labels Standard Pie Section Label Generator import org jfree chart plot Pie Plot import org jfree chart plot Plot import org jfree data general Dataset import org jfree data general Default Pie Dataset import org jfree data general Pie Dataset import org jfree util Rotation public class Pie Chart extends Chart private String label private Double label Link Margin private String label Link Paint private String label Link Stroke private Boolean label Links Visible private String label Outline Paint private String label Outline Stroke private String label Shadow Paint private String label Paint private Double label Gap private String label Background Paint private Double start Angle private Boolean circular private String direction private String section Outline Paint private String section Outline Stroke private Boolean section Outlines Visible private String base Section Outline Paint private String base Section Paint private String base Section Outline Stroke public void set Label String label this label label public String get Label return String value Binding label label public String get Base Section Outline Paint return String value Binding base Section Outline Paint base Section Outline Paint public void set Base Section Outline Paint String base Section Outline Paint this base Section Outline Paint base Section Outline Paint public String get Base Section Outline Stroke return String value Binding base Section Outline Stroke base Section Outline Stroke public void set Base Section Outline Stroke String base Section Outline Stroke this base Section Outline Stroke base Section Outline Stroke public String get Base Section Paint return String value Binding base Section Paint base Section Paint public void set Base Section Paint String base Section Paint this base Section Paint base Section Paint public Boolean get Circular return Boolean value Binding is Circular circular public void set Circular Boolean circular this circular circular public String get Label Background Paint return String value Binding label Background Paint label Background Paint public void set Label Background Paint String label Background Paint this label Background Paint label Background Paint public Double get Label Gap return Double value Binding label Gap label Gap public void set Label Gap Double label Gap this label Gap label Gap public Double get Label Link Margin return Double value Binding label Link Margin label Link Margin public void set Label Link Margin double label Link Margin this label Link Margin label Link Margin public String get Label Link Paint return String value Binding label Link Paint label Link Paint public void set Label Link Paint String label Link Paint this label Link Paint label Link Paint public String get Label Link Stroke return String value Binding label Link Stroke label Link Stroke public void set Label Link Stroke String label Link Stroke this label Link Stroke label Link Stroke public Boolean is Label Links Visible return Boolean value Binding label Links Visible label Links Visible public void set Label Links Visible Boolean label Links Visible this label Links Visible label Links Visible public String get Label Outline Paint return String value Binding label Outline Paint label Outline Paint public void set Label Outline Paint String label Outline Paint this label Outline Paint label Outline Paint public String get Label Outline Stroke return String value Binding label Outline Stroke label Outline Stroke public void set Label Outline Stroke String label Outline Stroke this label Outline Stroke label Outline Stroke public String get Label Paint return String value Binding label Paint label Paint public void set Label Paint String label Paint this label Paint label Paint public String get Label Shadow Paint return String value Binding label Shadow Paint label Shadow Paint public void set Label Shadow Paint String label Shadow Paint this label Shadow Paint label Shadow Paint public String get Direction return String value Binding rotation direction public void set Direction String rotation this direction rotation public String get Section Outline Paint return String value Binding section Outline Paint section Outline Paint public void set Section Outline Paint String section Outline Paint this section Outline Paint section Outline Paint public String get Section Outline Stroke return String value Binding section Outline Stroke section Outline Stroke public void set Section Outline Stroke String section Outline Stroke this section Outline Stroke section Outline Stroke public Boolean is Section Outlines Visible return Boolean value Binding section Outline Visible section Outlines Visible public void set Section Outlines Visible Boolean section Outlines Visible this section Outlines Visible section Outlines Visible public Double get Start Angle return Double value Binding start Angle start Angle public void set Start Angle Double start Angle this start Angle start Angle Override public void restore State Faces Context context Object state Object values Object state super restore State context values title String values label String values legend Boolean values is Boolean values label Link Margin Double values label Link Paint String values label Link Stroke String values label Links Visible Boolean values label Outline Paint String values label Outline Stroke String values label Shadow Paint String values label Paint String values label Gap Double values label Background Paint String values start Angle Double values circular Boolean values direction String values section Outline Paint String values section Outline Stroke String values section Outlines Visible Boolean values base Section Outline Paint String values base Section Paint String values base Section Outline Stroke String values Override public Object save State Faces Context context Object values new Object values super save State context values title values label values legend values is values label Link Margin values label Link Paint values label Link Stroke values label Links Visible values label Outline Paint values label Outline Stroke values label Shadow Paint values label Paint values label Gap values label Background Paint values start Angle values circular values direction values section Outline Paint values section Outline Stroke values section Outlines Visible values base Section Outline Paint values base Section Paint values base Section Outline Stroke return values Override public Dataset create Dataset return new Default Pie Dataset public Rotation rotation Value String value if value null value equals Ignore Case anticlockwise return Rotation else return Rotation Override public void configure Plot Plot plot super configure Plot plot if plot instanceof Pie Plot Pie Plot pieplot Pie Plot plot if label null pieplot set Label Generator new Standard Pie Section Label Generator label if base Section Outline Paint null pieplot set Base Section Outline Paint find Color base Section Outline Paint if base Section Outline Stroke null pieplot set Base Section Outline Stroke find Stroke base Section Outline Stroke if base Section Paint null pieplot set Base Section Paint find Color base Section Paint if circular null pieplot set Circular circular if start Angle null pieplot set Start Angle start Angle if direction null pieplot set Direction rotation Value direction if section Outline Paint null pieplot set Base Section Outline Paint find Color section Outline Paint if section Outline Stroke null pieplot set Base Section Outline Stroke find Stroke section Outline Stroke if section Outlines Visible null pieplot set Section Outlines Visible section Outlines Visible pieplot set Label Font arg if label Background Paint null pieplot set Label Background Paint find Color label Background Paint if label Gap null pieplot set Label Gap label Gap if label Link Margin null pieplot set Label Link Margin label Link Margin if label Link Paint null pieplot set Label Link Paint find Color label Link Paint if label Link Stroke null pieplot set Label Link Stroke find Stroke label Link Stroke if label Links Visible null pieplot set Label Links Visible label Links Visible if label Outline Paint null pieplot set Label Outline Paint find Color label Outline Paint if label Outline Stroke null pieplot set Label Outline Stroke find Stroke label Outline Stroke if label Paint null pieplot set Label Paint find Color label Paint if label Shadow Paint null pieplot set Label Shadow Paint find Color label Shadow Paint Override public Free Chart create Chart Faces Context context if get Is return Chart Factory create Pie Chart get Title Pie Dataset dataset get Legend false false else return Chart Factory create Pie Chart get Title Pie Dataset dataset get Legend false false 
package org jboss seam excel ui public class Print Area extends Excel Component public static final String org jboss seam excel ui Print Area private Integer first Column private Integer first Row private Integer last Column private Integer last Row public Integer get First Column return Integer value Of first Column first Column public void set First Column Integer first Column this first Column first Column public Integer get First Row return Integer value Of first Row first Row public void set First Row Integer first Row this first Row first Row public Integer get Last Column return Integer value Of last Column last Column public void set Last Column Integer last Column this last Column last Column public Integer get Last Row return Integer value Of last Row last Row public void set Last Row Integer last Row this last Row last Row Override public String get Family return 
package org jboss seam excel ui public class Print Titles extends Excel Component public static final String org jboss seam excel ui Print Titles private Integer first Col private Integer first Row private Integer last Col private Integer last Row public Integer get First Col return Integer value Of first Col first Col public void set First Col Integer first Col this first Col first Col public Integer get First Row return Integer value Of first Row first Row public void set First Row Integer first Row this first Row first Row public Integer get Last Col return Integer value Of last Col last Col public void set Last Col Integer last Col this last Col last Col public Integer get Last Row return Integer value Of last Row last Row public void set Last Row Integer last Row this last Row last Row Override public String get Family return 
package org jboss seam excel ui validation import org jboss seam excel ui Excel Component public class Range Validation extends Excel Component implements Validation public static final String org jboss seam excel ui validation Range Validation private Integer start Column private Integer start Row private Integer end Column private Integer end Row public Integer get Start Column return Integer value Of start Column start Column public void set Start Column Integer start Column this start Column start Column public Integer get Start Row return Integer value Of start Row start Row public void set Start Row Integer start Row this start Row start Row public Integer get End Column return Integer value Of end Column end Column public void set End Column Integer end Column this end Column end Column public Integer get End Row return Integer value Of end Row end Row public void set End Row Integer end Row this end Row end Row Override public String get Family return public Validation Type get Type return Validation Type range 
package org jboss seam pdf ui import javax faces context Faces Context import org jboss seam pdf Text Utils import com lowagie text Rectangle public abstract class Rectangle extends Text Component protected Integer border protected String border Color protected String border Color Left protected String border Color Right protected String border Color Top protected String border Color Bottom protected String background Color protected Float border Width protected Float border Width Left protected Float border Width Right protected Float border Width Top protected Float border Width Bottom public Rectangle super xxx use string public void set Border Integer border this border border public void set Border Width Float border Width this border Width border Width public void set Border Width Bottom Float border Width Bottom this border Width Bottom border Width Bottom public void set Border Width Left Float border Width Left this border Width Left border Width Left public void set Border Width Right Float border Width Right this border Width Right border Width Right public void set Border Width Top Float border Width Top this border Width Top border Width Top public void set Background Color String background Color this background Color background Color public void set Border Color String border Color this border Color border Color public void set Border Color Bottom String border Color Bottom this border Color Bottom border Color Bottom public void set Border Color Left String border Color Left this border Color Left border Color Left public void set Border Color Right String border Color Right this border Color Right border Color Right public void set Border Color Top String border Color Top this border Color Top border Color Top public void apply Rectangle Properties Faces Context context Rectangle rectangle border Integer value Binding context border border if border null rectangle set Border border background Color String value Binding context background Color background Color if background Color null rectangle set Background Color Text Utils color Value background Color border Color String value Binding context border Color border Color if border Color null rectangle set Border Color Text Utils color Value border Color border Color Left String value Binding context border Color Left border Color Left if border Color Left null rectangle set Border Color Left Text Utils color Value border Color Left border Color Right String value Binding context border Color Right border Color Right if border Color Right null rectangle set Border Color Right Text Utils color Value border Color Right border Color Top String value Binding context border Color Top border Color Top if border Color Top null rectangle set Border Color Top Text Utils color Value border Color Top border Color Bottom String value Binding context border Color Bottom border Color Bottom if border Color Bottom null rectangle set Border Color Bottom Text Utils color Value border Color Bottom border Width Float value Binding context border Width border Width if border Width null rectangle set Border Width border Width border Width Left Float value Binding context border Width Left border Width Left if border Width Left null rectangle set Border Width Left border Width Left border Width Right Float value Binding context border Width Right border Width Right if border Width Right null rectangle set Border Width Right border Width Right border Width Top Float value Binding context border Width Top border Width Top if border Width Top null rectangle set Border Width Top border Width Top border Width Bottom Float value Binding context border Width Bottom border Width Bottom if border Width Bottom null rectangle set Border Width Bottom border Width Bottom 
package org jboss seam ui component import javax faces component Component Base import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag Tag that auto generates script imports for Seam Remote author Shane Bryzak Jsf Component description Description display Name org jboss seam ui Remote value Write out script element for use with Seam Remote family org jboss seam ui Remote type org jboss seam ui Remote generate org jboss seam ui component html Html Remote tag Tag base Class org jboss seam ui util cdk Component Tag Base name remote renderer Jsf Renderer type org jboss seam ui Remote Renderer family org jboss seam ui Remote Renderer attributes javax faces component Component xml core props xml public abstract class Remote extends Component Base Attribute description Description The Seam components to include in the Seam Remoting interface stubs public abstract String get Include public abstract void set Include String include 
package org jboss seam mail ui import java io Exception import javax faces Faces Exception import javax faces context Faces Context import javax mail Address import javax mail Messaging Exception import javax mail internet Address Exception import javax mail internet Mime Message component for rendering a Reply to header public class Reply To extends Address Component Override public void encode Begin Faces Context faces Context throws Exception try Mime Message mime Message find Mime Message if mime Message get Reply To null mime Message get Reply To length throw new Address Exception Email can not have more than one Reply to address get Address Address reply To get Internet Address faces Context mime Message set Reply To reply To catch Address Exception e throw new Faces Exception e get Message e get Ref e catch Messaging Exception e throw new Faces Exception e get Message e 
package org jboss seam ui component import java io Exception import javax faces component Component Base import javax faces component View Root import javax faces context Faces Context import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag Component which can use a data in form as inputstream java util File or byte and a content type this tag sends the data to the browser author Daniel Roth Jsf Component description Description display Name org jboss seam ui Resource value Given a data in form of an inputstream java util File or byte and a content type this tag sends the data to the browser family org jboss seam ui Resource type org jboss seam ui Resource generate org jboss seam ui component html Html Resource tag Tag base Class org jboss seam ui util cdk Component Tag Base name resource renderer Jsf Renderer type org jboss seam ui Resource Renderer family org jboss seam ui Resource Renderer public abstract class Resource extends Component Base Attribute description Description Inputstream File or byte public abstract Object get Data public abstract void set Data Object data Attribute description Description Content type of given data public abstract String get Content Type public abstract void set Content Type String content Type Attribute description Description Content Disposition for file default inline public abstract String get Disposition public abstract void set Disposition String disposition Attribute description Description file name to send to browser default name of view public abstract String get File Name public abstract void set File Name String file Name Override public void encode Begin Faces Context arg throws Exception if get Parent instanceof View Root get Parent instanceof Download throw new Illegal Argument Exception s remote must be nested in a s download or alone in the page super encode Begin arg 
package org jboss seam excel ui command import org jboss seam excel ui Excel Component public class Row Page Break extends Excel Component implements Command public static final String org jboss seam excel ui command Row Page Break private Integer row public Integer get Row return Integer value Of row row public void set Row Integer row this row row public Command Type get Command Type return Command Type add row pagebreak Override public String get Family return 
package org jboss seam ui component import java io Unsupported Encoding Exception import java util Hash Set import java util Map import java util Set import javax el Method Expression import javax el Value Expression import javax faces component Action Source import javax faces component Component import javax faces component Data import javax faces component Output import javax faces component Parameter import javax faces context Faces Context import javax faces el Method Binding import javax faces event Action Listener import javax faces model Data Model import org jboss seam core Propagation Type import org jboss seam navigation Pages import org jboss seam ui util View Url Builder Parent of all Seam command like components author mnovotny public abstract class Seam Command Base extends Output implements Action Source private static Class static try Class for Name javax portlet Portlet Request catch Exception e public abstract String get View public String get Url throws Unsupported Encoding Exception String encoded Url Faces Context context get Faces Context String view Id get View if view Id null view Id Pages get View Id get Faces Context encoded action Method in causes Safe Actions to fail View Url Builder url new View Url Builder view Id get Fragment is Portlet Request get Faces Context View Url Builder url new View Url Builder view Id get Fragment Set String used Parameters new Hash Set String for Object child get Children if child instanceof Parameter used Parameters add Parameter child get Name url add Parameter Parameter child if view Id null is Include Page Params Map String Object page Parameters Pages instance get String Values From Model context view Id used Parameters for Map Entry String Object me page Parameters entry Set Parameter uip new Parameter uip set Name me get Key uip set Value me get Value url add Parameter uip if get Action Expression null Action ui Action new Action ui Action set Action get Action Expression get Expression String url add Parameter ui Action Propagation Type propagation Type Propagation Type value Of get Propagation to Upper Case if propagation Type Propagation Type propagation Type Propagation Type propagation Type Propagation Type propagation Type Propagation Type Conversation Id ui Conversation Id Conversation Id new Instance ui Conversation Id set View Id view Id url add Parameter ui Conversation Id if propagation Type Propagation Type propagation Type Propagation Type propagation Type Propagation Type propagation Type Propagation Type Conversation Propagation ui Propagation Conversation Propagation new Instance ui Propagation set Type get Propagation ui Propagation set Pageflow get Pageflow url add Parameter ui Propagation if propagation Type Propagation Type Conversation Propagation ui Propagation Conversation Propagation new Instance ui Propagation set Type get Propagation url add Parameter ui Propagation if get Conversation Name null Conversation Name name Conversation Name new Instance name set Value get Conversation Name url add Parameter name Value Expression task Instance Value Expression get Value Expression task Instance if task Instance Value Expression null Task Id ui Task Id Task Id new Instance ui Task Id set Value Expression task Instance task Instance Value Expression url add Parameter ui Task Id if used Parameters contains data Model Selection Selection ui Selection get Selection if ui Selection null url add Parameter ui Selection encoded Url url get Encoded Url return encoded Url public abstract void set View String view public abstract String get Propagation public abstract void set Propagation String propagtion public abstract String get Pageflow public abstract void set Pageflow String pageflow public abstract String get Fragment public abstract void set Fragment String fragment public abstract void set Conversation Name String name public abstract String get Conversation Name public abstract void set Include Page Params boolean value public abstract boolean is Include Page Params public Selection get Selection Data parent Data get Parent Data if parent Data null if parent Data get Value instanceof Data Model String data Model Expression parent Data get Value Expression value get Expression String String data Model Name data Model Expression substring data Model Expression length replace Selection ui Selection Selection new Instance ui Selection set Data Model data Model Name ui Selection set Var parent Data get Var return ui Selection else return null else return null public Data get Parent Data Component parent this get Parent while parent null if parent instanceof Data return Data parent else parent parent get Parent return null public void remove Action Listener Action Listener listener Silently fail requires this throw new Unsupported Operation Exception Action listeners not supported by s link s button public Action Listener get Action Listeners Silently fail requires this throw new Unsupported Operation Exception Action listeners not supported by s link s button return null public void add Action Listener Action Listener listener Silently fail requires this throw new Unsupported Operation Exception Action listeners not supported by s link s button Deprecated public void set Action javax faces el Method Binding method Binding set Action Expression new Method Binding To Method Expression method Binding com sun faces application Method Expression Method Binding Adapter adapter if null method Binding adapter new com sun faces application Method Expression Method Binding Adapter method Binding set Action Expression adapter else set Action Expression null Deprecated public javax faces el Method Binding get Action return new org jboss seam ui util cdk Method Expression To Method Binding get Action Expression Method Binding result null Method Expression me if null me get Action Expression if the Method Expression is an instance of our private wrapper class if me get Class equals com sun faces application Method Expression Method Binding Adapter class result com sun faces application Method Expression Method Binding Adapter me get Wrapped else otherwise this is a real Method Expression Wrap it in a Method Binding result new com sun faces application Method Binding Method Expression Adapter me return result private static boolean is Portlet Request Faces Context faces Context return null is Instance faces Context get External Context get Request 
package org jboss seam pdf ui import javax faces context import com lowagie text public class Section extends Text Component public static final String org jboss seam pdf ui Section Section section Integer number Depth String section Title boolean new Page false public void set Number Depth Integer number Depth this number Depth number Depth public void set Section Title String section Title this section Title section Title public boolean get New Page return Boolean value Binding new Page new Page public void set New Page boolean new Page this new Page new Page public Section get Section return section Override public Object get Text Object return null do n t add to parent already added Override public void remove Text Object section null Override public void handle Add Object o section add o Override public void create Text Object Faces Context context Section ui Parent Section find Text Parent get Parent Section class Section section Parent ui Parent get Section if section Parent null throw new Runtime Exception section must have a parent chapter section number Depth Integer value Binding context number Depth number Depth if number Depth null number Depth count Section Parents this section section Parent add Section new Paragraph number Depth section Title String value Binding context section Title section Title if section Title null section set Bookmark Title section Title section set Trigger New Page get New Page private int count Section Parents Section component int level if component null return level return count Section Parents Section find Text Parent component get Parent Section class level public void set Title Paragraph title section set Title title 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui component import javax faces component Parameter import javax faces context Faces Context import javax faces model Data Model import org jboss seam contexts Contexts import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Tag component class which inserts a parameter that can be bound to a data model Jsf Component description Description display Name org jboss seam ui Selection value It inserts a parameter that can be bound to a data model family org jboss seam ui Selection type org jboss seam ui Selection generate org jboss seam ui component html Html Selection tag Tag base Class org jboss seam ui util cdk Component Tag Base name selection attributes javax faces component Component xml public abstract class Selection extends Parameter private static final String org jboss seam ui Selection Override public String get Name return data Model Selection Override public Object get Value Object value Contexts lookup In Stateful Contexts get Data Model if value null return null else int row Index Data Model value get Row Index return row Index null get Var get Data Model row Index Attribute public abstract String get Data Model public abstract void set Data Model String data Model Attribute public abstract String get Var public abstract void set Var String var public static Selection new Instance return Selection Faces Context get Current Instance get Application create Component 
package org jboss seam ui component import static org jboss seam util Strings empty If Null import java io Exception import java lang reflect Array import java util Array List import java util Arrays import java util List import javax el Value Expression import javax faces Faces Exception import javax faces component Value Holder import javax faces context Faces Context import javax faces convert Converter import javax faces model Data Model import org jboss seam framework Query import org jboss seam ui converter Converter Chain import org jboss seam ui converter No Selection Converter import org richfaces cdk annotations Component which creates a List Select Item from a List Set Data Model or Array author Pete Muir Jsf Component description Description display Name org jboss seam ui Select Items value Creates a List Select Item from a List Set Data Model or Array family javax faces Select Items type org jboss seam ui Select Items generate org jboss seam ui component html Html Select Items tag Tag base Class org jboss seam ui util cdk Component Tag Base name select Items attributes base props xml javax faces component Command xml javax faces component Component xml public abstract class Select Items extends javax faces component Select Items private List javax faces model Select Item select Items private Object original Value private class Nullable Select Item extends javax faces model Select Item private Object value private Nullable Select Item Object value String label super set Label label this value value Override public Object get Value return value private abstract class Contextual Select Item private Object var Value public Contextual Select Item Object var Value if var Value null throw new Faces Exception var attribute must be set this var Value var Value return the var Value protected Object get Var Value return this var Value private void setup get Faces Context get External Context get Request Map put get Var var Value private void cleanup get Faces Context get External Context get Request Map remove get Var protected abstract Object get Select Item Value protected abstract String get Select Item Label protected abstract boolean get Select Item Disabled protected abstract boolean get Select Item Escape protected javax faces model Select Item create try setup return new javax faces model Select Item this get Select Item Value this get Select Item Label this get Select Item Disabled this get Select Item Escape finally cleanup private static final String null Kinder impl of get set Label private String label Attribute aliases Alias item Label description Description the label to be used when rendering the Select Item Can reference the var variable public String get Label Value Expression ve get Value Expression label if ve null Object object ve get Value get Faces Context get Context if object null return object to String return label public void set Label String label this label label public abstract void set Hide No Selection Label boolean hide No Selection Label Attribute default Value false description Description if true the no Selection Label will be hidden when a value is selected public abstract boolean is Hide No Selection Label Attribute description Description specifies the optional label to place at the top of list if required true is also specified then selecting this value will cause a validation error public abstract String get No Selection Label public abstract void set No Selection Label String no Selection Label Attribute description Description defines the name of the local variable that holds the current object during iteration public abstract String get Var public abstract void set Var String var Attribute aliases Alias item Disabled description Description if true the Select Item will be rendered disabled Can reference the var variable public abstract boolean is Disabled public abstract void set Disabled boolean disabled Attribute default Value true description Description if false characters in the label will not be escaped Beware that this is a safety issue when the label is in any way derived from input supplied by the application s user Can reference the var variable public abstract boolean is Escape public abstract void set Escape boolean escape Attribute description Description Value to return to the server if this option is selected Optional by default the var object is used Can reference the var variable public abstract Object get Item Value public abstract void set Item Value Object item Value Override public void decode Faces Context context super decode context add Converter Chain If Required Override public void encode End Faces Context context throws Exception super encode End context add Converter Chain If Required private void add Converter Chain If Required if is Show No Selection Label Converter Chain converter Chain new Converter Chain this get Parent Converter no Selection Converter new No Selection Converter Make sure that the converter is only added once if converter Chain contains Converter Type no Selection Converter converter Chain add Converter To Chain no Selection Converter Converter Chain Override Attribute description Description an expression specifying the data that backs the List lt Select Item gt public Object get Value List javax faces model Select Item temporary Select Items new Array List javax faces model Select Item javax faces model Select Item no Selection Label no Selection Label if no Selection Label null temporary Select Items add no Selection Label if select Items null original Value null original Value equals super get Value original Value super get Value select Items new Array List javax faces model Select Item if original Value instanceof Iterable select Items add All as Select Items Iterable original Value else if original Value instanceof Data Model Data Model original Value get Wrapped Data instanceof Iterable select Items add All as Select Items Iterable Data Model original Value get Wrapped Data else if original Value instanceof Query select Items add All as Select Items Query original Value get Result List else if original Value null original Value get Class is Array select Items add All as Select Items array As List original Value else if temporary Select Items size return original Value temporary Select Items add All select Items return temporary Select Items private List javax faces model Select Item as Select Items Iterable iterable List javax faces model Select Item select Items new Array List javax faces model Select Item for final Object o iterable select Items add new Contextual Select Item o Override protected boolean get Select Item Disabled Boolean disabled is Disabled return disabled null false disabled Override protected boolean get Select Item Escape Boolean escape is Escape return escape null true escape Override protected String get Select Item Label return empty If Null get Label Override protected Object get Select Item Value Object value get Item Value return value null get Var Value value create return select Items private javax faces model Select Item no Selection Label if is Show No Selection Label Nullable Select Item s new Nullable Select Item get No Selection Label return s else return null private boolean is Show No Selection Label Value Expression vb get Value Expression no Selection Label String no Selection Label get No Selection Label boolean hide No Selection Label is Hide No Selection Label Object parent Value get Parent Value This is a slight hack If you do an expresison like this to hide the label no Selection Label x eq y Please Select null then if x y will return an empty String not null so we work around that with the side effect that if the result of the expression is an empty String then the label will be hidden if no Selection Label null vb null hide No Selection Label parent Value null Here the user has specfied a no Selection Label may be an empty string and if hide No Selection Label is set then if a value is selected then the label is hidden return true else if no Selection Label null equals no Selection Label hide No Selection Label parent Value null Here the user has used an expression as the no Selection Label In this case an empty string is indicates that the label should be hidden return true else return false private Object get Parent Value if get Parent instanceof Value Holder Value Holder parent Value Holder get Parent return parent get Value else return null private static List array As List Object array if array get Class get Component Type is Primitive List list new Array List for int i i Array get Length array i list add Array get array i return list else return Arrays as List Object array 
package org jboss seam pdf ui import java io Byte Array Output Stream import java io Exception import java io Input Stream import java security Key Store import java security Private Key import java security cert Certificate import javax faces context Faces Context import org jboss seam pdf Text Utils import org jboss seam pdf Key Store Config import org jboss seam util Faces Resources import org jboss seam util Resources import com lowagie text Doc Writer import com lowagie text pdf Pdf Acro Form import com lowagie text pdf Pdf Reader import com lowagie text pdf Pdf Signature Appearance import com lowagie text pdf Pdf Stamper import com lowagie text pdf Pdf Writer public class Signature extends Text Component signature box String field String size String reason String location public void set Field String field this field field public void set Size String size this size size public void set Reason String reason this reason reason public void set Location String location this location location Override public void create Text Object Faces Context context Override public void remove Text Object Override public Object get Text Object return null Override public void handle Add Object other throw new Runtime Exception signature does not accept children Override public void encode End Faces Context context throws Exception Pdf Writer writer find Writer if writer null throw new Runtime Exception Can not find Pdf Writer the document may not exist or may not be a pdf type Pdf Acro Form form writer get Acro Form field String value Binding context field field if field null throw new Runtime Exception signature field named is required size String value Binding context size size if size null throw new Runtime Exception signature size is required float rect Text Utils string To Float Array size if rect length throw new Runtime Exception size must contain four numbers form add Signature field rect rect rect rect Document doc Document find Text Parent this Document class doc add Signature this super encode End context private Pdf Writer find Writer Document doc Document find Text Parent this Document class if doc null Doc Writer writer doc get Writer if writer instanceof Pdf Writer return Pdf Writer writer return null public byte sign byte original Bytes Key Store Config store Key Store Config instance Input Stream is null try is Faces Resources get Resource As Stream store get Key Store get Faces Context get External Context Key Store ks Key Store get Instance Key Store get Default Type ks load is store get Key Store Password to Char Array Private Key key Private Key ks get Key store get Key Alias store get Key Password to Char Array Certificate chain ks get Certificate Chain store get Key Alias Pdf Reader reader new Pdf Reader original Bytes Byte Array Output Stream os new Byte Array Output Stream Pdf Stamper stamper Pdf Stamper create Signature reader os Pdf Signature Appearance appearance stamper get Signature Appearance appearance set Crypto key chain null Pdf Signature Appearance appearance set Reason reason appearance set Location location appearance set Visible Signature field stamper close return os to Byte Array catch Exception e throw new Runtime Exception e finally Resources close Stream is 
package org jboss seam ui component import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag Renders a lt span gt author mnovotny Jsf Component description Description display Name org jboss seam ui Span value Render a lt span gt family org jboss seam ui Span type org jboss seam ui Span generate org jboss seam ui component html Html Span tag Tag base Class org jboss seam ui util cdk Component Tag Base name span renderer Jsf Renderer type org jboss seam ui Span Renderer family org jboss seam ui Span Renderer attributes core props xml javax faces component Component xml public abstract class Span extends Style Attribute description Description Span title attribute public abstract String get Title public abstract void set Title String title 
package org jboss seam pdf ui import java awt Basic Stroke import java awt Stroke import javax faces component Component Base import javax faces context Faces Context import org jboss seam pdf Text Utils public class Stroke extends Component Base Float width String cap String join Float miter Limit f String dash String Float dash Phase f public String get Cap return cap public void set Cap String cap this cap cap public String get Dash return dash String public void set Dash String dash this dash String dash public float get Dash Phase return dash Phase public void set Dash Phase float dash Phase this dash Phase dash Phase public String get Join return join public void set Join String join this join join public float get Miterlimit return miter Limit public void set Miter Limit float miter Limit this miter Limit miter Limit public float get Width return width public void set Width float width this width width public int cap Value String cap if cap null cap equals Ignore Case butt return Basic Stroke else if cap equals Ignore Case round return Basic Stroke else if cap equals Ignore Case square return Basic Stroke throw new Runtime Exception invalid cap value cap public int join Value String join if join null join equals Ignore Case miter return Basic Stroke else if join equals Ignore Case round return Basic Stroke else if join equals Ignore Case bevel return Basic Stroke throw new Runtime Exception invalid join value join Override public String get Family return Text Component Override public void restore State Faces Context context Object state Object values Object state super restore State context values width Float values cap String values join String values miter Limit Float values dash String String values dash Phase Float values Override public Object save State Faces Context context Object values new Object values super save State context values width values cap values join values miter Limit values dash String values dash Phase return values public Stroke get Stroke if width null return new Basic Stroke else if cap null return new Basic Stroke get Width else if dash String null if miter Limit null return new Basic Stroke get Width cap Value get Cap join Value get Join else return new Basic Stroke get Width cap Value get Cap join Value get Join miter Limit else return new Basic Stroke get Width cap Value get Cap join Value get Join get Miterlimit Text Utils string To Float Array get Dash get Dash Phase 
package org jboss seam ui component import javax faces component Component Base import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag Component which renders a lt div gt author mnovotny Jsf Component description Description display Name org jboss seam ui Div value Render a lt div gt family org jboss seam ui Div type org jboss seam ui Div generate org jboss seam ui component html Html Div tag Tag base Class org jboss seam ui util cdk Component Tag Base name div renderer Jsf Renderer type org jboss seam ui Div Renderer family org jboss seam ui Div Renderer public abstract class Style extends Component Base Attribute public abstract String get Style Class Attribute public abstract String get Style public abstract void set Style Class String style Class public abstract void set Style String style 
package org jboss seam mail ui import java io Exception import javax faces Faces Exception import javax faces context Faces Context import javax mail Messaging Exception import org jboss seam mail ui context Mail Response Writer component for rendering subject line public class Subject extends Mail Component Override public void encode Children Faces Context faces Context throws Exception try String subject encode faces Context Mail Response Writer String charset find Message get Charset if charset null find Mime Message set Subject new Header subject get Sanitized Value else find Mime Message set Subject new Header subject get Sanitized Value charset catch Messaging Exception e throw new Faces Exception e get Message e 
package org jboss seam pdf ui import java awt Component import java awt Graphics public class Swing Component extends Graphics private Component component public void set Component Component component this component component public Component get Component return Component value Binding component component Override public void render Graphics g do n t use the component variable directly we need to check for the value Binding Component component get Component if component null throw new Runtime Exception Component was null set Size is very important The default size for this component is zero which means it will not display unless the size is set component set Size get Width get Height component paint g 
package org jboss seam pdf ui import javax faces context Faces Context import org jboss seam pdf Text Utils import com lowagie text Document Exception import com lowagie text Image import com lowagie text Phrase import com lowagie text pdf Pdf Cell import com lowagie text pdf Pdf Table public class Table extends Text Component public static final String org jboss seam pdf ui Table Pdf Table table String widths int columns Integer header Rows Integer footer Rows Float width Percentage Integer horizontal Alignment Boolean skip First Header Integer run Direction Boolean locked Width Boolean split Rows Float spacing Before Float spacing After Boolean extend Last Row Boolean headers In Event Boolean split Late Boolean keep Together public void set Widths String widths this widths widths public void set Columns int columns this columns columns public void set Header Rows Integer header Rows this header Rows header Rows public void set Footer Rows Integer footer Rows this footer Rows footer Rows public void set Extend Last Row Boolean extend Last Row this extend Last Row extend Last Row public void set Headers In Event Boolean headers In Event this headers In Event headers In Event public void set Horizontal Alignment String horizontal Alignment this horizontal Alignment Text Utils alignment Value horizontal Alignment public void set Keep Together Boolean keep Together this keep Together keep Together public void set Locked Width Boolean locked Width this locked Width locked Width public void set Run Direction Integer run Direction this run Direction run Direction public void set Skip First Header Boolean skip First Header this skip First Header skip First Header public void set Spacing After Float spacing After this spacing After spacing After public void set Spacing Before Float spacing Before this spacing Before spacing Before public void set Split Late Boolean split Late this split Late split Late public void set Split Rows Boolean split Rows this split Rows split Rows public void set Table Pdf Table table this table table public void set Width Percentage Float width Percentage this width Percentage width Percentage Override public Object get Text Object return table Override public void remove Text Object table null Override public void create Text Object Faces Context context columns Integer value Binding context columns columns table new Pdf Table columns widths String value Binding context widths widths if widths null try table set Widths Text Utils string To Float Array widths catch Document Exception e throw new Runtime Exception e header Rows Integer value Binding context header Rows header Rows if header Rows null table set Header Rows header Rows footer Rows Integer value Binding context footer Rows footer Rows if footer Rows null table set Footer Rows footer Rows width Percentage Float value Binding context width Percentage width Percentage if width Percentage null table set Width Percentage width Percentage horizontal Alignment Integer value Binding context horizontal Alignment horizontal Alignment if horizontal Alignment null table set Horizontal Alignment horizontal Alignment run Direction Integer value Binding context run Direction run Direction if run Direction null table set Run Direction run Direction locked Width Boolean value Binding context locked Width locked Width if locked Width null table set Locked Width locked Width split Rows Boolean value Binding context split Rows split Rows if split Rows null table set Split Rows split Rows spacing Before Float value Binding context spacing Before spacing Before if spacing Before null table set Spacing Before spacing Before spacing After Float value Binding context spacing After spacing After if spacing After null table set Spacing After spacing After extend Last Row Boolean value Binding context extend Last Row extend Last Row if extend Last Row null table set Extend Last Row extend Last Row headers In Event Boolean value Binding context headers In Event headers In Event if headers In Event null table set Headers In Event headers In Event split Late Boolean value Binding context split Late split Late if split Late null table set Split Late split Late keep Together Boolean value Binding context keep Together keep Together if keep Together null table set Keep Together keep Together Override public void handle Add Object o if o instanceof Pdf Cell table add Cell Pdf Cell o else if o instanceof Pdf Table table add Cell Pdf Table o else if o instanceof Phrase table add Cell Phrase o else if o instanceof Image table add Cell Image o else throw new Runtime Exception Ca n t add o get Class get Name to table public Pdf Cell get Default Cell Facet Object facet process Facet default Cell if facet null if facet instanceof Pdf Cell throw new Runtime Exception Table default Cell facet must be a Pdf Cell found facet get Class return Pdf Cell facet return null 
License Agreement Ajax jsf Natural Ajax for Java Server Faces Copyright Exadel Inc This library is free software you can redistribute it and or modify it under the terms of the Lesser General Public License version as published by the Free Software Foundation This library is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this library if not write to the Free Software Foundation Inc Franklin Street Fifth Floor Boston package org jboss seam ui component import javax el Value Expression import javax faces component Parameter import javax faces context Faces Context import org jbpm taskmgmt exe Task Instance import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Tag component class for adding of task id to an output link or similar control when the task is available via task Jsf Component description Description display Name org jboss seam ui Task Id value Add the task id to an output link or similar control when the task is available via task family org jboss seam ui Task Id type org jboss seam ui Task Id generate org jboss seam ui component html Html Task Id tag Tag base Class org jboss seam ui util cdk Component Tag Base name taskid attributes javax faces component Parameter xml public abstract class Task Id extends Parameter private static final String org jboss seam ui Task Id Override public String get Name return task Id Override public Object get Value Value Expression value Expression get Value Expression task Instance if value Expression null value Expression get Faces Context get Application get Expression Factory create Value Expression get Faces Context get Context task Task Instance class Task Instance task Instance Task Instance value Expression get Value get Faces Context get Context return task Instance null null task Instance get Id public static Task Id new Instance return Task Id Faces Context get Current Instance get Application create Component 
package org jboss seam pdf ui import javax faces context Faces Context import org jfree chart Chart Factory import org jfree chart Free Chart import org jfree chart plot Plot import org jfree chart plot Plot import org jfree data general Dataset import org jfree data xy Default Dataset import org jfree data xy Dataset public class Time Series Chart extends Chart private String domain Axis Label private String domain Axis Paint private Boolean domain Gridlines Visible private String domain Gridline Paint private String domain Gridline Stroke private String range Axis Label private String range Axis Paint private Boolean range Gridlines Visible private String range Gridline Paint private String range Gridline Stroke public String get Domain Axis Label return String value Binding domain Axis Label domain Axis Label public void set Domain Axis Label String category Axis Label this domain Axis Label category Axis Label public String get Range Axis Label return String value Binding range Axis Label range Axis Label public void set Range Axis Label String value Axis Label this range Axis Label value Axis Label public String get Domain Gridline Paint return String value Binding domain Gridline Paint domain Gridline Paint public void set Domain Gridline Paint String domain Gridline Paint this domain Gridline Paint domain Gridline Paint public String get Domain Gridline Stroke return String value Binding domain Gridline Stroke domain Gridline Stroke public void set Domain Gridline Stroke String domain Gridline Stroke this domain Gridline Stroke domain Gridline Stroke public Boolean get Domain Gridlines Visible return Boolean value Binding domain Gridlines Visible domain Gridlines Visible public void set Domain Gridlines Visible Boolean domain Gridlines Visible this domain Gridlines Visible domain Gridlines Visible public String get Range Gridline Paint return String value Binding range Gridline Paint range Gridline Paint public void set Range Gridline Paint String range Gridline Paint this range Gridline Paint range Gridline Paint public String get Range Gridline Stroke return String value Binding range Gridline Stroke range Gridline Stroke public void set Range Gridline Stroke String range Gridline Stroke this range Gridline Stroke range Gridline Stroke public Boolean get Range Gridlines Visible return Boolean value Binding range Gridlines Visible range Gridlines Visible public void set Range Gridlines Visible Boolean range Gridlines Visible this range Gridlines Visible range Gridlines Visible public String get Domain Axis Paint return String value Binding domain Axis Paint domain Axis Paint public void set Domain Axis Paint String domain Axis Paint this domain Axis Paint domain Axis Paint public String get Range Axis Paint return String value Binding range Axis Paint range Axis Paint public void set Range Axis Paint String range Axis Paint this range Axis Paint range Axis Paint Override public void restore State Faces Context context Object state Object values Object state super restore State context values orientation String values legend Boolean values is Boolean values title Background Paint String values title Paint String values legend Background Paint String values legend Item Paint String values legend Outline Paint String values domain Axis Label String values domain Axis Paint String values domain Gridlines Visible Boolean values domain Gridline Paint String values domain Gridline Stroke String values range Axis Label String values range Axis Paint String values range Gridlines Visible Boolean values range Gridline Paint String values range Gridline Stroke String values domain Label Position String values Override public Object save State Faces Context context Object values new Object values super save State context values orientation values legend values is values title values title Background Paint values title Paint values legend Background Paint values legend Item Paint values legend Outline Paint values domain Axis Label values domain Axis Paint values domain Gridlines Visible values domain Gridline Paint values domain Gridline Stroke values range Axis Label values range Axis Paint values range Gridlines Visible values range Gridline Paint values range Gridline Stroke values domain Label Position return values Override public Free Chart create Chart Faces Context context return Chart Factory create Time Series Chart get Title get Domain Axis Label get Range Axis Label Dataset get Dataset true false false Override public void configure Plot Plot plot super configure Plot plot if plot instanceof Plot configure Plot Plot plot public void configure Plot Plot plot if get Domain Gridlines Visible null plot set Domain Gridlines Visible get Domain Gridlines Visible if find Color get Domain Gridline Paint null plot set Domain Gridline Paint find Color get Domain Gridline Paint if find Stroke get Domain Gridline Stroke null plot set Domain Gridline Stroke find Stroke get Domain Gridline Stroke if find Color get Domain Axis Paint null plot get Domain Axis set Label Paint find Color get Domain Axis Paint if get Range Gridlines Visible null plot set Range Gridlines Visible get Range Gridlines Visible if find Color get Range Gridline Paint null plot set Range Gridline Paint find Color get Range Gridline Paint if find Stroke get Range Gridline Stroke null plot set Range Gridline Stroke find Stroke get Range Gridline Stroke if find Color get Range Axis Paint null plot get Range Axis set Label Paint find Color get Range Axis Paint Override public Dataset create Dataset return new Default Dataset 
package org jboss seam pdf ui import javax faces context Faces Context import com lowagie text Paragraph public class Title extends Text Component Override public void create Text Object Faces Context context Override public Object get Text Object return null Override public void handle Add Object other Paragraph paragraph null if other instanceof Paragraph paragraph Paragraph other if paragraph null throw new Runtime Exception title must be a paragraph Section section Section find Text Parent this Section class if section null throw new Runtime Exception can not find parent chapter section for title section get Section set Title paragraph Override public void remove Text Object 
package org jboss seam mail ui import javax mail Message Recipient Type Component for rendering To public class To extends Recipient Address Component Override protected Recipient Type get Recipient Type return Recipient Type 
package org jboss seam ui component import javax faces component Component import javax faces component Form import javax faces component Output import org jboss seam Component import org jboss seam ui Client Uid Selector import org jboss seam ui Unauthorized Command Exception import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag p strong Token strong is a Component that produces a random token that is inserted into a hidden form field to help to secure form posts against cross site request forgery attacks This is an adaptation of the recommendation called Keyed Hashing for Message Authentication that is referenced in the Cross Site Reference Forgery by Jesse Burns http www isecpartners com files Paper pdf p p When placed inside a form this component will first assign a unique identifier to the browser using a cookie that lives until the end of the browser session This is roughly the browser s private key Then a unique token is generated using various pieces of information that comprise the form s signature The token may or may not be bound to the session id as indicated by the value of the require Session attribute The token value is stored in the hidden form field named javax faces Form Signature p p There is an assumption when using this component that the browser supports cookies Cookies are the only universally available persistent mechanism that can give the browser an identifiable signature It s important to know that the browser submitting the form is the same browser that is requesting the form p p During the decode process the token is generated using the same algorithm that was used during rendering and compared with the value of the request parameter javax faces Form Signature If the same token value can be produced then the form submission is permitted Otherwise an link Unauthorized Command Exception is thrown indicating the reason for the failure p p The Token can be combined with client side state saving or the build before restore strategy to unbind a from the session that created the view without sacrificing security However it s still the most secure to require the view state to be present in the session server side state saving p p Please note that this solution is n t a complete panacea If your site is vulnerable to or the connection to wire tapping then the unique browser identifier can be revealed and a request forged p author Dan Allen Jsf Component description Description display Name org jboss seam ui Token value Render a secure token in the parent form that is validated on postback to guard against attacks family org jboss seam ui Token type org jboss seam ui Token generate org jboss seam ui component html Html Token tag Tag base Class org jboss seam ui util cdk Component Tag Base name token renderer Jsf Renderer type org jboss seam ui Token Renderer family org jboss seam ui Token Renderer attributes javax faces component Component xml public abstract class Token extends Output Suppress Warnings unused private static final String org jboss seam ui Token Suppress Warnings unused private static final String org jboss seam ui Token Indicates whether the session id should be included in the form signature hence binding the token to the session This value can be set to false if the build before restore mode of Facelets is activated the default in The default value is false Attribute default Value false description Description flag indicating whether the session id should be tied into the secure token public abstract boolean is Require Session public abstract void set Require Session boolean required Indicates whether a Java Script check should be inserted into the page to verify that cookies are enabled in the browser If cookies are not enabled present a notice to the user that form posts will not work The default value is false Attribute default Value false description Description flag indicating whether a notice should be presented to the user if cookies are disabled public abstract boolean is Enable Cookie Notice public abstract void set Enable Cookie Notice boolean state Indicates whether to allow the same form to be submitted multiple times with the same signature as long as the view does not change This is a common need if the form is perform Ajax calls but not rerendering itself or at the very least the Token component The preferred approach is to have the Token component rerendered on any Ajax call where the Token component would be processed The default value is false Attribute default Value false description Description flag indicating whether the form can be submitted multiple times with the same signature i e token public abstract boolean is Allow Multiple Posts public abstract void set Allow Multiple Posts boolean allow Return the selector that controls the unique browser identifier cookie public Client Uid Selector get Client Uid Selector return Client Uid Selector Component get Instance Client Uid Selector class public String get Client Uid return get Client Uid Selector get Client Uid public Form get Parent Form Component parent get Parent while parent null if parent instanceof Form return Form parent parent parent get Parent return null 
package org jboss seam ui graphic Image import java io Exception import javax faces component Component Base import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Tag Component which nestes in a lt s graphic Image gt Transforms an image by applying a blur author mnovotny Jsf Component description Description display Name org jboss seam ui graphic Image Transform Image Blur value Nested in a s graphic Image Transform an image by applying a blur family org jboss seam ui graphic Image Transform Image Blur type org jboss seam ui graphic Image Transform Image Blur generate org jboss seam ui component html Html Transform Image Blur tag Tag base Class org jboss seam ui util cdk Component Tag Base name transform Image Blur public abstract class Transform Image Blur extends Component Base implements Image Transform public void apply Transform Image image throws Exception if is Rendered return image blur new Integer get Radius Attribute description Description The radius of the blur essentially the amount of blur public abstract String get Radius public abstract void set Radius String width 
package org jboss seam ui graphic Image import java io Exception import javax faces component Component Base import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Tag Component which nestes in a lt s graphic Image gt Transforms an image by altering the size author mnovotny Jsf Component description Description display Name org jboss seam ui graphic Image Transform Image Size value Nested in a s graphic Image Transform an image by altering the size family org jboss seam ui graphic Image Transform Image Size type org jboss seam ui graphic Image Transform Image Size generate org jboss seam ui component html Html Transform Image Size tag Tag base Class org jboss seam ui util cdk Component Tag Base name transform Image Size public abstract class Transform Image Size extends Component Base implements Image Transform public void apply Transform Image image throws Exception if is Rendered return reduce number of decimal places if is Maintain Ratio if get Width null get Height null throw new Unsupported Operation Exception Can not maintain ratio and specify height and width else if get Width null image scale To Width new Integer get Width else if get Height null image scale To Height new Integer get Height else if get Factor null if get Width null get Height null throw new Unsupported Operation Exception Can not scale by a factor and specify height and width image scale get Factor else if get Width null get Height null throw new Unsupported Operation Exception If not specifying a factor or maintain ratio you must specify width and heigh image resize new Integer get Width new Integer get Height Attribute description Description If true do n t alter the ratio of the image In this case only height or width should be specificed public abstract boolean is Maintain Ratio public abstract void set Maintain Ratio boolean maintain Ratio Attribute description Description The new width of the image public abstract Integer get Width public abstract void set Width Integer width Attribute description Description The new height of the image public abstract Integer get Height public abstract void set Height Integer height Attribute description Description Change the size of the image by a fraction If factor is specified height width and maintain Ratio should not be specified public abstract Double get Factor public abstract void set Factor Double factor 
package org jboss seam ui graphic Image import java io Exception import javax faces component Component Base import org richfaces cdk annotations Attribute import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Tag Component which nestes in a lt s graphic Image gt Transform an image by changing it s type author mnovotny Jsf Component description Description display Name org jboss seam ui graphic Image Transform Image Type value Nested in a s graphic Image Transform an image by changing it s type family org jboss seam ui graphic Image Transform Image Type type org jboss seam ui graphic Image Transform Image Type generate org jboss seam ui component html Html Transform Image Type tag Tag base Class org jboss seam ui util cdk Component Tag Base name transform Image Type public abstract class Transform Image Type extends Component Base implements Image Transform public void apply Transform Image image throws Exception if is Rendered return Image Type type Image Type get Type By Mime Type get Content Type if type null image set Content Type type Attribute description Description The mime type of the output image public abstract String get Content Type public abstract void set Content Type String width 
package org jboss seam ui component import javax faces component Component Base import org richfaces cdk annotations Description import org richfaces cdk annotations Jsf Component import org richfaces cdk annotations Jsf Renderer import org richfaces cdk annotations Tag component class which validates all child input fields against the bound properties using Bean validation Jsf Component description Description display Name org jboss seam ui Validate All value Validate all child input fields against the bound propertys using Hibernate Validator family org jboss seam ui Validate All type org jboss seam ui Validate All generate org jboss seam ui component html Html Validate All tag Tag base Class org jboss seam ui util cdk Component Tag Base name validate All renderer Jsf Renderer type org jboss seam ui Validate All Renderer family org jboss seam ui Validate All Renderer public abstract class Validate All extends Component Base Make this a hidden true el false property in validate All xml private boolean validators Added false public boolean is Validators Added return validators Added public void set Validators Added boolean validators Added this validators Added validators Added 
package org jboss seam excel ui import java io Exception import java util List import javax faces component Component import javax faces component Value Holder import javax faces context Faces Context import org jboss seam contexts Contexts import org jboss seam core Manager import org jboss seam document Byte Array Document Data import org jboss seam document Document Data import org jboss seam document Document Store import org jboss seam document Document Data Document Type import org jboss seam excel Excel Factory import org jboss seam excel Excel Workbook import org jboss seam navigation Pages public class Workbook extends Excel Component public enum Creation Type public static final String org jboss seam excel ui Workbook private boolean send Redirect true private Excel Workbook excel Workbook null private String type private String template private Integer array Grow Size private Boolean auto Filter Disabled private Boolean cell Validation Disabled private Integer character Set private Boolean drawings Disabled private String encoding private String excel Display Language private String excel Regional Settings private Boolean formula Adjust private Boolean gc Disabled private Boolean ignore Blanks private Integer initial File Size private String locale private Boolean merged Cell Checking Disabled private Boolean names Disabled private Boolean property Sets private Boolean rationalization private Boolean supress Warnings private String temporary File During Write Directory private Boolean use Temporary File During Write private Boolean workbook Protected private String export Key private String filename private String disposition public String get Filename return String value Of filename filename public void set Filename String filename this filename filename public String get Export Key return String value Of export Key export Key public void set Export Key String export Key this export Key export Key public Creation Type get Creation Type if has Settings if get Template null return Creation Type else return Creation Type else if get Template null return Creation Type else return Creation Type public Integer get Array Grow Size return Integer value Of array Grow Size array Grow Size public void set Array Grow Size Integer array Grow Size this array Grow Size array Grow Size public Boolean get Auto Filter Disabled return Boolean value Of auto Filter Disabled auto Filter Disabled public void set Auto Filter Disabled Boolean auto Filter Disabled this auto Filter Disabled auto Filter Disabled public Boolean get Cell Validation Disabled return Boolean value Of cell Validation Disabled cell Validation Disabled public void set Cell Validation Disabled Boolean cell Validation Disabled this cell Validation Disabled cell Validation Disabled public Integer get Character Set return Integer value Of character Set character Set public void set Character Set Integer character Set this character Set character Set public Boolean get Drawings Disabled return Boolean value Of drawings Disabled drawings Disabled public void set Drawings Disabled Boolean drawings Disabled this drawings Disabled drawings Disabled public String get Encoding return String value Of encoding encoding public void set Encoding String encoding this encoding encoding public String get Excel Display Language return String value Of excel Display Language excel Display Language public void set Excel Display Language String excel Display Language this excel Display Language excel Display Language public String get Excel Regional Settings return String value Of excel Regional Settings excel Regional Settings public void set Excel Regional Settings String excel Regional Settings this excel Regional Settings excel Regional Settings public Boolean get Formula Adjust return Boolean value Of formula Adjust formula Adjust public void set Formula Adjust Boolean formula Adjust this formula Adjust formula Adjust public Boolean get Gc Disabled return Boolean value Of gc Disabled gc Disabled public void set Gc Disabled Boolean gc Disabled this gc Disabled gc Disabled public Boolean get Ignore Blanks return Boolean value Of ignore Blanks ignore Blanks public void set Ignore Blanks Boolean ignore Blanks this ignore Blanks ignore Blanks public Integer get Initial File Size return Integer value Of initial File Size initial File Size public void set Initial File Size Integer initial File Size this initial File Size initial File Size public String get Locale return String value Of locale locale public void set Locale String locale this locale locale public Boolean get Merged Cell Checking Disabled return Boolean value Of merged Cell Checking Disabled merged Cell Checking Disabled public void set Merged Cell Checking Disabled Boolean merged Cell Checking Disabled this merged Cell Checking Disabled merged Cell Checking Disabled public Boolean get Names Disabled return Boolean value Of names Disabled names Disabled public void set Names Disabled Boolean names Disabled this names Disabled names Disabled public Boolean get Property Sets return Boolean value Of property Sets property Sets public void set Property Sets Boolean property Sets this property Sets property Sets public Boolean get Rationalization return Boolean value Of rationalization rationalization public void set Rationalization Boolean rationalization this rationalization rationalization public Boolean get Supress Warnings return Boolean value Of supress Warnings supress Warnings public void set Supress Warnings Boolean supress Warnings this supress Warnings supress Warnings public String get Temporary File During Write Directory return String value Of temporary File During Write Directory temporary File During Write Directory public void set Temporary File During Write Directory String temporary File During Write Directory this temporary File During Write Directory temporary File During Write Directory public Boolean get Use Temporary File During Write return Boolean value Of use Temporary File During Write use Temporary File During Write public void set Use Temporary File During Write Boolean use Temporary File During Write this use Temporary File During Write use Temporary File During Write Override public void encode Begin javax faces context Faces Context faces Context throws Exception Get workbook implementation excel Workbook Excel Factory instance get Excel Workbook get Type Create a new workbook excel Workbook create Workbook this List Link stylesheets get Children Of Type get Children Link class excel Workbook set Stylesheets stylesheets Override public void encode End Faces Context context throws Exception Get the bytes from workbook that should be passed on to the user byte bytes excel Workbook get Bytes Document Type type excel Workbook get Document Type String view Id Pages get View Id context String base Name Pages get Current Base Name Document Data document Data new Byte Array Document Data base Name type bytes document Data set Filename get Filename Boolean disposition Value get Disposition if disposition Value null document Data set Disposition disposition Value to String if get Export Key null Contexts get Event Context set get Export Key document Data return if send Redirect Document Store store Document Store instance String id store new Id String url store preferred Url For Content base Name type get Extension id url Manager instance encode Conversation Id url view Id store save Data id document Data context get External Context redirect url else Component parent get Parent if parent instanceof Value Holder Value Holder holder Value Holder parent holder set Value document Data public boolean is Send Redirect return Boolean value Of send Redirect send Redirect public void set Send Redirect boolean send Redirect this send Redirect send Redirect Override public String get Family return public String get Type return String value Of type type public void set Type String type this type type public Excel Workbook get Excel Workbook return excel Workbook public void set Excel Workbook Excel Workbook excel Workbook this excel Workbook excel Workbook public String get Template return String value Of template template public void set Template String template this template template Hack Noooooooooooooooo public boolean has Settings return get Array Grow Size null get Auto Filter Disabled null get Cell Validation Disabled null get Character Set null get Drawings Disabled null get Encoding null get Excel Display Language null get Excel Regional Settings null get Formula Adjust null get Gc Disabled null get Ignore Blanks null get Initial File Size null get Locale null get Merged Cell Checking Disabled null get Names Disabled null get Property Sets null get Rationalization null get Supress Warnings null get Temporary File During Write Directory null get Use Temporary File During Write null public Boolean get Workbook Protected return Boolean value Of workbook Protected workbook Protected public void set Workbook Protected Boolean workbook Protected this workbook Protected workbook Protected public Boolean get Disposition return Boolean value Of disposition disposition public void set Disposition String disposition this disposition disposition 
package org jboss seam excel ui import java lang reflect Array import java util Array List import java util Arrays import java util Iterator import java util List import java util Map import javax faces model Data Model import org jboss seam excel Excel Workbook import org jboss seam excel Excel Workbook Exception import org jboss seam excel Worksheet Item import org jboss seam excel ui command Command import org jboss seam framework Query public class Worksheet extends Excel Component public static final String org jboss seam excel ui Worksheet private static final String header private static final String footer private String name private String var private Object value private Integer start Row private Integer start Column private Boolean automatic Formula Calculation private Double bottom Margin private Integer copies private Integer default Column Width private Integer default Row Height private Boolean display Zero Values private Integer fit Height private Boolean fit To Pages private Integer fit Width private Double footer Margin private Double header Margin private Boolean hidden private Boolean horizontal Centre private Integer horizontal Freeze private Integer horizontal Print Resolution private Double left Margin private Integer normal Magnification private String orientation private Integer page Break Preview Magnification private Boolean page Break Preview Mode private Integer page Start private String paper Size private String password private Integer password Hash private Boolean print Grid Lines private Boolean print Headers private Boolean sheet Protected private Boolean recalculate Formulas Before Save private Double right Margin private Integer scale Factor private Boolean selected private Boolean show Grid Lines private Double top Margin private Boolean vertical Centre private Integer vertical Freeze private Integer vertical Print Resolution private Integer zoom Factor public Boolean get Automatic Formula Calculation return Boolean value Of automatic Formula Calculation automatic Formula Calculation public void set Automatic Formula Calculation Boolean automatic Formula Calculation this automatic Formula Calculation automatic Formula Calculation public Double get Bottom Margin return Double value Of bottom Margin bottom Margin public void set Bottom Margin Double bottom Margin this bottom Margin bottom Margin public Integer get Copies return Integer value Of copies copies public void set Copies Integer copies this copies copies public Integer get Default Column Width return Integer value Of default Column Width default Column Width public void set Default Column Width Integer default Column Width this default Column Width default Column Width public Integer get Default Row Height return Integer value Of default Row Height default Row Height public void set Default Row Height Integer default Row Height this default Row Height default Row Height public Boolean get Display Zero Values return Boolean value Of display Zero Values display Zero Values public void set Display Zero Values Boolean display Zero Values this display Zero Values display Zero Values public Integer get Fit Height return Integer value Of fit Height fit Height public void set Fit Height Integer fit Height this fit Height fit Height public Boolean get Fit To Pages return Boolean value Of fit To Pages fit To Pages public void set Fit To Pages Boolean fit To Pages this fit To Pages fit To Pages public Integer get Fit Width return Integer value Of fit Width fit Width public void set Fit Width Integer fit Width this fit Width fit Width public Double get Footer Margin return Double value Of footer Margin footer Margin public void set Footer Margin Double footer Margin this footer Margin footer Margin public Double get Header Margin return Double value Of header Margin header Margin public void set Header Margin Double header Margin this header Margin header Margin public Boolean get Hidden return Boolean value Of hidden hidden public void set Hidden Boolean hidden this hidden hidden public Boolean get Horizontal Centre return Boolean value Of horizontal Centre horizontal Centre public void set Horizontal Centre Boolean horizontal Centre this horizontal Centre horizontal Centre public Integer get Horizontal Freeze return Integer value Of horizontal Freeze horizontal Freeze public void set Horizontal Freeze Integer horizontal Freeze this horizontal Freeze horizontal Freeze public Integer get Horizontal Print Resolution return Integer value Of horizontal Print Resolution horizontal Print Resolution public void set Horizontal Print Resolution Integer horizontal Print Resolution this horizontal Print Resolution horizontal Print Resolution public Double get Left Margin return Double value Of left Margin left Margin public void set Left Margin Double left Margin this left Margin left Margin public Integer get Normal Magnification return Integer value Of normal Magnification normal Magnification public void set Normal Magnification Integer normal Magnification this normal Magnification normal Magnification public String get Orientation return String value Of orientation orientation public void set Orientation String orientation this orientation orientation public Integer get Page Break Preview Magnification return Integer value Of page Break Preview Magnification page Break Preview Magnification public void set Page Break Preview Magnification Integer page Break Preview Magnification this page Break Preview Magnification page Break Preview Magnification public Integer get Page Start return Integer value Of page Start page Start public void set Page Start Integer page Start this page Start page Start public String get Paper Size return String value Of paper Size paper Size public void set Paper Size String paper Size this paper Size paper Size public String get Password return String value Of password password public void set Password String password this password password public Integer get Password Hash return Integer value Of password Hash password Hash public void set Password Hash Integer password Hash this password Hash password Hash public Boolean get Print Grid Lines return Boolean value Of print Grid Lines print Grid Lines public void set Print Grid Lines Boolean print Grid Lines this print Grid Lines print Grid Lines public Boolean get Print Headers return Boolean value Of print Headers print Headers public void set Print Headers Boolean print Headers this print Headers print Headers public Boolean get Sheet Protected return Boolean value Of sheet Protected sheet Protected public void set Sheet Protected Boolean sheet Protected this sheet Protected sheet Protected public Boolean get Recalculate Formulas Before Save return Boolean value Of recalculate Formulas Before Save recalculate Formulas Before Save public void set Recalculate Formulas Before Save Boolean recalculate Formulas Before Save this recalculate Formulas Before Save recalculate Formulas Before Save public Double get Right Margin return Double value Of right Margin right Margin public void set Right Margin Double right Margin this right Margin right Margin public Boolean get Selected return Boolean value Of selected selected public void set Selected Boolean selected this selected selected public Boolean get Show Grid Lines return Boolean value Of show Grid Lines show Grid Lines public void set Show Grid Lines Boolean show Grid Lines this show Grid Lines show Grid Lines public Double get Top Margin return Double value Of top Margin top Margin public void set Top Margin Double top Margin this top Margin top Margin public Boolean get Vertical Centre return Boolean value Of vertical Centre vertical Centre public void set Vertical Centre Boolean vertical Centre this vertical Centre vertical Centre public Integer get Vertical Freeze return Integer value Of vertical Freeze vertical Freeze public void set Vertical Freeze Integer vertical Freeze this vertical Freeze vertical Freeze public Integer get Vertical Print Resolution return Integer value Of vertical Print Resolution vertical Print Resolution public void set Vertical Print Resolution Integer vertical Print Resolution this vertical Print Resolution vertical Print Resolution public Integer get Zoom Factor return Integer value Of zoom Factor zoom Factor public void set Zoom Factor Integer zoom Factor this zoom Factor zoom Factor public Boolean get Page Break Preview Mode return Boolean value Of page Break Preview Mode page Break Preview Mode public void set Page Break Preview Mode Boolean page Break Preview Mode this page Break Preview Mode page Break Preview Mode public Integer get Scale Factor return Integer value Of scale Factor scale Factor public void set Scale Factor Integer scale Factor this scale Factor scale Factor public Integer get Start Row return Integer value Of start Row start Row public void set Start Row Integer start Row this start Row start Row public Integer get Start Column return Integer value Of start Column start Column public void set Start Column Integer start Column this start Column start Column Override public String get Family return public String get Name return String value Of name name public void set Name String name this name name public String get Var return String value Of var var public void set Var String var this var var public Object get Value return value Of value value public void set Value Object value this value value Override public void encode Begin javax faces context Faces Context faces Context throws java io Exception Get workbook Excel Workbook excel Workbook get Workbook get Parent if excel Workbook null throw new Excel Workbook Exception Could not find excel workbook Create new worksheet or select an existing one and apply settings if any excel Workbook create Or Select Worksheet this Worksheet Item header Item Worksheet Item get Facet if header Item null int colspan get Children Of Type get Children Column class size excel Workbook add Worksheet Header header Item colspan Add worksheet level items List Worksheet Item items get Items get Children for Worksheet Item item items excel Workbook add Item item Execute worksheet level commands List Command commands get Commands get Children for Command command commands excel Workbook execute Command command Override public void encode End javax faces context Faces Context faces Context throws java io Exception Excel Workbook excel Workbook get Workbook get Parent if excel Workbook null throw new Excel Workbook Exception Could not find excel workbook Worksheet Item footer Item Worksheet Item get Facet if footer Item null int colspan get Children Of Type get Children Column class size excel Workbook add Worksheet Footer footer Item colspan Suppress Warnings unchecked public static Iterator unwrap Iterator Object value if value instanceof Iterable return Iterable value iterator else if value instanceof Data Model Data Model value get Wrapped Data instanceof Iterable return Iterable Data Model value get Wrapped Data iterator else if value instanceof Map return Map value entry Set iterator else if value instanceof Query return Query value get Result List iterator else if value null value get Class is Array return array As List value iterator else throw new Excel Workbook Exception worksheet s value must be an Iterable Data Model or Query Returns an iterator over objects passed to the worksheet return Iterator for values passed to the sheet Suppress Warnings unchecked public Iterator get Data Iterator return unwrap Iterator get Value Suppress Warnings unchecked private static List array As List Object array if array get Class get Component Type is Primitive List list new Array List for int i i Array get Length array i list add Array get array i return list else return Arrays as List Object array 
package org jboss seam ui import javax faces Faces Exception An exception is thrown when the authenticity of a command i e form post that relies on a Token can not be verified author Dan Allen public class Unauthorized Command Exception extends Faces Exception private String view Id p Construct a new exception with no detail message or root cause p public Unauthorized Command Exception super p Construct a new exception with a detail message and the view p public Unauthorized Command Exception String view Id String message super message this view Id view Id p Returns the view to which the authorized command was directed p public String get View Id return view Id p Returns the detail message explaining the reason for the denial Includes the view if specified p Override public String get Message if view Id null return view Id view Id super get Message return super get Message 
package org jboss seam tool import org apache tools ant Build Exception import org apache tools ant Task public class Uncapitalize Property Task extends Task private String value private String name Override public void execute throws Build Exception if value null equals value get Project set Property name uncapitalize value protected String uncapitalize String name return name substring to Lower Case name substring public void set Value String package Name this value package Name public void set Name String property Name this name property Name 
package org jboss seam jsf import java io Serializable import javax el Method Expression import javax faces context Faces Context import javax faces el Evaluation Exception import javax faces el Method Binding import javax faces el Method Not Found Exception Nobody should be using Method Binding anymore but if they are we need this author Gavin King Suppress Warnings deprecation Deprecated public class Unified Method Binding extends Method Binding implements Serializable private transient Method Expression method Expression private String expression String private Class arg Types public Unified Method Binding public Unified Method Binding String expression String Class arg Types this expression String expression String this arg Types arg Types Override public String get Expression String return expression String Override public Class get Type Faces Context ctx throws Method Not Found Exception return get Method Expression ctx get Method Info ctx get Context get Return Type Override public Object invoke Faces Context ctx Object args throws Evaluation Exception Method Not Found Exception return get Method Expression ctx invoke ctx get Context args Override public String to String return get Expression String private Method Expression get Method Expression Faces Context ctx if method Expression null In arg Types null arg Types new Class but not in Unified method Expression ctx get Application get Expression Factory create Method Expression ctx get Context expression String Object class arg Types null new Class arg Types return method Expression 
package org jboss seam jsf import java io Serializable import javax el Value Expression import javax faces context Faces Context import javax faces el Evaluation Exception import javax faces el Property Not Found Exception import javax faces el Value Binding Nobody should be using Value Binding anymore but if they are we need this author Gavin King Suppress Warnings deprecation Deprecated public class Unified Value Binding extends Value Binding implements Serializable private transient Value Expression value Expression private String expression String public Unified Value Binding String expression String this expression String expression String public Unified Value Binding Override public String get Expression String return expression String Override public Class get Type Faces Context ctx throws Evaluation Exception Property Not Found Exception return get Value Expression ctx get Type ctx get Context Override public Object get Value Faces Context ctx throws Evaluation Exception Property Not Found Exception return get Value Expression ctx get Value ctx get Context Override public boolean is Read Only Faces Context ctx throws Evaluation Exception Property Not Found Exception return get Value Expression ctx is Read Only ctx get Context Override public void set Value Faces Context ctx Object value throws Evaluation Exception Property Not Found Exception get Value Expression ctx set Value ctx get Context value Override public String to String return get Expression String private Value Expression get Value Expression Faces Context ctx if value Expression null value Expression ctx get Application get Expression Factory create Value Expression ctx get Context expression String Object class return value Expression 
package org jboss seam test integration import javax persistence Entity import javax persistence Generated Value import javax persistence Id Entity public class Unversioned Thing Generated Value Id private Long id private String name public Long get Id return id public void set Id Long id this id id public String get Name return name public void set Name String name this name name Override public String to String return Unversioned Thing id 
Id Unwrap java gavin package org jboss seam annotations import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Specifies that the object returned by the annotated getter method is to be injected instead of the component itself Supports use of the Seam manager component pattern author Gavin King Target Retention Documented Inherited public interface Unwrap 
package org jboss seam annotations security import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target author Shane Bryzak Target Documented Retention Inherited Permission Check public interface Update Class value default void class 
package org jboss seam tool import org apache tools ant Build Exception import org apache tools ant Task Defines a new property name with the value converted to uppercase author Dan Allen public class Uppercase Property Task extends Task private String name private String value Override public void execute throws Build Exception if value null equals value get Project set Property name upper value protected String upper String value return value to Upper Case public void set Value String value this value value public void set Name String property Name this name property Name 
package org jboss seam ui util import java io Unsupported Encoding Exception import java net Encoder import java util Linked Hash Map import java util Map import javax faces component Parameter public class Url Builder private static final String private String url private String fragment private String character Encoding private boolean url Encode Parameters true private Map String String parameters protected Url Builder String fragment String character Encoding this fragment fragment parameters new Linked Hash Map String String this character Encoding character Encoding public Url Builder String fragment String character Encoding boolean url Encode Parameters this fragment character Encoding this url Encode Parameters url Encode Parameters public Url Builder String url String fragment String character Encoding this fragment character Encoding set Url url public Url Builder String url String fragment String character Encoding boolean url Encode Parameters this url fragment character Encoding this url Encode Parameters url Encode Parameters protected void set Url String url if url null throw new Null Pointer Exception url must not be null this url url protected String url Encode String value throws Unsupported Encoding Exception return character Encoding null Encoder encode value Encoder encode value character Encoding protected String get Fragment if fragment null equals fragment return fragment else return public String get Encoded Url String params get Parameters As String if equals params url contains params params substring return url params get Fragment protected String get Parameters As String String params for String key parameters key Set params key parameters get key return params protected Map String String get Parameters return parameters public void add Parameter String name String value throws Unsupported Encoding Exception parameters put name url Encode Parameters url Encode value value public void add Parameter Parameter parameter throws Unsupported Encoding Exception String value parameter get Value null parameter get Value to String String name parameter get Name add Parameter name value 
package org jboss seam deployment import java io File import java io Exception import java net import java net Class Loader import java net Decoder import java util Enumeration import java util Hash Set import java util Set import java util zip Zip Entry import java util zip Zip Exception import java util zip Zip File import org jboss seam log Log Provider import org jboss seam log Logging Implementation of link Scanner which can scan a link Class Loader author Thomas Heute author Gavin King author Norman Richards author Pete Muir public class Scanner extends Abstract Scanner private static final Log Provider log Logging get Log Provider Scanner class private long timestamp public Scanner Deployment Strategy deployment Strategy super deployment Strategy public void scan Directories File directories scan Directories directories new File Override public void scan Directories File directories File excluded Directories for File directory directories handle Directory directory null excluded Directories public void scan Resources String resources Set String paths new Hash Set String for String resource Name resources try Enumeration url Enum get Deployment Strategy get Class Loader get Resources resource Name while url Enum has More Elements String url Path url Enum next Element get File url Path Decoder decode url Path if url Path starts With file url Path url Path substring if url Path index Of url Path url Path substring url Path index Of else File dir Or Archive new File url Path if resource Name null resource Name last Index Of for components xml dir Or Archive dir Or Archive get Parent File url Path dir Or Archive get Parent paths add url Path catch Exception ioe log warn could not read resource Name ioe handle paths protected void handle Set String paths for String url Path paths try log trace scanning url Path File file new File url Path if file is Directory handle Directory file null else handle Archive By File file catch Exception ioe log warn could not read entries ioe private void handle Archive By File File file throws Exception try log trace archive file touch Timestamp file Zip File zip new Zip File file Enumeration extends Zip Entry entries zip entries while entries has More Elements Zip Entry entry entries next Element String name entry get Name handle name catch Zip Exception e throw new Runtime Exception Error handling file file e private void handle Directory File file String path handle Directory file path new File private void handle Directory File file String path File excluded Directories for File excluded Directory excluded Directories if file equals excluded Directory log trace skipping excluded directory file return log trace handling directory file for File child file list Files String new Path path null child get Name path child get Name if child is Directory handle Directory child new Path excluded Directories else if handle new Path only try to update the timestamp on this scanner if the file was actually handled touch Timestamp child private void touch Timestamp File file if file last Modified timestamp timestamp file last Modified Override public long get Timestamp return timestamp 
Id User java nrichards package org jboss seam example spring import static org jboss seam Scope Type import java io Serializable import javax persistence Entity import javax persistence Id import javax persistence Table import javax validation constraints Size import javax validation constraints Not Null import javax validation constraints Pattern import org jboss seam annotations Name import org jboss seam annotations Scope Entity Name user Scope Table name Customer public class User implements Serializable private String username private String password private String name public User String name String password String username this name name this password password this username username public User Not Null Size max public String get Name return name public void set Name String name this name name Not Null Size min max public String get Password return password public void set Password String password this password password Id Size min max Pattern regexp w message not a valid username public String get Username return username public void set Username String username this username username Override public String to String return User username 
package model Package import java io Serializable import java util Set import javax persistence Column import javax persistence Entity import javax persistence Generated Value import javax persistence Generation Type import javax persistence Id import javax persistence Join Column import javax persistence Join Table import javax persistence Many To Many import javax persistence Table import javax persistence Unique Constraint import javax validation constraints Not Null import org jboss seam annotations security management User Enabled import org jboss seam annotations security management User Password import org jboss seam annotations security management User Principal import org jboss seam annotations security management User Roles Entity Table unique Constraints Unique Constraint column Names username name user account public class User Account implements Serializable private static final long serial Version private Long id private String username private String password Hash private boolean enabled private Set User Role roles Id Generated Value strategy Generation Type public Long get Id return id public void set Id Long id this id id Not Null User Principal public String get Username return username public void set Username String username this username username User Password hash Column name password hash public String get Password Hash return password Hash public void set Password Hash String password Hash this password Hash password Hash User Enabled public boolean is Enabled return enabled public void set Enabled boolean enabled this enabled enabled User Roles Many To Many Join Table name user account role join Columns Join Column name account id inverse Join Columns Join Column name member of role public Set User Role get Roles return roles public void set Roles Set User Role roles this roles roles 
package org jboss seam security management action import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java util Array List import java util List import org jboss seam annotations Begin import org jboss seam annotations In import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam core Conversation import org jboss seam international Status Messages import org jboss seam security management Identity Manager conversation scoped component for creating and managing user accounts author Shane Bryzak Name org jboss seam security management user Action Scope Install precedence public class User Action implements Serializable private String firstname private String lastname private String username private String password private String confirm private List String roles private boolean enabled private boolean new User Flag In Identity Manager identity Manager Begin public void create User roles new Array List String new User Flag true Begin public void edit User String username this username username roles identity Manager get Granted Roles username enabled identity Manager is User Enabled username new User Flag false public String save if new User Flag return save New User else return save Existing User private String save New User if password null password equals confirm Status Messages instance add To Control password Passwords do not match return failure boolean success identity Manager create User username password firstname lastname if success for String role roles identity Manager grant Role username role if enabled identity Manager disable User username Conversation instance end return success return failure private String save Existing User Check if a new password has been entered if password null equals password if password equals confirm Status Messages instance add To Control password Passwords do not match return failure else identity Manager change Password username password List String granted Roles identity Manager get Granted Roles username if granted Roles null for String role granted Roles if roles contains role identity Manager revoke Role username role for String role roles if granted Roles null granted Roles contains role identity Manager grant Role username role if enabled identity Manager enable User username else identity Manager disable User username Conversation instance end return success public String get Firstname return firstname public void set Firstname String firstname this firstname firstname public String get Lastname return lastname public void set Lastname String lastname this lastname lastname public String get Username return username public void set Username String username this username username public String get Password return password public void set Password String password this password password public String get Confirm return confirm public void set Confirm String confirm this confirm confirm public List String get Roles return roles public void set Roles List String roles this roles roles public boolean is Enabled return enabled public void set Enabled boolean enabled this enabled enabled 
package org jboss seam annotations security management import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the enabled status of a user author Shane Bryzak Target Documented Retention Inherited public interface User Enabled 
package org jboss seam annotations security management import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the first name of a user author Shane Bryzak Target Documented Retention Inherited public interface User First Name 
package org jboss seam annotations security management import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the last name of a user author Shane Bryzak Target Documented Retention Inherited public interface User Last Name 
package org jboss seam annotations security management import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the password for a user author Shane Bryzak Target Documented Retention Inherited public interface User Password The hash algorithm only used if there is no Password Salt property specified String hash default Number of iterations for generating the password hash int iterations default 
package model Package import java io Serializable import javax persistence Entity import javax persistence Generated Value import javax persistence Generation Type import javax persistence Id import javax persistence Table import org jboss seam annotations security permission Permission Action import org jboss seam annotations security permission Permission Discriminator import org jboss seam annotations security permission Permission Role import org jboss seam annotations security permission Permission Target import org jboss seam annotations security permission Permission User Entity Table name user permission public class User Permission implements Serializable private static final long serial Version private Long id private String recipient private String target private String action private String discriminator Id Generated Value strategy Generation Type public Long get Id return id public void set Id Long id this id id Permission User Permission Role public String get Recipient return recipient public void set Recipient String recipient this recipient recipient Permission Target public String get Target return target public void set Target String target this target target Permission Action public String get Action return action public void set Action String action this action action Permission Discriminator public String get Discriminator return discriminator public void set Discriminator String discriminator this discriminator discriminator 
package org jboss seam faces import static org jboss seam annotations Install import java security Principal import javax faces context Faces Context import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts Manager component for the current user Principal exposed via the External Context author Gavin King Scope Scope Type Bypass Interceptors Name org jboss seam web user Principal Install precedence class Dependencies javax faces context Faces Context public class User Principal extends org jboss seam web User Principal Unwrap Override public Principal get User Principal Faces Context faces Context Faces Context get Current Instance if faces Context null return faces Context get External Context get User Principal return super get User Principal public static Principal instance if Contexts is Application Context Active throw new Illegal State Exception No active application scope return Principal Component get Instance User Principal class Scope Type 
Boss Home of Professional Open Source Copyright Red Hat Middleware and individual contributors by the authors tag See the copyright txt in the distribution for a full listing of individual contributors This is free software you can redistribute it and or modify it under the terms of the Lesser General Public License as published by the Free Software Foundation either version of the License or at your option any later version This software is distributed in the hope that it will be useful but without even the implied warranty of or See the Lesser General Public License for more details You should have received a copy of the Lesser General Public License along with this software if not write to the Free Software Foundation Inc Franklin St Fifth Floor Boston or see the site http www fsf org package org jboss seam example tasks resource import javax ws rs Path import org jboss seam annotations In import org jboss seam annotations Name import org jboss seam annotations security Restrict import org jboss seam example tasks entity User import org jboss seam framework Entity Home import org jboss seam resteasy Resource Home This resource demonstrates use of Resource Home component together with Seam security This resource exposes user management as a web service however only users with admin permission are allowed to access it author Jozef Hartinger Path auth user Name user Resource Home Restrict s has Role admin public class User Resource Home extends Resource Home User String public User Resource Home set Media Types new String application xml application json application fastinfoset In private Entity Home User user Home Override public Entity Home get Entity Home return user Home 
package model Package import java io Serializable import java util Set import javax persistence Entity import javax persistence Generated Value import javax persistence Generation Type import javax persistence Id import javax persistence Join Column import javax persistence Join Table import javax persistence Many To Many import javax persistence Table import javax validation constraints Not Null import org jboss seam annotations security management Role Conditional import org jboss seam annotations security management Role Groups import org jboss seam annotations security management Role Name Entity Table name user role public class User Role implements Serializable private static final long serial Version private Long id private String name private boolean conditional private Set User Role groups Id Generated Value strategy Generation Type public Long get Id return id public void set Id Long id this id id Role Name Not Null public String get Name return name public void set Name String name this name name Role Groups Many To Many Join Table name user role group join Columns Join Column name role id inverse Join Columns Join Column name member of role public Set User Role get Groups return groups public void set Groups Set User Role groups this groups groups Role Conditional public boolean is Conditional return conditional public void set Conditional boolean conditional this conditional conditional 
package org jboss seam annotations security management import static java lang annotation Element Type import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Inherited import java lang annotation Retention import java lang annotation Target Flags an entity field or method as representing the list of role memberships for a user author Shane Bryzak Target Documented Retention Inherited public interface User Roles 
package org jboss seam security management action import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Serializable import java util List import org jboss seam annotations In import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations datamodel Data Model import org jboss seam annotations datamodel Data Model Selection import org jboss seam security management Identity Manager Name org jboss seam security management user Search Scope Install precedence public class User Search implements Serializable private static final long serial Version Data Model List String users Data Model Selection String selected User In Identity Manager identity Manager public void load Users users identity Manager list Users public String get User Roles String username List String roles identity Manager get Granted Roles username if roles null return String Builder sb new String Builder for String role roles sb append sb length role return sb to String public String get Selected User return selected User 
package org jboss seam example spring import java util List import org springframework dao Data Access Exception import org springframework orm jpa support Jpa Dao Support import org springframework transaction annotation Transactional author Mike Youngstrom author Marek Novotny public class User Service extends Jpa Dao Support Transactional public boolean change Password String username String old Password String new Password System out println change password old Password to new Password if new Password null new Password length throw new Illegal Argument Exception new Password can not be null User user find User username System out println user if user get Password equals old Password user set Password new Password return true else return false Transactional public User find User String username if username null equals username throw new Illegal Argument Exception Username can not be null return get Jpa Template find User class username Transactional public User find User String username String password try List result get Jpa Template find select u from User u where u username and u password username password if result size return User result get else return null catch Data Access Exception e return null Transactional public void create User User user throws Validation Exception if user null throw new Illegal Argument Exception User can not be null User existing User find User user get Username if existing User null throw new Validation Exception Username user get Username already exists get Jpa Template persist user get Jpa Template flush 
package org jboss seam remoting messaging import java io Serializable import java util Collections import java util Hash Set import java util Set import org jboss seam Scope Type import org jboss seam annotations Destroy import org jboss seam annotations Name import org jboss seam annotations Scope Name org jboss seam remoting messaging Subscription Registry user Tokens Scope Scope Type public class User Tokens implements Serializable Set String tokens Collections synchronized Set new Hash Set String public void add String token tokens add token public boolean contains String token return tokens contains token public void remove String token tokens remove token Destroy public void clean Up Subscription Registry instance cleanup Tokens tokens 
package org jboss seam transaction import javax persistence Entity Manager import javax transaction Synchronization import javax transaction System Exception Extends the standard User Transaction interface with a couple of helpful methods author Gavin King public interface User Transaction extends javax transaction User Transaction public boolean is Active throws System Exception public boolean is Active Or Marked Rollback throws System Exception public boolean is Rolled Back Or Marked Rollback throws System Exception public boolean is Marked Rollback throws System Exception public boolean is No Transaction throws System Exception public boolean is Rolled Back throws System Exception public boolean is Committed throws System Exception public boolean is Conversation Context Required public abstract void register Synchronization Synchronization sync public void enlist Entity Manager entity Manager throws System Exception 
package org jboss seam tool import java util Hash Set import java util Set public class Util public String lower String name return name substring to Lower Case name substring public String upper String name return name substring to Upper Case name substring public Set set return new Hash Set 
package org jboss seam transaction import javax transaction Heuristic Mixed Exception import javax transaction Heuristic Rollback Exception import javax transaction Not Supported Exception import javax transaction Rollback Exception import javax transaction Synchronization import javax transaction System Exception import org jboss seam log Log Provider import org jboss seam log Logging Wraps transaction management in a Seam User Transaction interface author Mike Youngstrom author Gavin King public class Transaction extends Abstract User Transaction private static final Log Provider log Logging get Log Provider Transaction class private final javax transaction User Transaction delegate Transaction javax transaction User Transaction delegate this delegate delegate if delegate null throw new Illegal Argument Exception null User Transaction public void begin throws Not Supported Exception System Exception log debug beginning transaction delegate begin get Synchronizations after Transaction Begin public void commit throws Rollback Exception Heuristic Mixed Exception Heuristic Rollback Exception Security Exception Illegal State Exception System Exception log debug committing transaction boolean success false Synchronizations synchronizations get Synchronizations synchronizations before Transaction Commit try delegate commit success true finally synchronizations after Transaction Commit success public void rollback throws Illegal State Exception Security Exception System Exception log debug rolling back transaction try delegate rollback finally get Synchronizations after Transaction Rollback public int get Status throws System Exception return delegate get Status public void set Rollback Only throws Illegal State Exception System Exception delegate set Rollback Only public void set Transaction Timeout int timeout throws System Exception delegate set Transaction Timeout timeout Override public void register Synchronization Synchronization sync get Synchronizations register Synchronization sync 
package org jboss seam ui renderkit import java io Exception import java util List import javax faces component Editable Value Holder import javax faces component Component import javax faces context Faces Context import javax faces context Response Writer import org jboss seam ui component Validate All import org jboss seam ui util cdk Renderer Base import org jboss seam ui validator Model Validator import org richfaces cdk annotations Jsf Renderer Jsf Renderer type org jboss seam ui Validate All Renderer family org jboss seam ui Validate All Renderer public class Validate All Renderer Base extends Renderer Base Override protected Class get Component Class return Validate All class Override protected void do Encode Children Response Writer writer Faces Context context Component component throws Exception Validate All validate All Validate All component if validate All is Validators Added add Validators validate All get Children validate All set Validators Added true render Children context component private void add Validators List children for Object child children if child instanceof Editable Value Holder Editable Value Holder evh Editable Value Holder child if evh get Validators length evh add Validator new Model Validator add Validators Component child get Children Override public boolean get Renders Children return true 
package org jboss seam faces import static org jboss seam annotations Install import javax faces context Faces Context import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Events Allows the application to determine whether the validation phase completed successfully or if a validation failure occurred author Gavin king Name org jboss seam faces validation Bypass Interceptors Install precedence class Dependencies javax faces context Faces Context public class Validation private boolean succeeded private boolean failed public static Validation instance if Contexts is Event Context Active throw new Illegal State Exception No active event scope return Validation Component get Instance Validation class Scope Type public void after Process Validations Faces Context faces Context failed faces Context get Render Response if failed Events instance raise Event org jboss seam validation Failed succeeded failed public boolean is Succeeded return succeeded public boolean is Failed return failed public void fail failed true succeeded false 
package org jboss seam example spring author youngm public class Validation Exception extends Exception public Validation Exception String message super message 
package org jboss seam example remoting gwt client This simple validation utility shows how you can have the same code on the client as on the server ie the server can re use some code from the client one of the advantages author michael public class Validation Utility public boolean is Valid String question if equals question return false else if question trim ends With return false else return true 
package org jboss seam annotations faces import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Allows a Seam component to act as a validator The annotated class must be a Seam component and must implement javax faces validator Validator author Gavin King Target Retention Documented public interface Validator The validator id Default to the component name String id default 
package org jboss seam maven helper import java io File import java io File Not Found Exception import java util Array List import java util Hash Map import java util List import java util Map import java util Scanner import org apache maven plugin logging Log import org w c dom Element Generates taglib descriptor for all Validators classes author Rafael Benevides https community jboss org people rafabene author Marek Novotny https community jboss org people mana public class Validator Generator private List File validator Ls new Array List File private Log log private String target Directory private Map String String validator Names new Hash Map String String public Validator Generator String target Directory Log log this target Directory target Directory this log log validator Names put formatted Text Validator xml validate Formatted Text validator Names put model Validator xml validate public void add File File file throws File Not Found Exception if file Is Validator file validator Ls add file private boolean file Is Validator File file throws File Not Found Exception if file get Name ends With xml Scanner scanner new Scanner file String find scanner find Within Horizon validator if find null log info Identified file get Name as Validator return true return false public void generate Validators throws Exception log info Generating Validators Generator xml Generator new Generator log File out new File target Directory generated sources main resources s taglib xml List Element tags To Add new Array List Element for File xml validator Ls Element tag xml Generator get Facelets Tag Element From Facesconfig xml validator Names get xml get Name validator tags To Add add tag xml Generator update File out tags To Add 
package org jboss seam core import static org jboss seam annotations Install import java beans Feature Descriptor import java util Iterator import java util Set import javax el Context import javax el Exception import javax el Resolver import javax el Property Not Found Exception import javax el Property Not Writable Exception import javax el Value Expression import javax validation Constraint Violation import org jboss seam Component import org jboss seam Instance import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam el Caches instances of Hibernate Validator Class Validator author Gavin King Name org jboss seam core validators Bypass Interceptors Scope Scope Type Install precedence class Dependencies org jboss seam core Class Validator public class Validators Get the cached Class Validator instance If the argument is an instance of a session bean Seam component instance the returned validator will be aware of constraints defined on the bean class Therefore this method is preferred to get Validator Class if the argument might be a session bean param model the object to be validated Suppress Warnings unchecked public Class Validator get Validator model Class model Class model instanceof Instance Instance model get Component get Bean Class model get Class return get Validator Class model Class Get the cached Class Validator instance param model Class the class to be validated public Class Validator get Validator Class model Class return create Validator model Class Create a new Class Validator for the given class using the current Seam Resource Bundle param model Class the class to be validated protected Class Validator create Validator Class model Class return new Class Validator model Class Validate that the given value can be assigned to the property given by the value expression param value Expression a value expression referring to a property param el Context the Context in which to evaluate the expression param value a value to be assigned to the property return a set of potential Invalid Values from Hibernate Validator public Set Constraint Violation Object validate Value Expression value Expression Context el Context Object value Validating Resolver validating Resolver new Validating Resolver el Context get Resolver Context decorated Context create Context el Context validating Resolver value Expression set Value decorated Context value return validating Resolver get Invalid Values class Validating Resolver extends Resolver private Resolver delegate private Set Constraint Violation Object invalid Values public Validating Resolver Resolver delegate this delegate delegate public Set Constraint Violation Object get Invalid Values return invalid Values Override public Class get Common Property Type Context context Object value return delegate get Common Property Type context value Override public Iterator Feature Descriptor get Feature Descriptors Context context Object value return delegate get Feature Descriptors context value Override public Class get Type Context context Object x Object y throws Null Pointer Exception Property Not Found Exception Exception return delegate get Type context x y Override public Object get Value Context context Object base Object property throws Null Pointer Exception Property Not Found Exception Exception return delegate get Value context base property Override public boolean is Read Only Context context Object base Object property throws Null Pointer Exception Property Not Found Exception Exception return delegate is Read Only context base property Override public void set Value Context context Object base Object property Object value throws Null Pointer Exception Property Not Found Exception Property Not Writable Exception Exception if base null property null context set Property Resolved true invalid Values get Validator base get Potential Invalid Values property to String value public static Validators instance if Contexts is Application Context Active throw new Illegal State Exception No active application scope return Validators Component get Instance Validators class Scope Type 
package org jboss seam example restbay resteasy subresource import javax ws rs import javax ws rs Produces import org jboss seam annotations Name Name vehicle Produces text plain public class Vehicle public String get Info return Honda 
package org jboss seam ui util import java io Unsupported Encoding Exception import java util Array List import java util Hash Map import java util List import java util Map import javax faces component Parameter import javax faces context Faces Context import org jboss seam navigation Page import org jboss seam navigation Pages public class View Url Builder extends Url Builder private Page page private String view Id public View Url Builder String view Id String fragment boolean url Encode Parameters super fragment Faces Context get Current Instance get Response Writer get Character Encoding url Encode Parameters if view Id null throw new Null Pointer Exception view Id must not be null Faces Context faces Context Faces Context get Current Instance will use bookmarkable later in get Encode Url method which already knows all added Parameters String url faces Context get Application get View Handler get Bookmarkable faces Context view Id null false String url faces Context get Application get View Handler get Action faces Context view Id url Pages instance encode Scheme view Id faces Context url set Url url this page Pages instance get Page view Id this view Id view Id public View Url Builder String view Id String fragment this view Id fragment false Override public void add Parameter Parameter parameter throws Unsupported Encoding Exception String name parameter get Name if parameter get Value null name equals page get Conversation Id Parameter get Parameter Name get Parameters contains Key name super add Parameter parameter Override public String get Encoded Url Faces Context faces Context Faces Context get Current Instance return faces Context get Application get View Handler get Bookmarkable faces Context this view Id get Parameters As Map get Parameters false Converts Seam parameters Map String String to Map String List String private Map String List String get Parameters As Map Map String String params Map String List String parameters new Hash Map String List String for Map Entry String String entry params entry Set List String list new Array List String list add entry get Value parameters put String entry get Key list return parameters 
package org jboss seam deployment import java io File import java util Set import javax servlet Servlet Context import org jboss seam log Log Provider import org jboss seam log Logging special deployment strategy that can be used to scan the war root This is treated as a special case author pmuir public class War Root Deployment Strategy extends Deployment Strategy private static Log Provider log Logging get Log Provider War Root Deployment Strategy class private Class Loader class Loader private Servlet Context servlet Context private File war Root private File excluded Directories public static final String org jboss seam deployment deployment Handlers public static final String war Root Deployment Strategy private Dot Page Dot Xml Deployment Handler dot Page Dot Xml Deployment Handler private Pages Dot Xml Deployment Handler pages Dot Xml Deployment Handler public War Root Deployment Strategy Class Loader class Loader File war Root Servlet Context servlet Context this class Loader war Root servlet Context new File public War Root Deployment Strategy Class Loader class Loader File war Root Servlet Context servlet Context File excluded Directories this class Loader class Loader this servlet Context servlet Context this war Root new File this excluded Directories excluded Directories if war Root null this war Root war Root get Files add war Root else log warn Unable to discover war root page xml files wo n t be found this war Root new File dot Page Dot Xml Deployment Handler new Dot Page Dot Xml Deployment Handler pages Dot Xml Deployment Handler new Pages Dot Xml Deployment Handler get Deployment Handlers put Dot Page Dot Xml Deployment Handler dot Page Dot Xml Deployment Handler get Deployment Handlers put Pages Dot Xml Deployment Handler pages Dot Xml Deployment Handler Override public Class Loader get Class Loader return class Loader Override protected String get Deployment Handlers Key return Override public void scan get Scanner scan Directories war Root excluded Directories post Scan public File get Excluded Directories return excluded Directories public Set File Descriptor get Dot Page Dot Xml File Names return dot Page Dot Xml Deployment Handler get Resources Override public Servlet Context get Servlet Context return servlet Context 
package org jboss seam wicket import static org jboss seam Scope Type import org jboss seam Component import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts Name org jboss seam wicket Web Application Scope Install precedence class Dependencies org apache wicket Application Bypass Interceptors public class Web Application private String application Class public String get Application Class return application Class public void set Application Class String application Class this application Class application Class public static Web Application instance if Contexts is Application Context Active return Web Application Component get Instance Web Application class else throw new Illegal State Exception Application context is not active 
package org jboss seam annotations remoting import static java lang annotation Element Type import static java lang annotation Retention Policy import java lang annotation Documented import java lang annotation Retention import java lang annotation Target Indicates that the annotated method is accessible via the remoting framework author Shane Bryzak Target Documented Retention public interface Web Remote Specifies a list of paths to exclude from the result s object graph String exclude default 
package org jboss seam example wicket import org jboss seam wicket Seam Web Application Port of Booking Application to Wicket public class Wicket Booking Application extends Seam Web Application Override public Class get Home Page return Home class Override protected Class get Login Page return Home class 
package org jboss seam wicket ioc import static org jboss seam deployment Class Descriptor filename To Classname import java io File import java net Malformed Exception import java net import java util Hash Set import java util Set import javassist Cannot Compile Exception import javassist Class Pool import javassist Loader import javassist Loader Class Path import javassist Not Found Exception import org jboss seam log Log Provider import org jboss seam log Logging public class Wicket Class Loader extends Loader private static Log Provider log Logging get Log Provider Wicket Class Loader class private Set String classes private File wicket Component Directory private Class Pool class Pool private Class Loader parent Loader private Javassist Instrumentor instrumentor public Wicket Class Loader Class Loader parent Class Pool class Pool File wicket Component Directory super parent class Pool this classes new Hash Set String this wicket Component Directory wicket Component Directory this class Pool class Pool this parent Loader parent this instrumentor new Javassist Instrumentor class Pool public Wicket Class Loader instrument throws Not Found Exception Cannot Compile Exception Class Not Found Exception class Pool insert Class Path wicket Component Directory get Absolute Path class Pool insert Class Path new Loader Class Path parent Loader Scan for classes if wicket Component Directory exists handle Directory wicket Component Directory null classes instrumentor instrument Class Set classes null Ensure classes static initializers have run to register the classes with Wicket Component for String class Name classes load Class class Name return this Recursively collect all class names for class files found in this directory param file which directory param path parent path param collected Classes where to store the classes throws Not Found Exception throws Cannot Compile Exception private void handle Directory File file String path Set String collected Classes throws Not Found Exception Cannot Compile Exception log trace directory file for File child file list Files String new Path path null child get Name path child get Name if child is Directory handle Directory child new Path collected Classes else if new Path ends With class collected Classes add filename To Classname new Path Override protected Class load Class By Delegation String name throws Class Not Found Exception Class clazz super load Class By Delegation name if clazz null if classes contains name clazz delegate To Parent name return clazz Override public get Resource String name File file new File wicket Component Directory name if file exists try return file to catch Malformed Exception e throw new Runtime Exception e else if get Parent null return get Parent get Resource name else return null 
package org jboss seam wicket import static org jboss seam Scope Type import static org jboss seam Scope Type import java lang annotation Annotation import java lang reflect Accessible Object import java lang reflect Constructor import java lang reflect Field import java lang reflect Method import java lang reflect Modifier import java util Array List import java util Hash Set import java util List import java util Set import org apache wicket Page import org apache wicket util string Strings import org jboss seam Component import org jboss seam Namespace import org jboss seam Required Exception import org jboss seam Scope Type import org jboss seam annotations Begin import org jboss seam annotations Conversational import org jboss seam annotations End import org jboss seam annotations In import org jboss seam annotations Logger import org jboss seam annotations Out import org jboss seam annotations Raise Event import org jboss seam annotations bpm Begin Task import org jboss seam annotations bpm End Task import org jboss seam annotations bpm Start Task import org jboss seam annotations security Restrict import org jboss seam annotations security Role Check import org jboss seam contexts Contexts import org jboss seam core Expressions import org jboss seam core Init import org jboss seam log Log import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam security Identity import org jboss seam wicket annotations No Conversation Page import org jboss seam wicket ioc Bijected Attribute import org jboss seam wicket ioc Bijected Field import org jboss seam wicket ioc Bijected Method import org jboss seam wicket ioc Bijection Interceptor import org jboss seam wicket ioc Conversation Interceptor import org jboss seam wicket ioc Event Interceptor import org jboss seam wicket ioc Injected Attribute import org jboss seam wicket ioc Injected Field import org jboss seam wicket ioc Stateless Interceptor public class Wicket Component private final class Injected Logger extends Injected Field Logger private Log log Instance Injected Logger Field field Logger annotation super field annotation String category get Annotation value if equals category log Instance Logging get Log get Type else log Instance Logging get Log category Log get Log Instance return log Instance public void set Object bean super set bean log Instance private static Log Provider log Logging get Log Provider Wicket Component class private Class extends type private Class enclosing Type private String enclosing Instance Variable Name private List Bijected Attribute In in Attributes new Array List Bijected Attribute In private List Bijected Attribute Out out Attributes new Array List Bijected Attribute Out private List Injected Logger logger Fields new Array List Injected Logger private Set Accessible Object conversation Management Members new Hash Set Accessible Object private List Stateless Interceptor interceptors new Array List Stateless Interceptor private Set String restrictions boolean any Method Has Raise Event false private Class extends Page no Conversation Page public Class get Type return type public static Wicket Component get Instance Class extends type String name get Context Variable Name type if Contexts get Application Context is Set name return Wicket Component Contexts get Application Context get name else return null private void init Interceptors Add a check to see whether we really need this interceptors add new Bijection Interceptor if conversation Management Members is Empty interceptors add new Conversation Interceptor if any Method Has Raise Event interceptors add new Event Interceptor public List Stateless Interceptor get Interceptors return interceptors public static String get Context Variable Name Class type return type get Name wicket Component public String get Name return get Context Variable Name type public Wicket Component Class extends type this type type this enclosing Type type get Enclosing Class if this enclosing Type null log debug Class type enclosed by enclosing Type else log debug Class type scan init Interceptors Contexts get Application Context set get Name this private void scan Class clazz type scan Class Enclosure Hierachy while clazz Object class for Method method clazz get Declared Methods add method for Field field clazz get Declared Fields add field for Constructor constructor clazz get Declared Constructors add constructor clazz clazz get Superclass private void scan Class Enclosure Hierachy Class cls type int i while cls null for Annotation annotation cls get Annotations if annotation instanceof Restrict Restrict restrict Restrict annotation if restrictions null restrictions new Hash Set String if Strings is Empty restrict value throw new Illegal State Exception Restrict on cls get Name must specify an expression restrictions add restrict value if annotation annotation Type is Annotation Present Role Check class if restrictions null restrictions new Hash Set String restrictions add identity has Role annotation annotation Type get Simple Name to Lower Case if annotation instanceof No Conversation Page No Conversation Page no Conversation Page No Conversation Page annotation this no Conversation Page no Conversation Page value cls cls get Enclosing Class i if i this enclosing Instance Variable Name this i public void check Restrictions if Identity is Security Enabled restrictions null for String restriction restrictions Identity instance check Restriction restriction public void outject target for Bijected Attribute Out out out Attributes Object value out get target if value null out get Annotation required throw new Required Exception Out attribute requires non null value out to String else Component component null if out get Annotation scope component Component for Name out get Context Variable Name if value null component null if component is Instance value throw new Illegal Argument Exception attempted to bind an Out attribute of the wrong type to out to String else if out get Annotation scope throw new Illegal Argument Exception can not specify explicit scope on Out out to String Scope Type out Scope component null out get Annotation scope component get Scope if out Scope null throw new Illegal Argument Exception can not determine scope to outject to on Out out to String if out Scope is Context Active if value null out Scope get Context remove out get Context Variable Name else out Scope get Context set out get Context Variable Name value public void disinject target for Injected Attribute In in in Attributes if in get Type is Primitive in set target null public void inject instance for Bijected Attribute In in in Attributes in set instance get Value in instance private void add Constructor constructor if constructor is Annotation Present Begin class constructor is Annotation Present org jboss seam wicket annotations Begin class constructor is Annotation Present End class constructor is Annotation Present Start Task class constructor is Annotation Present Begin Task class constructor is Annotation Present End Task class conversation Management Members add constructor private void add Method method if method is Annotation Present In class final In in method get Annotation In class in Attributes add new Bijected Method method in Override protected String get Specified Context Variable Name return in value if method is Annotation Present Out class final Out out method get Annotation Out class out Attributes add new Bijected Method method out Override protected String get Specified Context Variable Name return out value if method is Annotation Present Begin class method is Annotation Present org jboss seam wicket annotations Begin class method is Annotation Present End class method is Annotation Present Start Task class method is Annotation Present Begin Task class method is Annotation Present End Task class method is Annotation Present Conversational class conversation Management Members add method if method is Annotation Present Raise Event class any Method Has Raise Event true private void add Field field if field is Annotation Present In class final In in field get Annotation In class in Attributes add new Bijected Field field in Override protected String get Specified Context Variable Name return in value if field is Annotation Present Out class final Out out field get Annotation Out class out Attributes add new Bijected Field field out Override protected String get Specified Context Variable Name return out value if field is Annotation Present Logger class final Logger logger field get Annotation Logger class Injected Logger logger Field new Injected Logger field logger if Modifier is Static field get Modifiers logger Field set null else logger Fields add logger Field private Object get Value Bijected Attribute In in Object bean Object result String name in get Context Variable Name if name starts With if log is Debug Enabled log trace trying to inject with expression name result Expressions instance create Value Expression name get Value else if in get Annotation scope if log is Debug Enabled log trace trying to inject with hierarchical context search name boolean create in get Annotation create org jboss seam contexts Lifecycle is Destroying result get Instance In All Namespaces name create else if in get Annotation create throw new Illegal Argument Exception can not combine create true with explicit scope on In in to String if in get Annotation scope throw new Illegal Argument Exception can not specify explicit scope on In in to String log trace trying to inject from specified context name if in get Annotation scope is Context Active result in get Annotation scope get Context get name else result null if result null in get Annotation required throw new Required Exception In attribute requires non null value type name else return result private static Object get Instance In All Namespaces String name boolean create Object result result Component get Instance name create if result null for Namespace namespace Init instance get Global Imports result namespace get Component Instance name create if result null break return result public void initialize bean inject Log bean private void inject Log bean for Injected Logger injected Logger logger Fields injected Logger set bean public Class get Enclosing Type return enclosing Type public String get Enclosing Instance Variable Name return enclosing Instance Variable Name Override public String to String return Wicket Component type public boolean is Conversation Management Method Accessible Object member return member null conversation Management Members contains member public Class extends Page get No Conversation Page return no Conversation Page 
package org jboss seam web import static org jboss seam Scope Type import static org jboss seam annotations Install import java io Exception import java util Hash Map import java util Map import javax servlet Filter import javax servlet Filter Chain import javax servlet Filter Config import javax servlet Servlet Exception import javax servlet Servlet Request import javax servlet Servlet Response import org jboss seam Component import org jboss seam Scope Type import org jboss seam Seam import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Observer import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Contexts import org jboss seam core Init import org jboss seam deployment Hot Deployment Strategy Scope Name org jboss seam web wicket Filter Install precedence dependencies org jboss seam wicket web wicket Filter Instantiator Bypass Interceptors org jboss seam annotations web Filter within org jboss seam web hot Deploy Filter public class Wicket Filter extends Abstract Filter private Filter delegate null private String application Class private String application Factory Class private boolean detect Portlet Context private long last Init Time private Filter Config saved Config private Class Loader hot Deploy Class Loader Upon initialization and re initialization lookup the hot deployment strategy and grab its classloader if it exists Observer value org jboss seam post Initialization org jboss seam post Re Initialization public void post Re Initialization Hot Deployment Strategy strategy Hot Deployment Strategy Contexts get Event Context get Hot Deployment Strategy if strategy null hot Deploy Class Loader strategy get Class Loader else hot Deploy Class Loader null public void do Filter final Servlet Request servlet Request final Servlet Response servlet Response final Filter Chain chain throws Exception Servlet Exception If there is no delegate we are a no op filter if delegate null chain do Filter servlet Request servlet Response else Init init Init get Servlet Context get Attribute Seam get Component Name Init class We initialize the delegate on the first actual request and any time the init timestamp changes so that the Wicket Filter gets reinitialized whenever the hot deployment classloader detects changes enabling wicket components to be hot deployed if init null last Init Time init get Timestamp delegate destroy Map String String parameters new Hash Map String String if get Application Class null parameters put application Class Name get Application Class if get Url Pattern null parameters put filter Mapping Url Pattern get Url Pattern else parameters put filter Mapping Url Pattern Let the seam debug flag control the wicket configuration flag deployment vs development parameters put configuration init is Debug development deployment if get Application Factory Class null parameters put application Factory Class Name get Application Factory Class if is Detect Portlet Context parameters put detect Portlet Context true We have no way of passing the hot deploy class Loader to the delegate filter created by Wicket Filter Instantiator because it is unwrapped as a plain filter which only takes string pairs as configuration In addition it is a component so it ca n t listen for the reinitialization events and store the classloader itself So we set it as the thread s context Class Loader and reset that afterwards Class Loader previous Class Loader Thread current Thread get Context Class Loader if hot Deploy Class Loader null Thread current Thread set Context Class Loader hot Deploy Class Loader try delegate init new Filter Config Wrapper saved Config parameters finally if hot Deploy Class Loader null Thread current Thread set Context Class Loader previous Class Loader last Init Time init get Timestamp delegate do Filter servlet Request servlet Response chain Override public void init Filter Config filter Config throws Servlet Exception super init filter Config Save the configuration so that we can use it to re initialize the wicket filter at request time as we may need to do it again if changes are hot deployed Also look up the delegate now as the presence of the delegate component implies the presence of the wicket classes themselves if delegate null delegate javax servlet Filter Component get Instance org jboss seam wicket web wicket Filter Instantiator Scope Type saved Config filter Config public String get Application Class return application Class public void set Application Class String application Class Name this application Class application Class Name public String get Application Factory Class return application Factory Class public void set Application Factory Class String application Factory Class this application Factory Class application Factory Class public boolean is Detect Portlet Context return detect Portlet Context public void set Detect Portlet Context boolean detect Portlet Context this detect Portlet Context detect Portlet Context 
package org jboss seam wicket web import static org jboss seam annotations Install import static org jboss seam util Resources get Real File import java io File import java util Hash Map import java util Map import javassist Cannot Compile Exception import javassist Class Pool import javassist Not Found Exception import javax servlet Filter import javax servlet Filter Config import javax servlet Servlet Exception import org apache wicket protocol http Wicket Filter import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations Unwrap import org jboss seam annotations intercept Bypass Interceptors import org jboss seam contexts Lifecycle import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam servlet Servlet Application Map import org jboss seam web Filter Config Wrapper import org jboss seam wicket Web Application import org jboss seam wicket ioc Wicket Class Loader This component wraps the Wicket Filter encapsulates the class dependencies upon the wicket library and propogates the configuration from seam s own Wicket Filter specified with web wicket wilter It also sets up the Wicket Class Loader to instrument wicket components on the fly if necessary Name org jboss seam wicket web wicket Filter Instantiator Install precedence class Dependencies org apache wicket Application Bypass Interceptors Scope Scope Type public class Wicket Filter Instantiator public static String wicket private static Log Provider log Logging get Log Provider Wicket Filter Instantiator class Unwrap public Filter unrwap return new Wicket Filter private Class Loader class Loader Override public void init Filter Config filter Config throws Servlet Exception try We need the Application context active in order to lookup the Web Application component Lifecycle setup Application new Servlet Application Map filter Config get Servlet Context Map String String parameters new Hash Map String String try Class Loader parent Thread current Thread get Context Class Loader if there is a directory specified for which we should instrument wicket components create a Wicket Class Loader to do that Otherwise just use the context Class Loader File dir get Real File filter Config get Servlet Context if dir null log warn No wicket components directory specified to give Seam super powers to this class Loader parent else this class Loader new Wicket Class Loader Thread current Thread get Context Class Loader new Class Pool dir instrument catch Not Found Exception e throw new Servlet Exception e catch Cannot Compile Exception e throw new Servlet Exception e catch Class Not Found Exception e throw new Servlet Exception e If no application Class Name has been specified on the filter use the name specified with wicket web application in components xml if filter Config get Init Parameter application Class Name null String application Class Web Application instance get Application Class if application Class null parameters put application Class Name application Class else throw new Illegal State Exception Must set application class using wicket web application in components xml super init new Filter Config Wrapper filter Config parameters finally Lifecycle cleanup Application Override protected Class Loader get Class Loader return class Loader 
package org jboss seam wicket ioc import java io Serializable import java lang reflect Constructor import java lang reflect Field import java lang reflect Method import java util List import org jboss seam wicket Wicket Component public class Wicket Handler implements Serializable public static Wicket Handler create Object bean Wicket Handler handler new Wicket Handler bean get Class return handler public Wicket Handler Class type this type type private Class type private transient Wicket Component component private int reentrant private Wicket Component get Component if component null component Wicket Component get Instance type return component public void before Invoke Object target Method called Method do Before Invoke new Invocation Context called Method target get Component public Object after Invoke Object target Method called Method Object result return do After Invoke new Invocation Context called Method target get Component result public void before Invoke Object target Constructor constructor get Component initialize target do Before Invoke new Invocation Context constructor target get Component public void after Invoke Object target Constructor constructor do After Invoke new Invocation Context constructor target get Component null private void do Before Invoke Invocation Context invocation Context if reentrant for Stateless Interceptor interceptor List Stateless Interceptor get Component get Interceptors interceptor before Invoke invocation Context reentrant Instrumented Component enclosing get Enclosing Instance invocation Context get Bean if enclosing null enclosing get Handler null enclosing get Handler inject Enclosing Instance enclosing protected void inject Enclosing Instance Instrumented Component instance if reentrant get Component inject instance reentrant instance instance get Enclosing Instance if instance null instance get Handler inject Enclosing Instance instance public Exception handle Exception Object target Method method Exception exception return do Handle Exception new Invocation Context method target get Component exception public Exception handle Exception Object target Constructor constructor Exception exception return do Handle Exception new Invocation Context constructor target get Component exception private Exception do Handle Exception Invocation Context invocation Context Exception exception reentrant if reentrant for Stateless Interceptor interceptor List Stateless Interceptor get Component get Interceptors exception interceptor handle Exception invocation Context exception return exception private Object do After Invoke Invocation Context invocation Context Object result reentrant if reentrant for int i get Component get Interceptors size i i result Stateless Interceptor get Component get Interceptors get i after Invoke invocation Context result Instrumented Component enclosing get Enclosing Instance invocation Context get Bean if enclosing null enclosing get Handler null enclosing get Handler disinject Enclosing Instance enclosing return result protected void disinject Enclosing Instance Instrumented Component instance reentrant if reentrant get Component disinject instance instance instance get Enclosing Instance if instance null instance get Handler disinject Enclosing Instance instance public boolean is Reentrant return reentrant public Instrumented Component get Enclosing Instance Object bean Class enclosing Type get Component get Class if enclosing Type null try Field enclosing Field bean get Class get Declared Field get Component get Enclosing Instance Variable Name enclosing Field set Accessible true Object enclosing Instance enclosing Field get bean if enclosing Instance instanceof Instrumented Component return Instrumented Component enclosing Instance catch Exception e return null 
package org jboss seam wicket ioc import java io File import java util Hash Set import java util Set import javassist Class Pool import javassist Loader Class Path import org apache tools ant Task import org apache tools ant types File Set import org apache tools ant types Path public class Wicket Instrumentation Task extends Task Path build Path public Path get Build Path return build Path public void set Build Path Path build Path this build Path build Path public void add Classpath Path path build Path path private File output Directory public File get Output Directory return output Directory public void set Output Directory File output Directory this output Directory output Directory private File Set fileset public void add Fileset File Set fileset this fileset fileset private boolean use Annotations false public boolean is Use Annotations return use Annotations public void set Use Annotations boolean use Annotations this use Annotations use Annotations Override public void execute try Class Pool class Pool new Class Pool class Pool insert Class Path new Loader Class Path get Project create Class Loader build Path List Ct Class instrumented Classes new Array List Ct Class Javassist Instrumentor instrumentor new Javassist Instrumentor class Pool use Annotations Set String to Instrument new Hash Set String for String file fileset get Directory Scanner get Project get Included Files if file ends With class to Instrument add filename To Classname file instrumentor instrument Class Set to Instrument output Directory get Path catch Exception e throw new Runtime Exception e protected static String filename To Classname String filename return filename substring filename last Index Of class replace replace 
package org jboss seam wicket import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam core Conversation Propagation import org jboss seam core Manager Scope Scope Type Name org jboss seam core manager Install precedence class Dependencies org apache wicket Application Bypass Interceptors public class Wicket Manager extends Manager public String append Conversation Id From Redirect Filter String url super before Redirect if Conversation Propagation instance get Conversation Id null url encode Conversation Id Parameter url get Conversation Id Parameter Conversation Propagation instance get Conversation Id return url public static Wicket Manager instance return Wicket Manager Manager instance 
package org jboss seam wicket international import static org jboss seam annotations Install import java util List import org jboss seam Component import org jboss seam Scope Type import org jboss seam annotations Install import org jboss seam annotations Name import org jboss seam annotations Scope import org jboss seam annotations intercept Bypass Interceptors import org jboss seam international Status Message import org jboss seam international Status Messages Scope Scope Type Name Status Messages Install precedence class Dependencies org apache wicket Application Bypass Interceptors public class Wicket Status Messages extends Status Messages public void on Before Render do Run Tasks public List Status Message get Keyed Messages String id return instance get Keyed Messages get id public List Status Message get Global Messages return instance get Messages public static Wicket Status Messages instance Component component Component for Name Status Messages if component null component get Scope is Context Active throw new Illegal State Exception No active component get Scope name context Attempting to get the instance anyway for backwards compatibility with some potential hack situations return Wicket Status Messages Component get Instance Status Messages 
package org jboss seam test unit import java util Map import java util List Used for remoting unit tests to test a variety of constraint combinations author Shane Bryzak public class Widget private String value private String secret private Widget child private Map String Widget widget Map private List Widget widget List public String get Value return value public void set Value String value this value value public String get Secret return secret public void set Secret String secret this secret secret public Widget get Child return child public void set Child Widget child this child child public Map String Widget get Widget Map return widget Map public void set Widget Map Map String Widget widget Map this widget Map widget Map public List Widget get Widget List return widget List public void set Widget List List Widget widget List this widget List widget List 
package org jboss seam util import static org jboss seam util import static org jboss seam util rollback import javax transaction Status import javax transaction User Transaction import org jboss seam annotations Application Exception import org jboss seam log Log Provider import org jboss seam log Logging import org jboss seam transaction Transaction Performs work in a transaction author Gavin King public abstract class Work private static final Log Provider log Logging get Log Provider Work class protected abstract work throws Exception protected boolean is New Transaction Required boolean transaction Active return transaction Active public final work In Transaction throws Exception org jboss seam transaction User Transaction transaction null boolean transaction Active false boolean new Transaction Required false User Transaction user Transaction null try transaction Transaction instance transaction Active transaction is Active Or Marked Rollback transaction is Rolled Back temp workaround what should we really do in this case new Transaction Required is New Transaction Required transaction Active user Transaction new Transaction Required transaction null catch Illegal State Exception e for shutdown case when we ca n t get the tx object because the event context is gone but we should still check if a tx is required and fail accordingly if it is new Transaction Required is New Transaction Required false if new Transaction Required throw e try if new Transaction Required log debug beginning transaction user Transaction begin result work if new Transaction Required if transaction is Marked Rollback log debug rolling back transaction user Transaction rollback else log debug committing transaction user Transaction commit return result catch Exception e if new Transaction Required user Transaction get Status Status if is Rollback Required e true log debug rolling back transaction user Transaction rollback else log debug committing transaction after Application Exception rollback false e get Message user Transaction commit throw e public static boolean is Rollback Required Exception e boolean is Java Bean Class extends Exception clazz e get Class return is System Exception e is Java Bean clazz is Java Bean clazz is Annotation Present rollback clazz get Annotation clazz is Annotation Present Application Exception class clazz get Annotation Application Exception class rollback private static boolean is System Exception Exception e boolean is Java Bean Class extends Exception clazz return is Java Bean e instanceof Runtime Exception clazz is Annotation Present clazz is Annotation Present Application Exception class this is hackish maybe just turn off Rollack Interceptor for Converter Validator components is Instance e is Instance e 
package org jboss seam excel public interface Worksheet Item public enum Item Type cell image hyperlink public abstract Item Type get Item Type public abstract Object get Value public Integer get Column public Integer get Row 
package org jboss seam contexts import java io Serializable interface Wrapper extends Serializable public Object get Instance public void activate public boolean passivate 
package org jboss seam remoting wrapper import java math Big Decimal import java math Big Integer import java util Calendar import java util Collection import java util Date import java util Hash Map import java util Map author Shane Bryzak public class Wrapper Factory Singleton instance private static final Wrapper Factory factory new Wrapper Factory registry of wrapper types private Map String Class wrapper Registry new Hash Map String Class private Map Class Class class Registry new Hash Map Class Class Private constructor private Wrapper Factory Register the defaults register Wrapper str String Wrapper class register Wrapper bool Boolean Wrapper class register Wrapper bean Bean Wrapper class register Wrapper number Number Wrapper class register Wrapper null Null Wrapper class register Wrapper bag Bag Wrapper class register Wrapper map Map Wrapper class register Wrapper date Date Wrapper class String types register Wrapper Class String class String Wrapper class register Wrapper Class String Builder class String Wrapper class register Wrapper Class String Buffer class String Wrapper class register Wrapper Class Character class String Wrapper class Big numbers are handled by String Wrapper register Wrapper Class Big Decimal class String Wrapper class register Wrapper Class Big Integer class String Wrapper class Number types register Wrapper Class Integer class Number Wrapper class register Wrapper Class Long class Number Wrapper class register Wrapper Class Short class Number Wrapper class register Wrapper Class Double class Number Wrapper class register Wrapper Class Float class Number Wrapper class register Wrapper Class Byte class Number Wrapper class public void register Wrapper String type Class wrapper Class wrapper Registry put type wrapper Class public void register Wrapper Class Class cls Class wrapper Class class Registry put cls wrapper Class public static Wrapper Factory get Instance return factory public Wrapper create Wrapper String type Class wrapper Class wrapper Registry get type if wrapper Class null try Wrapper wrapper Wrapper wrapper Class new Instance return wrapper catch Exception ex throw new Runtime Exception String format Failed to create wrapper for type s type public Wrapper get Wrapper For Object Object obj if obj null return new Null Wrapper Wrapper w null if Map class is Assignable From obj get Class w new Map Wrapper else if obj get Class is Array Collection class is Assignable From obj get Class w new Bag Wrapper else if obj get Class equals Boolean class obj get Class equals Boolean w new Boolean Wrapper else if obj get Class is Enum w new String Wrapper else if Date class is Assignable From obj get Class Calendar class is Assignable From obj get Class w new Date Wrapper else if class Registry contains Key obj get Class try w Wrapper class Registry get obj get Class new Instance catch Exception ex throw new Runtime Exception Failed to create wrapper instance else w new Bean Wrapper w set Value obj return w 
package org jboss seam webservice import org jboss seam annotations intercept Interceptor import org jboss seam annotations intercept Interceptor Type import org jboss seam async Asynchronous Interceptor import org jboss seam security Security Interceptor Provides authorization services for web service invocations author Shane Bryzak Interceptor stateless true type Interceptor Type around Asynchronous Interceptor class public class Security Interceptor extends Security Interceptor Override public boolean is Interceptor Enabled return get Component is Secure get Component bean Class Has Annotation javax jws Web Service 
package org jboss seam util import java io Byte Array Input Stream import java io File Not Found Exception import java io Exception import java io Input Stream import java net Unknown Host Exception import org dom j Document Exception import org dom j Element import org dom j io Reader import org xml sax Entity Resolver import org xml sax Input Source import org xml sax Exception public class public static Element get Root Element Input Stream stream throws Document Exception try Reader sax Reader new Reader sax Reader set Entity Resolver new Entity Resolver sax Reader set Merge Adjacent Text true return sax Reader read stream get Root Element catch Document Exception e Throwable nested e get Nested Exception if nested null if nested instanceof File Not Found Exception throw new Runtime Exception Ca n t find schema reference nested get Message e else if nested instanceof Unknown Host Exception throw new Runtime Exception Can not connect to host from schema reference nested get Message check that your schema reference is current e throw e Parses an document safely as to not resolve any external Ds public static Element get Root Element Safely Input Stream stream throws Document Exception Reader sax Reader new Reader sax Reader set Entity Resolver new Null Entity Resolver sax Reader set Merge Adjacent Text true return sax Reader read stream get Root Element public static class Null Entity Resolver implements Entity Resolver private static final byte empty new byte public Input Source resolve Entity String system Id String public Id throws Exception Exception return new Input Source new Byte Array Input Stream empty Get safe Sax Reader with doctype feature disabled see http xerces apache org xerces j features html disallow doctype decl return throws Exception public static Reader get Safe Sax Reader throws Exception Reader xml Reader new Reader xml Reader set Feature http apache org xml features disallow doctype decl true return xml Reader 
package org jboss seam maven helper import java io File import java io File Output Stream import java io Exception import java io String Writer import java util List import javax xml parsers Document Builder import javax xml parsers Document Builder Factory import javax xml transform Output Keys import javax xml transform Transformer import javax xml transform Transformer Factory import javax xml xpath Path import javax xml xpath Path Constants import javax xml xpath Path Factory import org apache maven plugin logging Log import org w c dom Comment import org w c dom Configuration import org w c dom Implementation import org w c dom Document import org w c dom Element import org w c dom Node import org w c dom Node List import org w c dom ls Implementation import org w c dom ls Output import org w c dom ls Serializer Generates taglib descriptor xml author Rafael Benevides https community jboss org people rafabene author Marek Novotny https community jboss org people mana public class Generator private Log log public Generator Log log this log log public Element get Facelets Tag Element From Facesconfig File xml String tag Name String converter Or Validator throws Exception log info Generating taglib from xml Document Builder dst Document Builder Factory new Instance new Document Builder Document Builder src Document Builder Factory new Instance new Document Builder Document dest Document dst new Document Document src Document src parse xml Path xpath Path Factory new Instance new Path Element tag Element dest Document create Element tag Node tag Node dest Document append Child tag Element Element tag Name Element dest Document create Element tag name tag Name Element set Text Content tag Name tag Node append Child tag Name Element Element component dest Document create Element converter Or Validator Node component Node tag Node append Child component Element description dest Document create Element description String description Content xpath evaluate converter Or Validator description text src Document description set Text Content description Content component Node append Child description Element component Type dest Document create Element converter Or Validator id String component Type Content xpath evaluate converter Or Validator id text src Document component Type set Text Content component Type Content component Node append Child component Type Node List property Nodes Node List xpath evaluate property src Document Path Constants for int i i property Nodes get Length i Node n Node property Nodes item i if n Node get Node Type Node Element e Element Element n Node String prop Description get Tag Value description e Element String prop Name get Tag Value property name e Element String prop Class get Tag Value property class e Element Element attribute dest Document create Element attribute Element atribute Description dest Document create Element description atribute Description set Text Content prop Description attribute append Child atribute Description Element attribute Name dest Document create Element name attribute Name set Text Content prop Name attribute append Child attribute Name Element attribute Class dest Document create Element type attribute Class set Text Content prop Class attribute append Child attribute Class tag Element append Child attribute return tag Element private static String get Tag Value String s Tag Element e Element Node List nl List e Element get Elements By Tag Name s Tag item get Child Nodes Node n Value Node nl List item return n Value get Node Value private void write File Content File out String content throws Exception log info Updating out File Output Stream fos new File Output Stream out fos write content get Bytes public void update File File out List Element tags throws Exception Document Builder Factory doc Factory Document Builder Factory new Instance Document Builder doc Builder doc Factory new Document Builder Document doc doc Builder parse out for Element tag tags Comment comment doc create Comment Converter added by seam cdk helper plugin Node firstchild doc get First Child firstchild append Child comment firstchild append Child doc import Node tag true Output the Transformer Factory tf Transformer Factory new Instance tf set Attribute indent number new Integer Transformer transformer tf new Transformer transformer set Output Property Output Keys utf transformer set Output Property Output Keys no transformer set Output Property Output Keys yes transformer set Output Property http xml apache org xslt indent amount Implementation dom Implementation doc get Implementation if dom Implementation has Feature dom Implementation has Feature Core Implementation dom Implementation Implementation dom Implementation get Feature Serializer ls Serializer dom Implementation create Serializer Configuration dom Configuration ls Serializer get Dom Config if dom Configuration can Set Parameter format pretty print true ls Serializer get Dom Config set Parameter format pretty print true Output ls Output dom Implementation create Output ls Output set Encoding String Writer string Writer new String Writer ls Output set Character Stream string Writer ls Serializer write doc ls Output write File Content out string Writer to String else throw new Runtime Exception Configuration format pretty print parameter is n t settable else throw new Runtime Exception and or Core not supported 
