package org apache cli transfer Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io Print Stream import java text Decimal Format import java text Decimal Format Symbols import java util Locale import org apache commons lang Validate import org eclipse aether transfer Abstract Transfer Listener import org eclipse aether transfer Transfer Cancelled Exception import org eclipse aether transfer Transfer Event import org eclipse aether transfer Transfer Resource public abstract class Abstract Maven Transfer Listener extends Abstract Transfer Listener Line Length Formats file size associated href https en wikipedia org wiki Metric prefix prefix k using patterns code code numbers code code numbers default see href https en wikipedia org wiki Metric prefix https en wikipedia org wiki Metric prefix see href https en wikipedia org wiki Binary prefix https en wikipedia org wiki Binary prefix see href https en wikipedia org wiki Octet computing https en wikipedia org wiki Octet computing Line Length Move Maven Shared Utils static class File Size Format static enum Scale Unit Override public long bytes return Override public String symbol return Override public long bytes return Override public String symbol return k Override public long bytes return bytes bytes Override public String symbol return Override public long bytes return bytes bytes Override public String symbol return public abstract long bytes public abstract String symbol public static Scale Unit get Scale Unit long size Validate True size file size negative size size bytes return else size bytes return else size bytes return else return private Decimal Format small Format private Decimal Format large Format public File Size Format Locale locale small Format new Decimal Format new Decimal Format Symbols locale large Format new Decimal Format new Decimal Format Symbols locale public String format long size return format size null public String format long size Scale Unit unit return format size unit false public String format long size Scale Unit unit boolean omit Symbol Validate True size file size negative size unit null unit Scale Unit get Scale Unit size double scaled Size double size unit bytes String scaled Symbol unit symbol omit Symbol scaled Symbol unit Scale Unit return large Format format size scaled Symbol scaled Size scaled Size return large Format format scaled Size scaled Symbol else return small Format format scaled Size scaled Symbol public String format Progress long progressed Size long size Validate True progressed Size progressed file size negative progressed Size Validate True size progressed Size size size progressed file size greater size progressed Size size size progressed Size size Scale Unit unit Scale Unit get Scale Unit size String formatted Progressed Size format progressed Size unit true String formatted Size format size unit return formatted Progressed Size formatted Size else return format progressed Size protected Print Stream protected Abstract Maven Transfer Listener Print Stream Override public void transfer Initiated Transfer Event event String action event get Request Type Transfer Event Request Type Uploading Downloading String direction event get Request Type Transfer Event Request Type Transfer Resource resource event get Resource String Builder message new String Builder message append action append append direction append append resource get Repository Id message append message append resource get Repository Url append resource get Resource Name println message String Override public void transfer Corrupted Transfer Event event throws Transfer Cancelled Exception Transfer Resource resource event get Resource needs colorized println event get Exception get Message resource get Repository Id resource get Repository Url resource get Resource Name Override public void transfer Succeeded Transfer Event event String action event get Request Type Transfer Event Request Type Uploaded Downloaded String direction event get Request Type Transfer Event Request Type Transfer Resource resource event get Resource long content Length event get Transferred Bytes File Size Format format new File Size Format Locale String Builder message new String Builder message append action append append direction append append resource get Repository Id message append message append resource get Repository Url append resource get Resource Name message append append format format content Length long duration System current Time Millis resource get Transfer Start Time duration double bytes Per Second content Length duration message append append format format long bytes Per Second append message append println message String
package org apache artifact resolver filter Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import org apache artifact Artifact Filter retain objects given artifact Scope better author href mailto brett apache org Brett Porter abstract class Abstract Scope Artifact Filter implements Artifact Filter private boolean compile Scope private boolean runtime Scope private boolean test Scope private boolean provided Scope private boolean system Scope void add Scope Internal String scope Artifact equals scope system Scope true provided Scope true compile Scope true else Artifact equals scope compile Scope true runtime Scope true else Artifact equals scope system Scope true provided Scope true compile Scope true runtime Scope true else Artifact equals scope system Scope true compile Scope true runtime Scope true else Artifact equals scope system Scope true provided Scope true compile Scope true runtime Scope true test Scope true public boolean include Artifact artifact Artifact equals artifact get Scope return compile Scope else Artifact equals artifact get Scope return runtime Scope else Artifact equals artifact get Scope return test Scope else Artifact equals artifact get Scope return provided Scope else Artifact equals artifact get Scope return system Scope else return true
package org apache model interpolation Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Array List import java util Arrays import java util Collection import java util Hash Set import java util List import java util Properties import org apache model Model import org apache model building Model Building Request import org apache model building Model Problem Severity import org apache model building Model Problem Version import org apache model building Model Problem Collector import org apache model building Model Problem Collector Request import org apache model path Path Translator import org apache model path Url Normalizer import org codehaus plexus component annotations Requirement import org codehaus plexus interpolation Abstract Value Source import org codehaus plexus interpolation Interpolation Exception import org codehaus plexus interpolation Interpolation Post Processor import org codehaus plexus interpolation Interpolator import org codehaus plexus interpolation Map Based Value Source import org codehaus plexus interpolation Object Based Value Source import org codehaus plexus interpolation Prefix Aware Recursion Interceptor import org codehaus plexus interpolation Prefixed Object Value Source import org codehaus plexus interpolation Prefixed Value Source Wrapper import org codehaus plexus interpolation Recursion Interceptor import org codehaus plexus interpolation Value Source Use regular expression search find resolve expressions within author jdcasey Created Feb public abstract class Abstract String Based Model Interpolator implements Model Interpolator public static final String sha public static final String changelist public static final String revision private static final List String Arrays List pom project private static final Collection String static Collection String translated Prefixes new Hash Set build section present project directory non null make sure interpolation directories uses translated paths Afterward double back translate paths n covered interpolation via code translated Prefixes add build directory translated Prefixes add build output Directory translated Prefixes add build test Output Directory translated Prefixes add build source Directory translated Prefixes add build test Source Directory translated Prefixes add build script Source Directory translated Prefixes add reporting output Directory translated Prefixes Requirement private Path Translator path Translator Requirement private Url Normalizer url Normalizer private Interpolator interpolator private Recursion Interceptor recursion Interceptor public Abstract String Based Model Interpolator interpolator create Interpolator recursion Interceptor new Prefix Aware Recursion Interceptor public Abstract String Based Model Interpolator set Path Translator Path Translator path Translator path Translator path Translator return public Abstract String Based Model Interpolator set Url Normalizer Url Normalizer url Normalizer url Normalizer url Normalizer return protected List Value Source create Value Sources final Model model final File project Dir final Model Building Request config final Model Problem Collector problems Properties model Properties model get Properties Value Source model Value Source new Prefixed Object Value Source model false config get Validation Level Model Building Request model Value Source new Problem Detecting Value Source model Value Source pom project problems Value Source model Value Source new Object Based Value Source model config get Validation Level Model Building Request model Value Source new Problem Detecting Value Source model Value Source project problems Order counts List Value Source value Sources new Array List project Dir null Value Source basedir Value Source new Prefixed Value Source Wrapper new Abstract Value Source false Override public Object get Value String expression basedir equals expression return project Dir get Absolute Path return null true value Sources add basedir Value Source Value Source base Uri Value Source new Prefixed Value Source Wrapper new Abstract Value Source false Override public Object get Value String expression base Uri equals expression return project Dir get Absolute File String return null false value Sources add base Uri Value Source value Sources add new Build Timestamp Value Source config get Build Start Time model Properties value Sources add model Value Source value Sources add new Map Based Value Source config get User Properties Overwrite existing values model properties Otherwise possible define version via command line mvn Drevision config get System Properties contains Key model Properties put config get System Properties get config get System Properties contains Key model Properties put config get System Properties get config get System Properties contains Key model Properties put config get System Properties get value Sources add new Map Based Value Source model Properties value Sources add new Map Based Value Source config get System Properties value Sources add new Abstract Value Source false Override public Object get Value String expression return config get System Properties get Property env expression value Sources add model Value Source return value Sources protected List extends Interpolation Post Processor create Post Processors final Model model final File project Dir final Model Building Request config List Interpolation Post Processor processors new Array List project Dir null processors add new Path Translating Post Processor project Dir path Translator processors add new Url Normalizing Post Processor url Normalizer return processors protected String interpolate Internal String src List extends Value Source value Sources List extends Interpolation Post Processor post Processors Model Problem Collector problems src contains return src String result src synchronized Value Source vs value Sources interpolator add Value Source vs Interpolation Post Processor post Processor post Processors interpolator add Post Processor post Processor try try result interpolator interpolate result recursion Interceptor catch Interpolation Exception e problems add new Model Problem Collector Request Severity Version set Message e get Message set Exception e interpolator clear Feedback finally Value Source vs value Sources interpolator remove Values Source vs Interpolation Post Processor post Processor post Processors interpolator remove Post Processor post Processor return result protected Recursion Interceptor get Recursion Interceptor return recursion Interceptor protected void set Recursion Interceptor Recursion Interceptor recursion Interceptor recursion Interceptor recursion Interceptor protected abstract Interpolator create Interpolator protected final Interpolator get Interpolator return interpolator
package org apache artifact Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Collection import java util List import java util regex Pattern import org apache artifact handler Artifact Handler import org apache artifact metadata Artifact Metadata import org apache artifact repository Artifact Repository import org apache artifact resolver filter Artifact Filter import org apache artifact versioning Artifact Version import org apache artifact versioning Constrained Version Exception import org apache artifact versioning Version Range Maven Artifact interface Notice mixes artifact definition concepts group Id artifact Id version dependency information version range scope public interface Artifact extends Comparable Artifact String String String Pattern Pattern compile artifact Scope handler String compile String compile runtime String test String runtime String runtime system String provided String system String import Used import dependency Management dependencies String get Group Id String get Artifact Id String get Version void set Version String version String get Scope String get Type String get Classifier boolean Classifier File get File void set File File destination String get Base Version void set Base Version String base Version String get Id String get Dependency Conflict Id void add Metadata Artifact Metadata metadata Collection Artifact Metadata get Metadata List void set Repository Artifact Repository remote Repository Artifact Repository get Repository void update Version String version Artifact Repository local Repository String get Download Url void set Download Url String download Url Artifact Filter get Dependency Filter void set Dependency Filter Artifact Filter artifact Filter Artifact Handler get Artifact Handler List String get Dependency Trail void set Dependency Trail List String dependency Trail void set Scope String scope Version Range get Version Range void set Version Range Version Range new Range void select Version String version void set Group Id String group Id void set Artifact Id String artifact Id boolean Snapshot void set Resolved boolean resolved boolean Resolved void set Resolved Version String version void set Artifact Handler Artifact Handler handler boolean Release void set Release boolean release List Artifact Version get Available Versions void set Available Versions List Artifact Version versions boolean Optional void set Optional boolean optional Artifact Version get Selected Version throws Constrained Version Exception boolean Selected Version Known throws Constrained Version Exception
package org apache artifact resolver Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util List import java util Map import java util Set import org apache artifact Artifact import org apache artifact repository Artifact Repository import org apache artifact repository Repository Cache import org apache artifact repository Repository Request import org apache artifact resolver filter Artifact Filter import org apache settings Mirror import org apache settings Proxy import org apache settings Server resolution request allows either use existing Maven Project coordinate gid aid version process Ms dependencies author Jason van Zyl public class Artifact Resolution Request implements Repository Request private Artifact artifact Needs go away really overrides projects defining dependencies plugin override specified plugin private Set Artifact artifact Dependencies private Artifact Repository local Repository private List Artifact Repository remote Repositories private Artifact Filter collection Filter private Artifact Filter resolution Filter Needs go away private List Resolution Listener listeners new Array List like filter overrides transitive versions private Map String Artifact managed Version Map private boolean resolve Root true private boolean resolve Transitively false private boolean offline private boolean force Update private List Server servers private List Mirror mirrors private List Proxy proxies public Artifact Resolution Request nothing public Artifact Resolution Request Repository Request request set Local Repository request get Local Repository set Remote Repositories request get Remote Repositories set Offline request Offline set Force Update request Force Update public Artifact get Artifact return artifact public Artifact Resolution Request set Artifact Artifact artifact artifact artifact return public Artifact Resolution Request set Artifact Dependencies Set Artifact artifact Dependencies artifact Dependencies artifact Dependencies return public Set Artifact get Artifact Dependencies return artifact Dependencies public Artifact Repository get Local Repository return local Repository public Artifact Resolution Request set Local Repository Artifact Repository local Repository local Repository local Repository return public List Artifact Repository get Remote Repositories return remote Repositories public Artifact Resolution Request set Remote Repositories List Artifact Repository remote Repositories remote Repositories remote Repositories return Gets artifact filter controls traversal dependency graph return filter used determine artifacts dependency graph traversed code null collect transitive dependencies public Artifact Filter get Collection Filter return collection Filter public Artifact Resolution Request set Collection Filter Artifact Filter filter collection Filter filter return Gets artifact filter controls downloading artifact files filter operates artifacts included link get Collection Filter return filter used determine artifacts files resolved code null resolve files collected artifacts public Artifact Filter get Resolution Filter return resolution Filter public Artifact Resolution Request set Resolution Filter Artifact Filter filter resolution Filter filter return public List Resolution Listener get Listeners return listeners public Artifact Resolution Request set Listeners List Resolution Listener listeners listeners listeners return public Artifact Resolution Request add Listener Resolution Listener listener listeners add listener return public Map String Artifact get Managed Version Map return managed Version Map public Artifact Resolution Request set Managed Version Map Map String Artifact managed Version Map managed Version Map managed Version Map return public Artifact Resolution Request set Resolve Root boolean resolve Root resolve Root resolve Root return public boolean Resolve Root return resolve Root public Artifact Resolution Request set Resolve Transitively boolean resolve Dependencies resolve Transitively resolve Dependencies return public boolean Resolve Transitively return resolve Transitively public String String String Builder sb new String Builder append append n append artifact append artifact append n append artifact Dependencies append n append local Repository append local Repository append n append remote Repositories append remote Repositories append n return sb String public boolean Offline return offline public Artifact Resolution Request set Offline boolean offline offline offline return public boolean Force Update return force Update public Artifact Resolution Request set Force Update boolean force Update force Update force Update return public Artifact Resolution Request set Servers List Server servers servers servers return public List Server get Servers servers null servers new Array List return servers public Artifact Resolution Request set Mirrors List Mirror mirrors mirrors mirrors return public List Mirror get Mirrors mirrors null mirrors new Array List return mirrors public Artifact Resolution Request set Proxies List Proxy proxies proxies proxies return public List Proxy get Proxies proxies null proxies new Array List return proxies Used Tycho break users force upgrade Maven really leave possibly indefinitely public Artifact Resolution Request set Cache Repository Cache cache return
package org apache cli Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io Print Stream import java io Print Writer import org apache commons cli Command Line import org apache commons cli Command Line Parser import org apache commons cli Gnu Parser import org apache commons cli Help Formatter import org apache commons cli Option Builder import org apache commons cli Options import org apache commons cli Parse Exception author Jason van Zyl public class Manager public static final char f public static final char public static final char public static final char public static final char q public static final char public static final char e public static final char h public static final char v public static final char public static final char public static final char public static final char public static final String nsu public static final char public static final char c public static final char public static final String gs public static final char public static final String gt public static final String ff public static final String fae public static final String fn public static final String rf public static final String pl public static final String public static final String amd public static final String l public static final String emp public static final String ep public static final String public static final String llr public static final String b protected Options options Suppress Warnings static access checkstyle linelength public Manager options new Options options add Option Option Builder Long Opt help Description Display help information create options add Option Option Builder Long Opt file Arg Description Force use alternate file directory pom xml create options add Option Option Builder Long Opt define Arg Description Define system property create options add Option Option Builder Long Opt offline Description Work offline create options add Option Option Builder Long Opt version Description Display version information create options add Option Option Builder Long Opt quiet Description Quiet output show errors create options add Option Option Builder Long Opt debug Description Produce execution debug output create options add Option Option Builder Long Opt errors Description Produce execution error messages create options add Option Option Builder Long Opt non recursive Description recurse sub projects create options add Option Option Builder Long Opt update snapshots Description Forces check missing releases updated snapshots remote repositories create options add Option Option Builder Long Opt activate profiles Description Comma delimited list profiles activate Arg create options add Option Option Builder Long Opt batch mode Description Run non interactive batch mode disables output color create options add Option Option Builder Long Opt snapshot updates Description Suppress updates create options add Option Option Builder Long Opt strict checksums Description Fail build checksums n match create options add Option Option Builder Long Opt lax checksums Description Warn checksums n match create options add Option Option Builder Long Opt settings Description Alternate path user settings file Arg create options add Option Option Builder Long Opt global settings Description Alternate path global settings file Arg create options add Option Option Builder Long Opt toolchains Description Alternate path user toolchains file Arg create options add Option Option Builder Long Opt global toolchains Description Alternate path global toolchains file Arg create options add Option Option Builder Long Opt fail fast Description Stop first failure reactorized builds create options add Option Option Builder Long Opt fail end Description fail build afterwards allow non impacted builds continue create options add Option Option Builder Long Opt fail never Description fail build regardless project result create options add Option Option Builder Long Opt resume Arg Description Resume reactor specified project create options add Option Option Builder Long Opt projects Description Comma delimited list specified reactor projects build instead projects project specified group Id artifact Id relative path Arg create options add Option Option Builder Long Opt also make Description project list specified also build projects required list create options add Option Option Builder Long Opt also make dependents Description project list specified also build projects depend projects list create options add Option Option Builder Long Opt log file Arg Description Log file build output go disables output color create options add Option Option Builder Long Opt show version Description Display version information stopping build create options add Option Option Builder Long Opt encrypt master password Optional Arg Description Encrypt master security password create options add Option Option Builder Long Opt encrypt password Optional Arg Description Encrypt server password create options add Option Option Builder Long Opt threads Arg Description Thread count instance core multiplied create options add Option Option Builder Long Opt legacy local repository Description Use Maven Legacy Local Repository behaviour ie use remote repositories also activated using Dmaven legacy Local Repo true create options add Option Option Builder Long Opt builder Arg Description id build strategy use create Adding back compatibility verifier hard codes option options add Option Option Builder Long Opt plugin registry Description Ineffective kept backward compatibility create npr options add Option Option Builder Long Opt check plugin updates Description Ineffective kept backward compatibility create cpu options add Option Option Builder Long Opt update plugins Description Ineffective kept backward compatibility create options add Option Option Builder Long Opt plugin updates Description Ineffective kept backward compatibility create npu public Command Line parse String args throws Parse Exception need eat quotes surrounding arguments String clean Args Clean Argument clean Args args Command Line Parser parser new Gnu Parser return parser parse options clean Args public void display Help Print Stream stdout stdout println Print Writer pw new Print Writer stdout Help Formatter formatter new Help Formatter formatter print Help pw Help Formatter mvn options goal phase n Options options Help Formatter Help Formatter n false pw flush
package org apache cli Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import static org apache shared utils logging Message Utils buffer import java io Exception import java io Input Stream import java text Simple Date Format import java util Date import java util Locale import java util Properties import org apache commons lang String Utils import org codehaus plexus util Os import org slf j Logger Utility class used report errors statistics application version info etc author jdcasey public final class Reporting Utils Magic Number public static final long private static final long private static final long private static final long private static final long Magic Number public static final String version public static String show Version final String ls System get Property line separator Properties properties get Build Properties String Builder version new String Builder version append buffer strong create Maven Version String properties append ls version append reduce properties get Property distribution Short Name home System get Property home unknown Maven home append ls version append Java version append System get Property java version unknown Java version append vendor append System get Property java vendor unknown vendor append ls version append Java home append System get Property java home unknown Java home append ls version append Default locale append Locale get Default append platform encoding append System get Property file encoding unknown encoding append ls version append name append Os append version append Os append arch append Os append family append Os append return version String Create human readable string containing Maven version buildnumber time build param build Properties build properties return Readable build info static String create Maven Version String Properties build Properties String timestamp reduce build Properties get Property timestamp String version reduce build Properties get Property String rev reduce build Properties get Property build Number String distribution Name reduce build Properties get Property distribution Name String msg distribution Name msg version null version version unknown rev null timestamp null msg msg rev null rev String Utils Blank timestamp String ts format Timestamp Long value timestamp msg rev null ts msg return msg private static String reduce String return null starts ends null null static Properties get Build Properties Properties properties new Properties try Input Stream resource Stream Maven Cli class get Resource Stream org apache messages build properties resource Stream null properties load resource Stream catch Exception e System err println Unable determine version file e get Message return properties public static void show Error Logger logger String message Throwable e boolean show Stack Trace show Stack Trace logger error message e else logger error message e null logger error e get Message Throwable cause e get Cause cause null cause cause get Cause logger error Caused cause get Message public static String format Timestamp long timestamp Simple Date Format sdf new Simple Date Format yyyy dd mm ss return sdf format new Date timestamp public static String format Duration long duration Magic Number long ms duration long duration long duration long h duration long duration Magic Number String format Length chars format h else h Length chars format h else Length chars format min else Length chars format return String format format h ms
package org apache cli Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Properties import org apache commons cli Command Line import org apache execution Default Maven Execution Request import org apache execution Maven Execution Request import org codehaus plexus classworlds Class World public class Cli Request String args Command Line command Line Class World class World String working Directory File multi Module Project Directory boolean debug boolean quiet boolean show Errors true Properties user Properties new Properties Properties system Properties new Properties Maven Execution Request request Cli Request String args Class World class World args args class World class World request new Default Maven Execution Request public String get Args return args public Command Line get Command Line return command Line public Class World get Class World return class World public String get Working Directory return working Directory public File get Multi Module Project Directory return multi Module Project Directory public boolean Debug return debug public boolean Quiet return quiet public boolean Show Errors return show Errors public Properties get User Properties return user Properties public Properties get System Properties return system Properties public Maven Execution Request get Request return request public void set User Properties Properties properties user Properties put properties
package org apache artifact versioning Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java math Big Integer import java util Array List import java util Arrays import java util Iterator import java util List import java util Locale import java util Properties import java util Stack p Generic implementation version comparison p Features ul li mixing code code hyphen code code dot separators li li transition characters digits also constitutes separator code alpha gt alpha code li li unlimited number version components li li version components text digits strings li li strings checked well known qualifiers qualifier ordering used version ordering Well known qualifiers case insensitive ul li code alpha code code code li li code beta code code b code li li code milestone code code code li li code rc code code cr code li li code snapshot code li li code empty string code code ga code code final code li li code sp code li ul Unknown qualifiers considered known qualifiers lexical order always case insensitive li li hyphen usually precedes qualifier always less important something preceded dot li ul see href https cwiki apache org confluence display Versioning Versioning Maven Wiki author href mailto kenney apache org Kenney Westerhof author href mailto hboutemy apache org Herv Boutemy public class Comparable Version implements Comparable Comparable Version private String value private String canonical private List Item items private interface Item int int int int compare Item item int get Type boolean Null Represents numeric item version item list private static class Integer Item implements Item private static final Big Integer new Big Integer private final Big Integer value public static final Integer Item new Integer Item private Integer Item value public Integer Item String str value new Big Integer str public int get Type return public boolean Null return equals value public int compare Item item item null return equals value switch item get Type case return value compare Integer Item item value case return sp case return default throw new Runtime Exception invalid item item get Class public String String return value String Represents string version item list usually qualifier private static class String Item implements Item private static final String alpha beta milestone rc snapshot sp Suppress Warnings checkstyle constantname private static final List String Arrays List private static final Properties new Properties static put ga put final put cr rc comparable value empty string qualifier one used determine given qualifier makes version older one without qualifier recent private static final String String value index private String value public String Item String value boolean followed Digit followed Digit value length alpha b beta milestone switch value char case value alpha break case b value beta break case value milestone break default value get Property value value public int get Type return public boolean Null return comparable Qualifier value compare Returns comparable value qualifier method takes account ordering known qualifiers unknown qualifiers lexical ordering returning Integer index faster requires lot else check size resort lexical ordering comparisons decided first character still fast characters needed requires lexical sort anyway param qualifier return equivalent value used lexical comparison public static String comparable Qualifier String qualifier int index qualifier return size qualifier String value public int compare Item item item null rc ga return comparable Qualifier value compare switch item get Type case return case return comparable Qualifier value compare comparable Qualifier String Item item value case return default throw new Runtime Exception invalid item item get Class public String String return value Represents version list item class used global item list sub lists start number version specification private static class List Item extends Array List Item implements Item public int get Type return public boolean Null return size void normalize int size Item last Item get last Item Null remove null trailing items empty list remove else last Item instanceof List Item break public int compare Item item item null size return normalize Item first get return first compare null switch item get Type case return x case return sp case Iterator Item left iterator Iterator Item right List Item item iterator left Next right Next Item l left Next left next null Item r right Next right next null shorter invert compare mul int result l null r null r compare l l compare r result return result return default throw new Runtime Exception invalid item item get Class public String String String Builder buffer new String Builder Item item buffer length buffer append item instanceof List Item buffer append item return buffer String public Comparable Version String version parse Version version public final void parse Version String version value version items new List Item version version Lower Case Locale List Item list items Stack Item stack new Stack stack push list boolean Digit false int start Index int version length char c version char c start Index list add Integer Item else list add parse Item Digit version substring start Index start Index else c start Index list add Integer Item else list add parse Item Digit version substring start Index start Index list add list new List Item stack push list else Character Digit c Digit start Index list add new String Item version substring start Index true start Index list add list new List Item stack push list Digit true else Digit start Index list add parse Item true version substring start Index start Index list add list new List Item stack push list Digit false version length start Index list add parse Item Digit version substring start Index stack Empty list List Item stack pop list normalize canonical items String private static Item parse Item boolean Digit String buf return Digit new Integer Item buf new String Item buf false public int compare Comparable Version return items compare items public String String return value public String get Canonical return canonical public boolean equals Object return instanceof Comparable Version canonical equals Comparable Version canonical public int hash Code return canonical hash Code Line Length Main test version parsing comparison p check compares example issue pre java jar repo local org apache artifact version artifact version jar pre command command line Result given command something like pre Display parameters parsed Maven canonical form comparison result gt snapshot pre param args version strings parse compare pass arbitrary number version strings always two adjacent compared Line Length public static void main String args System println Display parameters parsed Maven canonical form comparison result args length return Comparable Version prev null int String version args Comparable Version c new Comparable Version version prev null int compare prev compare c System println prev String compare compare version System println String value version c get Canonical prev c
package org apache cli transfer Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io Print Stream import java util Collections import java util Iterator import java util Linked Hash Map import java util Locale import java util Map import org apache commons lang String Utils import org eclipse aether transfer Transfer Cancelled Exception import org eclipse aether transfer Transfer Event import org eclipse aether transfer Transfer Resource Console download progress meter author href mailto brett apache org Brett Porter public class Console Maven Transfer Listener extends Abstract Maven Transfer Listener private Map Transfer Resource Long transfers Collections synchronized Map new Linked Hash Map Transfer Resource Long private boolean print Resource Names private int last Length public Console Maven Transfer Listener Print Stream boolean print Resource Names super print Resource Names print Resource Names Override public synchronized void transfer Initiated Transfer Event event override Previous Transfer event super transfer Initiated event Override public synchronized void transfer Corrupted Transfer Event event throws Transfer Cancelled Exception override Previous Transfer event super transfer Corrupted event Override public synchronized void transfer Progressed Transfer Event event throws Transfer Cancelled Exception Transfer Resource resource event get Resource transfers put resource event get Transferred Bytes String Builder buffer new String Builder buffer append Progress append transfers size append synchronized transfers Iterator Map Entry Transfer Resource Long entries transfers entry Set iterator entries Next Map Entry Transfer Resource Long entry entries next long total entry get Key get Content Length Long complete entry get Value buffer append get Status entry get Key get Resource Name complete total entries Next buffer append int pad last Length buffer length last Length buffer length pad buffer pad buffer append r print buffer flush private String get Status String resource Name long complete long total File Size Format format new File Size Format Locale String Builder status new String Builder print Resource Names status append String Utils substring Last resource Name status append status append format format Progress complete total print Resource Names status append return status String private void pad String Builder buffer int spaces String block spaces int n Math min spaces block length buffer append block n spaces n Override public synchronized void transfer Succeeded Transfer Event event transfers remove event get Resource override Previous Transfer event super transfer Succeeded event Override public synchronized void transfer Failed Transfer Event event transfers remove event get Resource override Previous Transfer event super transfer Failed event private void override Previous Transfer Transfer Event event last Length String Builder buffer new String Builder pad buffer last Length buffer append r print buffer flush last Length
package org apache artifact resolver filter Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Collection import java util Hash Set import java util Set Filter retain objects given scope better implementation allows accumulation multiple scopes associated implied scopes user filter apply series implication rules single step efficient implementation multiple standard link Scope Artifact Filter instances Red together author href mailto brett apache org Brett Porter author jdcasey public class Cumulative Scope Artifact Filter extends Abstract Scope Artifact Filter private Set String scopes Create new filter specified scopes implied scopes enabled param scopes scopes enable along implied scopes may code null public Cumulative Scope Artifact Filter Collection String scopes scopes new Hash Set add Scopes scopes Creates new filter combines specified filters param filters filters combine may code null public Cumulative Scope Artifact Filter Cumulative Scope Artifact Filter filters scopes new Hash Set filters null Cumulative Scope Artifact Filter filter filters add Scopes filter get Scopes private void add Scopes Collection String scopes scopes null String scope scopes add Scope scope private void add Scope String scope scopes add scope add Scope Internal scope public Set String get Scopes return scopes Override public int hash Code int hash hash hash scopes hash Code return hash Override public boolean equals Object obj obj return true obj instanceof Cumulative Scope Artifact Filter return false Cumulative Scope Artifact Filter Cumulative Scope Artifact Filter obj return scopes equals scopes
package org apache artifact Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Collection import java util Collections import java util Hash Map import java util List import java util Map import java util regex Matcher import org apache artifact handler Artifact Handler import org apache artifact metadata Artifact Metadata import org apache artifact repository Artifact Repository import org apache artifact resolver filter Artifact Filter import org apache artifact versioning Artifact Version import org apache artifact versioning Default Artifact Version import org apache artifact versioning Constrained Version Exception import org apache artifact versioning Version Range import org codehaus plexus util String Utils author Jason van Zyl public class Default Artifact implements Artifact private String group Id private String artifact Id private String base Version private final String type private final String classifier private volatile String scope private volatile File file private Artifact Repository repository private String download Url private Artifact Filter dependency Filter private Artifact Handler artifact Handler private List String dependency Trail private volatile String version private Version Range version Range private volatile boolean resolved private boolean release private List Artifact Version available Versions private Map Object Artifact Metadata metadata Map private boolean optional public Default Artifact String group Id String artifact Id String version String scope String type String classifier Artifact Handler artifact Handler group Id artifact Id Version Range create Version version scope type classifier artifact Handler false public Default Artifact String group Id String artifact Id Version Range version Range String scope String type String classifier Artifact Handler artifact Handler group Id artifact Id version Range scope type classifier artifact Handler false public Default Artifact String group Id String artifact Id Version Range version Range String scope String type String classifier Artifact Handler artifact Handler boolean optional group Id group Id artifact Id artifact Id version Range version Range select Version New Range Available artifact Handler artifact Handler scope scope type type classifier null classifier artifact Handler get Classifier classifier classifier optional optional validate Identity private void validate Identity empty group Id throw new Invalid Artifact Exception group Id artifact Id get Version type group Id empty artifact Id null throw new Invalid Artifact Exception group Id artifact Id get Version type artifact Id empty type null throw new Invalid Artifact Exception group Id artifact Id get Version type type empty version null version Range null throw new Invalid Artifact Exception group Id artifact Id get Version type version empty private boolean empty String value return value null value trim length public String get Classifier return classifier public boolean Classifier return String Utils Empty classifier public String get Scope return scope public String get Group Id return group Id public String get Artifact Id return artifact Id public String get Version return version public void set Version String version version version set Base Version Internal version version Range null public String get Type return type public void set File File file file file public File get File return file public Artifact Repository get Repository return repository public void set Repository Artifact Repository repository repository repository public String get Id return get Dependency Conflict Id get Base Version public String get Dependency Conflict Id String Builder sb new String Builder sb append get Group Id sb append append Artifact Type Classifier String sb return sb String private void append Artifact Type Classifier String String Builder sb sb append get Artifact Id sb append sb append get Type Classifier sb append sb append get Classifier public void add Metadata Artifact Metadata metadata metadata Map null metadata Map new Hash Map Artifact Metadata metadata Map get metadata get Key null merge metadata else metadata Map put metadata get Key metadata public Collection Artifact Metadata get Metadata List metadata Map null return Collections empty List return metadata Map values Object overrides public String String String Builder sb new String Builder get Group Id null sb append get Group Id sb append append Artifact Type Classifier String sb sb append get Base Version Internal null sb append get Base Version Internal else sb append version Range String scope null sb append sb append scope return sb String public int hash Code int result result result group Id hash Code result result artifact Id hash Code result result type hash Code version null result result version hash Code result result classifier null classifier hash Code return result public boolean equals Object return true instanceof Artifact return false Artifact Artifact get Group Id equals group Id return false else get Artifact Id equals artifact Id return false else get Version equals version return false else get Type equals type return false else get Classifier null classifier null get Classifier equals classifier return false n consider version range comparison resolved version return true public String get Base Version base Version null version null set Base Version Internal version return base Version protected String get Base Version Internal base Version null version null set Base Version Internal version return base Version public void set Base Version String base Version set Base Version Internal base Version protected void set Base Version Internal String base Version Matcher matcher base Version matches base Version group else base Version base Version public int compare Artifact int result group Id compare get Group Id result result artifact Id compare get Artifact Id result result type compare get Type result classifier null get Classifier null result else get Classifier null result classifier compare get Classifier else result result n consider version range comparison resolved version result new Default Artifact Version version compare new Default Artifact Version get Version return result public void update Version String version Artifact Repository local Repository set Resolved Version version set File new File local Repository get Basedir local Repository path public String get Download Url return download Url public void set Download Url String download Url download Url download Url public Artifact Filter get Dependency Filter return dependency Filter public void set Dependency Filter Artifact Filter artifact Filter dependency Filter artifact Filter public Artifact Handler get Artifact Handler return artifact Handler public List String get Dependency Trail return dependency Trail public void set Dependency Trail List String dependency Trail dependency Trail dependency Trail public void set Scope String scope scope scope public Version Range get Version Range return version Range public void set Version Range Version Range version Range version Range version Range select Version New Range Available private void select Version New Range Available version Range null version Range get Recommended Version null select Version version Range get Recommended Version String else version null base Version null public void select Version String version version version set Base Version Internal version public void set Group Id String group Id group Id group Id public void set Artifact Id String artifact Id artifact Id artifact Id public boolean Snapshot return get Base Version null get Base Version ends get Base Version equals public void set Resolved boolean resolved resolved resolved public boolean Resolved return resolved public void set Resolved Version String version version version retain base Version public void set Artifact Handler Artifact Handler artifact Handler artifact Handler artifact Handler public void set Release boolean release release release public boolean Release return release public List Artifact Version get Available Versions return available Versions public void set Available Versions List Artifact Version available Versions available Versions available Versions public boolean Optional return optional public Artifact Version get Selected Version throws Constrained Version Exception return version Range get Selected Version public boolean Selected Version Known throws Constrained Version Exception return version Range Selected Version Known public void set Optional boolean optional optional optional
package org apache artifact resolver Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import org codehaus plexus component annotations Component Deprecated Component role Artifact Collector class public class Default Artifact Collector extends org apache repository legacy resolver Default Legacy Artifact Collector implements Artifact Collector
package org apache artifact factory Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import org apache artifact Artifact import org apache artifact Default Artifact import org apache artifact handler Artifact Handler import org apache artifact handler manager Artifact Handler Manager import org apache artifact versioning Version Range import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement Component role Artifact Factory class public class Default Artifact Factory implements Artifact Factory Requirement private Artifact Handler Manager artifact Handler Manager public Artifact create Artifact String group Id String artifact Id String version String scope String type return create Artifact group Id artifact Id version scope type null null public Artifact create Artifact Classifier String group Id String artifact Id String version String type String classifier return create Artifact group Id artifact Id version null type classifier null public Artifact create Dependency Artifact String group Id String artifact Id Version Range version Range String type String classifier String scope return create Artifact group Id artifact Id version Range type classifier scope null public Artifact create Dependency Artifact String group Id String artifact Id Version Range version Range String type String classifier String scope boolean optional return create Artifact group Id artifact Id version Range type classifier scope null optional public Artifact create Dependency Artifact String group Id String artifact Id Version Range version Range String type String classifier String scope String inherited Scope return create Artifact group Id artifact Id version Range type classifier scope inherited Scope public Artifact create Dependency Artifact String group Id String artifact Id Version Range version Range String type String classifier String scope String inherited Scope boolean optional return create Artifact group Id artifact Id version Range type classifier scope inherited Scope optional public Artifact create Build Artifact String group Id String artifact Id String version String packaging return create Artifact group Id artifact Id version null packaging null null public Artifact create Project Artifact String group Id String artifact Id String version return create Project Artifact group Id artifact Id version null public Artifact create Parent Artifact String group Id String artifact Id String version return create Project Artifact group Id artifact Id version public Artifact create Plugin Artifact String group Id String artifact Id Version Range version Range return create Artifact group Id artifact Id version Range plugin null Artifact null public Artifact create Project Artifact String group Id String artifact Id String version String scope return create Artifact group Id artifact Id version scope pom public Artifact create Extension Artifact String group Id String artifact Id Version Range version Range return create Artifact group Id artifact Id version Range jar null Artifact null private Artifact create Artifact String group Id String artifact Id String version String scope String type String classifier String inherited Scope Version Range version Range null version null version Range Version Range create Version version return create Artifact group Id artifact Id version Range type classifier scope inherited Scope private Artifact create Artifact String group Id String artifact Id Version Range version Range String type String classifier String scope String inherited Scope return create Artifact group Id artifact Id version Range type classifier scope inherited Scope false private Artifact create Artifact String group Id String artifact Id Version Range version Range String type String classifier String scope String inherited Scope boolean optional String desired Scope Artifact inherited Scope null desired Scope scope else Artifact equals scope Artifact equals scope return null else Artifact equals scope Artifact equals inherited Scope added retain compile artifact Scope Remove want compile inherited runtime desired Scope Artifact Artifact equals inherited Scope desired Scope Artifact Artifact equals inherited Scope desired Scope Artifact Artifact equals scope system scopes come unchanged desired Scope Artifact Artifact Handler handler artifact Handler Manager get Artifact Handler type return new Default Artifact group Id artifact Id version Range desired Scope type classifier handler optional
package org apache artifact repository Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Arrays import java util List import org apache artifact Unknown Repository Layout Exception import org apache artifact repository layout Artifact Repository Layout import org apache plugin Legacy Support import org apache repository Repository System import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org eclipse aether Repository System Session author jdcasey Component role Artifact Repository Factory class public class Default Artifact Repository Factory implements Artifact Repository Factory Requirement private org apache repository legacy repository Artifact Repository Factory factory Requirement private Legacy Support legacy Support Requirement private Repository System repository System public Artifact Repository Layout get Layout String layout Id throws Unknown Repository Layout Exception return factory get Layout layout Id public Artifact Repository create Deployment Artifact Repository String id String url String layout Id boolean unique Version throws Unknown Repository Layout Exception return inject Session factory create Deployment Artifact Repository id url layout Id unique Version false public Artifact Repository create Deployment Artifact Repository String id String url Artifact Repository Layout repository Layout boolean unique Version return inject Session factory create Deployment Artifact Repository id url repository Layout unique Version false public Artifact Repository create Artifact Repository String id String url String layout Id Artifact Repository Policy snapshots Artifact Repository Policy releases throws Unknown Repository Layout Exception return inject Session factory create Artifact Repository id url layout Id snapshots releases true public Artifact Repository create Artifact Repository String id String url Artifact Repository Layout repository Layout Artifact Repository Policy snapshots Artifact Repository Policy releases return inject Session factory create Artifact Repository id url repository Layout snapshots releases true public void set Global Update Policy String update Policy factory set Global Update Policy update Policy public void set Global Checksum Policy String checksum Policy factory set Global Checksum Policy checksum Policy private Artifact Repository inject Session Artifact Repository repository boolean mirrors Repository System Session session legacy Support get Repository Session session null repository null Local Repository repository List Artifact Repository repositories Arrays List repository mirrors repository System inject Mirror session repositories repository System inject Proxy session repositories repository System inject Authentication session repositories return repository private boolean Local Repository Artifact Repository repository unfortunately n allow tell remote repo local repo apart return local equals repository get Id
package org apache artifact resolver Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Array List import java util Collections import java util Linked Hash Map import java util Linked Hash Set import java util List import java util Map import java util Set import java util concurrent Count Latch import java util concurrent Executor import java util concurrent Executor Service import java util concurrent Linked Blocking Queue import java util concurrent Thread Factory import java util concurrent Thread Pool Executor import java util concurrent Time Unit import java util concurrent atomic Atomic Integer import java util regex Matcher import org apache Repository Utils import org apache artifact Artifact import org apache artifact factory Artifact Factory import org apache artifact metadata Artifact Metadata Retrieval Exception import org apache artifact metadata Artifact Metadata Source import org apache artifact metadata Resolution Group import org apache artifact repository Artifact Repository import org apache artifact repository Legacy Local Repository Manager import org apache artifact repository Repository Request import org apache artifact repository metadata Snapshot import org apache artifact repository metadata Snapshot Artifact Repository Metadata import org apache artifact resolver filter Artifact Filter import org apache execution Maven Session import org apache plugin Legacy Support import org apache repository legacy metadata Default Metadata Resolution Request import org apache repository legacy metadata Metadata Resolution Request import org apache repository legacy resolver conflict Conflict Resolver import org apache wagon events Transfer Listener import org codehaus plexus Plexus Container import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus component repository exception Component Lookup Exception import org codehaus plexus logging Logger import org codehaus plexus personality plexus lifecycle phase Disposable import org eclipse aether Repository System import org eclipse aether Repository System Session import org eclipse aether repository Local Repository Manager import org eclipse aether resolution Artifact Request import org eclipse aether resolution Artifact Result author Jason van Zyl Component role Artifact Resolver class public class Default Artifact Resolver implements Artifact Resolver Disposable Requirement private Logger logger Requirement protected Artifact Factory artifact Factory Requirement private Artifact Collector artifact Collector Requirement private Resolution Error Handler resolution Error Handler Requirement private Artifact Metadata Source source Requirement private Plexus Container container Requirement private Legacy Support legacy Support Requirement private Repository System repo System private final Executor executor public Default Artifact Resolver int threads Integer get Integer artifact threads threads executor new Executor public void execute Runnable command command run else executor new Thread Pool Executor threads threads Time Unit new Linked Blocking Queue Runnable new Daemon Thread Creator private Repository System Session get Session Artifact Repository local Repository return Legacy Local Repository Manager overlay local Repository legacy Support get Repository Session repo System private void inject Session Repository Request request Maven Session session session null request set Offline session Offline request set Force Update session get Request Update Snapshots private void inject Session Artifact Resolution Request request Maven Session session inject Session request session session null request set Servers session get Request get Servers request set Mirrors session get Request get Mirrors request set Proxies session get Request get Proxies public void resolve Artifact artifact List Artifact Repository remote Repositories Artifact Repository local Repository Transfer Listener resolution Listener throws Artifact Resolution Exception Artifact Found Exception resolve artifact remote Repositories get Session local Repository public void resolve Always Artifact artifact List Artifact Repository remote Repositories Artifact Repository local Repository throws Artifact Resolution Exception Artifact Found Exception resolve artifact remote Repositories get Session local Repository private void resolve Artifact artifact List Artifact Repository remote Repositories Repository System Session session throws Artifact Resolution Exception Artifact Found Exception artifact null return Artifact equals artifact get Scope File system File artifact get File system File null throw new Artifact Found Exception System artifact artifact file attached artifact system File exists throw new Artifact Found Exception System artifact artifact found path system File artifact system File File throw new Artifact Found Exception System artifact artifact file system File artifact artifact set Resolved true return artifact Resolved Artifact Result result try Artifact Request artifact Request new Artifact Request artifact Request set Artifact Repository Utils Artifact artifact artifact Request set Repositories Repository Utils Repos remote Repositories Maven x quirk artifact always points local repo regardless whether resolved Local Repository Manager lrm session get Local Repository Manager String path lrm get Path Local Artifact artifact Request get Artifact artifact set File new File lrm get Repository get Basedir path result repo System resolve Artifact session artifact Request catch org eclipse aether resolution Artifact Resolution Exception e e get Cause instanceof org eclipse aether transfer Artifact Found Exception throw new Artifact Found Exception e get Message artifact remote Repositories e else throw new Artifact Resolution Exception e get Message artifact remote Repositories e artifact select Version result get Artifact get Version artifact set File result get Artifact get File artifact set Resolved true artifact Snapshot Matcher matcher Artifact matcher artifact get Version matcher matches Snapshot snapshot new Snapshot snapshot set Timestamp matcher group try snapshot set Build Number Integer parse Int matcher group artifact add Metadata new Snapshot Artifact Repository Metadata artifact snapshot catch Number Format Exception e logger warn Invalid artifact version artifact get Version e get Message public Artifact Resolution Result resolve Transitively Set Artifact artifacts Artifact originating Artifact Artifact Repository local Repository List Artifact Repository remote Repositories Artifact Metadata Source source Artifact Filter filter throws Artifact Resolution Exception Artifact Found Exception return resolve Transitively artifacts originating Artifact Collections String Artifact empty Map local Repository remote Repositories source filter public Artifact Resolution Result resolve Transitively Set Artifact artifacts Artifact originating Artifact Map String Artifact managed Versions Artifact Repository local Repository List Artifact Repository remote Repositories Artifact Metadata Source source throws Artifact Resolution Exception Artifact Found Exception return resolve Transitively artifacts originating Artifact managed Versions local Repository remote Repositories source null public Artifact Resolution Result resolve Transitively Set Artifact artifacts Artifact originating Artifact Map String Artifact managed Versions Artifact Repository local Repository List Artifact Repository remote Repositories Artifact Metadata Source source Artifact Filter filter throws Artifact Resolution Exception Artifact Found Exception return resolve Transitively artifacts originating Artifact managed Versions local Repository remote Repositories source filter null public Artifact Resolution Result resolve Transitively Set Artifact artifacts Artifact originating Artifact List Artifact Repository remote Repositories Artifact Repository local Repository Artifact Metadata Source source throws Artifact Resolution Exception Artifact Found Exception return resolve Transitively artifacts originating Artifact local Repository remote Repositories source null public Artifact Resolution Result resolve Transitively Set Artifact artifacts Artifact originating Artifact List Artifact Repository remote Repositories Artifact Repository local Repository Artifact Metadata Source source List Resolution Listener listeners throws Artifact Resolution Exception Artifact Found Exception return resolve Transitively artifacts originating Artifact Collections String Artifact empty Map local Repository remote Repositories source null listeners public Artifact Resolution Result resolve Transitively Set Artifact artifacts Artifact originating Artifact Map String Artifact managed Versions Artifact Repository local Repository List Artifact Repository remote Repositories Artifact Metadata Source source Artifact Filter filter List Resolution Listener listeners throws Artifact Resolution Exception Artifact Found Exception return resolve Transitively artifacts originating Artifact managed Versions local Repository remote Repositories source filter listeners null public Artifact Resolution Result resolve Transitively Set Artifact artifacts Artifact originating Artifact Map String Artifact managed Versions Artifact Repository local Repository List Artifact Repository remote Repositories Artifact Metadata Source source Artifact Filter filter List Resolution Listener listeners List Conflict Resolver conflict Resolvers throws Artifact Resolution Exception Artifact Found Exception Artifact Resolution Request request new Artifact Resolution Request set Artifact originating Artifact set Resolve Root false required surefire plugin set Artifact Dependencies artifacts set Managed Version Map managed Versions set Local Repository local Repository set Remote Repositories remote Repositories set Collection Filter filter set Listeners listeners inject Session request legacy Support get Session return resolve Exceptions request public Artifact Resolution Result resolve Exceptions Artifact Resolution Request request throws Artifact Resolution Exception Artifact Found Exception Artifact Resolution Result result resolve request collected problems let mimic way old code worked blow right right lets let rip right send big incomprehensible blob text unsuspecting users Bad dog resolution Error Handler throw Errors request result return result public Artifact Resolution Result resolve Artifact Resolution Request request Artifact root Artifact request get Artifact Set Artifact artifacts request get Artifact Dependencies Map String Artifact managed Versions request get Managed Version Map List Resolution Listener listeners request get Listeners Artifact Filter collection Filter request get Collection Filter Artifact Filter resolution Filter request get Resolution Filter Repository System Session session get Session request get Local Repository hack metadata n generated e correctly want run workspace source null try source container lookup Artifact Metadata Source class catch Component Lookup Exception e wo n happen listeners null listeners new Array List logger Debug Enabled listeners add new Debug Resolution Listener logger listeners add new Warning Resolution Listener logger Artifact Resolution Result result new Artifact Resolution Result root artifact may may resolved need check attempt resolve often artifact like taken disk already hold file reference may Maven Plugin need resolve remote repository well dependencies request Resolve Root root Artifact get File null try resolve root Artifact request get Remote Repositories session catch Artifact Resolution Exception e result add Error Artifact Exception e return result catch Artifact Found Exception e result add Missing Artifact request get Artifact return result Artifact Resolution Request collection Request request request Resolve Transitively Metadata Resolution Request metadata Request new Default Metadata Resolution Request request metadata Request set Artifact root Artifact metadata Request set Resolve Managed Versions managed Versions null try Resolution Group resolution Group source retrieve metadata Request managed Versions null managed Versions resolution Group get Managed Versions Set Artifact direct Artifacts resolution Group get Artifacts artifacts null artifacts Empty artifacts direct Artifacts else List Artifact Artifacts new Array List Artifacts add artifacts Artifacts add direct Artifacts Map String Artifact merged Artifacts new Linked Hash Map Artifact artifact Artifacts String conflict Id artifact get Dependency Conflict Id merged Artifacts contains Key conflict Id merged Artifacts put conflict Id artifact artifacts new Linked Hash Set merged Artifacts values collection Request new Artifact Resolution Request request collection Request set Servers request get Servers collection Request set Mirrors request get Mirrors collection Request set Proxies request get Proxies collection Request set Remote Repositories resolution Group get Resolution Repositories catch Artifact Metadata Retrieval Exception e Artifact Resolution Exception new Artifact Resolution Exception Unable get dependency information root Artifact get Id e get Message root Artifact metadata Request get Remote Repositories e result add Metadata Resolution Exception return result artifacts null artifacts Empty request Resolve Root result add Artifact root Artifact return result collection artifact object result resolved yet result artifact Collector collect artifacts root Artifact managed Versions collection Request source collection Filter listeners null metadata retrieval problems cycles detected give back calling code let deal information appropriately result Metadata Resolution Exceptions result Version Range Violations result Circular Dependency Exceptions logger info Failure detected return result result get Artifact Resolution Nodes null Class Loader class Loader Thread current Thread get Context Class Loader Count Latch latch new Count Latch result get Artifact Resolution Nodes size Resolution Node node result get Artifact Resolution Nodes Artifact artifact node get Artifact resolution Filter null resolution Filter include artifact executor execute new Resolve Task class Loader latch artifact session node get Remote Repositories result else latch count try latch await catch Interrupted Exception e result add Error Artifact Exception new Artifact Resolution Exception Resolution interrupted root Artifact e want send root artifact back result need dependencies resolved request Resolve Root Add root artifact first artifact retain logical order class path Set Artifact Artifacts new Linked Hash Set Artifacts add root Artifact Artifacts add result get Artifacts result set Artifacts Artifacts return result public void resolve Artifact artifact List Artifact Repository remote Repositories Artifact Repository local Repository throws Artifact Resolution Exception Artifact Found Exception resolve artifact remote Repositories local Repository null Thread Creator creating daemon threads fixed Thread Group name static final class Daemon Thread Creator implements Thread Factory static final String org apache artifact resolver Default Artifact Resolver static final Thread Group new Thread Group static final Atomic Integer new Atomic Integer public Thread new Thread Runnable r Thread new Thread new Thread r resolver get Increment new Thread set Daemon true new Thread set Context Class Loader null return new Thread private class Resolve Task implements Runnable private final Class Loader class Loader private final Count Latch latch private final Artifact artifact private final Repository System Session session private final List Artifact Repository remote Repositories private final Artifact Resolution Result result public Resolve Task Class Loader class Loader Count Latch latch Artifact artifact Repository System Session session List Artifact Repository remote Repositories Artifact Resolution Result result class Loader class Loader latch latch artifact artifact session session remote Repositories remote Repositories result result public void run Class Loader old Thread current Thread get Context Class Loader try Thread current Thread set Context Class Loader class Loader resolve artifact remote Repositories session catch Artifact Found Exception anfe cases artifact n present remote repositories n deployed deployed wrong place synchronized result result add Missing Artifact artifact catch Artifact Resolution Exception e really wagon Transfer Failed Exception something went wrong successfully retrieved metadata synchronized result result add Error Artifact Exception e finally latch count Thread current Thread set Context Class Loader old Override public void dispose executor instanceof Executor Service Executor Service executor shutdown
package org apache artifact versioning Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util String Tokenizer import java util regex Pattern import java util Element Exception Default implementation artifact versioning author href mailto brett apache org Brett Porter public class Default Artifact Version implements Artifact Version private Integer major Version private Integer minor Version private Integer incremental Version private Integer build Number private String qualifier private Comparable Version comparable public Default Artifact Version String version parse Version version Override public int hash Code return comparable hash Code Override public boolean equals Object return true instanceof Artifact Version return false return compare Artifact Version public int compare Artifact Version Version Version instanceof Default Artifact Version return comparable compare Default Artifact Version Version comparable else return compare new Default Artifact Version Version String public int get Major Version return major Version null major Version public int get Minor Version return minor Version null minor Version public int get Incremental Version return incremental Version null incremental Version public int get Build Number return build Number null build Number public String get Qualifier return qualifier public final void parse Version String version comparable new Comparable Version version int index version index String part String part null index part version else part version substring index part version substring index part null try part length part starts build Number Integer value part else qualifier part catch Number Format Exception e qualifier part part contains part starts try major Version Integer value part catch Number Format Exception e qualifier whole version including qualifier version build Number null else boolean fallback false String Tokenizer tok new String Tokenizer part try major Version get Next Integer Token tok tok Tokens minor Version get Next Integer Token tok tok Tokens incremental Version get Next Integer Token tok tok Tokens qualifier tok next Token fallback Pattern compile matcher qualifier matches string tokenizer wo n detect ignores part contains part starts part ends fallback true catch Number Format Exception e fallback true fallback qualifier whole version including qualifier version major Version null minor Version null incremental Version null build Number null private static Integer get Next Integer Token String Tokenizer tok try String tok next Token length starts throw new Number Format Exception Number part leading return Integer value catch Element Exception e throw new Number Format Exception Number invalid Override public String String return comparable String
package org apache classrealm Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java net Malformed Exception import java util Array List import java util Collections import java util Linked Hash Set import java util List import java util Map import java util Random import java util Set import java util Tree Map import javax inject Inject import javax inject Named import javax inject Singleton import org apache commons lang Validate import org apache artifact Artifact Utils import org apache classrealm Class Realm Request Realm Type import org apache extension internal Core Exports Provider import org apache model Model import org apache model Plugin import org codehaus plexus Mutable Plexus Container import org codehaus plexus Plexus Container import org codehaus plexus classworlds Class World import org codehaus plexus classworlds realm Class Realm import org codehaus plexus classworlds realm Duplicate Realm Exception import org codehaus plexus logging Logger import org codehaus plexus util String Utils import org eclipse aether artifact Artifact Manages class realms used Maven strong Warning strong internal utility class public technical reasons part public particular class changed deleted without prior notice author Benjamin Bentmann Named Singleton public class Default Class Realm Manager implements Class Realm Manager public static final String api normal command line build Class World loaded jvm system classloader includes plexus classworlds jar possibly javaagent classes see https issues apache org jira browse p Using Class World determine plugin extensions realm parent classloaders gives e integration test harness flexibility load multiple version dedicated classloaders without assuming state jvm system classloader private static final Class Loader Class World class get Class Loader private final Logger logger private final Class World world private final Class Realm container Realm live injected collection private final List Class Realm Manager Delegate delegates private final Class Realm Api Realm Patterns artifacts provided core exported via api realm artifacts filtered plugin build extensions realms avoid presence duplicate possibly conflicting classes classpath private final Set String provided Artifacts Inject public Default Class Realm Manager Logger logger Plexus Container container List Class Realm Manager Delegate delegates Core Exports Provider exports logger logger world Mutable Plexus Container container get Class World container Realm container get Container Realm delegates delegates Map String Class Loader foreign Imports exports get get Exported Packages Api Realm create Realm Realm Type Core null parent null parent Imports foreign Imports null artifacts provided Artifacts exports get get Exported Artifacts private Class Realm new Realm String id synchronized world String realm Id id Random random new Random true try Class Realm class Realm world new Realm realm Id logger Debug Enabled logger debug Created new class realm realm Id return class Realm catch Duplicate Realm Exception e realm Id id random next Int public Class Realm get Maven Api Realm return Api Realm Creates new class realm specified parent imports param base Realm Id base id use new realm must code null param type type class realm must code null param parent parent realm new realm may code null param parent Imports packages types import parent realm may code null param foreign Imports packages types import foreign realms may code null param artifacts artifacts add realm may code null Unresolved artifacts e missing file automatically excluded realm return created class realm never code null private Class Realm create Realm String base Realm Id Realm Type type Class Loader parent List String parent Imports Map String Class Loader foreign Imports List Artifact artifacts Set String artifact Ids new Linked Hash Set List Class Realm Constituent constituents new Array List artifacts null Artifact artifact artifacts Provided Artifact artifact artifact Ids add get Id artifact artifact get File null constituents add new Artifact Class Realm Constituent artifact parent Imports null parent Imports new Array List parent Imports else parent Imports new Array List foreign Imports null foreign Imports new Tree Map foreign Imports else foreign Imports new Tree Map Class Realm class Realm new Realm base Realm Id parent null class Realm set Parent Class Loader parent call Delegates class Realm type parent parent Imports foreign Imports constituents wire Realm class Realm parent Imports foreign Imports Set String included Ids populate Realm class Realm constituents logger Debug Enabled artifact Ids remove included Ids String id artifact Ids logger debug Excluded id return class Realm public Class Realm get Core Realm return container Realm public Class Realm create Project Realm Model model List Artifact artifacts Validate Null model model null Class Loader parent get Maven Api Realm return create Realm get Key model Realm Type Project parent null null artifacts private static String get Key Model model return project model get Group Id model get Artifact Id model get Version public Class Realm create Extension Realm Plugin plugin List Artifact artifacts Validate Null plugin plugin null Class Loader parent Map String Class Loader foreign Imports Collections String Class Loader singleton Map get Maven Api Realm return create Realm get Key plugin true Realm Type Extension parent null foreign Imports artifacts private boolean Provided Artifact Artifact artifact return provided Artifacts contains artifact get Group Id artifact get Artifact Id public Class Realm create Plugin Realm Plugin plugin Class Loader parent List String parent Imports Map String Class Loader foreign Imports List Artifact artifacts Validate Null plugin plugin null parent null parent return create Realm get Key plugin false Realm Type Plugin parent parent Imports foreign Imports artifacts private static String get Key Plugin plugin boolean extension String version Artifact Utils Snapshot Version plugin get Version return extension extension plugin plugin get Group Id plugin get Artifact Id version private static String get Id Artifact artifact return get Id artifact get Group Id artifact get Artifact Id artifact get Extension artifact get Classifier artifact get Base Version private static String get Id Class Realm Constituent constituent return get Id constituent get Group Id constituent get Artifact Id constituent get Type constituent get Classifier constituent get Version private static String get Id String gid String aid String type String cls String ver return gid aid type String Utils Empty cls cls ver private void call Delegates Class Realm class Realm Realm Type type Class Loader parent List String parent Imports Map String Class Loader foreign Imports List Class Realm Constituent constituents List Class Realm Manager Delegate delegates new Array List delegates delegates Empty Class Realm Request request new Default Class Realm Request type parent parent Imports foreign Imports constituents Class Realm Manager Delegate delegate delegates try delegate setup Realm class Realm request catch Exception e logger error delegate get Class get Name failed setup class realm class Realm e get Message e private Set String populate Realm Class Realm class Realm List Class Realm Constituent constituents Set String included Ids new Linked Hash Set logger Debug Enabled logger debug Populating class realm class Realm get Id Class Realm Constituent constituent constituents File file constituent get File String id get Id constituent included Ids add id logger Debug Enabled logger debug Included id try class Realm add file catch Malformed Exception e going happen logger error e get Message e return included Ids private void wire Realm Class Realm class Realm List String parent Imports Map String Class Loader foreign Imports foreign Imports null foreign Imports Empty logger Debug Enabled logger debug Importing foreign packages class realm class Realm get Id Map Entry String Class Loader entry foreign Imports entry Set Class Loader imported Realm entry get Value String imp entry get Key logger Debug Enabled logger debug Imported imp get Id imported Realm class Realm import imported Realm imp parent Imports null parent Imports Empty logger Debug Enabled logger debug Importing parent packages class realm class Realm get Id String imp parent Imports logger Debug Enabled logger debug Imported imp get Id class Realm get Parent Class Loader class Realm import Parent imp private String get Id Class Loader class Loader class Loader instanceof Class Realm return Class Realm class Loader get Id return String value class Loader
package org apache model composition Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Linked Hash Map import java util List import java util Map import org apache model Dependency import org apache model Dependency Management import org apache model Model import org apache model building Model Building Request import org apache model building Model Problem Collector import org codehaus plexus component annotations Component Handles import dependency management models target model author Benjamin Bentmann Component role Dependency Management Importer class public class Default Dependency Management Importer implements Dependency Management Importer Override public void import Management Model target List extends Dependency Management sources Model Building Request request Model Problem Collector problems sources null sources Empty Map String Dependency dependencies new Linked Hash Map Dependency Management dep Mgmt target get Dependency Management dep Mgmt null Dependency dependency dep Mgmt get Dependencies dependencies put dependency get Management Key dependency else dep Mgmt new Dependency Management target set Dependency Management dep Mgmt Dependency Management source sources Dependency dependency source get Dependencies String key dependency get Management Key dependencies contains Key key dependencies put key dependency dep Mgmt set Dependencies new Array List dependencies values
package org apache cli event Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Hash Map import java util Map import org apache eventspy Event Spy public class Default Event Spy Context implements Event Spy Context private final Map String Object data new Hash Map public Map String Object get Data return data
package org apache plugin Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Array List import java util List import java util Map import java util concurrent Concurrent Hash Map import org apache commons lang Validate import org apache artifact Artifact import org apache project Extension Descriptor import org apache project Maven Project import org codehaus plexus classworlds realm Class Realm import org codehaus plexus classworlds realm Realm Exception import org codehaus plexus component annotations Component import org codehaus plexus personality plexus lifecycle phase Disposable Default extension realm cache implementation Assumes cached data change Component role Extension Realm Cache class public class Default Extension Realm Cache implements Extension Realm Cache Disposable protected static class Cache Key implements Key private final List File files private final List Long timestamps private final List Long sizes private final List String ids private final int hash Code public Cache Key List Artifact extension Artifacts files new Array List extension Artifacts size timestamps new Array List extension Artifacts size sizes new Array List extension Artifacts size ids new Array List extension Artifacts size Artifact artifact extension Artifacts File file artifact get File files add file timestamps add file null Long value file last Modified Long value sizes add file null Long value file length Long value ids add artifact get Version hash Code files hash Code ids hash Code timestamps hash Code sizes hash Code Override public int hash Code return hash Code Override public boolean equals Object return true instanceof Cache Key return false Cache Key Cache Key return ids equals ids files equals files timestamps equals timestamps sizes equals sizes Override public String String return files String protected final Map Key Cache Record cache new Concurrent Hash Map Override public Key create Key List Artifact extension Artifacts return new Cache Key extension Artifacts public Cache Record get Key key return cache get key public Cache Record put Key key Class Realm extension Realm Extension Descriptor extension Descriptor List Artifact artifacts Validate Null extension Realm extension Realm null cache contains Key key throw new Illegal State Exception Duplicate extension realm extension key Cache Record record new Cache Record extension Realm extension Descriptor artifacts cache put key record return record public void flush Cache Record record cache values Class Realm realm record realm try realm get World dispose Realm realm get Id catch Realm Exception e ignore cache clear public void register Maven Project project Key key Cache Record record default cache track extension usage public void dispose flush
package org apache model inheritance Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Hash Map import java util Linked Hash Map import java util List import java util Map import java util Properties import org apache model Input Location import org apache model Model import org apache model Model Base import org apache model Plugin import org apache model Plugin Container import org apache model Report Plugin import org apache model Reporting import org apache model building Model Building Request import org apache model building Model Problem Collector import org apache model merge Maven Model Merger import org codehaus plexus component annotations Component import org codehaus plexus util String Utils Handles inheritance model values author Benjamin Bentmann Component role Inheritance Assembler class public class Default Inheritance Assembler implements Inheritance Assembler private Inheritance Model Merger merger new Inheritance Model Merger private static final String child directory private static final String project directory Override public void assemble Model Inheritance Model child Model parent Model Building Request request Model Problem Collector problems Map Object Object hints new Hash Map String child Path child get Properties get Property child get Artifact Id hints put child Path hints put Maven Model Merger get Child Path Adjustment child parent child Path merger merge child parent false hints Calculates relative path base directory parent parent directory base directory child general idea adjust inherited Ls match project layout p calculation heuristic based conventions detail algo relies following assumptions ul li parent uses aggregation refers child via modules section li li module path child considered point rather base directory path ends xml ignoring case li li name child base directory matches artifact id child li ul Note sake independence user environment filesystem intentionally used calculation p param child child model must code null code param parent parent model may code null code param child Directory directory defined child model may code null code return path adjustment empty never code null code private String get Child Path Adjustment Model child Model parent String child Directory String adjustment parent null String child Name child get Artifact Id logic using filesystem wanted independence user environment exists sake backward compat x general wrong base inheritance module directory names information unavailable Ms repository words modules artifact Id module Dir Name see different effective Ls depending model constructed filesystem repository child get Project Directory null child Name child get Project Directory get Name String module parent get Modules module module replace module region Matches true module length xml module module substring module last Index String module Name module module Name ends module Name module Name substring module Name length int last Slash module Name last Index module Name module Name substring last Slash module Name equals child Name module Name equals child Directory last Slash adjustment module substring last Slash break return adjustment protected static class Inheritance Model Merger extends Maven Model Merger Override protected String extrapolate Child Url String parent Url Map Object Object context Object child Directory context get Object child Path Adjustment context get String Utils Blank parent Url child Directory null child Path Adjustment null return parent Url append child Path Adjustment child Directory parent url return append Path parent Url child Directory String child Path Adjustment String private String append Path String parent Url String child Path String path Adjustment String Builder url new String Builder parent Url length path Adjustment length child Path length path Adjustment length url append parent Url concat Path url path Adjustment concat Path url child Path return url String private void concat Path String Builder url String path path length boolean initial Url Ends Slash url char url length boolean path Starts Slash path char path Starts Slash initial Url Ends Slash extra remove url set Length url length else initial Url Ends Slash add missing url path url append url append path ensure resulting url ends slash initial url initial Url Ends Slash path ends url append Override protected void merge Model Base Properties Model Base target Model Base source boolean source Dominant Map Object Object context Properties merged new Properties source Dominant merged put target get Properties put merged source get Properties else put merged source get Properties merged put target get Properties target set Properties merged target set Location properties Input Location merge target get Location properties source get Location properties source Dominant private void put Map Object Object Map Object Object Object exclude Key Map Entry Object Object e entry Set e get Key equals exclude Key put e get Key e get Value Override protected void merge Plugin Container Plugins Plugin Container target Plugin Container source boolean source Dominant Map Object Object context List Plugin src source get Plugins src Empty List Plugin tgt target get Plugins Map Object Plugin master new Linked Hash Map src size Plugin element src element Inherited element get Executions Empty Enforce recursive merge trigger merging inheritance logic executions Plugin plugin new Plugin plugin set Location element get Location plugin set Group Id null merge Plugin plugin element source Dominant context Object key get Plugin Key element master put key plugin Map Object List Plugin predecessors new Linked Hash Map List Plugin pending new Array List Plugin element tgt Object key get Plugin Key element Plugin existing master get key existing null merge Plugin element existing source Dominant context master put key element pending Empty predecessors put key pending pending new Array List else pending add element List Plugin result new Array List src size tgt size Map Entry Object Plugin entry master entry Set List Plugin pre predecessors get entry get Key pre null result add pre result add entry get Value result add pending target set Plugins result Override protected void merge Plugin Plugin target Plugin source boolean source Dominant Map Object Object context source Inherited merge Configuration Container target source source Dominant context merge Plugin Group Id target source source Dominant context merge Plugin Artifact Id target source source Dominant context merge Plugin Version target source source Dominant context merge Plugin Extensions target source source Dominant context merge Plugin Dependencies target source source Dominant context merge Plugin Executions target source source Dominant context Override protected void merge Reporting Plugins Reporting target Reporting source boolean source Dominant Map Object Object context List Report Plugin src source get Plugins src Empty List Report Plugin tgt target get Plugins Map Object Report Plugin merged new Linked Hash Map src size tgt size Report Plugin element src Object key get Report Plugin Key element element Inherited Enforce recursive merge trigger merging inheritance logic executions well Report Plugin plugin new Report Plugin plugin set Location element get Location plugin set Group Id null merge Report Plugin plugin element source Dominant context merged put key plugin Report Plugin element tgt Object key get Report Plugin Key element Report Plugin existing merged get key existing null merge Report Plugin element existing source Dominant context merged put key element target set Plugins new Array List merged values
package org apache model plugin Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Collection import java util Collections import java util Linked Hash Map import java util List import java util Map import org apache lifecycle Life Cycle Plugin Analyzer import org apache model Build import org apache model Model import org apache model Plugin import org apache model Plugin Container import org apache model Plugin Execution import org apache model Plugin Management import org apache model building Model Building Request import org apache model building Model Problem Collector import org apache model building Model Problem Severity import org apache model building Model Problem Version import org apache model building Model Problem Collector Request import org apache model merge Maven Model Merger import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement Handles injection plugin executions induced lifecycle bindings packaging author Benjamin Bentmann Component role Lifecycle Bindings Injector class public class Default Lifecycle Bindings Injector implements Lifecycle Bindings Injector private Lifecycle Bindings Merger merger new Lifecycle Bindings Merger Requirement private Life Cycle Plugin Analyzer lifecycle public void inject Lifecycle Bindings Model model Model Building Request request Model Problem Collector problems String packaging model get Packaging Collection Plugin default Plugins lifecycle get Plugins Bound Default Lifecycles packaging default Plugins null problems add new Model Problem Collector Request Severity Version set Message Unknown packaging packaging set Location model get Location packaging else default Plugins Empty Model lifecycle Model new Model lifecycle Model set Build new Build lifecycle Model get Build get Plugins add default Plugins merger merge model lifecycle Model protected static class Lifecycle Bindings Merger extends Maven Model Merger private static final String plugin management public void merge Model target Model source target get Build null target set Build new Build Map Object Object context Collections Object Object singleton Map target get Build get Plugin Management merge Plugin Container Plugins target get Build source get Build false context Override protected void merge Plugin Container Plugins Plugin Container target Plugin Container source boolean source Dominant Map Object Object context List Plugin src source get Plugins src Empty List Plugin tgt target get Plugins Map Object Plugin merged new Linked Hash Map src size tgt size Plugin element tgt Object key get Plugin Key element merged put key element Map Object Plugin unmanaged new Linked Hash Map Plugin element src Object key get Plugin Key element Plugin existing merged get key existing null merge Plugin existing element source Dominant context else merged put key element unmanaged put key element unmanaged Empty Plugin Management plugin Mgmt Plugin Management context get plugin Mgmt null Plugin managed Plugin plugin Mgmt get Plugins Object key get Plugin Key managed Plugin Plugin unmanaged Plugin unmanaged get key unmanaged Plugin null Plugin plugin managed Plugin clone merge Plugin plugin unmanaged Plugin source Dominant Collections empty Map merged put key plugin List Plugin result new Array List merged values target set Plugins result Override protected void merge Plugin Execution Plugin Execution target Plugin Execution source boolean source Dominant Map Object Object context super merge Plugin Execution target source source Dominant context target set Priority Math min target get Priority source get Priority
package org apache lifecycle internal Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io Exception import java util Array List import java util Arrays import java util Collection import java util Collections import java util Hash Set import java util List import java util Map import org apache execution Maven Session import org apache lifecycle Default Lifecycles import org apache lifecycle Lifecycle import org apache lifecycle Lifecycle Mapping Delegate import org apache lifecycle Lifecycle Found Exception import org apache lifecycle Lifecycle Phase Found Exception import org apache lifecycle Maven Execution Plan import org apache lifecycle Mojo Execution Configurator import org apache lifecycle internal builder Builder Common import org apache plugin Build Plugin Manager import org apache plugin Invalid Plugin Descriptor Exception import org apache plugin Mojo Execution import org apache plugin Mojo Found Exception import org apache plugin Plugin Descriptor Parsing Exception import org apache plugin Plugin Found Exception import org apache plugin Plugin Resolution Exception import org apache plugin descriptor Mojo Descriptor import org apache plugin descriptor Parameter import org apache plugin descriptor Plugin Descriptor import org apache plugin lifecycle Execution import org apache plugin lifecycle Phase import org apache plugin prefix Plugin Found Prefix Exception import org apache plugin version Plugin Version Resolution Exception import org apache plugin version Plugin Version Resolver import org apache project Maven Project import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus util String Utils import org codehaus plexus util xml Xpp Dom import org codehaus plexus util xml pull Xml Pull Parser Exception import com google common collect Immutable Map strong strong class part public api changed deleted without prior notice since author Benjamin Bentmann author Kristian Rosenvold Extract class Component role Lifecycle Execution Plan Calculator class public class Default Lifecycle Execution Plan Calculator implements Lifecycle Execution Plan Calculator Requirement private Plugin Version Resolver plugin Version Resolver Requirement private Build Plugin Manager plugin Manager Requirement private Default Lifecycles default Life Cycles Requirement private Mojo Descriptor Creator mojo Descriptor Creator Requirement private Lifecycle Plugin Resolver lifecycle Plugin Resolver Requirement hint Default Lifecycle Mapping Delegate private Lifecycle Mapping Delegate standard Delegate Requirement private Map String Lifecycle Mapping Delegate delegates Requirement private Map String Mojo Execution Configurator mojo Execution Configurators Suppress Warnings Unused Declaration public Default Lifecycle Execution Plan Calculator used testing public Default Lifecycle Execution Plan Calculator Build Plugin Manager plugin Manager Default Lifecycles default Life Cycles Mojo Descriptor Creator mojo Descriptor Creator Lifecycle Plugin Resolver lifecycle Plugin Resolver plugin Manager plugin Manager default Life Cycles default Life Cycles mojo Descriptor Creator mojo Descriptor Creator lifecycle Plugin Resolver lifecycle Plugin Resolver mojo Execution Configurators Immutable Map default Mojo Execution Configurator new Default Mojo Execution Configurator Override public Maven Execution Plan calculate Execution Plan Maven Session session Maven Project project List Object tasks boolean setup throws Plugin Found Exception Plugin Resolution Exception Lifecycle Phase Found Exception Plugin Descriptor Parsing Exception Mojo Found Exception Invalid Plugin Descriptor Exception Plugin Found Prefix Exception Lifecycle Found Exception Plugin Version Resolution Exception lifecycle Plugin Resolver resolve Missing Plugin Versions project session final List Mojo Execution executions calculate Mojo Executions session project tasks setup setup Mojo Executions session project executions final List Execution Plan Item plan Item Execution Plan Item create Execution Plan Items project executions return new Maven Execution Plan plan Item default Life Cycles Override public Maven Execution Plan calculate Execution Plan Maven Session session Maven Project project List Object tasks throws Plugin Found Exception Plugin Resolution Exception Lifecycle Phase Found Exception Plugin Descriptor Parsing Exception Mojo Found Exception Invalid Plugin Descriptor Exception Plugin Found Prefix Exception Lifecycle Found Exception Plugin Version Resolution Exception return calculate Execution Plan session project tasks true private void setup Mojo Executions Maven Session session Maven Project project List Mojo Execution mojo Executions throws Plugin Found Exception Plugin Resolution Exception Plugin Descriptor Parsing Exception Mojo Found Exception Invalid Plugin Descriptor Exception Plugin Found Prefix Exception Lifecycle Phase Found Exception Lifecycle Found Exception Plugin Version Resolution Exception Mojo Execution mojo Execution mojo Executions setup Mojo Execution session project mojo Execution Override public void setup Mojo Execution Maven Session session Maven Project project Mojo Execution mojo Execution throws Plugin Found Exception Plugin Resolution Exception Plugin Descriptor Parsing Exception Mojo Found Exception Invalid Plugin Descriptor Exception Plugin Found Prefix Exception Lifecycle Phase Found Exception Lifecycle Found Exception Plugin Version Resolution Exception Mojo Descriptor mojo Descriptor mojo Execution get Mojo Descriptor mojo Descriptor null mojo Descriptor plugin Manager get Mojo Descriptor mojo Execution get Plugin mojo Execution get Goal project get Remote Plugin Repositories session get Repository Session mojo Execution set Mojo Descriptor mojo Descriptor mojo Execution Configurator mojo Execution configure project mojo Execution Mojo Execution Source equals mojo Execution get Source finalize Mojo Configuration mojo Execution calculate Forked Executions mojo Execution session project new Hash Set Mojo Descriptor public List Mojo Execution calculate Mojo Executions Maven Session session Maven Project project List Object tasks throws Plugin Found Exception Plugin Resolution Exception Plugin Descriptor Parsing Exception Mojo Found Exception Plugin Found Prefix Exception Invalid Plugin Descriptor Exception Plugin Version Resolution Exception Lifecycle Phase Found Exception final List Mojo Execution mojo Executions new Array List Object task tasks task instanceof Goal Task String plugin Goal Goal Task task plugin Goal String execution Id default cli int execution Idx plugin Goal index execution Idx execution Id plugin Goal substring execution Idx Mojo Descriptor mojo Descriptor mojo Descriptor Creator get Mojo Descriptor plugin Goal session project Mojo Execution mojo Execution new Mojo Execution mojo Descriptor execution Id Mojo Execution Source mojo Executions add mojo Execution else task instanceof Lifecycle Task String lifecycle Phase Lifecycle Task task get Lifecycle Phase Map String List Mojo Execution phase Mojo Mapping calculate Lifecycle Mappings session project lifecycle Phase List Mojo Execution mojo Executions Lifecycle phase Mojo Mapping values mojo Executions add mojo Executions Lifecycle else throw new Illegal State Exception unexpected task task return mojo Executions private Map String List Mojo Execution calculate Lifecycle Mappings Maven Session session Maven Project project String lifecycle Phase throws Lifecycle Phase Found Exception Plugin Found Exception Plugin Resolution Exception Plugin Descriptor Parsing Exception Mojo Found Exception Invalid Plugin Descriptor Exception Determine lifecycle corresponds given phase Lifecycle lifecycle default Life Cycles get lifecycle Phase lifecycle null throw new Lifecycle Phase Found Exception Unknown lifecycle phase lifecycle Phase must specify valid lifecycle phase goal format plugin prefix goal plugin group id plugin artifact id plugin version goal Available lifecycle phases default Life Cycles get Lifecycle Phase List lifecycle Phase Lifecycle Mapping Delegate delegate Arrays binary Search Default Lifecycles lifecycle get Id delegate standard Delegate else delegate delegates get lifecycle get Id delegate null delegate standard Delegate return delegate calculate Lifecycle Mappings session project lifecycle lifecycle Phase Post processes effective configuration specified mojo execution step discards parameters configuration applicable mojo injects default values missing parameters param mojo Execution mojo execution whose configuration finalized must code null private void finalize Mojo Configuration Mojo Execution mojo Execution Mojo Descriptor mojo Descriptor mojo Execution get Mojo Descriptor Xpp Dom execution Configuration mojo Execution get Configuration execution Configuration null execution Configuration new Xpp Dom configuration Xpp Dom default Configuration get Mojo Configuration mojo Descriptor Xpp Dom final Configuration new Xpp Dom configuration mojo Descriptor get Parameters null Parameter parameter mojo Descriptor get Parameters Xpp Dom parameter Configuration execution Configuration get Child parameter get Name parameter Configuration null parameter Configuration execution Configuration get Child parameter get Alias Xpp Dom parameter Defaults default Configuration get Child parameter get Name parameter Configuration Xpp Dom merge Xpp Dom parameter Configuration parameter Defaults Boolean parameter Configuration null parameter Configuration new Xpp Dom parameter Configuration parameter get Name String Utils Empty parameter Configuration get Attribute implementation String Utils Empty parameter get Implementation parameter Configuration set Attribute implementation parameter get Implementation final Configuration add Child parameter Configuration mojo Execution set Configuration final Configuration private Xpp Dom get Mojo Configuration Mojo Descriptor mojo Descriptor return Mojo Descriptor Creator convert mojo Descriptor Override public void calculate Forked Executions Mojo Execution mojo Execution Maven Session session throws Mojo Found Exception Plugin Found Exception Plugin Resolution Exception Plugin Descriptor Parsing Exception Plugin Found Prefix Exception Invalid Plugin Descriptor Exception Lifecycle Phase Found Exception Lifecycle Found Exception Plugin Version Resolution Exception calculate Forked Executions mojo Execution session session get Current Project new Hash Set Mojo Descriptor private void calculate Forked Executions Mojo Execution mojo Execution Maven Session session Maven Project project Collection Mojo Descriptor already Forked Executions throws Mojo Found Exception Plugin Found Exception Plugin Resolution Exception Plugin Descriptor Parsing Exception Plugin Found Prefix Exception Invalid Plugin Descriptor Exception Lifecycle Phase Found Exception Lifecycle Found Exception Plugin Version Resolution Exception Mojo Descriptor mojo Descriptor mojo Execution get Mojo Descriptor mojo Descriptor Forking return already Forked Executions add mojo Descriptor return List Maven Project forked Projects Lifecycle Dependency Resolver get Projects project session mojo Descriptor Aggregator Maven Project forked Project forked Projects forked Project project lifecycle Plugin Resolver resolve Missing Plugin Versions forked Project session List Mojo Execution forked Executions String Utils Empty mojo Descriptor get Execute Phase forked Executions calculate Forked Lifecycle mojo Execution session forked Project already Forked Executions else forked Executions calculate Forked Goal mojo Execution session forked Project already Forked Executions mojo Execution set Forked Executions Builder Common get Key forked Project forked Executions already Forked Executions remove mojo Descriptor private List Mojo Execution calculate Forked Lifecycle Mojo Execution mojo Execution Maven Session session Maven Project project Collection Mojo Descriptor already Forked Executions throws Mojo Found Exception Plugin Found Exception Plugin Resolution Exception Plugin Descriptor Parsing Exception Plugin Found Prefix Exception Invalid Plugin Descriptor Exception Lifecycle Phase Found Exception Lifecycle Found Exception Plugin Version Resolution Exception Mojo Descriptor mojo Descriptor mojo Execution get Mojo Descriptor String forked Phase mojo Descriptor get Execute Phase Map String List Mojo Execution lifecycle Mappings calculate Lifecycle Mappings session project forked Phase List Mojo Execution forked Executions lifecycle Mappings values Mojo Execution forked Execution forked Executions forked Execution get Mojo Descriptor null Mojo Descriptor forked Mojo Descriptor plugin Manager get Mojo Descriptor forked Execution get Plugin forked Execution get Goal project get Remote Plugin Repositories session get Repository Session forked Execution set Mojo Descriptor forked Mojo Descriptor mojo Execution Configurator forked Execution configure project forked Execution false inject Lifecycle Overlay lifecycle Mappings mojo Execution session project List Mojo Execution mojo Executions new Array List List Mojo Execution forked Executions lifecycle Mappings values Mojo Execution forked Execution forked Executions already Forked Executions contains forked Execution get Mojo Descriptor finalize Mojo Configuration forked Execution calculate Forked Executions forked Execution session project already Forked Executions mojo Executions add forked Execution return mojo Executions private void inject Lifecycle Overlay Map String List Mojo Execution lifecycle Mappings Mojo Execution mojo Execution Maven Session session Maven Project project throws Plugin Descriptor Parsing Exception Lifecycle Found Exception Mojo Found Exception Plugin Found Exception Plugin Resolution Exception Plugin Found Prefix Exception Invalid Plugin Descriptor Exception Plugin Version Resolution Exception Mojo Descriptor mojo Descriptor mojo Execution get Mojo Descriptor Plugin Descriptor plugin Descriptor mojo Descriptor get Plugin Descriptor String forked Lifecycle mojo Descriptor get Execute Lifecycle String Utils Empty forked Lifecycle return org apache plugin lifecycle Lifecycle lifecycle Overlay try lifecycle Overlay plugin Descriptor get Lifecycle Mapping forked Lifecycle catch Exception Xml Pull Parser Exception e throw new Plugin Descriptor Parsing Exception plugin Descriptor get Plugin plugin Descriptor get Source e lifecycle Overlay null throw new Lifecycle Found Exception forked Lifecycle Phase phase lifecycle Overlay get Phases List Mojo Execution forked Executions lifecycle Mappings get phase get Id forked Executions null Execution execution phase get Executions String goal execution get Goals Mojo Descriptor forked Mojo Descriptor goal index forked Mojo Descriptor plugin Descriptor get Mojo goal forked Mojo Descriptor null throw new Mojo Found Exception goal plugin Descriptor else forked Mojo Descriptor mojo Descriptor Creator get Mojo Descriptor goal session project Mojo Execution forked Execution new Mojo Execution forked Mojo Descriptor mojo Execution get Execution Id Xpp Dom forked Configuration Xpp Dom execution get Configuration forked Execution set Configuration forked Configuration mojo Execution Configurator forked Execution configure project forked Execution true forked Executions add forked Execution Xpp Dom phase Configuration Xpp Dom phase get Configuration phase Configuration null Mojo Execution forked Execution forked Executions Xpp Dom forked Configuration forked Execution get Configuration forked Configuration Xpp Dom merge Xpp Dom phase Configuration forked Configuration forked Execution set Configuration forked Configuration org apache plugins remote resources plugin process take repo mans account one may aggregating prefixes many collect root repository read one root fetch remote something missing user forces issue private List Mojo Execution calculate Forked Goal Mojo Execution mojo Execution Maven Session session Maven Project project Collection Mojo Descriptor already Forked Executions throws Mojo Found Exception Plugin Found Exception Plugin Resolution Exception Plugin Descriptor Parsing Exception Plugin Found Prefix Exception Invalid Plugin Descriptor Exception Lifecycle Phase Found Exception Lifecycle Found Exception Plugin Version Resolution Exception Mojo Descriptor mojo Descriptor mojo Execution get Mojo Descriptor Plugin Descriptor plugin Descriptor mojo Descriptor get Plugin Descriptor String forked Goal mojo Descriptor get Execute Goal Mojo Descriptor forked Mojo Descriptor plugin Descriptor get Mojo forked Goal forked Mojo Descriptor null throw new Mojo Found Exception forked Goal plugin Descriptor already Forked Executions contains forked Mojo Descriptor return Collections empty List Mojo Execution forked Execution new Mojo Execution forked Mojo Descriptor forked Goal mojo Execution Configurator forked Execution configure project forked Execution true finalize Mojo Configuration forked Execution calculate Forked Executions forked Execution session project already Forked Executions return Collections singleton List forked Execution private Mojo Execution Configurator mojo Execution Configurator Mojo Execution mojo Execution String configurator Id mojo Execution get Mojo Descriptor get Component Configurator configurator Id null configurator Id default Mojo Execution Configurator mojo Execution Configurator mojo Execution Configurators get configurator Id mojo Execution Configurator null plugin custom component configurator custom mojo execution configurator fall back default mojo execution configurator mojo Execution Configurator mojo Execution Configurators get default return mojo Execution Configurator
package org apache Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Array List import java util Arrays import java util Collection import java util Collections import java util Date import java util Hash Set import java util Linked Hash Map import java util Linked Hash Set import java util List import java util Map import org apache artifact Artifact Utils import org apache execution Default Maven Execution Result import org apache execution Execution Event import org apache execution Maven Execution Request import org apache execution Maven Execution Result import org apache execution Maven Session import org apache execution Project Dependency Graph import org apache graph Graph Builder import org apache internal aether Default Repository System Session Factory import org apache lifecycle internal Execution Event Catapult import org apache lifecycle internal Lifecycle Starter import org apache model Prerequisites import org apache model building Model Problem import org apache model building Result import org apache plugin Legacy Support import org apache project Maven Project import org apache project Project Builder import org apache repository Local Repository Accessible Exception import org apache session scope internal Session Scope import org codehaus plexus Plexus Container import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus component repository exception Component Lookup Exception import org codehaus plexus logging Logger import org eclipse aether Default Repository System Session import org eclipse aether Repository System Session import org eclipse aether repository Workspace Reader import org eclipse aether util repository Chained Workspace Reader import com google common collect Iterables author Jason van Zyl Component role Maven class public class Default Maven implements Maven Requirement private Logger logger Requirement protected Project Builder project Builder Requirement private Lifecycle Starter lifecycle Starter Requirement protected Plexus Container container Requirement private Execution Event Catapult event Catapult Requirement private Legacy Support legacy Support Requirement private Session Scope session Scope Requirement private Default Repository System Session Factory repository Session Factory Requirement hint Graph Builder private Graph Builder graph Builder Override public Maven Execution Result execute Maven Execution Request request Maven Execution Result result try result Execute request catch Memory Error e result add Exception Result new Default Maven Execution Result e catch Runtime Exception e Hack make cycle detection new graph builder e get Cause instanceof Project Cycle Exception result add Exception Result new Default Maven Execution Result e get Cause else result add Exception Result new Default Maven Execution Result new Internal Error Exception Internal error e e finally legacy Support set Session null return result Setup initial properties Validate local repository directory accessible Create Repository System Session Create Maven Session Execute Abstract Lifecycle Participant Session Start session Get reactor projects looking general errors Create Project Dependency Graph using trimming takes account projects reactor mode ensures projects passed Reactor Reader specified Create Reactor Reader get Project Map projects get Project Map projects code checks duplicate projects definitions build Ideally type duplicate checking part getting reactor projects duplicate checking conflated get Project Map projects Execute Abstract Lifecycle Participant Projects Read session Create Project Dependency Graph without trimming trimming done new topological sort required execution Abstract Lifecycle Participants free mutate Maven Project instances may change dependencies turn affect build order Execute Lifecycle Starter start Suppress Warnings checkstyle methodlength private Maven Execution Result Execute Maven Execution Request request request set Start Time new Date Maven Execution Result result new Default Maven Execution Result try validate Local Repository request catch Local Repository Accessible Exception e return add Exception Result result e enter session scope right Maven Session creation Abstract Lifecycle Participant lookups Session Scoped components Injected Abstract Lifecycle Participants session Scope enter try Default Repository System Session repo Session Default Repository System Session new Repository Session request Maven Session session new Maven Session container repo Session request result session Scope seed Maven Session class session legacy Support set Session session return Execute request session result repo Session finally session Scope exit private Maven Execution Result Execute Maven Execution Request request Maven Session session Maven Execution Result result Default Repository System Session repo Session try Line Length Abstract Maven Lifecycle Participant listener get Lifecycle Participants Collections Maven Project empty List listener Session Start session Line Length catch Maven Execution Exception e return add Exception Result result e event Catapult fire Execution Event Type Project Discovery Started session null Result extends Project Dependency Graph graph Result build Graph session result graph Result Errors return add Exception Result result Iterables Array graph Result get Problems Model Problem class get Exception try session set Project Map get Project Map session get Projects catch Duplicate Project Exception e return add Exception Result result e Workspace Reader reactor Workspace try reactor Workspace container lookup Workspace Reader class Reactor Reader catch Component Lookup Exception e return add Exception Result result e Desired order precedence local artifact repositories Reactor Workspace User Local Repository repo Session set Workspace Reader Chained Workspace Reader new Instance reactor Workspace repo Session get Workspace Reader repo Session set Read Class Loader original Class Loader Thread current Thread get Context Class Loader try Abstract Maven Lifecycle Participant listener get Lifecycle Participants session get Projects Thread current Thread set Context Class Loader listener get Class get Class Loader listener Projects Read session catch Maven Execution Exception e return add Exception Result result e finally Thread current Thread set Context Class Loader original Class Loader projects need topologically participants run Projects Read session participant free change dependencies project potentially change topological order projects therefore potentially change build order Note participants may affect topological order projects expected participant add remove projects session graph Result build Graph session result graph Result Errors return add Exception Result result Iterables Array graph Result get Problems Model Problem class get Exception try result Exceptions return result result set Topologically Sorted Projects session get Projects result set Project session get Top Level Project validate Prerequisites Non Maven Plugin Projects session get Projects lifecycle Starter execute session validate Activated Profiles session get Projects request get Active Profiles session get Result Exceptions return add Exception Result result session get Result get Exceptions get finally try Session End session get Projects session catch Maven Execution Exception e return add Exception Result result e return result private void Session End Collection Maven Project projects Maven Session session throws Maven Execution Exception Class Loader original Class Loader Thread current Thread get Context Class Loader try Abstract Maven Lifecycle Participant listener get Lifecycle Participants projects Thread current Thread set Context Class Loader listener get Class get Class Loader listener Session End session finally Thread current Thread set Context Class Loader original Class Loader public Repository System Session new Repository Session Maven Execution Request request return repository Session Factory new Repository Session request private void validate Local Repository Maven Execution Request request throws Local Repository Accessible Exception File local Repo Dir request get Local Repository Path logger debug Using local repository local Repo Dir local Repo Dir mkdirs local Repo Dir Directory throw new Local Repository Accessible Exception Could create local repository local Repo Dir private Collection Abstract Maven Lifecycle Participant get Lifecycle Participants Collection Maven Project projects Collection Abstract Maven Lifecycle Participant lifecycle Listeners new Linked Hash Set Class Loader original Class Loader Thread current Thread get Context Class Loader try try lifecycle Listeners add container lookup List Abstract Maven Lifecycle Participant class catch Component Lookup Exception e silly lookup List return empty list logger warn Failed lookup lifecycle participants e get Message Collection Class Loader scanned Realms new Hash Set Maven Project project projects Class Loader project Realm project get Class Realm project Realm null scanned Realms add project Realm Thread current Thread set Context Class Loader project Realm try lifecycle Listeners add container lookup List Abstract Maven Lifecycle Participant class catch Component Lookup Exception e silly lookup List return empty list logger warn Failed lookup lifecycle participants e get Message finally Thread current Thread set Context Class Loader original Class Loader return lifecycle Listeners private Maven Execution Result add Exception Result Maven Execution Result result Throwable e result get Exceptions contains e result add Exception e return result private void validate Prerequisites Non Maven Plugin Projects List Maven Project projects Maven Project Project projects plugin equals Project get Packaging Prerequisites prerequisites Project get Prerequisites prerequisites null prerequisites get Maven null logger warn project Project get Id uses prerequisites intended plugin projects non plugin projects purposes use enforcer plugin See https apache org enforcer enforcer rules require Maven Version html private void validate Activated Profiles List Maven Project projects List String active Profile Ids Collection String Activated Profile Ids new Linked Hash Set active Profile Ids Maven Project project projects List String profile Ids project get Injected Profile Ids values Activated Profile Ids remove profile Ids String Activated Profile Id Activated Profile Ids logger warn requested profile Activated Profile Id could activated exist private Map String Maven Project get Project Map Collection Maven Project projects throws Duplicate Project Exception Map String Maven Project index new Linked Hash Map Map String List File collisions new Linked Hash Map Maven Project project projects String project Id Artifact Utils key project get Group Id project get Artifact Id project get Version Maven Project collision index get project Id collision null index put project Id project else List File pom Files collisions get project Id pom Files null pom Files new Array List Arrays List collision get File project get File collisions put project Id pom Files else pom Files add project get File collisions Empty throw new Duplicate Project Exception Two projects reactor identifier please make sure group Id artifact Id version unique project collisions collisions return index private Result extends Project Dependency Graph build Graph Maven Session session Maven Execution Result result Result extends Project Dependency Graph graph Result graph Builder build session Model Problem problem graph Result get Problems problem get Severity Model Problem Severity logger warn problem String else logger error problem String graph Result Errors Project Dependency Graph project Dependency Graph graph Result get session set Projects project Dependency Graph get Sorted Projects session set Projects project Dependency Graph get Projects session set Project Dependency Graph project Dependency Graph return graph Result Deprecated January protected Logger get Logger return logger
package org apache execution Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Array List import java util Date import java util Hash Map import java util List import java util Map import java util Properties import org apache commons lang Validate import org apache artifact repository Artifact Repository import org apache eventspy internal Event Spy Dispatcher import org apache model Profile import org apache project Default Project Building Request import org apache project Project Building Request import org apache properties internal System Properties import org apache settings Mirror import org apache settings Proxy import org apache settings Server import org apache toolchain model Toolchain Model import org eclipse aether Default Repository Cache import org eclipse aether Repository Cache import org eclipse aether repository Workspace Reader import org eclipse aether transfer Transfer Listener import com google common collect Maps author Jason van Zyl public class Default Maven Execution Request implements Maven Execution Request private Repository Cache repository Cache new Default Repository Cache private Workspace Reader workspace Reader private Artifact Repository local Repository private Event Spy Dispatcher event Spy Dispatcher private File local Repository Path private boolean offline false private boolean interactive Mode true private boolean cache Transfer Error private boolean cache Found private List Proxy proxies private List Server servers private List Mirror mirrors private List Profile profiles private List String plugin Groups private boolean Project Present true need allow per execution user global settings embedder might running mode executing many threads totally different settings private File user Settings File private File global Settings File private File user Toolchains File private File global Toolchains File Request private File multi Module Project Directory private File basedir private List String goals private boolean use Reactor false private boolean recursive true private File pom private String reactor Failure Behavior private List String selected Projects private List String excluded Projects private String resume private String make Behavior private Properties system Properties private Properties user Properties private Date start Time private boolean show Errors false private List String active Profiles private List String inactive Profiles private Transfer Listener transfer Listener private int logging Level private String global Checksum Policy private boolean update Snapshots false private List Artifact Repository remote Repositories private List Artifact Repository plugin Artifact Repositories private Execution Listener execution Listener private int degree Concurrency private String builder Id singlethreaded private Map String List Toolchain Model toolchains Suppress updates issue private boolean Snapshot Updates private boolean use Legacy Local Repository Manager false private Map String Object data public Default Maven Execution Request public static Maven Execution Request copy Maven Execution Request original Default Maven Execution Request copy new Default Maven Execution Request copy set Local Repository original get Local Repository copy set Local Repository Path original get Local Repository Path copy set Offline original Offline copy set Interactive Mode original Interactive Mode copy set Cache Found original Cache Found copy set Cache Transfer Error original Cache Transfer Error copy set Proxies original get Proxies copy set Servers original get Servers copy set Mirrors original get Mirrors copy set Profiles original get Profiles copy set Plugin Groups original get Plugin Groups copy set Project Present original Project Present copy set User Settings File original get User Settings File copy set Global Settings File original get Global Settings File copy set User Toolchains File original get User Toolchains File copy set Global Toolchains File original get Global Toolchains File copy set Base Directory original get Base Directory null new File original get Base Directory null copy set Goals original get Goals copy set Recursive original Recursive copy set Pom original get Pom copy set System Properties original get System Properties copy set User Properties original get User Properties copy set Show Errors original Show Errors copy set Active Profiles original get Active Profiles copy set Inactive Profiles original get Inactive Profiles copy set Transfer Listener original get Transfer Listener copy set Logging Level original get Logging Level copy set Global Checksum Policy original get Global Checksum Policy copy set Update Snapshots original Update Snapshots copy set Remote Repositories original get Remote Repositories copy set Plugin Artifact Repositories original get Plugin Artifact Repositories copy set Repository Cache original get Repository Cache copy set Workspace Reader original get Workspace Reader copy set Snapshot Updates original Snapshot Updates copy set Execution Listener original get Execution Listener copy set Use Legacy Local Repository original Use Legacy Local Repository copy set Builder Id original get Builder Id return copy Override public String get Base Directory basedir null return null return basedir get Absolute Path Override public Artifact Repository get Local Repository return local Repository Override public File get Local Repository Path return local Repository Path Override public List String get Goals goals null goals new Array List return goals Override public Properties get System Properties system Properties null system Properties new Properties return system Properties Override public Properties get User Properties user Properties null user Properties new Properties return user Properties Override public File get Pom return pom Override public String get Reactor Failure Behavior return reactor Failure Behavior Override public List String get Selected Projects selected Projects null selected Projects new Array List return selected Projects Override public List String get Excluded Projects excluded Projects null excluded Projects new Array List return excluded Projects Override public String get Resume return resume Override public String get Make Behavior return make Behavior Override public Date get Start Time return start Time Override public boolean Show Errors return show Errors Override public boolean Interactive Mode return interactive Mode Override public Maven Execution Request set Active Profiles List String active Profiles active Profiles null active Profiles new Array List active Profiles else active Profiles null return Override public Maven Execution Request set Inactive Profiles List String inactive Profiles inactive Profiles null inactive Profiles new Array List inactive Profiles else inactive Profiles null return Override public Maven Execution Request set Remote Repositories List Artifact Repository remote Repositories remote Repositories null remote Repositories new Array List remote Repositories else remote Repositories null return Override public Maven Execution Request set Plugin Artifact Repositories List Artifact Repository plugin Artifact Repositories plugin Artifact Repositories null plugin Artifact Repositories new Array List plugin Artifact Repositories else plugin Artifact Repositories null return public void set Project Building Configuration Project Building Request project Building Configuration project Building Request project Building Configuration Override public List String get Active Profiles active Profiles null active Profiles new Array List return active Profiles Override public List String get Inactive Profiles inactive Profiles null inactive Profiles new Array List return inactive Profiles Override public Transfer Listener get Transfer Listener return transfer Listener Override public int get Logging Level return logging Level Override public boolean Offline return offline Override public boolean Update Snapshots return update Snapshots Override public boolean Snapshot Updates return Snapshot Updates Override public String get Global Checksum Policy return global Checksum Policy Override public boolean Recursive return recursive Override public Maven Execution Request set Base Directory File basedir basedir basedir return Override public Maven Execution Request set Start Time Date start Time start Time start Time return Override public Maven Execution Request set Show Errors boolean show Errors show Errors show Errors return Override public Maven Execution Request set Goals List String goals goals null goals new Array List goals else goals null return Override public Maven Execution Request set Local Repository Artifact Repository local Repository local Repository local Repository local Repository null set Local Repository Path new File local Repository get Basedir get Absolute File return Override public Maven Execution Request set Local Repository Path File local Repository local Repository Path local Repository return Override public Maven Execution Request set Local Repository Path String local Repository local Repository Path local Repository null new File local Repository null return Override public Maven Execution Request set System Properties Properties properties properties null system Properties System Properties copy Properties properties else system Properties null return Override public Maven Execution Request set User Properties Properties user Properties user Properties null user Properties new Properties user Properties put user Properties else user Properties null return Override public Maven Execution Request set Reactor Failure Behavior String failure Behavior reactor Failure Behavior failure Behavior return Override public Maven Execution Request set Selected Projects List String selected Projects selected Projects null selected Projects new Array List selected Projects else selected Projects null return Override public Maven Execution Request set Excluded Projects List String excluded Projects excluded Projects null excluded Projects new Array List excluded Projects else excluded Projects null return Override public Maven Execution Request set Resume String project resume project return Override public Maven Execution Request set Make Behavior String make Behavior make Behavior make Behavior return Override public Maven Execution Request add Active Profile String profile get Active Profiles contains profile get Active Profiles add profile return Override public Maven Execution Request add Inactive Profile String profile get Inactive Profiles contains profile get Inactive Profiles add profile return Override public Maven Execution Request add Active Profiles List String profiles String profile profiles add Active Profile profile return Override public Maven Execution Request add Inactive Profiles List String profiles String profile profiles add Inactive Profile profile return public Maven Execution Request set Use Reactor boolean reactor Active use Reactor reactor Active return public boolean use Reactor return use Reactor deprecated use link set Pom File Deprecated public Maven Execution Request set Pom File String pom Filename pom Filename null pom new File pom Filename return Override public Maven Execution Request set Pom File pom pom pom return Override public Maven Execution Request set Interactive Mode boolean interactive interactive Mode interactive return Override public Maven Execution Request set Transfer Listener Transfer Listener transfer Listener transfer Listener transfer Listener return Override public Maven Execution Request set Logging Level int logging Level logging Level logging Level return Override public Maven Execution Request set Offline boolean offline offline offline return Override public Maven Execution Request set Update Snapshots boolean update Snapshots update Snapshots update Snapshots return Override public Maven Execution Request set Snapshot Updates boolean Snapshot Updates Snapshot Updates Snapshot Updates return Override public Maven Execution Request set Global Checksum Policy String global Checksum Policy global Checksum Policy global Checksum Policy return Settings equivalents Override public List Proxy get Proxies proxies null proxies new Array List return proxies Override public Maven Execution Request set Proxies List Proxy proxies proxies null proxies new Array List proxies else proxies null return Override public Maven Execution Request add Proxy Proxy proxy Validate Null proxy proxy null Proxy p get Proxies p get Id null p get Id equals proxy get Id return get Proxies add proxy return Override public List Server get Servers servers null servers new Array List return servers Override public Maven Execution Request set Servers List Server servers servers null servers new Array List servers else servers null return Override public Maven Execution Request add Server Server server Validate Null server server null Server p get Servers p get Id null p get Id equals server get Id return get Servers add server return Override public List Mirror get Mirrors mirrors null mirrors new Array List return mirrors Override public Maven Execution Request set Mirrors List Mirror mirrors mirrors null mirrors new Array List mirrors else mirrors null return Override public Maven Execution Request add Mirror Mirror mirror Validate Null mirror mirror null Mirror p get Mirrors p get Id null p get Id equals mirror get Id return get Mirrors add mirror return Override public List Profile get Profiles profiles null profiles new Array List return profiles Override public Maven Execution Request set Profiles List Profile profiles profiles null profiles new Array List profiles else profiles null return Override public List String get Plugin Groups plugin Groups null plugin Groups new Array List return plugin Groups Override public Maven Execution Request set Plugin Groups List String plugin Groups plugin Groups null plugin Groups new Array List plugin Groups else plugin Groups null return Override public Maven Execution Request add Plugin Group String plugin Group get Plugin Groups contains plugin Group get Plugin Groups add plugin Group return Override public Maven Execution Request add Plugin Groups List String plugin Groups String plugin Group plugin Groups add Plugin Group plugin Group return Override public Maven Execution Request set Recursive boolean recursive recursive recursive return calculated request attributes private Project Building Request project Building Request Override public boolean Project Present return Project Present Override public Maven Execution Request set Project Present boolean project Present Project Present project Present return Settings files Override public File get User Settings File return user Settings File Override public Maven Execution Request set User Settings File File user Settings File user Settings File user Settings File return Override public File get Global Settings File return global Settings File Override public Maven Execution Request set Global Settings File File global Settings File global Settings File global Settings File return Override public File get User Toolchains File return user Toolchains File Override public Maven Execution Request set User Toolchains File File user Toolchains File user Toolchains File user Toolchains File return Override public File get Global Toolchains File return global Toolchains File Override public Maven Execution Request set Global Toolchains File File global Toolchains File global Toolchains File global Toolchains File return Override public Maven Execution Request add Remote Repository Artifact Repository repository Artifact Repository repo get Remote Repositories repo get Id null repo get Id equals repository get Id return get Remote Repositories add repository return Override public List Artifact Repository get Remote Repositories remote Repositories null remote Repositories new Array List return remote Repositories Override public Maven Execution Request add Plugin Artifact Repository Artifact Repository repository Artifact Repository repo get Plugin Artifact Repositories repo get Id null repo get Id equals repository get Id return get Plugin Artifact Repositories add repository return Override public List Artifact Repository get Plugin Artifact Repositories plugin Artifact Repositories null plugin Artifact Repositories new Array List return plugin Artifact Repositories belong Override public Project Building Request get Project Building Request project Building Request null project Building Request new Default Project Building Request project Building Request set Local Repository get Local Repository project Building Request set System Properties get System Properties project Building Request set User Properties get User Properties project Building Request set Remote Repositories get Remote Repositories project Building Request set Plugin Artifact Repositories get Plugin Artifact Repositories project Building Request set Active Profile Ids get Active Profiles project Building Request set Inactive Profile Ids get Inactive Profiles project Building Request set Profiles get Profiles project Building Request set Process Plugins true project Building Request set Build Start Time get Start Time return project Building Request Override public Maven Execution Request add Profile Profile profile Validate Null profile profile null Profile p get Profiles p get Id null p get Id equals profile get Id return get Profiles add profile return Override public Repository Cache get Repository Cache return repository Cache Override public Maven Execution Request set Repository Cache Repository Cache repository Cache repository Cache repository Cache return Override public Execution Listener get Execution Listener return execution Listener Override public Maven Execution Request set Execution Listener Execution Listener execution Listener execution Listener execution Listener return Override public void set Degree Concurrency final int degree Concurrency degree Concurrency degree Concurrency Override public int get Degree Concurrency return degree Concurrency Override public Workspace Reader get Workspace Reader return workspace Reader Override public Maven Execution Request set Workspace Reader Workspace Reader workspace Reader workspace Reader workspace Reader return Override public boolean Cache Transfer Error return cache Transfer Error Override public Maven Execution Request set Cache Transfer Error boolean cache Transfer Error cache Transfer Error cache Transfer Error return Override public boolean Cache Found return cache Found Override public Maven Execution Request set Cache Found boolean cache Found cache Found cache Found return Override public boolean Use Legacy Local Repository return use Legacy Local Repository Manager Override public Maven Execution Request set Use Legacy Local Repository boolean use Legacy Local Repository Manager use Legacy Local Repository Manager use Legacy Local Repository Manager return Override public Maven Execution Request set Builder Id String builder Id builder Id builder Id return Override public String get Builder Id return builder Id Override public Map String List Toolchain Model get Toolchains toolchains null toolchains new Hash Map return toolchains Override public Maven Execution Request set Toolchains Map String List Toolchain Model toolchains toolchains toolchains return Override public void set Multi Module Project Directory File directory multi Module Project Directory directory Override public File get Multi Module Project Directory return multi Module Project Directory Override public Maven Execution Request set Event Spy Dispatcher Event Spy Dispatcher event Spy Dispatcher event Spy Dispatcher event Spy Dispatcher return Override public Event Spy Dispatcher get Event Spy Dispatcher return event Spy Dispatcher Override public Map String Object get Data data null data Maps new Hash Map return data
package org apache execution Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Array List import java util Hash Map import java util List import java util Map import java util Set import javax inject Inject import javax inject Named import org apache artifact Invalid Repository Exception import org apache artifact repository Artifact Repository import org apache bridge Maven Repository System import org apache repository Repository System needs go away couched terms execution request import org apache settings Mirror import org apache settings Proxy import org apache settings Repository import org apache settings Server import org apache settings Settings import org apache settings Settings Utils Settings core import org apache toolchain model Persisted Toolchains import org apache toolchain model Toolchain Model import org codehaus plexus util String Utils Named public class Default Maven Execution Request Populator implements Maven Execution Request Populator private final Maven Repository System repository System Inject public Default Maven Execution Request Populator Maven Repository System repository System repository System repository System Override public Maven Execution Request populate Toolchains Maven Execution Request request Persisted Toolchains toolchains throws Maven Execution Request Population Exception toolchains null Map String List Toolchain Model grouped Toolchains new Hash Map Toolchain Model model toolchains get Toolchains grouped Toolchains contains Key model get Type grouped Toolchains put model get Type new Array List Toolchain Model grouped Toolchains get model get Type add model request set Toolchains grouped Toolchains return request Override public Maven Execution Request populate Defaults Maven Execution Request request throws Maven Execution Request Population Exception base Directory request local Repository request populate Default Plugin Groups request inject Default Repositories request inject Default Plugin Repositories request return request private void populate Default Plugin Groups Maven Execution Request request request add Plugin Group org apache plugins request add Plugin Group org codehaus mojo private void inject Default Repositories Maven Execution Request request throws Maven Execution Request Population Exception Set String defined Repositories repository System get Repo Ids request get Remote Repositories defined Repositories contains Repository System try request add Remote Repository repository System create Default Remote Repository request catch Exception e throw new Maven Execution Request Population Exception create default remote repository e private void inject Default Plugin Repositories Maven Execution Request request throws Maven Execution Request Population Exception Set String defined Repositories repository System get Repo Ids request get Plugin Artifact Repositories defined Repositories contains Repository System try request add Plugin Artifact Repository repository System create Default Remote Repository request catch Exception e throw new Maven Execution Request Population Exception create default remote repository e private void local Repository Maven Execution Request request throws Maven Execution Request Population Exception Local Repository Use value passed via configuration Use value resultant settings Use default value request get Local Repository null request set Local Repository create Local Repository request request get Local Repository Path null request set Local Repository Path new File request get Local Repository get Basedir get Absolute File Artifact Transfer Mechanism private Artifact Repository create Local Repository Maven Execution Request request throws Maven Execution Request Population Exception String local Repository Path null request get Local Repository Path null local Repository Path request get Local Repository Path get Absolute Path String Utils Empty local Repository Path local Repository Path Repository System default User Local Repository get Absolute Path try return repository System create Local Repository request new File local Repository Path catch Exception e throw new Maven Execution Request Population Exception create local repository e private void base Directory Maven Execution Request request request get Base Directory null request get Pom null request set Base Directory request get Pom get Absolute File get Parent File Override Deprecated public Maven Execution Request populate Settings Maven Execution Request request Settings settings throws Maven Execution Request Population Exception settings null return request request set Offline settings Offline request set Interactive Mode settings Interactive Mode request set Plugin Groups settings get Plugin Groups request set Local Repository Path settings get Local Repository Server server settings get Servers server server clone request add Server server proxies proxy active true active protocol http protocol host proxy somewhere com host port port username proxyuser username password somepassword password non Proxy Hosts www google com somewhere com non Proxy Hosts proxy proxies Proxy proxy settings get Proxies proxy Active continue proxy proxy clone request add Proxy proxy mirrors mirror id nexus id mirror mirror url http repository sonatype org content groups public url mirror mirrors Mirror mirror settings get Mirrors mirror mirror clone request add Mirror mirror request set Active Profiles settings get Active Profiles org apache settings Profile raw Profile settings get Profiles request add Profile Settings Utils convert Settings Profile raw Profile settings get Active Profiles contains raw Profile get Id List Repository remote Repositories raw Profile get Repositories Repository remote Repository remote Repositories try request add Remote Repository repository System build Artifact Repository remote Repository catch Invalid Repository Exception e nothing List Repository plugin Repositories raw Profile get Plugin Repositories Repository plugin Repo plugin Repositories try request add Plugin Artifact Repository repository System build Artifact Repository plugin Repo catch Invalid Repository Exception e nothing return request end
package org apache plugin internal Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import org apache commons lang Validate import org apache Repository Utils import org apache artifact Artifact import org apache classrealm Class Realm Manager import org apache execution Maven Session import org apache execution scope internal Mojo Execution Scope Module import org apache model Plugin import org apache monitor logging Default Log import org apache plugin Context Enabled import org apache plugin Debug Configuration Listener import org apache plugin Extension Realm Cache import org apache plugin Invalid Plugin Descriptor Exception import org apache plugin Maven Plugin Manager import org apache plugin Maven Plugin Validator import org apache plugin Mojo import org apache plugin Mojo Execution import org apache plugin Mojo Found Exception import org apache plugin Plugin Artifacts Cache import org apache plugin Plugin Configuration Exception import org apache plugin Plugin Container Exception import org apache plugin Plugin Descriptor Cache import org apache plugin Plugin Descriptor Parsing Exception import org apache plugin Plugin Incompatible Exception import org apache plugin Plugin Manager Exception import org apache plugin Plugin Parameter Exception import org apache plugin Plugin Parameter Expression Evaluator import org apache plugin Plugin Realm Cache import org apache plugin Plugin Resolution Exception import org apache plugin descriptor Mojo Descriptor import org apache plugin descriptor Parameter import org apache plugin descriptor Plugin Descriptor import org apache plugin descriptor Plugin Descriptor Builder import org apache plugin version Default Plugin Version Request import org apache plugin version Plugin Version Request import org apache plugin version Plugin Version Resolution Exception import org apache plugin version Plugin Version Resolver import org apache project Extension Descriptor import org apache project Extension Descriptor Builder import org apache project Maven Project import org apache rtinfo Runtime Information import org apache session scope internal Session Scope Module import org codehaus plexus Default Plexus Container import org codehaus plexus Plexus Container import org codehaus plexus classworlds realm Class Realm import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus component composition Cycle Detected Component Graph Exception import org codehaus plexus component configurator Component Configuration Exception import org codehaus plexus component configurator Component Configurator import org codehaus plexus component configurator Configuration Listener import org codehaus plexus component configurator expression Expression Evaluation Exception import org codehaus plexus component configurator expression Expression Evaluator import org codehaus plexus component repository Component Descriptor import org codehaus plexus component repository exception Component Lifecycle Exception import org codehaus plexus component repository exception Component Lookup Exception import org codehaus plexus configuration Plexus Configuration import org codehaus plexus configuration Plexus Configuration Exception import org codehaus plexus configuration xml Xml Plexus Configuration import org codehaus plexus logging Logger import org codehaus plexus logging Logger Manager import org codehaus plexus util Reader Factory import org codehaus plexus util String Utils import org codehaus plexus util xml Xpp Dom import org eclipse aether Repository System Session import org eclipse aether graph Dependency Filter import org eclipse aether graph Dependency Node import org eclipse aether repository Remote Repository import org eclipse aether util filter Dependency Filter import org eclipse aether util graph visitor Preorder Node List Generator import java io Buffered Input Stream import java io Byte Array Output Stream import java io File import java io File Input Stream import java io Exception import java io Input Stream import java io Print Stream import java io Reader import java util Array List import java util Collection import java util Collections import java util Hash Map import java util Iterator import java util List import java util Map import java util jar Jar File import java util zip Zip Entry Provides basic services manage Maven plugins mojos component kept general design plugins mojos used arbitrary contexts particular mojos used ordinary build plugins well special purpose plugins like reports author Benjamin Bentmann since Component role Maven Plugin Manager class public class Default Maven Plugin Manager implements Maven Plugin Manager p Plugin Id gt Extension Realm Cache Cache Record map Maven Project context value key map used ensure class realm used load build extensions load mojos extensions true plugins p strong Note strong part internal implementation may changed removed without notice since public static final String Default Maven Plugin Manager class get Name extensions Realms Requirement private Logger logger Requirement private Logger Manager logger Manager Requirement private Plexus Container container Requirement private Class Realm Manager class Realm Manager Requirement private Plugin Descriptor Cache plugin Descriptor Cache Requirement private Plugin Realm Cache plugin Realm Cache Requirement private Plugin Dependencies Resolver plugin Dependencies Resolver Requirement private Runtime Information runtime Information Requirement private Extension Realm Cache extension Realm Cache Requirement private Plugin Version Resolver plugin Version Resolver Requirement private Plugin Artifacts Cache plugin Artifacts Cache private Extension Descriptor Builder extension Descriptor Builder new Extension Descriptor Builder private Plugin Descriptor Builder builder new Plugin Descriptor Builder public synchronized Plugin Descriptor get Plugin Descriptor Plugin plugin List Remote Repository repositories Repository System Session session throws Plugin Resolution Exception Plugin Descriptor Parsing Exception Invalid Plugin Descriptor Exception Plugin Descriptor Cache Key cache Key plugin Descriptor Cache create Key plugin repositories session Plugin Descriptor plugin Descriptor plugin Descriptor Cache get cache Key plugin Descriptor null org eclipse aether artifact Artifact artifact plugin Dependencies Resolver resolve plugin repositories session Artifact plugin Artifact Repository Utils Artifact artifact plugin Descriptor extract Plugin Descriptor plugin Artifact plugin plugin Descriptor set Required Maven Version artifact get Property required Maven Version null plugin Descriptor Cache put cache Key plugin Descriptor plugin Descriptor set Plugin plugin return plugin Descriptor private Plugin Descriptor extract Plugin Descriptor Artifact plugin Artifact Plugin plugin throws Plugin Descriptor Parsing Exception Invalid Plugin Descriptor Exception Plugin Descriptor plugin Descriptor null File plugin File plugin Artifact get File try plugin File File try Jar File plugin Jar new Jar File plugin File false Zip Entry plugin Descriptor Entry plugin Jar get Entry get Plugin Descriptor Location plugin Descriptor Entry null Input Stream plugin Jar get Input Stream plugin Descriptor Entry plugin Descriptor parse Plugin Descriptor plugin plugin File get Absolute Path else File plugin Xml new File plugin File get Plugin Descriptor Location plugin Xml File try Input Stream new Buffered Input Stream new File Input Stream plugin Xml plugin Descriptor parse Plugin Descriptor plugin plugin Xml get Absolute Path plugin Descriptor null throw new Exception plugin descriptor found get Plugin Descriptor Location catch Exception e throw new Plugin Descriptor Parsing Exception plugin plugin File get Absolute Path e Maven Plugin Validator validator new Maven Plugin Validator plugin Artifact validator validate plugin Descriptor validator Errors throw new Invalid Plugin Descriptor Exception Invalid plugin descriptor plugin get Id plugin File validator get Errors plugin Descriptor set Plugin Artifact plugin Artifact return plugin Descriptor private String get Plugin Descriptor Location return plugin xml private Plugin Descriptor parse Plugin Descriptor Input Stream Plugin plugin String descriptor Location throws Plugin Descriptor Parsing Exception try Reader reader Reader Factory new Xml Reader Plugin Descriptor plugin Descriptor builder build reader descriptor Location return plugin Descriptor catch Exception Plexus Configuration Exception e throw new Plugin Descriptor Parsing Exception plugin descriptor Location e public Mojo Descriptor get Mojo Descriptor Plugin plugin String goal List Remote Repository repositories Repository System Session session throws Mojo Found Exception Plugin Resolution Exception Plugin Descriptor Parsing Exception Invalid Plugin Descriptor Exception Plugin Descriptor plugin Descriptor get Plugin Descriptor plugin repositories session Mojo Descriptor mojo Descriptor plugin Descriptor get Mojo goal mojo Descriptor null throw new Mojo Found Exception goal plugin Descriptor return mojo Descriptor public void check Required Maven Version Plugin Descriptor plugin Descriptor throws Plugin Incompatible Exception String required Maven Version plugin Descriptor get Required Maven Version String Utils Blank required Maven Version try runtime Information Maven Version required Maven Version throw new Plugin Incompatible Exception plugin Descriptor get Plugin plugin plugin Descriptor get Id requires Maven version required Maven Version catch Runtime Exception e logger warn Could verify plugin Maven prerequisite e get Message public synchronized void setup Plugin Realm Plugin Descriptor plugin Descriptor Maven Session session Class Loader parent List String imports Dependency Filter filter throws Plugin Resolution Exception Plugin Container Exception Plugin plugin plugin Descriptor get Plugin Maven Project project session get Current Project plugin Extensions Extension Realm Cache Cache Record extension Record try Repository System Session repository Session session get Repository Session extension Record setup Extensions Realm project plugin repository Session catch Plugin Manager Exception e extensions realm expected fully setup point exception means problem code user error throw new Illegal State Exception e Class Realm plugin Realm extension Record realm List Artifact plugin Artifacts extension Record artifacts Component Descriptor component Descriptor plugin Descriptor get Components component Descriptor set Realm plugin Realm plugin Descriptor set Class Realm plugin Realm plugin Descriptor set Artifacts plugin Artifacts else Map String Class Loader foreign Imports calc Imports project parent imports Plugin Realm Cache Key cache Key plugin Realm Cache create Key plugin parent foreign Imports filter project get Remote Plugin Repositories session get Repository Session Plugin Realm Cache Cache Record cache Record plugin Realm Cache get cache Key cache Record null plugin Descriptor set Class Realm cache Record realm plugin Descriptor set Artifacts new Array List cache Record artifacts Component Descriptor component Descriptor plugin Descriptor get Components component Descriptor set Realm cache Record realm else create Plugin Realm plugin Descriptor session parent foreign Imports filter cache Record plugin Realm Cache put cache Key plugin Descriptor get Class Realm plugin Descriptor get Artifacts plugin Realm Cache register project cache Key cache Record private void create Plugin Realm Plugin Descriptor plugin Descriptor Maven Session session Class Loader parent Map String Class Loader foreign Imports Dependency Filter filter throws Plugin Resolution Exception Plugin Container Exception Plugin plugin Validate Null plugin Descriptor get Plugin plugin Descriptor plugin null Artifact plugin Artifact Validate Null plugin Descriptor get Plugin Artifact plugin Descriptor plugin Artifact null Maven Project project session get Current Project final Class Realm plugin Realm final List Artifact plugin Artifacts Repository System Session repository Session session get Repository Session Dependency Filter dependency Filter project get Extension Dependency Filter dependency Filter Dependency Filter new Instance dependency Filter filter Dependency Node root plugin Dependencies Resolver resolve plugin Repository Utils Artifact plugin Artifact dependency Filter project get Remote Plugin Repositories repository Session Preorder Node List Generator nlg new Preorder Node List Generator root accept nlg plugin Artifacts Maven Artifacts root nlg plugin Realm class Realm Manager create Plugin Realm plugin parent null foreign Imports Aether Artifacts plugin Artifacts discover Plugin Components plugin Realm plugin plugin Descriptor plugin Descriptor set Class Realm plugin Realm plugin Descriptor set Artifacts plugin Artifacts private void discover Plugin Components final Class Realm plugin Realm Plugin plugin Plugin Descriptor plugin Descriptor throws Plugin Container Exception try plugin Descriptor null Component Descriptor component Descriptor plugin Descriptor get Components component Descriptor set Realm plugin Realm container add Component Descriptor component Descriptor Default Plexus Container container discover Components plugin Realm new Session Scope Module container new Mojo Execution Scope Module container catch Component Lookup Exception Cycle Detected Component Graph Exception e throw new Plugin Container Exception plugin plugin Realm Error component graph plugin plugin get Id e get Message e private List org eclipse aether artifact Artifact Aether Artifacts final List Artifact plugin Artifacts return new Array List Repository Utils Artifacts plugin Artifacts private List Artifact Maven Artifacts Dependency Node root Preorder Node List Generator nlg List Artifact artifacts new Array List nlg get Nodes size Repository Utils Artifacts artifacts Collections singleton root Collections String empty List null Iterator Artifact artifacts iterator Next Artifact artifact next artifact get File null remove return artifacts private Map String Class Loader calc Imports Maven Project project Class Loader parent List String imports Map String Class Loader foreign Imports new Hash Map Class Loader project Realm project get Class Realm project Realm null foreign Imports put project Realm else foreign Imports put class Realm Manager get Maven Api Realm parent null imports null String parent Import imports foreign Imports put parent Import parent return foreign Imports public get Configured Mojo Class mojo Interface Maven Session session Mojo Execution mojo Execution throws Plugin Configuration Exception Plugin Container Exception Mojo Descriptor mojo Descriptor mojo Execution get Mojo Descriptor Plugin Descriptor plugin Descriptor mojo Descriptor get Plugin Descriptor Class Realm plugin Realm plugin Descriptor get Class Realm logger Debug Enabled logger debug Configuring mojo mojo Descriptor get Id plugin realm plugin Realm forcing use plugin realm lookups might occur lifecycle part lookup specifically trying keep lookups occur contextualize calls line right realm Class Realm old Lookup Realm container set Lookup Realm plugin Realm Class Loader old Class Loader Thread current Thread get Context Class Loader Thread current Thread set Context Class Loader plugin Realm try mojo try mojo container lookup mojo Interface mojo Descriptor get Role Hint catch Component Lookup Exception e Throwable cause e get Cause cause null cause instanceof Linkage Error cause instanceof Class Found Exception cause cause get Cause cause instanceof Class Def Found Error cause instanceof Class Found Exception Byte Array Output Stream os new Byte Array Output Stream Print Stream ps new Print Stream os ps println Unable load mojo mojo Descriptor get Goal plugin plugin Descriptor get Id required class missing cause get Message plugin Realm display ps throw new Plugin Container Exception mojo Descriptor plugin Realm os String cause else cause instanceof Linkage Error Byte Array Output Stream os new Byte Array Output Stream Print Stream ps new Print Stream os ps println Unable load mojo mojo Descriptor get Goal plugin plugin Descriptor get Id due incompatibility e get Class get Name cause get Message plugin Realm display ps throw new Plugin Container Exception mojo Descriptor plugin Realm os String cause throw new Plugin Container Exception mojo Descriptor plugin Realm Unable load mojo mojo Descriptor get Goal one required components plugin plugin Descriptor get Id e mojo instanceof Context Enabled Maven Project project session get Current Project Map String Object plugin Context session get Plugin Context plugin Descriptor project plugin Context null plugin Context put project project plugin Context put plugin Descriptor plugin Descriptor Context Enabled mojo set Plugin Context plugin Context mojo instanceof Mojo Logger mojo Logger logger Manager get Logger Component mojo Descriptor get Implementation Mojo mojo set Log new Default Log mojo Logger Xpp Dom dom mojo Execution get Configuration Plexus Configuration pom Configuration dom null pom Configuration new Xml Plexus Configuration configuration else pom Configuration new Xml Plexus Configuration dom Expression Evaluator expression Evaluator new Plugin Parameter Expression Evaluator session mojo Execution populate Plugin Fields mojo mojo Descriptor plugin Realm pom Configuration expression Evaluator return mojo finally Thread current Thread set Context Class Loader old Class Loader container set Lookup Realm old Lookup Realm private void populate Plugin Fields Object mojo Mojo Descriptor mojo Descriptor Class Realm plugin Realm Plexus Configuration configuration Expression Evaluator expression Evaluator throws Plugin Configuration Exception Component Configurator configurator null String configurator Id mojo Descriptor get Component Configurator String Utils Empty configurator Id configurator Id basic try could configuration passed lookup configurator known plexus via descriptor method could entirely handled plexus lookup configurator container lookup Component Configurator class configurator Id Configuration Listener listener new Debug Configuration Listener logger Validating Configuration Listener validator new Validating Configuration Listener mojo mojo Descriptor listener logger debug Configuring mojo mojo Descriptor get Id configurator Id configurator configurator configure Component mojo configuration expression Evaluator plugin Realm validator logger debug end configuration Collection Parameter missing Parameters validator get Missing Parameters missing Parameters Empty basic equals configurator Id throw new Plugin Parameter Exception mojo Descriptor new Array List missing Parameters else configurators like map oriented one n call listener hard way validate Parameters mojo Descriptor configuration expression Evaluator catch Component Configuration Exception e String message Unable parse configuration mojo mojo Descriptor get Id e get Failed Configuration null message parameter e get Failed Configuration get Name message e get Message throw new Plugin Configuration Exception mojo Descriptor get Plugin Descriptor message e catch Component Lookup Exception e throw new Plugin Configuration Exception mojo Descriptor get Plugin Descriptor Unable retrieve component configurator configurator Id configuration mojo mojo Descriptor get Id e catch Class Def Found Error e Byte Array Output Stream os new Byte Array Output Stream Print Stream ps new Print Stream os ps println required class missing configuration mojo mojo Descriptor get Id e get Message plugin Realm display ps throw new Plugin Configuration Exception mojo Descriptor get Plugin Descriptor os String e catch Linkage Error e Byte Array Output Stream os new Byte Array Output Stream Print Stream ps new Print Stream os ps println incompatibility encountered configuration mojo mojo Descriptor get Id e get Class get Name e get Message plugin Realm display ps throw new Plugin Configuration Exception mojo Descriptor get Plugin Descriptor os String e finally configurator null try container release configurator catch Component Lifecycle Exception e logger debug Failed release mojo configurator ignoring private void validate Parameters Mojo Descriptor mojo Descriptor Plexus Configuration configuration Expression Evaluator expression Evaluator throws Component Configuration Exception Plugin Parameter Exception mojo Descriptor get Parameters null return List Parameter invalid Parameters new Array List Parameter parameter mojo Descriptor get Parameters parameter Required continue Object value null Plexus Configuration config configuration get Child parameter get Name false config null String expression config get Value null try value expression Evaluator evaluate expression value null value config get Attribute default value null catch Expression Evaluation Exception e String msg Error evaluating expression expression configuration value configuration get Name throw new Component Configuration Exception configuration msg e value null config null config get Child Count invalid Parameters add parameter invalid Parameters Empty throw new Plugin Parameter Exception mojo Descriptor invalid Parameters public void release Mojo Object mojo Mojo Execution mojo Execution mojo null try container release mojo catch Component Lifecycle Exception e String goal Exec Id mojo Execution get Goal mojo Execution get Execution Id null goal Exec Id execution mojo Execution get Execution Id logger debug Error releasing mojo goal Exec Id e public Extension Realm Cache Cache Record setup Extensions Realm Maven Project project Plugin plugin Repository System Session session throws Plugin Manager Exception Suppress Warnings unchecked Map String Extension Realm Cache Cache Record plugin Realms Map String Extension Realm Cache Cache Record project get Context Value plugin Realms null plugin Realms new Hash Map project set Context Value plugin Realms final String plugin Key plugin get Id Extension Realm Cache Cache Record extension Record plugin Realms get plugin Key extension Record null return extension Record final List Remote Repository repositories project get Remote Plugin Repositories resolve plugin version necessary plugin get Version null Plugin Version Request version Request new Default Plugin Version Request plugin session repositories try plugin set Version plugin Version Resolver resolve version Request get Version catch Plugin Version Resolution Exception e throw new Plugin Manager Exception plugin e get Message e resolve plugin artifacts List Artifact artifacts Plugin Artifacts Cache Key cache Key plugin Artifacts Cache create Key plugin null repositories session Plugin Artifacts Cache Cache Record record Artifacts try record Artifacts plugin Artifacts Cache get cache Key catch Plugin Resolution Exception e throw new Plugin Manager Exception plugin e get Message e record Artifacts null artifacts record Artifacts artifacts else try artifacts resolve Extension Artifacts plugin repositories session record Artifacts plugin Artifacts Cache put cache Key artifacts catch Plugin Resolution Exception e plugin Artifacts Cache put cache Key e plugin Artifacts Cache register project cache Key record Artifacts throw new Plugin Manager Exception plugin e get Message e plugin Artifacts Cache register project cache Key record Artifacts create cache extensions realms final Extension Realm Cache Key extension Key extension Realm Cache create Key artifacts extension Record extension Realm Cache get extension Key extension Record null Class Realm extension Realm class Realm Manager create Extension Realm plugin Aether Artifacts artifacts figure use Plugin Descriptor running mojos Plugin Descriptor plugin Descriptor null plugin Extensions artifacts Empty ignore plugin descriptor parsing errors point errors reported calculation project build execution plan try plugin Descriptor extract Plugin Descriptor artifacts get plugin catch Plugin Descriptor Parsing Exception Invalid Plugin Descriptor Exception e ignore see discover Plugin Components extension Realm plugin plugin Descriptor Extension Descriptor extension Descriptor null Artifact extension Artifact artifacts get try extension Descriptor extension Descriptor Builder build extension Artifact get File catch Exception e String message Invalid extension descriptor plugin get Id e get Message logger Debug Enabled logger error message e else logger error message extension Record extension Realm Cache put extension Key extension Realm extension Descriptor artifacts extension Realm Cache register project extension Key extension Record plugin Realms put plugin Key extension Record return extension Record private List Artifact resolve Extension Artifacts Plugin extension Plugin List Remote Repository repositories Repository System Session session throws Plugin Resolution Exception Dependency Node root plugin Dependencies Resolver resolve extension Plugin null null repositories session Preorder Node List Generator nlg new Preorder Node List Generator root accept nlg return Maven Artifacts root nlg
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Array List import java util Arrays import java util List import java util Properties import org apache artifact Artifact import org apache artifact Invalid Repository Exception import org apache artifact repository Artifact Repository import org apache artifact resolver Artifact Found Exception import org apache artifact resolver Artifact Resolution Exception import org apache execution Maven Execution Request import org apache execution Maven Session import org apache model Repository import org apache model building Model Building Exception import org apache model building Model Building Request import org apache model building Model Source import org apache model building Url Model Source import org apache plugin Legacy Support import org apache profiles Profile Manager import org apache properties internal Environment Utils import org apache repository Repository System import org apache wagon events Transfer Listener import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement Component role Maven Project Builder class Deprecated public class Default Maven Project Builder implements Maven Project Builder Requirement private Project Builder project Builder Requirement private Repository System repository System Requirement private Legacy Support legacy Support Maven Project Builder Implementation private Project Building Request Request Project Builder Configuration configuration Default Project Building Request request new Default Project Building Request request set Validation Level Model Building Request request set Resolve Dependencies false request set Local Repository configuration get Local Repository request set Build Start Time configuration get Build Start Time request set User Properties configuration get User Properties request set System Properties configuration get Execution Properties Profile Manager profile Manager configuration get Global Profile Manager profile Manager null request set Active Profile Ids profile Manager get Explicitly Activated Ids request set Inactive Profile Ids profile Manager get Explicitly Deactivated Ids else Hack workaround deficiency legacy makes impossible plugins access global profile manager required build like invocation Failure consider activated profiles cause repo declarations lost turn result artifact resolution failures particular using enhanced local repo guards access local files based configured remote repos Maven Session session legacy Support get Session session null Maven Execution Request req session get Request req null request set Active Profile Ids req get Active Profiles request set Inactive Profile Ids req get Inactive Profiles return request private Project Building Request inject Session Project Building Request request Maven Session session legacy Support get Session session null request set Repository Session session get Repository Session request set System Properties session get System Properties request get User Properties Empty request set User Properties session get User Properties Maven Execution Request req session get Request req null request set Remote Repositories req get Remote Repositories else Properties props new Properties Environment Utils add Env Vars props props put System get Properties request set System Properties props return request Suppress Warnings unchecked private List Artifact Repository normalize Artifact Repositories List repositories Project Building Request request throws Project Building Exception provides backward compat x allowed plugins like remote resources plugin populate builder configuration model repositories instead artifact repositories repositories null boolean normalized false List Artifact Repository repos new Array List repositories size Object repository repositories repository instanceof Repository try Artifact Repository repo repository System build Artifact Repository Repository repository repository System inject Mirror request get Repository Session Arrays List repo repository System inject Proxy request get Repository Session Arrays List repo repository System inject Authentication request get Repository Session Arrays List repo repos add repo catch Invalid Repository Exception e throw new Project Building Exception Invalid remote repository repository e normalized true else repos add Artifact Repository repository normalized return repos return List Artifact Repository repositories private Project Building Exception transform Error Project Building Exception e e get Cause instanceof Model Building Exception return new Invalid Project Model Exception e get Project Id e get Message e get Pom File return e public Maven Project build File pom Project Builder Configuration configuration throws Project Building Exception Project Building Request request inject Session Request configuration try return project Builder build pom request get Project catch Project Building Exception e throw transform Error e used plugin public Maven Project build File pom Artifact Repository local Repository Profile Manager profile Manager throws Project Building Exception Project Builder Configuration configuration new Default Project Builder Configuration configuration set Local Repository local Repository configuration set Global Profile Manager profile Manager return build pom configuration public Maven Project build Repository Artifact artifact List Artifact Repository remote Repositories Project Builder Configuration configuration boolean allow Stub Model throws Project Building Exception Project Building Request request inject Session Request configuration request set Remote Repositories normalize Artifact Repositories remote Repositories request request set Process Plugins false request set Validation Level Model Building Request try return project Builder build artifact allow Stub Model request get Project catch Project Building Exception e throw transform Error e public Maven Project build Repository Artifact artifact List Artifact Repository remote Repositories Artifact Repository local Repository boolean allow Stub Model throws Project Building Exception Project Builder Configuration configuration new Default Project Builder Configuration configuration set Local Repository local Repository return build Repository artifact remote Repositories configuration allow Stub Model public Maven Project build Repository Artifact artifact List Artifact Repository remote Repositories Artifact Repository local Repository throws Project Building Exception return build Repository artifact remote Repositories local Repository true used pom less execution like running archetype generate taking profile handling interpolation base directory spec properly public Maven Project build Standalone Super Project Project Builder Configuration configuration throws Project Building Exception Project Building Request request inject Session Request configuration request set Process Plugins false request set Validation Level Model Building Request Model Source model Source new Url Model Source get Class get Resource standalone xml Maven Project project project Builder build model Source request get Project project set Execution Root true return project public Maven Project build Standalone Super Project Artifact Repository local Repository throws Project Building Exception return build Standalone Super Project local Repository null public Maven Project build Standalone Super Project Artifact Repository local Repository Profile Manager profile Manager throws Project Building Exception Project Builder Configuration configuration new Default Project Builder Configuration configuration set Local Repository local Repository configuration set Global Profile Manager profile Manager return build Standalone Super Project configuration public Maven Project build Dependencies File pom Artifact Repository local Repository Profile Manager profile Manager Transfer Listener transfer Listener throws Project Building Exception Artifact Resolution Exception Artifact Found Exception Project Builder Configuration configuration new Default Project Builder Configuration configuration set Local Repository local Repository configuration set Global Profile Manager profile Manager Project Building Request request inject Session Request configuration request set Resolve Dependencies true try return project Builder build pom request get Project catch Project Building Exception e throw transform Error e public Maven Project build Dependencies File pom Artifact Repository local Repository Profile Manager profile Manager throws Project Building Exception Artifact Resolution Exception Artifact Found Exception return build Dependencies pom local Repository profile Manager null
package org apache repository Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java net Malformed Exception import java net import java util List import org apache Repository Utils import org apache artifact repository Artifact Repository import org apache settings Mirror import org codehaus plexus component annotations Component import org codehaus plexus util String Utils Component role Mirror Selector class public class Default Mirror Selector implements Mirror Selector private static final String private static final String external public Mirror get Mirror Artifact Repository repository List Mirror mirrors String repo Id repository get Id repo Id null mirrors null Mirror mirror mirrors repo Id equals mirror get Mirror matches Layout repository mirror return mirror Mirror mirror mirrors match Pattern repository mirror get Mirror matches Layout repository mirror return mirror return null method checks pattern matches original Repository Valid patterns everything external everything localhost file based repo repo repo repo repo everything except repo param original Repository compare match param pattern used match Currently supported return true repository match pattern static boolean match Pattern Artifact Repository original Repository String pattern boolean result false String original Id original Repository get Id simple checks first short circuit processing equals pattern pattern equals original Id result true else process list String repos pattern split String repo repos repo repo trim see negative match repo length repo starts repo substring equals original Id explicitly exclude Set result stop processing result false break check exact match else repo equals original Id result true break check external else equals repo External Repo original Repository result true n stop processing case future segment explicitly excludes repo else equals repo result true n stop processing case future segment explicitly excludes repo return result Checks see repository refers external repository param original Repository return true external static boolean External Repo Artifact Repository original Repository try url new original Repository get Url return url get Host equals localhost url get Host equals url get Protocol equals file catch Malformed Exception e bad url skip validated already wagon lookup deal return false static boolean matches Layout Artifact Repository repository Mirror mirror return matches Layout Repository Utils get Layout repository mirror get Mirror Layouts Checks whether layouts configured mirror match layout repository param repo Layout layout repository may code null param mirror Layout layouts supported mirror may code null return code true layouts associated mirror match layout original repository code false otherwise static boolean matches Layout String repo Layout String mirror Layout boolean result false simple checks first short circuit processing String Utils Empty mirror Layout equals mirror Layout result true else mirror Layout equals repo Layout result true else process list String layouts mirror Layout split String layout layouts see negative match layout length layout starts layout substring equals repo Layout explicitly exclude Set result stop processing result false break check exact match else layout equals repo Layout result true break else equals layout result true n stop processing case future segment explicitly excludes repo return result
package org apache model building Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import org apache commons lang Validate import org apache artifact versioning Default Artifact Version import org apache artifact versioning Invalid Version Specification Exception import org apache artifact versioning Version Range import org apache model Activation import org apache model Build import org apache model Dependency import org apache model Dependency Management import org apache model Input Location import org apache model Input Source import org apache model Model import org apache model Parent import org apache model Plugin import org apache model Plugin Management import org apache model Profile import org apache model Repository import org apache model building Model Problem Severity import org apache model building Model Problem Version import org apache model composition Dependency Management Importer import org apache model inheritance Inheritance Assembler import org apache model interpolation Model Interpolator import org apache model io Model Parse Exception import org apache model management Dependency Management Injector import org apache model management Plugin Management Injector import org apache model normalization Model Normalizer import org apache model path Model Path Translator import org apache model path Model Url Normalizer import org apache model plugin Lifecycle Bindings Injector import org apache model plugin Plugin Configuration Expander import org apache model plugin Report Configuration Expander import org apache model plugin Reporting Converter import org apache model profile Default Profile Activation Context import org apache model profile Profile Injector import org apache model profile Profile Selector import org apache model resolution Invalid Repository Exception import org apache model resolution Model Resolver import org apache model resolution Unresolvable Model Exception import org apache model resolution Workspace Model Resolver import org apache model superpom Super Pom Provider import org apache model validation Model Validator import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus interpolation Map Based Value Source import org codehaus plexus interpolation String Search Interpolator import java io File import java io Exception import java util Array List import java util Collection import java util Hash Map import java util Iterator import java util Linked Hash Set import java util List import java util Map import java util Properties import static org apache model building Result error import static org apache model building Result new Result author Benjamin Bentmann Component role Model Builder class public class Default Model Builder implements Model Builder Requirement private Model Processor model Processor Requirement private Model Validator model Validator Requirement private Model Normalizer model Normalizer Requirement private Model Interpolator model Interpolator Requirement private Model Path Translator model Path Translator Requirement private Model Url Normalizer model Url Normalizer Requirement private Super Pom Provider super Pom Provider Requirement private Inheritance Assembler inheritance Assembler Requirement private Profile Selector profile Selector Requirement private Profile Injector profile Injector Requirement private Plugin Management Injector plugin Management Injector Requirement private Dependency Management Injector dependency Management Injector Requirement private Dependency Management Importer dependency Management Importer Requirement optional true private Lifecycle Bindings Injector lifecycle Bindings Injector Requirement private Plugin Configuration Expander plugin Configuration Expander Requirement private Report Configuration Expander report Configuration Expander Requirement private Reporting Converter reporting Converter public Default Model Builder set Model Processor Model Processor model Processor model Processor model Processor return public Default Model Builder set Model Validator Model Validator model Validator model Validator model Validator return public Default Model Builder set Model Normalizer Model Normalizer model Normalizer model Normalizer model Normalizer return public Default Model Builder set Model Interpolator Model Interpolator model Interpolator model Interpolator model Interpolator return public Default Model Builder set Model Path Translator Model Path Translator model Path Translator model Path Translator model Path Translator return public Default Model Builder set Model Url Normalizer Model Url Normalizer model Url Normalizer model Url Normalizer model Url Normalizer return public Default Model Builder set Super Pom Provider Super Pom Provider super Pom Provider super Pom Provider super Pom Provider return public Default Model Builder set Profile Selector Profile Selector profile Selector profile Selector profile Selector return public Default Model Builder set Profile Injector Profile Injector profile Injector profile Injector profile Injector return public Default Model Builder set Inheritance Assembler Inheritance Assembler inheritance Assembler inheritance Assembler inheritance Assembler return public Default Model Builder set Dependency Management Importer Dependency Management Importer dep Mgmt Importer dependency Management Importer dep Mgmt Importer return public Default Model Builder set Dependency Management Injector Dependency Management Injector dep Mgmt Injector dependency Management Injector dep Mgmt Injector return public Default Model Builder set Lifecycle Bindings Injector Lifecycle Bindings Injector lifecycle Bindings Injector lifecycle Bindings Injector lifecycle Bindings Injector return public Default Model Builder set Plugin Configuration Expander Plugin Configuration Expander plugin Configuration Expander plugin Configuration Expander plugin Configuration Expander return public Default Model Builder set Plugin Management Injector Plugin Management Injector plugin Management Injector plugin Management Injector plugin Management Injector return public Default Model Builder set Report Configuration Expander Report Configuration Expander report Configuration Expander report Configuration Expander report Configuration Expander return public Default Model Builder set Reporting Converter Reporting Converter reporting Converter reporting Converter reporting Converter return Override public Model Building Result build Model Building Request request throws Model Building Exception phase Default Model Building Result result new Default Model Building Result Default Model Problem Collector problems new Default Model Problem Collector result profile activation Default Profile Activation Context profile Activation Context get Profile Activation Context request problems set Source external profiles List Profile active External Profiles profile Selector get Active Profiles request get Profiles profile Activation Context problems result set Active External Profiles active External Profiles active External Profiles Empty Properties profile Props new Properties Profile profile active External Profiles profile Props put profile get Properties profile Props put profile Activation Context get User Properties profile Activation Context set User Properties profile Props read validate raw model Model input Model request get Raw Model input Model null input Model read Model request get Model Source request get Pom File request problems problems set Root Model input Model Model Data result Data new Model Data request get Model Source input Model Model Data super Data new Model Data null get Super Model Collection String parent Ids new Linked Hash Set List Model Data lineage new Array List Model Data current Data result Data current Data null lineage add current Data Model raw Model current Data get Model current Data set Raw Model raw Model Model tmp Model raw Model clone current Data set Model tmp Model problems set Source tmp Model model normalization model Normalizer merge Duplicates tmp Model request problems profile Activation Context set Project Properties tmp Model get Properties List Profile active Pom Profiles profile Selector get Active Profiles raw Model get Profiles profile Activation Context problems current Data set Active Profiles active Pom Profiles Map String Activation interpolated Activations get Profile Activations raw Model false inject Profile Activations tmp Model interpolated Activations profile injection Profile active Profile active Pom Profiles profile Injector inject Profile tmp Model active Profile request problems current Data result Data Profile active Profile active External Profiles profile Injector inject Profile tmp Model active Profile request problems current Data super Data break configure Resolver request get Model Resolver tmp Model problems Model Data parent Data read Parent tmp Model current Data get Source request problems parent Data null current Data super Data else current Data result Data First iteration add initial id version resolution current Data set Group Id current Data get Raw Model get Group Id null parent Data get Group Id current Data get Raw Model get Group Id current Data set Version current Data get Raw Model get Version null parent Data get Version current Data get Raw Model get Version current Data set Artifact Id current Data get Raw Model get Artifact Id parent Ids add current Data get Id Reset needed get Id current Data set Group Id null current Data set Artifact Id null current Data set Version null current Data parent Data else parent Ids add parent Data get Id String message parents form cycle String model Id parent Ids message model Id message parent Data get Id problems add new Model Problem Collector Request Model Problem Severity Model Problem Version set Message message throw problems new Model Building Exception else current Data parent Data problems set Source input Model check Plugin Versions lineage request problems inheritance assembly assemble Inheritance lineage request problems Model result Model result Data get Model problems set Source result Model problems set Root Model result Model model interpolation result Model interpolate Model result Model request problems result Data set Model result Model url normalization model Url Normalizer normalize result Model request fully interpolated model available reconfigure resolver configure Resolver request get Model Resolver result Model problems true result Data set Group Id result Model get Group Id result Data set Artifact Id result Model get Artifact Id result Data set Version result Model get Version result set Effective Model result Model Model Data current Data lineage String model Id current Data super Data current Data get Id result add Model Id model Id result set Active Pom Profiles model Id current Data get Active Profiles result set Raw Model model Id current Data get Raw Model request Two Phase Building build request result return result Override public Model Building Result build Model Building Request request Model Building Result result throws Model Building Exception return build request result new Linked Hash Set String private Model Building Result build Model Building Request request Model Building Result result Collection String imports throws Model Building Exception phase Model result Model result get Effective Model Default Model Problem Collector problems new Default Model Problem Collector result problems set Source result Model problems set Root Model result Model model path translation model Path Translator align Base Directory result Model result Model get Project Directory request plugin management injection plugin Management Injector inject Management result Model request problems fire Event result Model request problems Model Building Event Catapult request Process Plugins lifecycle Bindings Injector null throw new Illegal State Exception lifecycle bindings injector missing lifecycle bindings injection lifecycle Bindings Injector inject Lifecycle Bindings result Model request problems dependency management import import Dependency Management result Model request problems imports dependency management injection dependency Management Injector inject Management result Model request problems model Normalizer inject Default Values result Model request problems request Process Plugins reports configuration report Configuration Expander expand Plugin Configuration result Model request problems reports conversion decoupled site plugin reporting Converter convert Reporting result Model request problems plugins configuration plugin Configuration Expander expand Plugin Configuration result Model request problems effective model validation model Validator validate Effective Model result Model request problems Model Errors problems throw problems new Model Building Exception return result Override public Result extends Model build Raw Model File pom File int validation Level boolean location Tracking final Model Building Request request new Default Model Building Request set Validation Level validation Level set Location Tracking location Tracking final Default Model Problem Collector collector new Default Model Problem Collector new Default Model Building Result try return new Result read Model null pom File request collector collector get Problems catch Model Building Exception e return error collector get Problems private Model read Model Model Source model Source File pom File Model Building Request request Default Model Problem Collector problems throws Model Building Exception Model model model Source null pom File null model Source new File Model Source pom File else throw new Null Pointer Exception neither pom File model Source null problems set Source model Source get Location try boolean strict request get Validation Level Model Building Request Input Source source request Location Tracking new Input Source null Map String Object options new Hash Map options put Model Processor strict options put Model Processor source options put Model Processor model Source try model model Processor read model Source get Input Stream options catch Model Parse Exception e strict throw e options put Model Processor Boolean try model model Processor read model Source get Input Stream options catch Model Parse Exception ne still unreadable even non strict mode rethrow original error throw e pom File null problems add new Model Problem Collector Request Severity Version set Message Malformed model Source get Location e get Message set Exception e else problems add new Model Problem Collector Request Severity Version set Message Malformed model Source get Location e get Message set Exception e source null source set Model Id Model Problem Utils Id model source set Location model Source get Location catch Model Parse Exception e problems add new Model Problem Collector Request Severity Version set Message Non parseable model Source get Location e get Message set Exception e throw problems new Model Building Exception catch Exception e String msg e get Message msg null msg length java nio charset Malformed Input Exception sun io Malformed Input Exception e get Class get Name ends Malformed Input Exception msg input bytes match file encoding else msg e get Class get Simple Name problems add new Model Problem Collector Request Severity Version set Message Non readable model Source get Location msg set Exception e throw problems new Model Building Exception model set Pom File pom File problems set Source model model Validator validate Raw Model model request problems Fatal Errors problems throw problems new Model Building Exception return model private Default Profile Activation Context get Profile Activation Context Model Building Request request Default Profile Activation Context context new Default Profile Activation Context context set Active Profile Ids request get Active Profile Ids context set Inactive Profile Ids request get Inactive Profile Ids context set System Properties request get System Properties context set User Properties request get User Properties context set Project Directory request get Pom File null request get Pom File get Parent File null return context private void configure Resolver Model Resolver model Resolver Model model Default Model Problem Collector problems configure Resolver model Resolver model problems false private void configure Resolver Model Resolver model Resolver Model model Default Model Problem Collector problems boolean replace Repositories model Resolver null return problems set Source model List Repository repositories model get Repositories Repository repository repositories try model Resolver add Repository repository replace Repositories catch Invalid Repository Exception e problems add new Model Problem Collector Request Severity Version set Message Invalid repository repository get Id e get Message set Location repository get Location set Exception e private void check Plugin Versions List Model Data lineage Model Building Request request Model Problem Collector problems request get Validation Level Model Building Request return Map String Plugin plugins new Hash Map Map String String versions new Hash Map Map String String managed Versions new Hash Map int lineage size Model model lineage get get Model Build build model get Build build null Plugin plugin build get Plugins String key plugin get Key versions get key null versions put key plugin get Version plugins put key plugin Plugin Management mgmt build get Plugin Management mgmt null Plugin plugin mgmt get Plugins String key plugin get Key managed Versions get key null managed Versions put key plugin get Version String key versions key Set versions get key null managed Versions get key null Input Location location plugins get key get Location problems add new Model Problem Collector Request Severity Version set Message build plugins plugin version key missing set Location location private void assemble Inheritance List Model Data lineage Model Building Request request Model Problem Collector problems int lineage size Model parent lineage get get Model Model child lineage get get Model inheritance Assembler assemble Model Inheritance child parent request problems private Map String Activation get Profile Activations Model model boolean clone Map String Activation activations new Hash Map Profile profile model get Profiles Activation activation profile get Activation activation null continue clone activation activation clone activations put profile get Id activation return activations private void inject Profile Activations Model model Map String Activation activations Profile profile model get Profiles Activation activation profile get Activation activation null continue restore activation profile set Activation activations get profile get Id private Model interpolate Model Model model Model Building Request request Model Problem Collector problems save profile activations interpolation since evaluated limited scope Map String Activation original Activations get Profile Activations model true Model interpolated Model model Interpolator interpolate Model model model get Project Directory request problems interpolated Model get Parent null String Search Interpolator ssi new String Search Interpolator ssi add Value Source new Map Based Value Source request get User Properties ssi add Value Source new Map Based Value Source model get Properties ssi add Value Source new Map Based Value Source request get System Properties try String interpolated ssi interpolate interpolated Model get Parent get Version interpolated Model get Parent set Version interpolated catch Exception e Model Problem Collector Request mpcr new Model Problem Collector Request Severity Version set Message Failed interpolate field interpolated Model get Parent get Version class set Exception e problems add mpcr interpolated Model set Pom File model get Pom File restore profiles file activation value full interpolation inject Profile Activations model original Activations return interpolated Model private Model Data read Parent Model child Model Model Source child Source Model Building Request request Default Model Problem Collector problems throws Model Building Exception Model Data parent Data Parent parent child Model get Parent parent null String group Id parent get Group Id String artifact Id parent get Artifact Id String version parent get Version parent Data get Cache request get Model Cache group Id artifact Id version Model Cache Tag parent Data null parent Data read Parent Locally child Model child Source request problems parent Data null parent Data read Parent Externally child Model request problems put Cache request get Model Cache group Id artifact Id version Model Cache Tag parent Data else sanity check cache hit cached parent locally resolved child relative Path point parent n ignore cache resolve externally mimic behavior cache n exist first place Otherwise cache would obscure bad File pom File parent Data get Model get Pom File pom File null Model Source expected Parent Source get Parent Pom File child Model child Source expected Parent Source instanceof Model Source pom File equals Model Source expected Parent Source get Location parent Data read Parent Externally child Model request problems Model parent Model parent Data get Model pom equals parent Model get Packaging problems add new Model Problem Collector Request Severity Version set Message Invalid packaging parent Model Problem Utils Source Hint parent Model must pom parent Model get Packaging set Location parent Model get Location packaging else parent Data null return parent Data private Model Data read Parent Locally Model child Model Model Source child Source Model Building Request request Default Model Problem Collector problems throws Model Building Exception final Parent parent child Model get Parent final Model Source candidate Source final Model candidate Model final Workspace Model Resolver resolver request get Workspace Model Resolver resolver null candidate Source get Parent Pom File child Model child Source candidate Source null return null File pom File null candidate Source instanceof File Model Source pom File File Model Source candidate Source get Pom File candidate Model read Model candidate Source pom File request problems else try candidate Model resolver resolve Raw Model parent get Group Id parent get Artifact Id parent get Version catch Unresolvable Model Exception e problems add new Model Problem Collector Request Severity Version set Message e get Message String set Location parent get Location set Exception e throw problems new Model Building Exception candidate Model null return null candidate Source new File Model Source candidate Model get Pom File jvz n checking job duty workspace resolver know model suitable yet checks done one version problematic parents ranges never work scenario String group Id candidate Model get Group Id group Id null candidate Model get Parent null group Id candidate Model get Parent get Group Id String artifact Id candidate Model get Artifact Id String version candidate Model get Version version null candidate Model get Parent null version candidate Model get Parent get Version group Id null group Id equals parent get Group Id artifact Id null artifact Id equals parent get Artifact Id String Builder buffer new String Builder buffer append parent relative Path child Model problems get Root Model buffer append append Model Problem Utils Source Hint child Model buffer append points append group Id append append artifact Id buffer append instead append parent get Group Id append buffer append parent get Artifact Id append please verify project structure problems set Source child Model problems add new Model Problem Collector Request Severity Version set Message buffer String set Location parent get Location return null version null parent get Version null version equals parent get Version try Version Range parent Range Version Range create Version Spec parent get Version parent Range Restrictions parent version range version skew drop back resolution repo return null parent Range contains Version new Default Artifact Version version version skew drop back resolution repository return null Validate versions n inherited using parent ranges way read externally child Model get Version null Message checked core problems add new Model Problem Collector Request Severity Version set Message Version must constant set Location child Model get Location else child Model get Version contains Message checked core problems add new Model Problem Collector Request Severity Version set Message Version must constant set Location child Model get Location version else check catch Invalid Version Specification Exception e invalid version range drop back resolution repository return null need know version fine use validation workspace resolver version null version equals parent get Version return null Model Data parent Data new Model Data candidate Source candidate Model group Id artifact Id version return parent Data private Model Source get Parent Pom File Model child Model Model Source source source instanceof Model Source return null String parent Path child Model get Parent get Relative Path parent Path null parent Path length return null return Model Source source get Related Source parent Path private Model Data read Parent Externally Model child Model Model Building Request request Default Model Problem Collector problems throws Model Building Exception problems set Source child Model Parent parent child Model get Parent clone String group Id parent get Group Id String artifact Id parent get Artifact Id String version parent get Version Model Resolver model Resolver request get Model Resolver Validate Null model Resolver request model Resolver null parent Model Problem Utils Id group Id artifact Id version Model Problem Utils Source Hint child Model Model Source model Source try model Source model Resolver resolve Model parent catch Unresolvable Model Exception e Message checked core String Builder buffer new String Builder buffer append Non resolvable parent contains Coordinates e get Message group Id artifact Id version buffer append append Model Problem Utils Id group Id artifact Id version child Model problems get Root Model buffer append append Model Problem Utils Id child Model buffer append append e get Message child Model get Project Directory null parent get Relative Path null parent get Relative Path length buffer append parent relative Path points local else buffer append parent relative Path points wrong local problems add new Model Problem Collector Request Severity Version set Message buffer String set Location parent get Location set Exception e throw problems new Model Building Exception Model Building Request lenient Request request request get Validation Level Model Building Request lenient Request new Filter Model Building Request request Override public int get Validation Level return Model Building Request Model parent Model read Model model Source null lenient Request problems parent get Version equals version child Model get Version null Message checked core problems add new Model Problem Collector Request Severity Version set Message Version must constant set Location child Model get Location else child Model get Version contains Message checked core problems add new Model Problem Collector Request Severity Version set Message Version must constant set Location child Model get Location version else check Model Data parent Data new Model Data model Source parent Model parent get Group Id parent get Artifact Id parent get Version return parent Data private Model get Super Model return super Pom Provider get Super Model clone private void import Dependency Management Model model Model Building Request request Default Model Problem Collector problems Collection String import Ids Dependency Management dep Mgmt model get Dependency Management dep Mgmt null return String importing model get Group Id model get Artifact Id model get Version import Ids add importing final Workspace Model Resolver workspace Resolver request get Workspace Model Resolver final Model Resolver model Resolver request get Model Resolver Model Building Request import Request null List Dependency Management import Mgmts null Iterator Dependency dep Mgmt get Dependencies iterator Next Dependency dependency next pom equals dependency get Type import equals dependency get Scope continue remove String group Id dependency get Group Id String artifact Id dependency get Artifact Id String version dependency get Version group Id null group Id length problems add new Model Problem Collector Request Severity Version set Message dependency Management dependencies dependency group Id dependency get Management Key missing set Location dependency get Location continue artifact Id null artifact Id length problems add new Model Problem Collector Request Severity Version set Message dependency Management dependencies dependency artifact Id dependency get Management Key missing set Location dependency get Location continue version null version length problems add new Model Problem Collector Request Severity Version set Message dependency Management dependencies dependency version dependency get Management Key missing set Location dependency get Location continue String imported group Id artifact Id version import Ids contains imported String message dependencies type pom scope import form cycle String model Id import Ids message model Id message imported problems add new Model Problem Collector Request Severity Version set Message message continue Dependency Management import Mgmt get Cache request get Model Cache group Id artifact Id version Model Cache Tag import Mgmt null workspace Resolver null model Resolver null throw new Null Pointer Exception String format request workspace Model Resolver request model Resolver null parent Model Problem Utils Id group Id artifact Id version Model Problem Utils Source Hint model Model import Model null workspace Resolver null try import Model workspace Resolver resolve Effective Model group Id artifact Id version catch Unresolvable Model Exception e problems add new Model Problem Collector Request Severity Version set Message e get Message String set Exception e continue workspace resolver workspace resolver returned null e model workspace import Model null final Model Source import Source try import Source model Resolver resolve Model group Id artifact Id version catch Unresolvable Model Exception e String Builder buffer new String Builder buffer append Non resolvable import contains Coordinates e get Message group Id artifact Id version buffer append append Model Problem Utils Id group Id artifact Id version buffer append append e get Message problems add new Model Problem Collector Request Severity Version set Message buffer String set Location dependency get Location set Exception e continue import Request null import Request new Default Model Building Request import Request set Validation Level Model Building Request import Request set Model Cache request get Model Cache import Request set System Properties request get System Properties import Request set User Properties request get User Properties import Request set Location Tracking request Location Tracking import Request set Model Source import Source import Request set Model Resolver model Resolver new Copy final Model Building Result import Result try import Result build import Request catch Model Building Exception e problems add e get Problems continue problems add import Result get Problems import Model import Result get Effective Model import Mgmt import Model get Dependency Management import Mgmt null import Mgmt new Dependency Management put Cache request get Model Cache group Id artifact Id version Model Cache Tag import Mgmt import Mgmts null import Mgmts new Array List import Mgmts add import Mgmt import Ids remove importing dependency Management Importer import Management model import Mgmts request problems private void put Cache Model Cache model Cache String group Id String artifact Id String version Model Cache Tag tag data model Cache null model Cache put group Id artifact Id version tag get Name tag Cache data private get Cache Model Cache model Cache String group Id String artifact Id String version Model Cache Tag tag model Cache null Object data model Cache get group Id artifact Id version tag get Name data null return tag Cache tag get Type cast data return null private void fire Event Model model Model Building Request request Model Problem Collector problems Model Building Event Catapult catapult throws Model Building Exception Model Building Listener listener request get Model Building Listener listener null Model Building Event event new Default Model Building Event model request problems catapult fire listener event private boolean contains Coordinates String message String group Id String artifact Id String version return message null group Id null message contains group Id artifact Id null message contains artifact Id version null message contains version protected boolean Model Errors Model Problem Collector Ext problems problems instanceof Default Model Problem Collector return Default Model Problem Collector problems Errors else default execution path knows Default Model Problem Collector reason signature package private throw new Illegal State Exception protected boolean Fatal Errors Model Problem Collector Ext problems problems instanceof Default Model Problem Collector return Default Model Problem Collector problems Fatal Errors else default execution path knows Default Model Problem Collector reason signature package private throw new Illegal State Exception
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util List import org apache commons lang Validate import org apache artifact repository Artifact Repository import org apache model Model import org apache model building Abstract Model Building Listener import org apache model building Model Building Event import org apache model building Model Problem Severity import org apache model building Model Problem Version import org apache model building Model Problem Collector Request import org apache plugin Plugin Manager Exception import org apache plugin Plugin Resolution Exception import org apache plugin version Plugin Version Resolution Exception Processes events model builder building effective model link Maven Project instance author Benjamin Bentmann public class Default Model Building Listener extends Abstract Model Building Listener private Maven Project project private Project Building Helper project Building Helper private Project Building Request project Building Request private List Artifact Repository remote Repositories private List Artifact Repository plugin Repositories public Default Model Building Listener Maven Project project Project Building Helper project Building Helper Project Building Request project Building Request project Validate Null project project null project Building Helper Validate Null project Building Helper project Building Helper null project Building Request Validate Null project Building Request project Building Request null remote Repositories project Building Request get Remote Repositories plugin Repositories project Building Request get Plugin Artifact Repositories Gets project whose model built return project never code null public Maven Project get Project return project Override public void build Extensions Assembled Model Building Event event Model model event get Model try plugin Repositories project Building Helper create Artifact Repositories model get Plugin Repositories plugin Repositories project Building Request catch Exception e event get Problems add new Model Problem Collector Request Severity Version set Message Invalid plugin repository e get Message set Exception e project set Plugin Artifact Repositories plugin Repositories event get Request Process Plugins try Project Realm Cache Cache Record record project Building Helper create Project Realm project model project Building Request project set Class Realm record realm project set Extension Dependency Filter record extension Artifact Filter catch Plugin Resolution Exception Plugin Manager Exception Plugin Version Resolution Exception e event get Problems add new Model Problem Collector Request Severity Version set Message Unresolveable build extension e get Message set Exception e project Building Helper select Project Realm project build regular repos extensions loaded allow custom layouts try remote Repositories project Building Helper create Artifact Repositories model get Repositories remote Repositories project Building Request catch Exception e event get Problems add new Model Problem Collector Request Severity Version set Message Invalid artifact repository e get Message set Exception e project set Remote Artifact Repositories remote Repositories
package org apache model building Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Array List import java util Date import java util List import java util Properties import org apache model Model import org apache model Profile import org apache model resolution Model Resolver import org apache model resolution Workspace Model Resolver Collects settings control building effective models author Benjamin Bentmann public class Default Model Building Request implements Model Building Request private Model raw Model private File pom File private Model Source model Source private int validation Level private boolean process Plugins private boolean two Phase Building private boolean location Tracking private List Profile profiles private List String active Profile Ids private List String inactive Profile Ids private Properties system Properties private Properties user Properties private Date build Start Time private Model Resolver model Resolver private Model Building Listener model Building Listener private Model Cache model Cache private Workspace Model Resolver workspace Resolver Creates empty request public Default Model Building Request Creates shallow copy specified request param request request copy must code null public Default Model Building Request Model Building Request request set Pom File request get Pom File set Model Source request get Model Source set Validation Level request get Validation Level set Process Plugins request Process Plugins set Two Phase Building request Two Phase Building set Profiles request get Profiles set Active Profile Ids request get Active Profile Ids set Inactive Profile Ids request get Inactive Profile Ids set System Properties request get System Properties set User Properties request get User Properties set Build Start Time request get Build Start Time set Model Resolver request get Model Resolver set Model Building Listener request get Model Building Listener set Model Cache request get Model Cache Override public File get Pom File return pom File Override public Default Model Building Request set Pom File File pom File pom File pom File null pom File get Absolute File null return Override public synchronized Model Source get Model Source model Source null pom File null model Source new File Model Source pom File return model Source Override public Default Model Building Request set Model Source Model Source model Source model Source model Source return Override public int get Validation Level return validation Level Override public Default Model Building Request set Validation Level int validation Level validation Level validation Level return Override public boolean Process Plugins return process Plugins Override public Default Model Building Request set Process Plugins boolean process Plugins process Plugins process Plugins return Override public boolean Two Phase Building return two Phase Building Override public Default Model Building Request set Two Phase Building boolean two Phase Building two Phase Building two Phase Building return Override public boolean Location Tracking return location Tracking Override public Default Model Building Request set Location Tracking boolean location Tracking location Tracking location Tracking return Override public List Profile get Profiles profiles null profiles new Array List return profiles Override public Default Model Building Request set Profiles List Profile profiles profiles null profiles new Array List profiles else profiles null return Override public List String get Active Profile Ids active Profile Ids null active Profile Ids new Array List return active Profile Ids Override public Default Model Building Request set Active Profile Ids List String active Profile Ids active Profile Ids null active Profile Ids new Array List active Profile Ids else active Profile Ids null return Override public List String get Inactive Profile Ids inactive Profile Ids null inactive Profile Ids new Array List return inactive Profile Ids Override public Default Model Building Request set Inactive Profile Ids List String inactive Profile Ids inactive Profile Ids null inactive Profile Ids new Array List inactive Profile Ids else inactive Profile Ids null return Override public Properties get System Properties system Properties null system Properties new Properties return system Properties Override public Default Model Building Request set System Properties Properties system Properties system Properties null system Properties new Properties synchronized system Properties avoid concurrentmodification someone else sets removes unrelated system property system Properties put system Properties else system Properties null return Override public Properties get User Properties user Properties null user Properties new Properties return user Properties Override public Default Model Building Request set User Properties Properties user Properties user Properties null user Properties new Properties user Properties put user Properties else user Properties null return Override public Date get Build Start Time return build Start Time Override public Model Building Request set Build Start Time Date build Start Time build Start Time build Start Time return Override public Model Resolver get Model Resolver return model Resolver Override public Default Model Building Request set Model Resolver Model Resolver model Resolver model Resolver model Resolver return Override public Model Building Listener get Model Building Listener return model Building Listener Override public Model Building Request set Model Building Listener Model Building Listener model Building Listener model Building Listener model Building Listener return Override public Model Cache get Model Cache return model Cache Override public Default Model Building Request set Model Cache Model Cache model Cache model Cache model Cache return Override public Model get Raw Model return raw Model Override public Model Building Request set Raw Model Model raw Model raw Model raw Model return Override public Workspace Model Resolver get Workspace Model Resolver return workspace Resolver Override public Model Building Request set Workspace Model Resolver Workspace Model Resolver workspace Resolver workspace Resolver workspace Resolver return
package org apache project inheritance Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Linked Hash Map import java util Linked List import java util List import java util Map import java util Properties import java util String Tokenizer import java util Tree Map import org apache model Build import org apache model Dependency import org apache model Dependency Management import org apache model Deployment Repository import org apache model Distribution Management import org apache model Extension import org apache model Model import org apache model Plugin Management import org apache model Report Plugin import org apache model Report Set import org apache model Reporting import org apache model Resource import org apache model Scm import org apache model Site import org apache project Model Utils import org codehaus plexus component annotations Component import org codehaus plexus util String Utils import org codehaus plexus util xml Xpp Dom Component role Model Inheritance Assembler class public class Default Model Inheritance Assembler implements Model Inheritance Assembler Remove Suppress Warnings unchecked public void assemble Build Inheritance Build child Build Build parent Build boolean handle Inheritance build set want step fill values set child child Build get Source Directory null child Build set Source Directory parent Build get Source Directory child Build get Script Source Directory null child Build set Script Source Directory parent Build get Script Source Directory child Build get Test Source Directory null child Build set Test Source Directory parent Build get Test Source Directory child Build get Output Directory null child Build set Output Directory parent Build get Output Directory child Build get Test Output Directory null child Build set Test Output Directory parent Build get Test Output Directory Extensions accumulated merge Extension Lists child Build parent Build child Build get Directory null child Build set Directory parent Build get Directory child Build get Default Goal null child Build set Default Goal parent Build get Default Goal child Build get Final Name null child Build set Final Name parent Build get Final Name Model Utils merge Filter Lists child Build get Filters parent Build get Filters List Resource resources child Build get Resources resources null resources Empty child Build set Resources parent Build get Resources resources child Build get Test Resources resources null resources Empty child Build set Test Resources parent Build get Test Resources Plugins aggregated Plugin inherit false Model Utils merge Plugin Lists child Build parent Build handle Inheritance Plugin management aggregate Plugin Management dominant child Build get Plugin Management Plugin Management recessive parent Build get Plugin Management dominant null recessive null Filter inherited false stuff child Build set Plugin Management recessive else Model Utils merge Plugin Lists child Build get Plugin Management parent Build get Plugin Management false private void assemble Scm Inheritance Model child Model parent String child Path Adjustment boolean append Paths parent get Scm null Scm parent Scm parent get Scm Scm child Scm child get Scm child Scm null child Scm new Scm child set Scm child Scm String Utils Empty child Scm get Connection String Utils Empty parent Scm get Connection child Scm set Connection append Path parent Scm get Connection child get Artifact Id child Path Adjustment append Paths String Utils Empty child Scm get Developer Connection String Utils Empty parent Scm get Developer Connection child Scm set Developer Connection append Path parent Scm get Developer Connection child get Artifact Id child Path Adjustment append Paths String Utils Empty child Scm get Url String Utils Empty parent Scm get Url child Scm set Url append Path parent Scm get Url child get Artifact Id child Path Adjustment append Paths public void copy Model Model dest Model source assemble Model Inheritance dest source null false public void assemble Model Inheritance Model child Model parent String child Path Adjustment assemble Model Inheritance child parent child Path Adjustment true public void assemble Model Inheritance Model child Model parent assemble Model Inheritance child parent null true private void assemble Model Inheritance Model child Model parent String child Path Adjustment boolean append Paths inherit null parent parent null return Group id child get Group Id null child set Group Id parent get Group Id version child get Version null parent version may resolved something different take asked instead child set Version parent get Version child get Parent null child set Version child get Parent get Version inception Year child get Inception Year null child set Inception Year parent get Inception Year url child get Url null parent get Url null child set Url append Path parent get Url child get Artifact Id child Path Adjustment append Paths else child set Url parent get Url assemble Distribution Inheritance child parent child Path Adjustment append Paths issue Management child get Issue Management null child set Issue Management parent get Issue Management description child get Description null child set Description parent get Description Organization child get Organization null child set Organization parent get Organization Scm assemble Scm Inheritance child parent child Path Adjustment append Paths ci Management child get Ci Management null child set Ci Management parent get Ci Management developers child get Developers size child set Developers parent get Developers licenses child get Licenses size child set Licenses parent get Licenses developers child get Contributors size child set Contributors parent get Contributors mailing Lists child get Mailing Lists size child set Mailing Lists parent get Mailing Lists Build assemble Build Inheritance child parent assemble Dependency Inheritance child parent child set Repositories Model Utils merge Repository Lists child get Repositories parent get Repositories child set Plugin Repositories Model Utils merge Repository Lists child get Plugin Repositories parent get Plugin Repositories assemble Reporting Inheritance child parent assemble Dependency Management Inheritance child parent Properties props new Properties props put parent get Properties props put child get Properties child set Properties props Remove Suppress Warnings unchecked private void assemble Dependency Management Inheritance Model child Model parent Dependency Management parent Dep Mgmt parent get Dependency Management Dependency Management child Dep Mgmt child get Dependency Management parent Dep Mgmt null child Dep Mgmt null child set Dependency Management parent Dep Mgmt else List Dependency child Deps child Dep Mgmt get Dependencies Map String Dependency mapped Child Deps new Tree Map Dependency dep child Deps mapped Child Deps put dep get Management Key dep Dependency dep parent Dep Mgmt get Dependencies mapped Child Deps contains Key dep get Management Key child Dep Mgmt add Dependency dep private void assemble Reporting Inheritance Model child Model parent Reports aggregate Reporting child Reporting child get Reporting Reporting parent Reporting parent get Reporting parent Reporting null child Reporting null child Reporting new Reporting child set Reporting child Reporting child Reporting set Exclude Defaults parent Reporting Exclude Defaults String Utils Empty child Reporting get Output Directory child Reporting set Output Directory parent Reporting get Output Directory merge Report Plugin Lists child Reporting parent Reporting true private static void merge Report Plugin Lists Reporting child Reporting parent boolean handle Inheritance child null parent null nothing return List Report Plugin parent Plugins parent get Plugins parent Plugins null parent Plugins Empty Map String Report Plugin assembled Plugins new Tree Map Map String Report Plugin child Plugins child get Report Plugins Map Report Plugin parent Plugin parent Plugins String parent Inherited parent Plugin get Inherited handle Inheritance parent Inherited null Boolean value parent Inherited Report Plugin assembled Plugin parent Plugin Report Plugin child Plugin child Plugins get parent Plugin get Key child Plugin null assembled Plugin child Plugin merge Report Plugin Definitions child Plugin parent Plugin handle Inheritance handle Inheritance parent Inherited null assembled Plugin unset Inheritance Applied assembled Plugins put assembled Plugin get Key assembled Plugin Report Plugin child Plugin child Plugins values assembled Plugins contains Key child Plugin get Key assembled Plugins put child Plugin get Key child Plugin child set Plugins new Array List assembled Plugins values child flush Report Plugin Map private static void merge Report Set Definitions Report Set child Report Set parent List String parent Reports parent get Reports List String child Reports child get Reports List String reports new Array List child Reports null child Reports Empty reports add child Reports parent Reports null String report parent Reports reports contains report reports add report child set Reports reports Xpp Dom child Configuration Xpp Dom child get Configuration Xpp Dom parent Configuration Xpp Dom parent get Configuration child Configuration Xpp Dom merge Xpp Dom child Configuration parent Configuration child set Configuration child Configuration public static void merge Report Plugin Definitions Report Plugin child Report Plugin parent boolean handle Inheritance child null parent null nothing return child get Version null parent get Version null child set Version parent get Version end method dealing merging executions section String parent Inherited parent get Inherited boolean parent Inherited parent Inherited null Boolean value parent Inherited List Report Set parent Report Sets parent get Report Sets parent Report Sets null parent Report Sets Empty Map String Report Set assembled Report Sets new Tree Map Map String Report Set child Report Sets child get Report Sets Map Object parent Report Set parent Report Sets Report Set parent Report Set Report Set parent Report Set handle Inheritance parent Inherited Report Set assembled Report Set parent Report Set Report Set child Report Set child Report Sets get parent Report Set get Id child Report Set null merge Report Set Definitions child Report Set parent Report Set assembled Report Set child Report Set else handle Inheritance parent Inherited null parent Report Set unset Inheritance Applied assembled Report Sets put assembled Report Set get Id assembled Report Set Map Entry String Report Set entry child Report Sets entry Set String id entry get Key assembled Report Sets contains Key id assembled Report Sets put id entry get Value child set Report Sets new Array List assembled Report Sets values child flush Report Set Map Remove Suppress Warnings unchecked private void assemble Dependency Inheritance Model child Model parent Map String Dependency deps Map new Linked Hash Map List Dependency deps parent get Dependencies deps null Dependency dependency deps deps Map put dependency get Management Key dependency deps child get Dependencies deps null Dependency dependency deps deps Map put dependency get Management Key dependency child set Dependencies new Array List deps Map values private void assemble Build Inheritance Model child Model parent Build child Build child get Build Build parent Build parent get Build parent Build null child Build null child Build new Build child set Build child Build assemble Build Inheritance child Build parent Build true private void assemble Distribution Inheritance Model child Model parent String child Path Adjustment boolean append Paths parent get Distribution Management null Distribution Management parent Dist Mgmt parent get Distribution Management Distribution Management child Dist Mgmt child get Distribution Management child Dist Mgmt null child Dist Mgmt new Distribution Management child set Distribution Management child Dist Mgmt child Dist Mgmt get Site null parent Dist Mgmt get Site null Site site new Site child Dist Mgmt set Site site site set Id parent Dist Mgmt get Site get Id site set Name parent Dist Mgmt get Site get Name site set Url parent Dist Mgmt get Site get Url site get Url null site set Url append Path site get Url child get Artifact Id child Path Adjustment append Paths child Dist Mgmt get Repository null parent Dist Mgmt get Repository null Deployment Repository repository copy Distribution Repository parent Dist Mgmt get Repository child Dist Mgmt set Repository repository child Dist Mgmt get Snapshot Repository null parent Dist Mgmt get Snapshot Repository null Deployment Repository repository copy Distribution Repository parent Dist Mgmt get Snapshot Repository child Dist Mgmt set Snapshot Repository repository String Utils Empty child Dist Mgmt get Download Url child Dist Mgmt set Download Url parent Dist Mgmt get Download Url inheriting status since assessment quality inheriting relocation since relates single private static Deployment Repository copy Distribution Repository Deployment Repository parent Repository Deployment Repository repository new Deployment Repository repository set Id parent Repository get Id repository set Name parent Repository get Name repository set Url parent Repository get Url repository set Layout parent Repository get Layout repository set Unique Version parent Repository Unique Version return repository eventually migrated Default Path Translator protected String append Path String parent Path String child Path String path Adjustment boolean append Paths String unclean Path parent Path append Paths path Adjustment null unclean Path path Adjustment child Path null unclean Path child Path String cleaned Path int protocol Idx unclean Path index protocol Idx cleaned Path unclean Path substring protocol Idx unclean Path unclean Path substring protocol Idx unclean Path starts cleaned Path return cleaned Path resolve Path unclean Path Move plexus utils Path Tool private static String resolve Path String unclean Path Linked List String path Elements new Linked List String Tokenizer tokenizer new String Tokenizer unclean Path tokenizer Tokens String token tokenizer next Token switch token case Empty path entry remove break case path Elements Empty somehow report user many elements ignore extra else path Elements remove Last break default path Elements add Last token break String Builder cleaned Path new String Builder path Elements Empty cleaned Path append path Elements remove First path Elements Empty cleaned Path append return cleaned Path String private static void merge Extension Lists Build child Build Build parent Build Extension e parent Build get Extensions child Build get Extensions contains e child Build add Extension e
package org apache model building Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Enum Set import java util List import java util Set import org apache model Model import org apache model io Model Parse Exception Collects problems encountered model building primary purpose component account fact problem reporter information calling context hence provide expressive source hint model problem Instead source hint configured model builder delegates components potentially encounter problems problem reporter focus providing simple error message leaving donkey work creating nice model problem component author Benjamin Bentmann class Default Model Problem Collector implements Model Problem Collector Ext private final Model Building Result result private List Model Problem problems private String source private Model source Model private Model root Model private Set Model Problem Severity severities Enum Set none Model Problem Severity class public Default Model Problem Collector Model Building Result result result result problems result get Problems Model Problem problem problems severities add problem get Severity public boolean Fatal Errors return severities contains Model Problem Severity public boolean Errors return severities contains Model Problem Severity severities contains Model Problem Severity Override public List Model Problem get Problems return problems public void set Source String source source source source Model null public void set Source Model source source Model source source null root Model null root Model source private String get Source source null source Model null source Model Problem Utils Path source Model return source private String get Model Id return Model Problem Utils Id source Model public void set Root Model Model root Model root Model root Model public Model get Root Model return root Model public String get Root Model Id return Model Problem Utils Id root Model public void add Model Problem problem problems add problem severities add problem get Severity public void add List Model Problem problems problems add problems Model Problem problem problems severities add problem get Severity Override public void add Model Problem Collector Request req int line int column String source null String model Id null req get Location null line req get Location get Line Number column req get Location get Column Number req get Location get Source null model Id req get Location get Source get Model Id source req get Location get Source get Location model Id null model Id get Model Id source get Source line column req get Exception instanceof Model Parse Exception Model Parse Exception e Model Parse Exception req get Exception line e get Line Number column e get Column Number Model Problem problem new Default Model Problem req get Message req get Severity req get Version source line column model Id req get Exception add problem public Model Building Exception new Model Building Exception Model Building Result result result result get Model Ids Empty Default Model Building Result tmp new Default Model Building Result tmp set Effective Model result get Effective Model tmp set Problems get Problems tmp set Active External Profiles result get Active External Profiles String id get Root Model Id tmp add Model Id id tmp set Raw Model id get Root Model result tmp return new Model Building Exception result
package org apache model validation Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Arrays import java util Hash Map import java util Hash Set import java util List import java util Map import java util Set import java util regex Pattern import org apache model Activation import org apache model Activation File import org apache model Build import org apache model Build Base import org apache model Dependency import org apache model Dependency Management import org apache model Distribution Management import org apache model Exclusion import org apache model Input Location import org apache model Input Location Tracker import org apache model Model import org apache model Parent import org apache model Plugin import org apache model Plugin Execution import org apache model Plugin Management import org apache model Profile import org apache model Report Plugin import org apache model Reporting import org apache model Repository import org apache model Resource import org apache model building Model Building Request import org apache model building Model Problem Severity import org apache model building Model Problem Version import org apache model building Model Problem Collector import org apache model building Model Problem Collector Request import org apache model interpolation Abstract String Based Model Interpolator import org codehaus plexus component annotations Component import org codehaus plexus util String Utils author href mailto trygvis inamo Trygve Laugst oslash l Component role Model Validator class public class Default Model Validator implements Model Validator private static final Pattern Pattern compile Za z private static final Pattern Pattern compile Za z private static final String private static final String private static final String Override public void validate Raw Model Model Model Building Request request Model Problem Collector problems Parent parent get Parent parent null validate String Empty parent group Id problems Severity Version parent get Group Id parent validate String Empty parent artifact Id problems Severity Version parent get Artifact Id parent validate String Empty parent version problems Severity Version parent get Version parent equals parent get Group Id get Group Id equals parent get Artifact Id get Artifact Id add Violation problems Severity Version parent artifact Id null must changed parent element group Id artifact Id project parent request get Validation Level Model Building Request Severity err get Severity request Model Building Request Maven produce error model version set file used build effective model model version mandatory even raw models element still optional schema change anytime soon want build effective models based models without version starting validate String Empty model Version problems Severity Version get Model Version validate Enum model Version problems Severity Version get Model Version null validate String Expression group Id problems Severity Version get Group Id parent null validate String Empty group Id problems Severity Version get Group Id validate String Expression artifact Id problems Severity Version get Artifact Id validate String Empty artifact Id problems Severity Version get Artifact Id validate Version Expression version problems Severity Version get Version parent null validate String Empty version problems Severity Version get Version validate Raw Dependencies problems get Dependencies dependencies dependency request validate Raw Dependencies Self Referencing problems get Dependencies dependencies dependency request get Dependency Management null validate Raw Dependencies problems get Dependency Management get Dependencies dependency Management dependencies dependency request validate Raw Repositories problems get Repositories repositories repository request validate Raw Repositories problems get Plugin Repositories plugin Repositories plugin Repository request Build build get Build build null validate Raw Plugins problems build get Plugins build plugins plugin request Plugin Management mgmt build get Plugin Management mgmt null validate Raw Plugins problems mgmt get Plugins build plugin Management plugins plugin request Set String profile Ids new Hash Set Profile profile get Profiles String prefix profiles profile profile get Id profile Ids add profile get Id add Violation problems err Version profiles profile id null must unique found duplicate profile id profile get Id profile validate Raw Profile Activation problems profile get Activation profile get Id prefix activation request validate Raw Dependencies problems profile get Dependencies prefix dependencies dependency request profile get Dependency Management null validate Raw Dependencies problems profile get Dependency Management get Dependencies prefix dependency Management dependencies dependency request validate Raw Repositories problems profile get Repositories prefix repositories repository request validate Raw Repositories problems profile get Plugin Repositories prefix plugin Repositories plugin Repository request Build Base build Base profile get Build build Base null validate Raw Plugins problems build Base get Plugins prefix plugins plugin request Plugin Management mgmt build Base get Plugin Management mgmt null validate Raw Plugins problems mgmt get Plugins prefix plugin Management plugins plugin request private void validate Raw Profile Activation Model Problem Collector problems Activation activation String source Hint String prefix Model Building Request request activation null return Activation File file activation get File file null String path boolean missing String Utils Empty file get Exists path file get Exists missing false else String Utils Empty file get Missing path file get Missing missing true else return path contains project basedir add Violation problems Severity Version prefix missing file missing file exists null Failed interpolate file location path profile source Hint project basedir expression supported profile activation use basedir instead file get Location missing missing exists else Project Expression path add Violation problems Severity Version prefix missing file missing file exists null Failed interpolate file location path profile source Hint project expressions supported profile activation file get Location missing missing exists private void validate Raw Plugins Model Problem Collector problems List Plugin plugins String prefix Model Building Request request Severity err get Severity request Model Building Request Map String Plugin index new Hash Map Plugin plugin plugins plugin get Group Id null plugin get Group Id null plugin get Group Id trim Empty add Violation problems Severity Version prefix group Id artifact Id null group Id plugin must defined plugin plugin get Artifact Id null plugin get Artifact Id null plugin get Artifact Id trim Empty add Violation problems Severity Version prefix group Id artifact Id null artifact Id plugin must defined plugin catch cases like version version version plugin get Version null plugin get Version trim Empty add Violation problems Severity Version prefix group Id artifact Id null version plugin must defined plugin String key plugin get Key Plugin existing index get key existing null add Violation problems err Version prefix group Id artifact Id null must unique found duplicate declaration plugin key plugin else index put key plugin Set String execution Ids new Hash Set Plugin Execution exec plugin get Executions execution Ids add exec get Id add Violation problems Severity Version prefix plugin get Key executions execution id null must unique found duplicate execution id exec get Id exec Override public void validate Effective Model Model Model Building Request request Model Problem Collector problems validate String Empty model Version problems Severity Version get Model Version validate Id group Id problems get Group Id validate Id artifact Id problems get Artifact Id validate String Empty packaging problems Severity Version get Packaging get Modules Empty pom equals get Packaging add Violation problems Severity Version packaging null value get Packaging invalid Aggregator projects require pom packaging int n get Modules size n String module get Modules get String Utils Blank module add Violation problems Severity Version modules module null specified without path project directory get Location modules validate String Empty version problems Severity Version get Version Severity err get Severity request Model Building Request validate Effective Dependencies problems get Dependencies false request Dependency Management mgmt get Dependency Management mgmt null validate Effective Dependencies problems mgmt get Dependencies true request request get Validation Level Model Building Request Set String modules new Hash Set int n get Modules size n String module get Modules get modules add module add Violation problems Severity Version modules module null specifies duplicate child module module get Location modules Severity err get Severity request Model Building Request validate Banned Characters version problems err Version get Version null validate Proper Snapshot Version version problems err Version get Version null Build build get Build build null Plugin p build get Plugins validate String Empty build plugins plugin artifact Id problems Severity Version p get Artifact Id p validate String Empty build plugins plugin group Id problems Severity Version p get Group Id p validate Plugin Version build plugins plugin version problems p get Version p get Key p request validate Boolean build plugins plugin inherited problems err Version p get Inherited p get Key p validate Boolean build plugins plugin extensions problems err Version p get Extensions p get Key p validate Effective Plugin Dependencies problems p request validate Raw Resources problems build get Resources build resources resource request validate Raw Resources problems build get Test Resources build test Resources test Resource request Reporting reporting get Reporting reporting null Report Plugin p reporting get Plugins validate String Empty reporting plugins plugin artifact Id problems Severity Version p get Artifact Id p validate String Empty reporting plugins plugin group Id problems Severity Version p get Group Id p Repository repository get Repositories validate Effective Repository problems repository repositories repository request Repository repository get Plugin Repositories validate Effective Repository problems repository plugin Repositories plugin Repository request Distribution Management dist Mgmt get Distribution Management dist Mgmt null dist Mgmt get Status null add Violation problems Severity Version distribution Management status null must specified dist Mgmt validate Effective Repository problems dist Mgmt get Repository distribution Management repository request validate Effective Repository problems dist Mgmt get Snapshot Repository distribution Management snapshot Repository request private void validate Raw Dependencies Model Problem Collector problems List Dependency dependencies String prefix Model Building Request request Severity err get Severity request Model Building Request Severity err get Severity request Model Building Request Map String Dependency index new Hash Map Dependency dependency dependencies String key dependency get Management Key import equals dependency get Scope pom equals dependency get Type add Violation problems Severity Version prefix type key must pom import managed dependencies dependency else String Utils Empty dependency get Classifier add Violation problems err Version prefix classifier key must empty imported classifier dependency else system equals dependency get Scope request get Validation Level Model Building Request add Violation problems Severity Version prefix scope key declares usage deprecated system scope dependency String sys Path dependency get System Path String Utils Empty sys Path Expression sys Path add Violation problems Severity Version prefix system Path key use variable instead hard coded path sys Path dependency else sys Path contains basedir sys Path contains project basedir add Violation problems Severity Version prefix system Path key point files within project directory sys Path unresolvable dependent projects dependency equals dependency get Version equals dependency get Version add Violation problems Severity Version prefix version key either deprecated dependency Dependency existing index get key existing null String msg equals existing get Version dependency get Version msg duplicate declaration version String Utils default String dependency get Version else msg version String Utils default String existing get Version vs String Utils default String dependency get Version add Violation problems err Version prefix group Id artifact Id type classifier null must unique key msg dependency else index put key dependency private void validate Raw Dependencies Self Referencing Model Problem Collector problems Model List Dependency dependencies String prefix Model Building Request request check group Id artifact Id cause another module group Id artifact Id fail build earlier like Project duplicated reactor sufficient check group Id artifact Id packaging type Dependency dependency dependencies String key dependency get Group Id dependency get Artifact Id dependency get Version String Key get Group Id get Artifact Id get Version key equals Key means module build dependency group Id artifact Id version coordinates consequence self reference words circular reference resolved add Violation problems Severity Version prefix key key referencing dependency private void validate Effective Dependencies Model Problem Collector problems Model List Dependency dependencies boolean management Model Building Request request Severity err get Severity request Model Building Request String prefix management dependency Management dependencies dependency dependencies dependency Dependency dependencies validate Effective Dependency problems management prefix request request get Validation Level Model Building Request validate Boolean prefix optional problems err Version get Optional get Management Key management validate Version prefix version problems err Version get Version get Management Key Extensions like Flex Mojos use custom scopes like merged internal external etc order n break backward compat warn n error validate Enum prefix scope problems Severity Version get Scope get Management Key provided compile runtime test system validate Effective Model Dependency prefix problems request private void validate Effective Model Dependency String prefix Model Problem Collector problems Model Dependency Model Building Request request String key get Group Id get Artifact Id get Version String Key get Group Id get Artifact Id get Version key equals Key means module build dependency group Id artifact Id version coordinates consequence self reference words circular reference resolved add Violation problems Severity Version prefix key key referencing private void validate Effective Plugin Dependencies Model Problem Collector problems Plugin plugin Model Building Request request List Dependency dependencies plugin get Dependencies dependencies Empty String prefix build plugins plugin plugin get Key dependencies dependency Severity err get Severity request Model Building Request Dependency dependencies validate Effective Dependency problems false prefix request validate Version prefix version problems err Version get Version get Management Key validate Enum prefix scope problems err Version get Scope get Management Key compile runtime system private void validate Effective Dependency Model Problem Collector problems Dependency boolean management String prefix Model Building Request request validate Id prefix artifact Id problems Severity Version get Artifact Id get Management Key validate Id prefix group Id problems Severity Version get Group Id get Management Key management validate String Empty prefix type problems Severity Version get Type get Management Key validate Dependency Version problems prefix system equals get Scope String system Path get System Path String Utils Empty system Path add Violation problems Severity Version prefix system Path get Management Key missing else File sys File new File system Path sys File Absolute add Violation problems Severity Version prefix system Path get Management Key must specify absolute path system Path else sys File File String msg refers non existing file sys File get Absolute Path system Path system Path replace File separator Char replace File separator Char String jdk Home request get System Properties get Property java home File separator system Path starts jdk Home msg Please verify run Maven using add Violation problems Severity Version prefix system Path get Management Key msg else String Utils Empty get System Path add Violation problems Severity Version prefix system Path get Management Key must omitted field may specified dependency system scope request get Validation Level Model Building Request Exclusion exclusion get Exclusions request get Validation Level Model Building Request validate Id prefix exclusions exclusion group Id problems Severity Version exclusion get Group Id get Management Key exclusion validate Id prefix exclusions exclusion artifact Id problems Severity Version exclusion get Artifact Id get Management Key exclusion else validate Id Wildcards prefix exclusions exclusion group Id problems Severity Version exclusion get Group Id get Management Key exclusion validate Id Wildcards prefix exclusions exclusion artifact Id problems Severity Version exclusion get Artifact Id get Management Key exclusion since protected void validate Dependency Version Model Problem Collector problems Dependency String prefix validate String Empty prefix version problems Severity Version get Version get Management Key private void validate Raw Repositories Model Problem Collector problems List Repository repositories String prefix Model Building Request request Map String Repository index new Hash Map Repository repository repositories validate String Empty prefix id problems Severity Version repository get Id repository validate String Empty prefix repository get Id url problems Severity Version repository get Url repository String key repository get Id Repository existing index get key existing null Severity err get Severity request Model Building Request add Violation problems err Version prefix id null must unique repository get Id existing get Url vs repository get Url repository else index put key repository private void validate Effective Repository Model Problem Collector problems Repository repository String prefix Model Building Request request repository null Severity err get Severity request Model Building Request validate Banned Characters prefix id problems err Version repository get Id null repository local equals repository get Id add Violation problems err Version prefix id null must local identifier reserved local repository using repositories corrupt repository metadata repository legacy equals repository get Layout add Violation problems Severity Version prefix layout repository get Id uses unsupported value legacy artifact resolution might fail repository private void validate Raw Resources Model Problem Collector problems List Resource resources String prefix Model Building Request request Severity err get Severity request Model Building Request Resource resource resources validate String Empty prefix directory problems Severity Version resource get Directory resource validate Boolean prefix filtering problems err Version resource get Filtering resource get Directory resource Field validation private boolean validate Id String field Name Model Problem Collector problems String id Input Location Tracker tracker return validate Id field Name problems Severity Version id null tracker private boolean validate Id String field Name Model Problem Collector problems Severity severity Version version String id String source Hint Input Location Tracker tracker validate String Empty field Name problems severity version id source Hint tracker return false else boolean match matcher id matches match add Violation problems severity version field Name source Hint value id match valid id pattern tracker return match private boolean validate Id Wildcards String field Name Model Problem Collector problems Severity severity Version version String id String source Hint Input Location Tracker tracker validate String Empty field Name problems severity version id source Hint tracker return false else boolean match matcher id matches match add Violation problems severity version field Name source Hint value id match valid id pattern tracker return match private boolean validate String Expression String field Name Model Problem Collector problems Severity severity Version version String string Input Location Tracker tracker Expression string return true add Violation problems severity version field Name null contains expression constant tracker return false private boolean validate Version Expression String field Name Model Problem Collector problems Severity severity Version version String string Input Location Tracker tracker Expression string return true Acceptable versions continuous delivery changelist revision sha string string trim string contains Abstract String Based Model Interpolator string contains Abstract String Based Model Interpolator string contains Abstract String Based Model Interpolator return true add Violation problems severity version field Name null contains expression constant tracker return false private boolean Expression String value return value null value contains private boolean Project Expression String value return value null value contains project private boolean validate String Empty String field Name Model Problem Collector problems Severity severity Version version String string Input Location Tracker tracker return validate String Empty field Name problems severity version string null tracker Asserts p ul li code string null code li code string length code ul private boolean validate String Empty String field Name Model Problem Collector problems Severity severity Version version String string String source Hint Input Location Tracker tracker validate Null field Name problems severity version string source Hint tracker return false string length return true add Violation problems severity version field Name source Hint missing tracker return false Asserts p ul li code string null code ul private boolean validate Null String field Name Model Problem Collector problems Severity severity Version version Object object String source Hint Input Location Tracker tracker object null return true add Violation problems severity version field Name source Hint missing tracker return false private boolean validate Boolean String field Name Model Problem Collector problems Severity severity Version version String string String source Hint Input Location Tracker tracker string null string length return true true equals Ignore Case string false equals Ignore Case string return true add Violation problems severity version field Name source Hint must true false string tracker return false private boolean validate Enum String field Name Model Problem Collector problems Severity severity Version version String string String source Hint Input Location Tracker tracker String valid Values string null string length return true List String values Arrays List valid Values values contains string return true add Violation problems severity version field Name source Hint must one values string tracker return false private boolean validate Banned Characters String field Name Model Problem Collector problems Severity severity Version version String string String source Hint Input Location Tracker tracker String banned string null int string length banned index string char add Violation problems severity version field Name source Hint must contain characters banned found string char tracker return false return true private boolean validate Version String field Name Model Problem Collector problems Severity severity Version version String string String source Hint Input Location Tracker tracker string null string length return true Expression string add Violation problems severity version field Name source Hint must valid version string tracker return false return validate Banned Characters field Name problems severity version string source Hint tracker private boolean validate Proper Snapshot Version String field Name Model Problem Collector problems Severity severity Version version String string String source Hint Input Location Tracker tracker string null string length return true string ends string ends add Violation problems severity version field Name source Hint uses unsupported snapshot version format instead tracker return false return true private boolean validate Plugin Version String field Name Model Problem Collector problems String string String source Hint Input Location Tracker tracker Model Building Request request string null check missing plugin versions handled directly model builder return true Severity err get Severity request Model Building Request validate Version field Name problems err Version string source Hint tracker return false string length equals string equals string add Violation problems err Version field Name source Hint must valid version string tracker return false return true private static void add Violation Model Problem Collector problems Severity severity Version version String field Name String source Hint String message Input Location Tracker tracker String Builder buffer new String Builder buffer append append field Name append source Hint null buffer append append source Hint buffer append append message Line Length problems add new Model Problem Collector Request severity version set Message buffer String set Location get Location field Name tracker Line Length private static Input Location get Location String field Name Input Location Tracker tracker Input Location location null tracker null field Name null Object key field Name int idx field Name last Index idx field Name field Name substring idx key field Name field Name ends key field Name substring field Name last Index field Name length try key Integer value key String catch Number Format Exception e use key location tracker get Location key location null location tracker get Location return location private static boolean equals String String return String Utils clean equals String Utils clean private static Severity get Severity Model Building Request request int error Threshold return get Severity request get Validation Level error Threshold private static Severity get Severity int validation Level int error Threshold validation Level error Threshold return Severity else return Severity
package org apache lifecycle internal Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Collection import org apache lifecycle Mojo Execution Configurator import org apache model Plugin import org apache model Plugin Execution import org apache plugin Mojo Execution import org apache project Maven Project import org codehaus plexus component annotations Component import org codehaus plexus util String Utils import org codehaus plexus util xml Xpp Dom since Component role Mojo Execution Configurator class public class Default Mojo Execution Configurator implements Mojo Execution Configurator Override public void configure Maven Project project Mojo Execution mojo Execution boolean allow Plugin Level Config String g mojo Execution get Group Id String mojo Execution get Artifact Id Plugin plugin find Plugin g project get Build Plugins plugin null project get Plugin Management null plugin find Plugin g project get Plugin Management get Plugins plugin null Plugin Execution plugin Execution find Plugin Execution mojo Execution get Execution Id plugin get Executions Xpp Dom pom Configuration null plugin Execution null pom Configuration Xpp Dom plugin Execution get Configuration else allow Plugin Level Config pom Configuration Xpp Dom plugin get Configuration Xpp Dom mojo Configuration pom Configuration null new Xpp Dom pom Configuration null mojo Configuration Xpp Dom merge Xpp Dom mojo Execution get Configuration mojo Configuration mojo Execution set Configuration mojo Configuration private Plugin find Plugin String group Id String artifact Id Collection Plugin plugins Plugin plugin plugins artifact Id equals plugin get Artifact Id group Id equals plugin get Group Id return plugin return null private Plugin Execution find Plugin Execution String execution Id Collection Plugin Execution executions String Utils Empty execution Id Plugin Execution execution executions execution Id equals execution get Id return execution return null
package org apache model profile Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Collection import java util Hash Set import java util List import org apache model Activation import org apache model Profile import org apache model building Model Problem Collector import org apache model building Model Problem Severity import org apache model building Model Problem Version import org apache model building Model Problem Collector Request import org apache model profile activation Profile Activator import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement Calculates active profiles among given collection profiles author Benjamin Bentmann Component role Profile Selector class public class Default Profile Selector implements Profile Selector Requirement role Profile Activator class private List Profile Activator activators new Array List public Default Profile Selector add Profile Activator Profile Activator profile Activator profile Activator null activators add profile Activator return Override public List Profile get Active Profiles Collection Profile profiles Profile Activation Context context Model Problem Collector problems Collection String activated Ids new Hash Set context get Active Profile Ids Collection String deactivated Ids new Hash Set context get Inactive Profile Ids List Profile active Profiles new Array List profiles size List Profile active Pom Profiles Default new Array List boolean activated Pom Profile Default false Profile profile profiles deactivated Ids contains profile get Id activated Ids contains profile get Id Active profile context problems active Profiles add profile Profile equals profile get Source activated Pom Profile Default true else Active Default profile Profile equals profile get Source active Pom Profiles Default add profile else active Profiles add profile activated Pom Profile Default active Profiles add active Pom Profiles Default return active Profiles private boolean Active Profile profile Profile Activation Context context Model Problem Collector problems boolean Active false Profile Activator activator activators activator present Config profile context problems Active true Profile Activator activator activators try activator present Config profile context problems Active activator Active profile context problems catch Runtime Exception e problems add new Model Problem Collector Request Severity Version set Message Failed determine activation profile profile get Id set Location profile get Location set Exception e return false return Active private boolean Active Default Profile profile Activation activation profile get Activation return activation null activation Active Default
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java io Exception import java util Array List import java util Arrays import java util Collections import java util Hash Map import java util Hash Set import java util Linked Hash Set import java util List import java util Map import java util Set import org apache Repository Utils import org apache artifact Artifact import org apache artifact Invalid Repository Exception import org apache artifact repository Artifact Repository import org apache artifact repository Legacy Local Repository Manager import org apache bridge Maven Repository System import org apache model Build import org apache model Dependency import org apache model Dependency Management import org apache model Deployment Repository import org apache model Extension import org apache model Model import org apache model Plugin import org apache model Profile import org apache model Report Plugin import org apache model building Default Model Building Request import org apache model building Default Model Problem import org apache model building File Model Source import org apache model building Model Builder import org apache model building Model Building Exception import org apache model building Model Building Request import org apache model building Model Building Result import org apache model building Model Problem import org apache model building Model Processor import org apache model building Model Source import org apache model building String Model Source import org apache model resolution Model Resolver import org apache repository internal Artifact Descriptor Utils import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus logging Logger import org codehaus plexus util Os import org codehaus plexus util String Utils import org eclipse aether Repository System Session import org eclipse aether Request Trace import org eclipse aether impl Remote Repository Manager import org eclipse aether repository Local Repository Manager import org eclipse aether repository Remote Repository import org eclipse aether repository Workspace Repository import org eclipse aether resolution Artifact Request import org eclipse aether resolution Artifact Result Component role Project Builder class public class Default Project Builder implements Project Builder Requirement private Logger logger Requirement private Model Builder model Builder Requirement private Model Processor model Processor Requirement private Project Building Helper project Building Helper Requirement private Maven Repository System repository System Requirement private org eclipse aether Repository System repo System Requirement private Remote Repository Manager repository Manager Requirement private Project Dependencies Resolver dependency Resolver Maven Project Builder Implementation Override public Project Building Result build File pom File Project Building Request request throws Project Building Exception return build pom File new File Model Source pom File new Internal Config request null null Override public Project Building Result build Model Source model Source Project Building Request request throws Project Building Exception return build null model Source new Internal Config request null null private Project Building Result build File pom File Model Source model Source Internal Config config throws Project Building Exception Class Loader old Context Class Loader Thread current Thread get Context Class Loader try Project Building Request project Building Request config request Maven Project project project Building Request get Project List Model Problem model Problems null Throwable error null project null Model Building Request request get Model Building Request config project new Maven Project project set File pom File Default Model Building Listener listener new Default Model Building Listener project project Building Helper project Building Request request set Model Building Listener listener request set Pom File pom File request set Model Source model Source request set Location Tracking true Model Building Result result try result model Builder build request catch Model Building Exception e result e get Result result null result get Effective Model null throw new Project Building Exception e get Model Id e get Message pom File e validation error continue project building delay failing help Es error e model Problems result get Problems init Project project Collections String Maven Project empty Map result new Hash Map File Boolean project Building Request else project Building Request Resolve Dependencies project Building Helper select Project Realm project Dependency Resolution Result resolution Result null project Building Request Resolve Dependencies resolution Result resolve Dependencies project config session Project Building Result result new Default Project Building Result project model Problems resolution Result error null Project Building Exception e new Project Building Exception Arrays List result e init Cause error throw e return result finally Thread current Thread set Context Class Loader old Context Class Loader private Dependency Resolution Result resolve Dependencies Maven Project project Repository System Session session Dependency Resolution Result resolution Result try Default Dependency Resolution Request resolution new Default Dependency Resolution Request project session resolution Result dependency Resolver resolve resolution catch Dependency Resolution Exception e resolution Result e get Result Set Artifact artifacts new Linked Hash Set resolution Result get Dependency Graph null Repository Utils Artifacts artifacts resolution Result get Dependency Graph get Children Collections singleton List project get Artifact get Id null Maven x quirk artifact always points local repo regardless whether resolved Local Repository Manager lrm session get Local Repository Manager Artifact artifact artifacts artifact Resolved String path lrm get Path Local Artifact Repository Utils Artifact artifact artifact set File new File lrm get Repository get Basedir path project set Resolved Artifacts artifacts project set Artifacts artifacts return resolution Result private List String get Profile Ids List Profile profiles List String ids new Array List profiles size Profile profile profiles ids add profile get Id return ids private Model Building Request get Model Building Request Internal Config config Project Building Request configuration config request Model Building Request request new Default Model Building Request Request Trace trace Request Trace new Child null configuration new Child request Model Resolver resolver new Project Model Resolver config session trace repo System repository Manager config repositories configuration get Repository Merging config model Pool request set Validation Level configuration get Validation Level request set Process Plugins configuration Process Plugins request set Profiles configuration get Profiles request set Active Profile Ids configuration get Active Profile Ids request set Inactive Profile Ids configuration get Inactive Profile Ids request set System Properties configuration get System Properties request set User Properties configuration get User Properties request set Build Start Time configuration get Build Start Time request set Model Resolver resolver request set Model Cache config model Cache return request Override public Project Building Result build Artifact artifact Project Building Request request throws Project Building Exception return build artifact false request Override public Project Building Result build Artifact artifact boolean allow Stub Model Project Building Request request throws Project Building Exception org eclipse aether artifact Artifact pom Artifact Repository Utils Artifact artifact pom Artifact Artifact Descriptor Utils Pom Artifact pom Artifact Internal Config config new Internal Config request null null boolean local Project try Artifact Request pom Request new Artifact Request pom Request set Artifact pom Artifact pom Request set Repositories config repositories Artifact Result pom Result repo System resolve Artifact config session pom Request pom Artifact pom Result get Artifact local Project pom Result get Repository instanceof Workspace Repository catch org eclipse aether resolution Artifact Resolution Exception e e get Results get Missing allow Stub Model return build null create Stub Model Source artifact config throw new Project Building Exception artifact get Id Error resolving project artifact e get Message e File pom File pom Artifact get File pom equals artifact get Type artifact select Version pom Artifact get Version artifact set File pom File artifact set Resolved true return build local Project pom File null new File Model Source pom File config private Model Source create Stub Model Source Artifact artifact String Builder buffer new String Builder buffer append xml version buffer append project buffer append model Version model Version buffer append group Id append artifact get Group Id append group Id buffer append artifact Id append artifact get Artifact Id append artifact Id buffer append version append artifact get Base Version append version buffer append packaging append artifact get Type append packaging buffer append project return new String Model Source buffer artifact get Id Override public List Project Building Result build List File pom Files boolean recursive Project Building Request request throws Project Building Exception List Project Building Result results new Array List List Interim Result interim Results new Array List Reactor Model Pool model Pool new Reactor Model Pool Reactor Model Cache model Cache new Reactor Model Cache Internal Config config new Internal Config request model Pool model Cache Map String Maven Project project Index new Hash Map boolean Errors build results interim Results project Index pom Files new Linked Hash Set File true recursive config populate Reactor Model Pool model Pool interim Results Class Loader old Context Class Loader Thread current Thread get Context Class Loader try Errors build results new Array List Maven Project project Index interim Results request new Hash Map File Boolean Errors finally Thread current Thread set Context Class Loader old Context Class Loader Errors throw new Project Building Exception results return results private boolean build List Project Building Result results List Interim Result interim Results Map String Maven Project project Index List File pom Files Set File aggregator Files boolean Root boolean recursive Internal Config config boolean Errors true File pom File pom Files aggregator Files add pom File build results interim Results project Index pom File aggregator Files Root recursive config Errors false aggregator Files remove pom File return Errors private boolean build List Project Building Result results List Interim Result interim Results Map String Maven Project project Index File pom File Set File aggregator Files boolean Root boolean recursive Internal Config config boolean Errors true Model Building Request request get Model Building Request config Maven Project project new Maven Project request set Pom File pom File request set Two Phase Building true request set Location Tracking true Default Model Building Listener listener new Default Model Building Listener project project Building Helper config request request set Model Building Listener listener try Model Building Result result model Builder build request Model model result get Effective Model project Index put result get Model Ids get project Interim Result interim Result new Interim Result pom File request result listener Root interim Results add interim Result recursive model get Modules Empty File basedir pom File get Parent File List File module Files new Array List String module model get Modules String Utils Empty module continue module module replace File separator Char replace File separator Char File module File new File basedir module module File Directory module File model Processor locate Pom module File module File File Model Problem problem new Default Model Problem Child module module File pom File exist Model Problem Severity Model Problem Version model null result get Problems add problem Errors false continue Os Family Os n canonicalize unix avoid interfering symlinks try module File module File get Canonical File catch Exception e module File module File get Absolute File else module File new File module File normalize aggregator Files contains module File String Builder buffer new String Builder File aggregator File aggregator Files buffer append aggregator File append buffer append module File Model Problem problem new Default Model Problem Child module module File pom File forms aggregation cycle buffer Model Problem Severity Model Problem Version model null result get Problems add problem Errors false continue module Files add module File interim Result modules new Array List build results interim Result modules project Index module Files aggregator Files false recursive config Errors false catch Model Building Exception e results add new Default Project Building Result e get Model Id pom File e get Problems Errors false return Errors static class Interim Result File pom File Model Building Request request Model Building Result result Default Model Building Listener listener boolean root List Interim Result modules Collections empty List Interim Result File pom File Model Building Request request Model Building Result result Default Model Building Listener listener boolean root pom File pom File request request result result listener listener root root private void populate Reactor Model Pool Reactor Model Pool reactor Model Pool List Interim Result interim Results Interim Result interim Result interim Results Model model interim Result result get Effective Model reactor Model Pool put model get Group Id model get Artifact Id model get Version model get Pom File populate Reactor Model Pool reactor Model Pool interim Result modules private boolean build List Project Building Result results List Maven Project projects Map String Maven Project project Index List Interim Result interim Results Project Building Request request Map File Boolean profiles Xmls boolean Errors true Interim Result interim Result interim Results try Model Building Result result model Builder build interim Result request interim Result result Maven Project project interim Result listener get Project init Project project project Index result profiles Xmls request List Maven Project modules new Array List Errors build results modules project Index interim Result modules request profiles Xmls Errors projects add modules projects add project project set Execution Root interim Result root project set Collected Projects modules results add new Default Project Building Result project result get Problems null catch Model Building Exception e results add new Default Project Building Result e get Model Id interim Result pom File e get Problems Errors false return Errors private void init Project Maven Project project Map String Maven Project projects Model Building Result result Map File Boolean profiles Xmls Project Building Request project Building Request Model model result get Effective Model project set Model model project set Original Model result get Raw Model project set File model get Pom File Model parent Model result get Model Ids size result get Model Ids get Empty result get Raw Model result get Model Ids get null parent Model null final String parent Group Id inherited Group Id result final String parent Version inherited Version result project set Parent Artifact repository System create Project Artifact parent Group Id parent Model get Artifact Id parent Version org apache mng parent String parent Model Id result get Model Ids get File parent Pom File result get Raw Model parent Model Id get Pom File Maven Project parent projects get parent Model Id parent null point Default Model Building Listener fired populates remote repositories found pom xml along existing externally defined repositories project Building Request set Remote Repositories project get Remote Artifact Repositories parent Pom File null project set Parent File parent Pom File try parent build parent Pom File project Building Request get Project catch Project Building Exception e let invalid parents slide logger Debug Enabled Message checked core logger warn Failed build parent project project get Id e else Message checked core logger warn Failed build parent project project get Id else Artifact parent Artifact project get Parent Artifact try parent build parent Artifact project Building Request get Project catch Project Building Exception e let invalid parents slide logger Debug Enabled Message checked core logger warn Failed build parent project project get Id e else Message checked core logger warn Failed build parent project project get Id project set Parent parent Artifact project Artifact repository System create Artifact project get Group Id project get Artifact Id project get Version null project get Packaging project set Artifact project Artifact project get File null Build build project get Build project add Script Source Root build get Script Source Directory project add Compile Source Root build get Source Directory project add Test Compile Source Root build get Test Source Directory List Profile active Profiles new Array List active Profiles add result get Active Pom Profiles result get Model Ids get active Profiles add result get Active External Profiles project set Active Profiles active Profiles project set Injected Profile Ids external get Profile Ids result get Active External Profiles String model Id result get Model Ids project set Injected Profile Ids model Id get Profile Ids result get Active Pom Profiles model Id String model Id find Profiles Xml result profiles Xmls model Id null Model Problem problem new Default Model Problem Detected profiles xml alongside model Id file longer supported ignored please use settings xml instead Model Problem Severity Model Problem Version model null result get Problems add problem parts taken Maven Project Maven project set Project Building Request project Building Request plugin Artifacts Set Artifact plugin Artifacts new Hash Set Plugin plugin project get Build Plugins Artifact artifact repository System create Plugin Artifact plugin artifact null plugin Artifacts add artifact project set Plugin Artifacts plugin Artifacts report Artifacts Set Artifact report Artifacts new Hash Set Report Plugin report project get Report Plugins Plugin pp new Plugin pp set Group Id report get Group Id pp set Artifact Id report get Artifact Id pp set Version report get Version Artifact artifact repository System create Plugin Artifact pp artifact null report Artifacts add artifact project set Report Artifacts report Artifacts extension Artifacts Set Artifact extension Artifacts new Hash Set List Extension extensions project get Build Extensions extensions null Extension ext extensions String version String Utils Empty ext get Version version else version ext get Version Artifact artifact repository System create Artifact ext get Group Id ext get Artifact Id version null jar artifact null extension Artifacts add artifact project set Extension Artifacts extension Artifacts managed Version Map Map String Artifact map null repository System null List Dependency deps Dependency Management dependency Management project get Dependency Management dependency Management null deps dependency Management get Dependencies null deps size map new Hash Map Dependency dependency Management get Dependencies Artifact artifact repository System create Dependency Artifact artifact null map put get Management Key artifact else map Collections empty Map project set Managed Version Map map release artifact repository project get Distribution Management null project get Distribution Management get Repository null try Deployment Repository r project get Distribution Management get Repository String Utils Empty r get Id String Utils Empty r get Url Artifact Repository repo repository System build Artifact Repository r repository System inject Proxy project Building Request get Repository Session Arrays List repo repository System inject Authentication project Building Request get Repository Session Arrays List repo project set Release Artifact Repository repo catch Invalid Repository Exception e throw new Illegal State Exception Failed create release distribution repository project get Id e snapshot artifact repository project get Distribution Management null project get Distribution Management get Snapshot Repository null try Deployment Repository r project get Distribution Management get Snapshot Repository String Utils Empty r get Id String Utils Empty r get Url Artifact Repository repo repository System build Artifact Repository r repository System inject Proxy project Building Request get Repository Session Arrays List repo repository System inject Authentication project Building Request get Repository Session Arrays List repo project set Snapshot Artifact Repository repo catch Invalid Repository Exception e throw new Illegal State Exception Failed create snapshot distribution repository project get Id e private static String inherited Group Id final Model Building Result result final int model Index String group Id null final String model Id result get Model Ids get model Index model Id Empty final Model model result get Raw Model model Id group Id model get Group Id null model get Group Id inherited Group Id result model Index return group Id private static String inherited Version final Model Building Result result final int model Index String version null final String model Id result get Model Ids get model Index model Id Empty final Model model result get Raw Model model Id version model get Version null model get Version inherited Version result model Index return version private String find Profiles Xml Model Building Result result Map File Boolean profiles Xmls String model Id result get Model Ids Model model result get Raw Model model Id File basedir model get Project Directory basedir null break Boolean profiles Xml profiles Xmls get basedir profiles Xml null profiles Xml new File basedir profiles xml exists profiles Xmls put basedir profiles Xml profiles Xml return model Id return null class Internal Config public final Project Building Request request public final Repository System Session session public final List Remote Repository repositories public final Reactor Model Pool model Pool public final Reactor Model Cache model Cache Internal Config Project Building Request request Reactor Model Pool model Pool Reactor Model Cache model Cache request request model Pool model Pool model Cache model Cache session Legacy Local Repository Manager overlay request get Local Repository request get Repository Session repo System repositories Repository Utils Repos request get Remote Repositories
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Arrays import java util Collection import java util Hash Map import java util Hash Set import java util Linked Hash Set import java util List import java util Map import java util Set import org apache Repository Utils import org apache artifact Artifact import org apache artifact Invalid Repository Exception import org apache artifact repository Artifact Repository import org apache classrealm Class Realm Manager import org apache model Build import org apache model Extension import org apache model Model import org apache model Plugin import org apache model Repository import org apache plugin Extension Realm Cache import org apache plugin Maven Plugin Manager import org apache plugin Plugin Manager Exception import org apache plugin Plugin Resolution Exception import org apache plugin version Plugin Version Resolution Exception import org apache repository Repository System import org codehaus plexus Plexus Container import org codehaus plexus classworlds realm Class Realm import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus logging Logger import org eclipse aether graph Dependency Filter import org eclipse aether util filter Exclusions Dependency Filter Assists project builder strong Warning strong internal utility class public technical reasons part public particular class changed deleted without prior notice author Benjamin Bentmann Component role Project Building Helper class public class Default Project Building Helper implements Project Building Helper Requirement private Logger logger Requirement private Plexus Container container Requirement private Class Realm Manager class Realm Manager Requirement private Project Realm Cache project Realm Cache Requirement private Repository System repository System Requirement private Maven Plugin Manager plugin Manager public List Artifact Repository create Artifact Repositories List Repository pom Repositories List Artifact Repository external Repositories Project Building Request request throws Invalid Repository Exception List Artifact Repository internal Repositories new Array List Repository repository pom Repositories internal Repositories add repository System build Artifact Repository repository repository System inject Mirror request get Repository Session internal Repositories repository System inject Proxy request get Repository Session internal Repositories repository System inject Authentication request get Repository Session internal Repositories List Artifact Repository dominant Repositories List Artifact Repository recessive Repositories Project Building Request Repository Merging equals request get Repository Merging dominant Repositories external Repositories recessive Repositories internal Repositories else dominant Repositories internal Repositories recessive Repositories external Repositories List Artifact Repository artifact Repositories new Array List Collection String repo Ids new Hash Set dominant Repositories null Artifact Repository repository dominant Repositories repo Ids add repository get Id artifact Repositories add repository recessive Repositories null Artifact Repository repository recessive Repositories repo Ids add repository get Id artifact Repositories add repository artifact Repositories repository System get Effective Repositories artifact Repositories return artifact Repositories public synchronized Project Realm Cache Cache Record create Project Realm Maven Project project Model model Project Building Request request throws Plugin Resolution Exception Plugin Version Resolution Exception Plugin Manager Exception Class Realm project Realm List Plugin extension Plugins new Array List Build build model get Build build null Extension extension build get Extensions Plugin plugin new Plugin plugin set Group Id extension get Group Id plugin set Artifact Id extension get Artifact Id plugin set Version extension get Version extension Plugins add plugin Plugin plugin build get Plugins plugin Extensions extension Plugins add plugin extension Plugins Empty logger Debug Enabled logger debug Extension realms project model get Id none return new Project Realm Cache Cache Record null null List Class Realm extension Realms new Array List Map Class Realm List String exported Packages new Hash Map Map Class Realm List String exported Artifacts new Hash Map List Artifact public Artifacts new Array List Plugin plugin extension Plugins Extension Realm Cache Cache Record record Realm plugin Manager setup Extensions Realm project plugin request get Repository Session final Class Realm extension Realm record Realm realm final Extension Descriptor extension Descriptor record Realm descriptor final List Artifact artifacts record Realm artifacts extension Realms add extension Realm extension Descriptor null exported Packages put extension Realm extension Descriptor get Exported Packages exported Artifacts put extension Realm extension Descriptor get Exported Artifacts plugin Extensions artifacts size artifacts get get File null plexus utils equals artifacts get get Artifact Id purely backward compat x extensions consisting single artifact loaded core hence available plugins contrast bigger extensions loaded dedicated realm invisible plugins public Artifacts add artifacts get logger Debug Enabled logger debug Extension realms project model get Id extension Realms Project Realm Cache Key project Realm Key project Realm Cache create Key extension Realms Project Realm Cache Cache Record record project Realm Cache get project Realm Key record null project Realm class Realm Manager create Project Realm model Aether Artifacts public Artifacts Set String exclusions new Linked Hash Set Class Realm extension Realm extension Realms List String excludes exported Artifacts get extension Realm excludes null exclusions add excludes List String exports exported Packages get extension Realm exports null exports Empty existing extensions n define exported packages e classes exposed plugins yet components provided extension e g artifact handlers must accessible e still must import extension realm project realm exports Arrays List extension Realm get Id String export exports project Realm import extension Realm export Dependency Filter extension Artifact Filter null exclusions Empty extension Artifact Filter new Exclusions Dependency Filter exclusions record project Realm Cache put project Realm Key project Realm extension Artifact Filter project Realm Cache register project project Realm Key record return record public void select Project Realm Maven Project project Class Loader project Realm project get Class Realm project Realm null project Realm class Realm Manager get Core Realm Thread current Thread set Context Class Loader project Realm private List org eclipse aether artifact Artifact Aether Artifacts final List Artifact plugin Artifacts return new Array List Repository Utils Artifacts plugin Artifacts
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Date import java util List import java util Properties import org apache commons lang Validate import org apache artifact repository Artifact Repository import org apache model Profile import org apache model building Model Building Request import org apache properties internal System Properties import org eclipse aether Repository System Session public class Default Project Building Request implements Project Building Request private Repository System Session repository Session private Artifact Repository local Repository private List Artifact Repository remote Repositories private List Artifact Repository plugin Artifact Repositories private Maven Project project private int validation Level Model Building Request private boolean process Plugins private List Profile profiles private List String active Profile Ids private List String inactive Profile Ids private Properties system Properties private Properties user Properties private Date build Start Time private boolean resolve Dependencies Deprecated private boolean resolve Version Ranges private Repository Merging repository Merging Repository Merging public Default Project Building Request process Plugins true profiles new Array List active Profile Ids new Array List inactive Profile Ids new Array List system Properties new Properties user Properties new Properties remote Repositories new Array List plugin Artifact Repositories new Array List public Default Project Building Request Project Building Request request set Process Plugins request Process Plugins set Profiles request get Profiles set Active Profile Ids request get Active Profile Ids set Inactive Profile Ids request get Inactive Profile Ids set System Properties request get System Properties set User Properties request get User Properties set Remote Repositories request get Remote Repositories set Plugin Artifact Repositories request get Plugin Artifact Repositories set Repository Session request get Repository Session set Local Repository request get Local Repository set Build Start Time request get Build Start Time set Project request get Project set Resolve Dependencies request Resolve Dependencies set Validation Level request get Validation Level public Maven Project get Project return project public void set Project Maven Project Project project Project public Project Building Request set Local Repository Artifact Repository local Repository local Repository local Repository return public Artifact Repository get Local Repository return local Repository public List Artifact Repository get Remote Repositories return remote Repositories public Project Building Request set Remote Repositories List Artifact Repository remote Repositories remote Repositories null remote Repositories new Array List remote Repositories else remote Repositories clear return public List Artifact Repository get Plugin Artifact Repositories return plugin Artifact Repositories public Project Building Request set Plugin Artifact Repositories List Artifact Repository plugin Artifact Repositories plugin Artifact Repositories null plugin Artifact Repositories new Array List plugin Artifact Repositories else plugin Artifact Repositories clear return public Properties get System Properties return system Properties public Project Building Request set System Properties Properties system Properties system Properties null system Properties System Properties copy Properties system Properties else system Properties clear return public Properties get User Properties return user Properties public Project Building Request set User Properties Properties user Properties user Properties null user Properties new Properties user Properties put user Properties else user Properties clear return public boolean Process Plugins return process Plugins public Project Building Request set Process Plugins boolean process Plugins process Plugins process Plugins return public Project Building Request set Resolve Dependencies boolean resolve Dependencies resolve Dependencies resolve Dependencies return public boolean Resolve Dependencies return resolve Dependencies since deprecated got added implementing longer used Commit cf c bc ab b ace ba updated way Maven Project objects initialized Deprecated public Project Building Request set Resolve Version Ranges boolean value resolve Version Ranges value return since deprecated got added implementing longer used Commit cf c bc ab b ace ba updated way Maven Project objects initialized Deprecated public boolean Resolve Version Ranges return resolve Version Ranges public Project Building Request set Validation Level int validation Level validation Level validation Level return public int get Validation Level return validation Level public List String get Active Profile Ids return active Profile Ids public void set Active Profile Ids List String active Profile Ids active Profile Ids null active Profile Ids new Array List active Profile Ids else active Profile Ids clear public List String get Inactive Profile Ids return inactive Profile Ids public void set Inactive Profile Ids List String inactive Profile Ids inactive Profile Ids null inactive Profile Ids new Array List inactive Profile Ids else inactive Profile Ids clear public void set Profiles List Profile profiles profiles null profiles new Array List profiles else profiles clear public void add Profile Profile profile profiles add profile public List Profile get Profiles return profiles public Date get Build Start Time return build Start Time public void set Build Start Time Date build Start Time build Start Time build Start Time public Repository System Session get Repository Session return repository Session public Default Project Building Request set Repository Session Repository System Session repository Session repository Session repository Session return public Default Project Building Request set Repository Merging Repository Merging repository Merging repository Merging Validate Null repository Merging repository Merging null return public Repository Merging get Repository Merging return repository Merging
package org apache Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Collection import java util Collections import java util Hash Set import java util Iterator import java util Linked Hash Set import java util Set import org apache artifact Artifact import org apache artifact Artifact Utils import org apache artifact resolver Artifact Found Exception import org apache artifact resolver Artifact Resolution Exception import org apache artifact resolver Artifact Resolution Request import org apache artifact resolver Artifact Resolution Result import org apache artifact resolver Multiple Artifacts Found Exception import org apache artifact resolver Resolution Error Handler import org apache artifact resolver filter Cumulative Scope Artifact Filter import org apache execution Maven Session import org apache project Maven Project import org apache project artifact Project Artifact import org apache repository Repository System import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement Deprecated Component role Project Dependencies Resolver class public class Default Project Dependencies Resolver implements Project Dependencies Resolver Requirement private Repository System repository System Requirement private Resolution Error Handler resolution Error Handler public Set Artifact resolve Maven Project project Collection String scopes Resolve Maven Session session throws Artifact Resolution Exception Artifact Found Exception return resolve Collections singleton project scopes Resolve session public Set Artifact resolve Maven Project project Collection String scopes Collect Collection String scopes Resolve Maven Session session throws Artifact Resolution Exception Artifact Found Exception Set Maven Project Projects Collections singleton project return resolve Impl Projects scopes Collect scopes Resolve session get Ignorable Artifacts Projects public Set Artifact resolve Collection extends Maven Project projects Collection String scopes Resolve Maven Session session throws Artifact Resolution Exception Artifact Found Exception return resolve Impl projects null scopes Resolve session get Ignorable Artifacts projects public Set Artifact resolve Maven Project project Collection String scopes Collect Collection String scopes Resolve Maven Session session Set Artifact ignoreable Artifacts throws Artifact Resolution Exception Artifact Found Exception return resolve Impl Collections singleton project scopes Collect scopes Resolve session get Ignorable Artifacts ignoreable Artifacts private Set Artifact resolve Impl Collection extends Maven Project projects Collection String scopes Collect Collection String scopes Resolve Maven Session session Set String project Ids throws Artifact Resolution Exception Artifact Found Exception Set Artifact resolved new Linked Hash Set projects null projects Empty return resolved scopes Collect null scopes Collect Empty scopes Resolve null scopes Resolve Empty return resolved Logic transitive global exclusions List String exclusions new Array List String Dependency project get Dependencies get Exclusions null Exclusion e get Exclusions exclusions add e get Group Id e get Artifact Id Artifact Filter scope Filter new Scope Artifact Filter scope Artifact Filter filter exclusions Empty filter new Artifact Filter Arrays List new Artifact Filter new Excludes Artifact Filter exclusions scope Filter else filter scope Filter Cumulative Scope Artifact Filter resolution Scope Filter new Cumulative Scope Artifact Filter scopes Resolve Cumulative Scope Artifact Filter collection Scope Filter new Cumulative Scope Artifact Filter scopes Collect collection Scope Filter new Cumulative Scope Artifact Filter collection Scope Filter resolution Scope Filter Artifact Resolution Request request new Artifact Resolution Request set Resolve Root false set Resolve Transitively true set Collection Filter collection Scope Filter set Resolution Filter resolution Scope Filter set Local Repository session get Local Repository set Offline session Offline set Force Update session get Request Update Snapshots request set Servers session get Request get Servers request set Mirrors session get Request get Mirrors request set Proxies session get Request get Proxies Maven Project project projects request set Artifact new Project Artifact project request set Artifact Dependencies project get Dependency Artifacts request set Managed Version Map project get Managed Version Map request set Remote Repositories project get Remote Artifact Repositories Artifact Resolution Result result repository System resolve request try resolution Error Handler throw Errors request result catch Multiple Artifacts Found Exception e Collection Artifact missing new Hash Set e get Missing Artifacts Iterator Artifact missing iterator Next String key Artifact Utils key next project Ids contains key remove missing Empty throw e resolved add result get Artifacts return resolved private Set String get Ignorable Artifacts Collection extends Maven Project projects Set String project Ids new Hash Set projects size Maven Project p projects String key Artifact Utils key p get Group Id p get Artifact Id p get Version project Ids add key return project Ids private Set String get Ignorable Artifacts Iterable Artifact artifact Iterable Set String project Ids new Hash Set Artifact artifact artifact Iterable String key Artifact Utils key artifact project Ids add key return project Ids
package org apache graph Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Collection import java util Collections import java util Hash Set import java util List import java util Set import org apache commons lang Validate import org apache execution Project Dependency Graph import org apache project Duplicate Project Exception import org apache project Maven Project import org apache project Project Sorter import org codehaus plexus util dag Cycle Detected Exception Describes inter dependencies projects reactor author Benjamin Bentmann public class Default Project Dependency Graph implements Project Dependency Graph private Project Sorter sorter private List Maven Project Projects Creates new project dependency graph based specified projects param projects projects create dependency graph throws Duplicate Project Exception throws Cycle Detected Exception public Default Project Dependency Graph Collection Maven Project projects throws Cycle Detected Exception Duplicate Project Exception super Projects Collections unmodifiable List new Array List projects sorter new Project Sorter projects Creates new project dependency graph based specified projects param Projects collected projects param projects projects create dependency graph throws Duplicate Project Exception throws Cycle Detected Exception since public Default Project Dependency Graph final List Maven Project Projects final Collection Maven Project projects throws Cycle Detected Exception Duplicate Project Exception super Projects Collections unmodifiable List new Array List Projects sorter new Project Sorter projects since public List Maven Project get Projects return Projects public List Maven Project get Sorted Projects return new Array List sorter get Sorted Projects public List Maven Project get Downstream Projects Maven Project project boolean transitive Validate Null project project null Set String project Ids new Hash Set get Downstream Projects Project Sorter get Id project project Ids transitive return get Sorted Projects project Ids private void get Downstream Projects String project Id Set String project Ids boolean transitive String id sorter get Dependents project Id project Ids add id transitive get Downstream Projects id project Ids transitive public List Maven Project get Upstream Projects Maven Project project boolean transitive Validate Null project project null Set String project Ids new Hash Set get Upstream Projects Project Sorter get Id project project Ids transitive return get Sorted Projects project Ids private void get Upstream Projects String project Id Collection String project Ids boolean transitive String id sorter get Dependencies project Id project Ids add id transitive get Upstream Projects id project Ids transitive private List Maven Project get Sorted Projects Set String project Ids List Maven Project result new Array List project Ids size Maven Project Project sorter get Sorted Projects project Ids contains Project Sorter get Id Project result add Project return result Override public String String return sorter get Sorted Projects String
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Collections import java util List import java util Map import java util concurrent Concurrent Hash Map import org apache commons lang Validate import org codehaus plexus classworlds realm Class Realm import org codehaus plexus classworlds realm Realm Exception import org codehaus plexus component annotations Component import org codehaus plexus personality plexus lifecycle phase Disposable import org eclipse aether graph Dependency Filter Default project realm cache implementation Assumes cached data change Component role Project Realm Cache class public class Default Project Realm Cache implements Project Realm Cache Disposable protected static class Cache Key implements Key private final List extends Class Realm extension Realms private final int hash Code public Cache Key List extends Class Realm extension Realms extension Realms extension Realms null extension Realms Collections Class Realm empty List hash Code extension Realms hash Code Override public int hash Code return hash Code Override public boolean equals Object return true instanceof Cache Key return false Cache Key Cache Key return extension Realms equals extension Realms Override public String String return extension Realms String protected final Map Key Cache Record cache new Concurrent Hash Map Override public Key create Key List extends Class Realm extension Realms return new Cache Key extension Realms public Cache Record get Key key return cache get key public Cache Record put Key key Class Realm project Realm Dependency Filter extension Artifact Filter Validate Null project Realm project Realm null cache contains Key key throw new Illegal State Exception Duplicate project realm extensions key Cache Record record new Cache Record project Realm extension Artifact Filter cache put key record return record public void flush Cache Record record cache values Class Realm realm record realm try realm get World dispose Realm realm get Id catch Realm Exception e ignore cache clear public void register Maven Project project Key key Cache Record record default cache track record usage Override public void dispose flush
package org apache model plugin Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import org apache model Build import org apache model Model import org apache model Plugin import org apache model Plugin Management import org apache model Report Plugin import org apache model Report Set import org apache model Reporting import org apache model building Model Building Request import org apache model building Model Problem Collector import org apache model building Model Problem Collector Request import org apache model building Model Problem Severity import org apache model building Model Problem Version import org codehaus plexus component annotations Component import org codehaus plexus util String Utils import org codehaus plexus util xml Xpp Dom Handles conversion code lt reporting gt code section configuration Maven Site Plugin x e code report Plugins code code output Directory code parameters author Benjamin Bentmann Component role Reporting Converter class public class Default Reporting Converter implements Reporting Converter Override public void convert Reporting Model model Model Building Request request Model Problem Collector problems Reporting reporting model get Reporting reporting null return Build build model get Build build null build new Build model set Build build Plugin site Plugin find Site Plugin build site Plugin null site Plugin new Plugin site Plugin set Artifact Id site plugin Plugin Management plugin Management build get Plugin Management plugin Management null plugin Management new Plugin Management build set Plugin Management plugin Management plugin Management add Plugin site Plugin Xpp Dom configuration Xpp Dom site Plugin get Configuration configuration null configuration new Xpp Dom configuration site Plugin set Configuration configuration Xpp Dom report Plugins configuration get Child report Plugins report Plugins null new style report configuration already present warn since new style deprecated favor classical reporting section problems add new Model Problem Collector Request Severity Version set Message Reporting configuration done reporting section site plugin configuration report Plugins parameter set Location site Plugin get Location configuration return configuration get Child output Directory null add Dom configuration output Directory reporting get Output Directory report Plugins new Xpp Dom report Plugins configuration add Child report Plugins boolean Maven Project Info Reports Plugin false waiting deprecating reporting section reporting get Plugins Empty request get Validation Level Model Building Request problems add new Model Problem Collector Request Severity Version set Message reporting section deprecated please move reports configuration section new Maven Site Plugin set Location reporting get Location Report Plugin plugin reporting get Plugins Xpp Dom report Plugin convert plugin report Plugins add Child report Plugin reporting Exclude Defaults Maven Project Info Reports Plugin org apache plugins equals plugin get Group Id project info reports plugin equals plugin get Artifact Id Maven Project Info Reports Plugin true reporting Exclude Defaults Maven Project Info Reports Plugin Xpp Dom dom new Xpp Dom report Plugin add Dom dom group Id org apache plugins add Dom dom artifact Id project info reports plugin report Plugins add Child dom private Plugin find Site Plugin Build build Plugin plugin build get Plugins Site Plugin plugin return plugin Plugin Management plugin Management build get Plugin Management plugin Management null Plugin plugin plugin Management get Plugins Site Plugin plugin return plugin return null private boolean Site Plugin Plugin plugin return site plugin equals plugin get Artifact Id org apache plugins equals plugin get Group Id private Xpp Dom convert Report Plugin plugin Xpp Dom dom new Xpp Dom report Plugin add Dom dom group Id plugin get Group Id add Dom dom artifact Id plugin get Artifact Id add Dom dom version plugin get Version Xpp Dom configuration Xpp Dom plugin get Configuration configuration null configuration new Xpp Dom configuration dom add Child configuration plugin get Report Sets Empty Xpp Dom report Sets new Xpp Dom report Sets Report Set report Set plugin get Report Sets Xpp Dom rs convert report Set report Sets add Child rs dom add Child report Sets return dom private Xpp Dom convert Report Set report Set Xpp Dom dom new Xpp Dom report Set add Dom dom id report Set get Id Xpp Dom configuration Xpp Dom report Set get Configuration configuration null configuration new Xpp Dom configuration dom add Child configuration report Set get Reports Empty Xpp Dom reports new Xpp Dom reports String report report Set get Reports add Dom reports report report dom add Child reports return dom private void add Dom Xpp Dom parent String child Name String child Value String Utils Empty child Value parent add Child new Dom child Name child Value private Xpp Dom new Dom String name String value Xpp Dom dom new Xpp Dom name dom set Value value return dom
package org apache artifact repository metadata Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import org apache artifact metadata Artifact Metadata import org apache artifact repository Artifact Repository import org apache artifact repository Artifact Repository Policy import org apache artifact repository Default Repository Request import org apache artifact repository Repository Request import org apache artifact repository metadata io xpp Metadata Xpp Reader import org apache artifact repository metadata io xpp Metadata Xpp Writer import org apache repository legacy Update Check Manager import org apache repository legacy Wagon Manager import org apache wagon Resource Exist Exception import org apache wagon Transfer Failed Exception import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus logging Abstract Log Enabled import org codehaus plexus util Reader Factory import org codehaus plexus util Writer Factory import org codehaus plexus util xml pull Xml Pull Parser Exception import java io File import java io File Found Exception import java io Exception import java io Reader import java io Writer import java util Date import java util Hash Map import java util List import java util Map author Jason van Zyl Component role Repository Metadata Manager class public class Default Repository Metadata Manager extends Abstract Log Enabled implements Repository Metadata Manager Requirement private Wagon Manager wagon Manager Requirement private Update Check Manager update Check Manager public void resolve Repository Metadata metadata List Artifact Repository remote Repositories Artifact Repository local Repository throws Repository Metadata Resolution Exception Repository Request request new Default Repository Request request set Local Repository local Repository request set Remote Repositories remote Repositories resolve metadata request public void resolve Repository Metadata metadata Repository Request request throws Repository Metadata Resolution Exception Artifact Repository local Repo request get Local Repository List Artifact Repository remote Repositories request get Remote Repositories request Offline Date local Copy Last Modified null metadata get Base Version null local Copy Last Modified get Local Copy Last Modified local Repo metadata Artifact Repository repository remote Repositories Artifact Repository Policy policy metadata get Policy repository File file new File local Repo get Basedir local Repo path Local Repository Metadata metadata repository boolean update policy Enabled update false get Logger Debug Enabled get Logger debug Skipping update check metadata get Key file disabled repository repository get Id repository get Url else request Force Update update true else local Copy Last Modified null policy check Date local Copy Last Modified update false get Logger Debug Enabled get Logger debug Skipping update check metadata get Key file repository repository get Id repository get Url favor local copy else update update Check Manager Update Required metadata repository file update get Logger info metadata get Key checking updates repository get Id try wagon Manager get Artifact Metadata metadata repository file policy get Checksum Policy catch Resource Exist Exception e get Logger debug metadata could found repository repository get Id delete local copy old details n used file exists file delete sleep ms case windows holding file lock try Thread sleep catch Interrupted Exception ie ignore file delete fails forget catch Transfer Failed Exception e get Logger warn metadata could retrieved repository repository get Id due error e get Message get Logger debug Exception e finally update Check Manager touch metadata repository file inside check touch file checked interval passed file exists file set Last Modified System current Time Millis try merge Metadata metadata remote Repositories local Repo catch Repository Metadata Store Exception e throw new Repository Metadata Resolution Exception Unable store local copy metadata e get Message e private Date get Local Copy Last Modified Artifact Repository local Repository Repository Metadata metadata String metadata Path local Repository path Local Repository Metadata metadata local Repository File metadata File new File local Repository get Basedir metadata Path return metadata File File new Date metadata File last Modified null private void merge Metadata Repository Metadata metadata List Artifact Repository remote Repositories Artifact Repository local Repository throws Repository Metadata Store Exception currently first wins really take latest comparing either snapshot timestamp timestamp later encoded metadata needs repeated merging n interfere written metadata much better pristine input ongoing metadata merging instead Map Artifact Repository Metadata previous Metadata new Hash Map Artifact Repository selected null Artifact Repository repository remote Repositories Artifact Repository Policy policy metadata get Policy repository policy Enabled load Metadata metadata repository local Repository previous Metadata metadata set Repository repository selected repository load Metadata metadata local Repository local Repository previous Metadata metadata set Repository null selected local Repository update Snapshot Metadata metadata previous Metadata selected local Repository private void update Snapshot Metadata Repository Metadata metadata Map Artifact Repository Metadata previous Metadata Artifact Repository selected Artifact Repository local Repository throws Repository Metadata Store Exception could lot nicer really snapshot transformation metadata Snapshot Metadata prev Metadata metadata get Metadata Artifact Repository repository previous Metadata key Set Metadata previous Metadata get repository repository equals selected get Versioning null set Versioning new Versioning get Versioning get Snapshot null get Versioning set Snapshot new Snapshot else get Versioning null get Versioning get Snapshot null get Versioning get Snapshot Local Copy get Versioning get Snapshot set Local Copy false metadata set Metadata metadata store Local Repository local Repository repository metadata set Metadata prev Metadata private boolean load Metadata Repository Metadata repo Metadata Artifact Repository remote Repository Artifact Repository local Repository Map Artifact Repository Metadata previous Metadata boolean set Repository false File metadata File new File local Repository get Basedir local Repository path Local Repository Metadata repo Metadata remote Repository metadata File exists Metadata metadata try metadata read Metadata metadata File catch Repository Metadata Read Exception e get Logger Debug Enabled get Logger warn e get Message e else get Logger warn e get Message return set Repository repo Metadata Snapshot previous Metadata null previous Metadata put remote Repository metadata repo Metadata get Metadata null set Repository repo Metadata get Metadata merge metadata else repo Metadata set Metadata metadata set Repository true return set Repository share Default Plugin Mapping Manager protected Metadata read Metadata File mapping File throws Repository Metadata Read Exception Metadata result try Reader reader Reader Factory new Xml Reader mapping File Metadata Xpp Reader mapping Reader new Metadata Xpp Reader result mapping Reader read reader false catch File Found Exception e throw new Repository Metadata Read Exception read metadata mapping File e catch Exception Xml Pull Parser Exception e throw new Repository Metadata Read Exception read metadata mapping File e get Message e return result Ensures last updated timestamp specified metadata refer future fixes local metadata necessary allow proper merging updating metadata deployment private void fix Timestamp File metadata File Metadata metadata Metadata reference boolean changed false metadata null reference null Versioning versioning metadata get Versioning Versioning versioning Ref reference get Versioning versioning null versioning Ref null String last Updated versioning get Last Updated String versioning Ref get Last Updated last Updated null null compare last Updated get Logger warn last updated timestamp metadata File refers future last Updated last Updated Please verify clocks deploying machines reasonably synchronized versioning set Last Updated changed true changed get Logger debug Repairing metadata metadata File try Writer writer Writer Factory new Xml Writer metadata File new Metadata Xpp Writer write writer metadata catch Exception e String msg Could write fixed metadata metadata File e get Message get Logger Debug Enabled get Logger warn msg e else get Logger warn msg public void resolve Always Repository Metadata metadata Artifact Repository local Repository Artifact Repository remote Repository throws Repository Metadata Resolution Exception File file try file get Artifact Metadata Deployment Repository metadata local Repository remote Repository catch Transfer Failed Exception e throw new Repository Metadata Resolution Exception metadata could retrieved repository remote Repository get Id due error e get Message e try file exists Metadata prev Metadata read Metadata file metadata set Metadata prev Metadata catch Repository Metadata Read Exception e throw new Repository Metadata Resolution Exception e get Message e private File get Artifact Metadata Deployment Repository Artifact Metadata metadata Artifact Repository local Repo Artifact Repository remote Repository throws Transfer Failed Exception File file new File local Repo get Basedir local Repo path Local Repository Metadata metadata remote Repository try wagon Manager get Artifact Metadata Deployment Repository metadata remote Repository file Artifact Repository Policy catch Resource Exist Exception e get Logger info metadata could found repository remote Repository get Id created delete local copy old details n used file exists file delete sleep ms case windows holding file lock try Thread sleep catch Interrupted Exception ie ignore file delete fails forget finally metadata instanceof Repository Metadata update Check Manager touch Repository Metadata metadata remote Repository file return file public void deploy Artifact Metadata metadata Artifact Repository local Repository Artifact Repository deployment Repository throws Repository Metadata Deployment Exception File file metadata instanceof Repository Metadata get Logger info Retrieving previous metadata deployment Repository get Id try file get Artifact Metadata Deployment Repository metadata local Repository deployment Repository catch Transfer Failed Exception e throw new Repository Metadata Deployment Exception metadata could retrieved repository deployment Repository get Id due error e get Message e file File try fix Timestamp file read Metadata file Repository Metadata metadata get Metadata catch Repository Metadata Read Exception e reported via store Inlocal Repository else n need retrieve first file new File local Repository get Basedir local Repository path Local Repository Metadata metadata deployment Repository try metadata store Local Repository local Repository deployment Repository catch Repository Metadata Store Exception e throw new Repository Metadata Deployment Exception Error installing metadata e get Message e try wagon Manager put Artifact Metadata file metadata deployment Repository catch Transfer Failed Exception e throw new Repository Metadata Deployment Exception Error deploying metadata e get Message e public void install Artifact Metadata metadata Artifact Repository local Repository throws Repository Metadata Installation Exception try metadata store Local Repository local Repository local Repository catch Repository Metadata Store Exception e throw new Repository Metadata Installation Exception Error installing metadata e get Message e
package org apache artifact manager Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util List import org apache artifact Artifact import org apache artifact repository Artifact Repository import org apache artifact repository Artifact Repository Factory import org apache execution Maven Execution Request import org apache execution Maven Session import org apache plugin Legacy Support import org apache repository Mirror Selector import org apache settings Mirror import org apache settings Proxy import org apache settings Server import org apache settings crypto Default Settings Decryption Request import org apache settings crypto Settings Decrypter import org apache settings crypto Settings Decryption Result import org apache wagon Resource Exist Exception import org apache wagon Transfer Failed Exception import org apache wagon authentication Authentication Info import org apache wagon proxy Proxy Info import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus logging Logger Component role Wagon Manager class public class Default Wagon Manager extends org apache repository legacy Default Wagon Manager implements Wagon Manager must use different field name super class Io chance inject loggers Requirement private Logger log Requirement private Legacy Support legacy Support Requirement private Settings Decrypter settings Decrypter Requirement private Mirror Selector mirror Selector Requirement private Artifact Repository Factory artifact Repository Factory public Authentication Info get Authentication Info String id Maven Session session legacy Support get Session session null id null Maven Execution Request request session get Request request null List Server servers request get Servers servers null Server server servers id equals Ignore Case server get Id Settings Decryption Result result settings Decrypter decrypt new Default Settings Decryption Request server server result get Server Authentication Info auth Info new Authentication Info auth Info set User Name server get Username auth Info set Password server get Password auth Info set Private Key server get Private Key auth Info set Passphrase server get Passphrase return auth Info empty one prevent return new Authentication Info public Proxy Info get Proxy String protocol Maven Session session legacy Support get Session session null protocol null Maven Execution Request request session get Request request null List Proxy proxies request get Proxies proxies null Proxy proxy proxies proxy Active protocol equals Ignore Case proxy get Protocol Settings Decryption Result result settings Decrypter decrypt new Default Settings Decryption Request proxy proxy result get Proxy Proxy Info proxy Info new Proxy Info proxy Info set Host proxy get Host proxy Info set Type proxy get Protocol proxy Info set Port proxy get Port proxy Info set Non Proxy Hosts proxy get Non Proxy Hosts proxy Info set User Name proxy get Username proxy Info set Password proxy get Password return proxy Info return null public void get Artifact Artifact artifact Artifact Repository repository throws Transfer Failed Exception Resource Exist Exception get Artifact artifact repository null false public void get Artifact Artifact artifact List Artifact Repository remote Repositories throws Transfer Failed Exception Resource Exist Exception get Artifact artifact remote Repositories null false Deprecated public Artifact Repository get Mirror Repository Artifact Repository repository Mirror mirror mirror Selector get Mirror repository legacy Support get Session get Settings get Mirrors mirror null String id mirror get Id id null illegal settings xml id repository get Id log debug Using mirror mirror get Url id id repository artifact Repository Factory create Artifact Repository id mirror get Url repository get Layout repository get Snapshots repository get Releases return repository
Generated Modello modifications overwritten package org apache model code lt dependency gt code element contains information dependency project version Revision Date Suppress Warnings public class Dependency implements java io Serializable java lang Cloneable org apache model Input Location Tracker Class Member Variables project group produced dependency e g code org apache code private String group Id unique id artifact produced project group e g code artifact code private String artifact Id version dependency e g code code Maven also specified range versions private String version type dependency usually represents extension filename dependency always case type mapped different extension classifier type often corresponds packaging used though also always case examples code jar code code war code code ejb client code code test jar code see href core artifact handlers html default artifact handlers list New types defined plugins set code extensions code code true code complete list private String type jar classifier dependency appended filename version allows ul li referring attached artifact example code sources code code javadoc code see href core artifact handlers html default artifact handlers list li li distinguishing two artifacts belong built differently example code jdk code code jdk code li ul private String classifier scope dependency code compile code code runtime code code test code code system code code provided code Used calculate various classpaths used compilation testing also assists determining artifacts include distribution project information see href https apache org guides introduction introduction dependency mechanism html dependency mechanism default scope code compile code private String scope Note use property b discouraged b may replaced later versions specifies path filesystem dependency Requires absolute path value relative Use property gives machine specific absolute path e g code java home code private String system Path Field exclusions private java util List Exclusion exclusions Indicates dependency optional use library version dependency taken account dependency calculation library used elsewhere passed transitively Note type field code String code technical reasons semantic type actually code Boolean code Default value code false code private String optional Field locations private java util Map Object Input Location locations Methods Method add Exclusion param exclusion public void add Exclusion Exclusion exclusion get Exclusions add exclusion void add Exclusion Exclusion Method clone return Dependency public Dependency clone try Dependency copy Dependency super clone exclusions null copy exclusions new java util Array List Exclusion Exclusion item exclusions copy exclusions add Exclusion item clone copy locations null copy locations new java util Linked Hash Map copy locations return copy catch java lang Exception ex throw java lang Runtime Exception new java lang Unsupported Operation Exception get Class get Name support clone init Cause ex Dependency clone Get unique id artifact produced project group e g code artifact code return String public String get Artifact Id return artifact Id String get Artifact Id Get classifier dependency appended filename version allows ul li referring attached artifact example code sources code code javadoc code see href core artifact handlers html default artifact handlers list li li distinguishing two artifacts belong built differently example code jdk code code jdk code li ul return String public String get Classifier return classifier String get Classifier Method get Exclusions return List public java util List Exclusion get Exclusions exclusions null exclusions new java util Array List Exclusion return exclusions java util List Exclusion get Exclusions Get project group produced dependency e g code org apache code return String public String get Group Id return group Id String get Group Id param key return Input Location public Input Location get Location Object key return locations null locations get key null Input Location get Location Object Get indicates dependency optional use library version dependency taken account dependency calculation library used elsewhere passed transitively Note type field code String code technical reasons semantic type actually code Boolean code Default value code false code return String public String get Optional return optional String get Optional Get scope dependency code compile code code runtime code code test code code system code code provided code Used calculate various classpaths used compilation testing also assists determining artifacts include distribution project information see href https apache org guides introduction introduction dependency mechanism html dependency mechanism default scope code compile code return String public String get Scope return scope String get Scope Get f Note use property b discouraged b may replaced later versions specifies path filesystem dependency Requires absolute path value relative Use property gives machine specific absolute path e g code java home code return String public String get System Path return system Path String get System Path Get type dependency usually represents extension filename dependency always case type mapped different extension classifier type often corresponds packaging used though also always case examples code jar code code war code code ejb client code code test jar code see href core artifact handlers html default artifact handlers list New types defined plugins set code extensions code code true code complete list return String public String get Type return type String get Type Get version dependency e g code code Maven also specified range versions return String public String get Version return version String get Version Method remove Exclusion param exclusion public void remove Exclusion Exclusion exclusion get Exclusions remove exclusion void remove Exclusion Exclusion Set unique id artifact produced project group e g code artifact code param artifact Id public void set Artifact Id String artifact Id artifact Id artifact Id void set Artifact Id String Set classifier dependency appended filename version allows ul li referring attached artifact example code sources code code javadoc code see href core artifact handlers html default artifact handlers list li li distinguishing two artifacts belong built differently example code jdk code code jdk code li ul param classifier public void set Classifier String classifier classifier classifier void set Classifier String Set lists set artifacts excluded dependency artifact list comes calculating transitive dependencies param exclusions public void set Exclusions java util List Exclusion exclusions exclusions exclusions void set Exclusions java util List Set project group produced dependency e g code org apache code param group Id public void set Group Id String group Id group Id group Id void set Group Id String param key param location public void set Location Object key Input Location location location null locations null locations new java util Linked Hash Map Object Input Location locations put key location void set Location Object Input Location Set indicates dependency optional use library version dependency taken account dependency calculation library used elsewhere passed transitively Note type field code String code technical reasons semantic type actually code Boolean code Default value code false code param optional public void set Optional String optional optional optional void set Optional String Set scope dependency code compile code code runtime code code test code code system code code provided code Used calculate various classpaths used compilation testing also assists determining artifacts include distribution project information see href https apache org guides introduction introduction dependency mechanism html dependency mechanism default scope code compile code param scope public void set Scope String scope scope scope void set Scope String Set f Note use property b discouraged b may replaced later versions specifies path filesystem dependency Requires absolute path value relative Use property gives machine specific absolute path e g code java home code param system Path public void set System Path String system Path system Path system Path void set System Path String Set type dependency usually represents extension filename dependency always case type mapped different extension classifier type often corresponds packaging used though also always case examples code jar code code war code code ejb client code code test jar code see href core artifact handlers html default artifact handlers list New types defined plugins set code extensions code code true code complete list param type public void set Type String type type type void set Type String Set version dependency e g code code Maven also specified range versions param version public void set Version String version version version void set Version String public boolean Optional return optional null Boolean parse Boolean optional false public void set Optional boolean optional optional String value optional see java lang Object String public String String return Dependency group Id group Id artifact Id artifact Id version version type type private String management Key return management key code group Id artifact Id type code public String get Management Key management Key null management Key group Id artifact Id type classifier null classifier return management Key
package org apache eventspy internal Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util List import org apache eventspy Event Spy import org apache execution Execution Listener import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus logging Logger import org eclipse aether Repository Listener Dispatches callbacks registered eventspies since Component role Event Spy Dispatcher class public class Event Spy Dispatcher Requirement private Logger logger Requirement role Event Spy class private List Event Spy event Spies public void set Event Spies List Event Spy event Spies make copy get rid needless overhead dynamic lookups event Spies new Array List event Spies public List Event Spy get Event Spies return event Spies public Execution Listener chain Listener Execution Listener listener event Spies Empty return listener return new Event Spy Execution Listener listener public Repository Listener chain Listener Repository Listener listener event Spies Empty return listener return new Event Spy Repository Listener listener public void init Event Spy Context context event Spies Empty return Event Spy event Spy event Spies try event Spy init context catch Exception Linkage Error e log Error initialize e event Spy public void Event Object event event Spies Empty return Event Spy event Spy event Spies try event Spy Event event catch Exception Linkage Error e log Error notify e event Spy public void close event Spies Empty return Event Spy event Spy event Spies try event Spy close catch Exception Linkage Error e log Error close e event Spy private void log Error String action Throwable e Event Spy spy String msg Failed action spy spy get Class get Name e get Message logger Debug Enabled logger warn msg e else logger warn msg
package org apache cli event Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import static org apache cli Reporting Utils format Duration import static org apache cli Reporting Utils format Timestamp import static org apache shared utils logging Message Utils buffer import org apache commons lang Validate import org apache execution Abstract Execution Listener import org apache execution Build Failure import org apache execution Build Success import org apache execution Build Summary import org apache execution Execution Event import org apache execution Maven Execution Result import org apache execution Maven Session import org apache plugin Mojo Execution import org apache plugin descriptor Mojo Descriptor import org apache project Maven Project import org apache shared utils logging Message Builder import org codehaus plexus util String Utils import org slf j Logger import org slf j Logger Factory Logs execution events logger eventually user supplied author Benjamin Bentmann public class Execution Event Logger extends Abstract Execution Listener private final Logger logger private static final int private static final int private static final int public Execution Event Logger logger Logger Factory get Logger Execution Event Logger class deprecate public Execution Event Logger Logger logger logger Validate Null logger logger null private static String chars char c int count String Builder buffer new String Builder count int count buffer append c return buffer String private void info Line char c info Main chars c private void info Main String msg logger info buffer strong msg String Override public void project Discovery Started Execution Event event logger Info Enabled logger info Scanning projects Override public void session Started Execution Event event logger Info Enabled event get Session get Projects size info Line info Main Reactor Build Order logger info Maven Project project event get Session get Projects logger info project get Name Override public void session Ended Execution Event event logger Info Enabled event get Session get Projects size log Reactor Summary event get Session log Result event get Session log Stats event get Session info Line private void log Reactor Summary Maven Session session info Line info Main Reactor Summary logger info Maven Execution Result result session get Result Maven Project project session get Projects String Builder buffer new String Builder buffer append project get Name buffer append buffer length buffer length buffer append buffer append Build Summary build Summary result get Build Summary project build Summary null buffer append buffer warning else build Summary instanceof Build Success buffer append buffer success buffer append String build Time Duration format Duration build Summary get Time int pad Size build Time Duration length pad Size buffer append chars pad Size buffer append build Time Duration buffer append else build Summary instanceof Build Failure buffer append buffer failure buffer append String build Time Duration format Duration build Summary get Time int pad Size build Time Duration length pad Size buffer append chars pad Size buffer append build Time Duration buffer append logger info buffer String private void log Result Maven Session session info Line Message Builder buffer buffer session get Result Exceptions buffer failure else buffer success logger info buffer String private void log Stats Maven Session session info Line long finish System current Time Millis long time finish session get Request get Start Time get Time String wall Clock session get Request get Degree Concurrency Wall Clock logger info Total time format Duration time wall Clock logger info Finished format Timestamp finish System gc Runtime r Runtime get Runtime long mb logger info Final Memory r total Memory r free Memory mb r total Memory mb Override public void project Skipped Execution Event event logger Info Enabled logger info info Line info Main Skipping event get Project get Name logger info project banned build due previous failures info Line Override public void project Started Execution Event event logger Info Enabled logger info info Line info Main Building event get Project get Name event get Project get Version info Line Override public void mojo Skipped Execution Event event logger Warn Enabled logger warn Goal event get Mojo Execution get Goal requires online mode execution Maven currently offline skipping pre mojo artifact Id version goal mojo execution Id project artifact Id pre Override public void mojo Started Execution Event event logger Info Enabled logger info Message Builder buffer buffer strong append buffer event get Mojo Execution append buffer event get Project buffer strong logger info buffer String Line Length pre gt gt gt mojo artifact Id version goal mojo execution Id gt forked goal project artifact Id gt gt gt pre pre gt gt gt mojo artifact Id version goal mojo execution Id gt lifecycle phase project artifact Id gt gt gt pre Line Length Override public void fork Started Execution Event event logger Info Enabled logger info Message Builder buffer buffer strong append buffer event get Mojo Execution buffer strong append Fork Info buffer event get Mojo Execution get Mojo Descriptor append buffer event get Project buffer strong logger info buffer String Line Length pre lt lt lt mojo artifact Id version goal mojo execution Id lt forked goal project artifact Id lt lt lt pre pre lt lt lt mojo artifact Id version goal mojo execution Id lt lifecycle phase project artifact Id lt lt lt pre Line Length Override public void fork Succeeded Execution Event event logger Info Enabled logger info Message Builder buffer buffer strong append buffer event get Mojo Execution buffer strong append Fork Info buffer event get Mojo Execution get Mojo Descriptor append buffer event get Project buffer strong logger info buffer String logger info private void append Message Builder buffer Mojo Execution buffer mojo get Artifact Id get Version get Goal get Execution Id null buffer strong get Execution Id private void append Fork Info Message Builder buffer Mojo Descriptor md String Builder buff new String Builder String Utils Empty md get Execute Phase forked phase String Utils Empty md get Execute Lifecycle buff append buff append md get Execute Lifecycle buff append buff append md get Execute Phase else forked goal buff append buff append md get Execute Goal buffer strong buff String private void append Message Builder buffer Maven Project project buffer project project get Artifact Id Override public void forked Project Started Execution Event event logger Info Enabled event get Mojo Execution get Forked Executions size logger info info Line info Main Forking event get Project get Name event get Project get Version info Line
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util List Provides metadata build extension strong Warning strong internal utility class public technical reasons part public particular class changed deleted without prior notice author Benjamin Bentmann public class Extension Descriptor private List String exported Packages private List String exported Artifacts Extension Descriptor hide constructor public List String get Exported Packages exported Packages null exported Packages new Array List return exported Packages public void set Exported Packages List String exported Packages exported Packages null exported Packages null else exported Packages new Array List exported Packages public List String get Exported Artifacts exported Artifacts null exported Artifacts new Array List return exported Artifacts public void set Exported Artifacts List String exported Artifacts exported Artifacts null exported Artifacts null else exported Artifacts new Array List exported Artifacts
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import org codehaus plexus util Reader Factory import org codehaus plexus util xml Xpp Dom import org codehaus plexus util xml Xpp Dom Builder import org codehaus plexus util xml pull Xml Pull Parser Exception import java io Buffered Input Stream import java io File import java io File Input Stream import java io Exception import java io Input Stream import java util Array List import java util List import java util jar Jar File import java util zip Zip Entry Creates extension descriptor stream author Benjamin Bentmann public class Extension Descriptor Builder since public String get Extension Descriptor Location return extension xml Extracts extension descriptor specified file param extension Jar file directory extract descriptor must code null return extracted descriptor code null descriptor found throws Exception descriptor present could parsed public Extension Descriptor build File extension Jar throws Exception Extension Descriptor extension Descriptor null extension Jar File try Jar File plugin Jar new Jar File extension Jar false Zip Entry plugin Descriptor Entry plugin Jar get Entry get Extension Descriptor Location plugin Descriptor Entry null try Input Stream plugin Jar get Input Stream plugin Descriptor Entry extension Descriptor build else File plugin Xml new File extension Jar get Extension Descriptor Location plugin Xml Read try Input Stream new Buffered Input Stream new File Input Stream plugin Xml extension Descriptor build return extension Descriptor since public Extension Descriptor build Input Stream throws Exception Extension Descriptor extension Descriptor new Extension Descriptor Xpp Dom dom try dom Xpp Dom Builder build Reader Factory new Xml Reader catch Xml Pull Parser Exception e throw Exception new Exception e get Message init Cause e extension equals dom get Name throw new Exception Unexpected root element dom get Name expected extension extension Descriptor set Exported Packages parse Strings dom get Child exported Packages extension Descriptor set Exported Artifacts parse Strings dom get Child exported Artifacts return extension Descriptor private List String parse Strings Xpp Dom dom List String strings null dom null strings new Array List Xpp Dom child dom get Children String string child get Value string null string string trim string length strings add string return strings
package org apache model building Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java net import org apache building File Source Wraps ordinary link File model source author Benjamin Bentmann public class File Model Source extends File Source implements Model Source Creates new model source backed specified file param pom File file must code null public File Model Source File pom File super pom File return file source deprecated instead use link get File Deprecated public File get Pom File return get File Override public Model Source get Related Source String rel Path rel Path rel Path replace File separator Char replace File separator Char File related Pom new File get File get Parent File rel Path related Pom Directory figure reuse Model Locator locate Pom File related Pom new File related Pom pom xml related Pom File related Pom Read return new File Model Source new File related Pom normalize return null Override public get Location return get File
package org apache model profile activation Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import org apache model Activation import org apache model Activation File import org apache model Profile import org apache model building Model Problem Collector import org apache model building Model Problem Severity import org apache model building Model Problem Version import org apache model building Model Problem Collector Request import org apache model path Path Translator import org apache model profile Profile Activation Context import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus interpolation Abstract Value Source import org codehaus plexus interpolation Map Based Value Source import org codehaus plexus interpolation Regex Based Interpolator import org codehaus plexus util String Utils Determines profile activation based existence absence file File name interpolation support limited code basedir code since Maven see href https issues apache org jira browse System properties request properties code project basedir code intentionally supported form would suggest code project code expressions used however beyond design author Benjamin Bentmann see Activation File see org apache model validation Default Model Validator validate Raw Model Component role Profile Activator class hint file public class File Profile Activator implements Profile Activator Requirement private Path Translator path Translator public File Profile Activator set Path Translator Path Translator path Translator path Translator path Translator return Override public boolean Active Profile profile Profile Activation Context context Model Problem Collector problems Activation activation profile get Activation activation null return false Activation File file activation get File file null return false String path boolean missing String Utils Empty file get Exists path file get Exists missing false else String Utils Empty file get Missing path file get Missing missing true else return false Regex Based Interpolator interpolator new Regex Based Interpolator final File basedir context get Project Directory basedir null interpolator add Value Source new Abstract Value Source false Override public Object get Value String expression intentionally support basedir project basedir latter form would suggest project expressions used however beyond design basedir equals expression return basedir get Absolute Path return null else path contains basedir return false interpolator add Value Source new Map Based Value Source context get Project Properties interpolator add Value Source new Map Based Value Source context get User Properties interpolator add Value Source new Map Based Value Source context get System Properties try path interpolator interpolate path catch Exception e problems add new Model Problem Collector Request Severity Version set Message Failed interpolate file location path profile profile get Id e get Message set Location file get Location missing missing exists set Exception e return false path path Translator align Base Directory path basedir replace activation value interpolated value missing file set Missing path else file set Exists path File f new File path f Absolute return false boolean file Exists f exists return missing file Exists file Exists Override public boolean present Config Profile profile Profile Activation Context context Model Problem Collector problems Activation activation profile get Activation activation null return false Activation File file activation get File file null return false return true
package org apache building Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java io File Input Stream import java io Exception import java io Input Stream import org apache commons lang Validate Wraps ordinary link File source author Benjamin Bentmann public class File Source implements Source private final File file Creates new source backed specified file param file file must code null public File Source File file file Validate Null file file null get Absolute File Override public Input Stream get Input Stream throws Exception return new File Input Stream file Override public String get Location return file get Path Gets file source return underlying file never code null public File get File return file Override public String String return get Location
package org apache model profile activation Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Arrays import java util List import org apache model Activation import org apache model Profile import org apache model building Model Problem Collector import org apache model building Model Problem Severity import org apache model building Model Problem Version import org apache model building Model Problem Collector Request import org apache model profile Profile Activation Context import org codehaus plexus component annotations Component Determines profile activation based version current Java runtime author Benjamin Bentmann see Activation get Jdk Component role Profile Activator class hint jdk version public class Jdk Version Profile Activator implements Profile Activator Override public boolean Active Profile profile Profile Activation Context context Model Problem Collector problems Activation activation profile get Activation activation null return false String jdk activation get Jdk jdk null return false String version context get System Properties get java version version null version length problems add new Model Problem Collector Request Severity Version set Message Failed determine Java version profile profile get Id set Location activation get Location jdk return false jdk starts return version starts jdk substring else Range jdk return Range version get Range jdk else return version starts jdk Override public boolean present Config Profile profile Profile Activation Context context Model Problem Collector problems Activation activation profile get Activation activation null return false String jdk activation get Jdk jdk null return false return true private static boolean Range String value List Range Value range int left Relation get Relation Order value range get true left Relation return true left Relation return false return get Relation Order value range get false private static int get Relation Order String value Range Value range Value boolean Left range Value value length return Left value value replace List String value Tokens new Array List Arrays List value split List String range Value Tokens new Array List Arrays List range Value value split add Zero Tokens value Tokens add Zero Tokens range Value Tokens int int x Integer parse Int value Tokens get int Integer parse Int range Value Tokens get x return else x return range Value closed return Left return private static void add Zero Tokens List String tokens int max tokens size max tokens add private static boolean Range String value return value starts value starts private static List Range Value get Range String range List Range Value ranges new Array List String token range split token starts ranges add new Range Value token replace true else token starts ranges add new Range Value token replace false else token ends ranges add new Range Value token replace true else token ends ranges add new Range Value token replace false else token length ranges add new Range Value false ranges size ranges add new Range Value false return ranges private static class Range Value private String value private boolean closed Range Value String value boolean closed value value trim closed closed Override public String String return value
package org apache repository legacy Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java io Exception import java util Array List import java util Collection import java util Collections import java util Hash Map import java util Linked Hash Map import java util List import java util Map import org apache Repository Utils import org apache artifact Artifact import org apache artifact Invalid Repository Exception import org apache artifact factory Artifact Factory import org apache artifact metadata Artifact Metadata import org apache artifact repository Artifact Repository import org apache repository legacy repository Artifact Repository Factory import org apache artifact repository Artifact Repository Policy import org apache artifact repository Authentication import org apache artifact repository layout Artifact Repository Layout import org apache artifact resolver Artifact Resolution Request import org apache artifact resolver Artifact Resolution Result import org apache artifact resolver Artifact Resolver import org apache artifact resolver filter Excludes Artifact Filter import org apache artifact versioning Invalid Version Specification Exception import org apache artifact versioning Version Range import org apache model Dependency import org apache model Exclusion import org apache model Plugin import org apache model Repository import org apache model Repository Policy import org apache repository Delegating Local Artifact Repository import org apache repository Local Artifact Repository import org apache repository Artifact Transfer Listener import org apache repository Mirror Selector import org apache repository Proxy import org apache repository Repository System import org apache repository Artifact Exist Exception import org apache repository Artifact Transfer Failed Exception import org apache settings Mirror import org apache settings Server import org apache settings building Settings Problem import org apache settings crypto Default Settings Decryption Request import org apache settings crypto Settings Decrypter import org apache settings crypto Settings Decryption Request import org apache settings crypto Settings Decryption Result import org apache wagon proxy Proxy Info import org apache wagon proxy Proxy Utils import org codehaus plexus Plexus Container import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus component repository exception Component Lookup Exception import org codehaus plexus logging Logger import org codehaus plexus util String Utils import org eclipse aether Repository System Session import org eclipse aether repository Authentication Context import org eclipse aether repository Authentication Selector import org eclipse aether repository Proxy Selector import org eclipse aether repository Remote Repository author Jason van Zyl Component role Repository System class hint default public class Legacy Repository System implements Repository System Requirement private Logger logger Requirement private Artifact Factory artifact Factory Requirement private Artifact Resolver artifact Resolver Requirement private Artifact Repository Factory artifact Repository Factory Requirement role Artifact Repository Layout class private Map String Artifact Repository Layout layouts Requirement private Wagon Manager wagon Manager Requirement private Plexus Container plexus Requirement private Mirror Selector mirror Selector Requirement private Settings Decrypter settings Decrypter public Artifact create Artifact String group Id String artifact Id String version String scope String type return artifact Factory create Artifact group Id artifact Id version scope type public Artifact create Artifact String group Id String artifact Id String version String packaging return artifact Factory create Build Artifact group Id artifact Id version packaging public Artifact create Artifact Classifier String group Id String artifact Id String version String type String classifier return artifact Factory create Artifact Classifier group Id artifact Id version type classifier public Artifact create Project Artifact String group Id String artifact Id String meta Version Id return artifact Factory create Project Artifact group Id artifact Id meta Version Id public Artifact create Dependency Artifact Dependency Version Range version Range try version Range Version Range create Version Spec get Version catch Invalid Version Specification Exception e Log message instead returning null silently logger error String format Invalid version specification creating dependency artifact get Version e return null Artifact artifact artifact Factory create Dependency Artifact get Group Id get Artifact Id version Range get Type get Classifier get Scope Optional Artifact equals get Scope get System Path null artifact set File new File get System Path get Exclusions Empty List String exclusions new Array List Exclusion exclusion get Exclusions exclusions add exclusion get Group Id exclusion get Artifact Id artifact set Dependency Filter new Excludes Artifact Filter exclusions return artifact public Artifact create Extension Artifact String group Id String artifact Id String version Version Range version Range try version Range Version Range create Version Spec version catch Invalid Version Specification Exception e Log message instead returning null silently logger error String format Invalid version specification creating extension artifact version group Id artifact Id version e return null return artifact Factory create Extension Artifact group Id artifact Id version Range public Artifact create Parent Artifact String group Id String artifact Id String version return artifact Factory create Parent Artifact group Id artifact Id version public Artifact create Plugin Artifact Plugin plugin String version plugin get Version String Utils Empty version version Version Range version Range try version Range Version Range create Version Spec version catch Invalid Version Specification Exception e Log message instead returning null silently logger error String format Invalid version specification creating plugin artifact version plugin e return null return artifact Factory create Plugin Artifact plugin get Group Id plugin get Artifact Id version Range public Artifact Repository Policy build Artifact Repository Policy Repository Policy policy boolean enabled true String update Policy null String checksum Policy null policy null enabled policy Enabled policy get Update Policy null update Policy policy get Update Policy policy get Checksum Policy null checksum Policy policy get Checksum Policy return new Artifact Repository Policy enabled update Policy checksum Policy public Artifact Repository create Default Local Repository throws Invalid Repository Exception return create Local Repository Repository System default User Local Repository public Artifact Repository create Local Repository File local Repository throws Invalid Repository Exception return create Repository file local Repository get Raw Path Repository System true Artifact Repository Policy true Artifact Repository Policy Artifact Repository Policy public Artifact Repository create Default Remote Repository throws Invalid Repository Exception return create Repository Repository System Repository System true Artifact Repository Policy false Artifact Repository Policy Artifact Repository Policy public Artifact Repository create Local Repository String url String repository Id throws Exception return create Repository canonical File Url url repository Id true Artifact Repository Policy true Artifact Repository Policy Artifact Repository Policy private String canonical File Url String url throws Exception url starts file url file url else url starts file url starts file url file url substring file length url form file path want eliminate relative path nonsense lock path need fully resolve sub modules use path happen using custom settings xml contains relative path entry local repository setting File local Repository new File url substring file length local Repository Absolute url file local Repository get Canonical Path return url public Artifact Resolution Result resolve Artifact Resolution Request request Probably worth make sure restore request original state try Local Artifact Repository ide Workspace plexus lookup Local Artifact Repository class Local Artifact Repository request get Local Repository instanceof Delegating Local Artifact Repository Delegating Local Artifact Repository delegating Local Repository Delegating Local Artifact Repository request get Local Repository Local Artifact Repository orig delegating Local Repository get Ide Workspace delegating Local Repository set Ide Workspace ide Workspace try return artifact Resolver resolve request finally delegating Local Repository set Ide Workspace orig else Artifact Repository local Repository request get Local Repository Delegating Local Artifact Repository delegating Local Repository new Delegating Local Artifact Repository local Repository delegating Local Repository set Ide Workspace ide Workspace request set Local Repository delegating Local Repository try return artifact Resolver resolve request finally request set Local Repository local Repository catch Component Lookup Exception e ide workspace artifact resolution return artifact Resolver resolve request public void add Proxy String protocol String host int port String username String password String non Proxy Hosts Proxy Info proxy Info new Proxy Info proxy Info set Host host proxy Info set Type protocol proxy Info set Port port proxy Info set Non Proxy Hosts non Proxy Hosts proxy Info set User Name username proxy Info set Password password proxies put protocol proxy Info wagon Manager add Proxy protocol host port username password non Proxy Hosts public List Artifact Repository get Effective Repositories List Artifact Repository repositories repositories null return null Map String List Artifact Repository repos Key new Linked Hash Map Artifact Repository repository repositories String key repository get Id List Artifact Repository aliased Repos repos Key get key aliased Repos null aliased Repos new Array List repos Key put key aliased Repos aliased Repos add repository List Artifact Repository effective Repositories new Array List List Artifact Repository aliased Repos repos Key values List Artifact Repository mirrored Repos new Array List List Artifact Repository Policy release Policies new Array List aliased Repos size Artifact Repository aliased Repo aliased Repos release Policies add aliased Repo get Releases mirrored Repos add aliased Repo get Mirrored Repositories Artifact Repository Policy release Policy get Effective Policy release Policies List Artifact Repository Policy snapshot Policies new Array List aliased Repos size Artifact Repository aliased Repo aliased Repos snapshot Policies add aliased Repo get Snapshots Artifact Repository Policy snapshot Policy get Effective Policy snapshot Policies Artifact Repository aliased Repo aliased Repos get Artifact Repository effective Repository create Artifact Repository aliased Repo get Id aliased Repo get Url aliased Repo get Layout snapshot Policy release Policy effective Repository set Authentication aliased Repo get Authentication effective Repository set Proxy aliased Repo get Proxy effective Repository set Mirrored Repositories mirrored Repos effective Repositories add effective Repository return effective Repositories private Artifact Repository Policy get Effective Policy Collection Artifact Repository Policy policies Artifact Repository Policy effective Policy null Artifact Repository Policy policy policies effective Policy null effective Policy new Artifact Repository Policy policy else effective Policy merge policy return effective Policy public Mirror get Mirror Artifact Repository repository List Mirror mirrors return mirror Selector get Mirror repository mirrors public void inject Mirror List Artifact Repository repositories List Mirror mirrors repositories null mirrors null Artifact Repository repository repositories Mirror mirror get Mirror repository mirrors inject Mirror repository mirror private Mirror get Mirror Repository System Session session Artifact Repository repository session null org eclipse aether repository Mirror Selector selector session get Mirror Selector selector null Remote Repository repo selector get Mirror Repository Utils Repo repository repo null Mirror mirror new Mirror mirror set Id repo get Id mirror set Url repo get Url mirror set Layout repo get Content Type return mirror return null public void inject Mirror Repository System Session session List Artifact Repository repositories repositories null session null Artifact Repository repository repositories Mirror mirror get Mirror session repository inject Mirror repository mirror private void inject Mirror Artifact Repository repository Mirror mirror mirror null Artifact Repository original create Artifact Repository repository get Id repository get Url repository get Layout repository get Snapshots repository get Releases repository set Mirrored Repositories Collections singleton List original repository set Id mirror get Id repository set Url mirror get Url String Utils Empty mirror get Layout repository set Layout get Layout mirror get Layout public void inject Authentication List Artifact Repository repositories List Server servers repositories null Map String Server servers Id new Hash Map servers null Server server servers servers Id contains Key server get Id servers Id put server get Id server Artifact Repository repository repositories Server server servers Id get repository get Id server null Settings Decryption Request request new Default Settings Decryption Request server Settings Decryption Result result settings Decrypter decrypt request server result get Server logger Debug Enabled Settings Problem problem result get Problems logger debug problem get Message problem get Exception Authentication authentication new Authentication server get Username server get Password authentication set Private Key server get Private Key authentication set Passphrase server get Passphrase repository set Authentication authentication else repository set Authentication null private Authentication get Authentication Repository System Session session Artifact Repository repository session null Authentication Selector selector session get Authentication Selector selector null Remote Repository repo Repository Utils Repo repository org eclipse aether repository Authentication auth selector get Authentication repo auth null repo new Remote Repository Builder repo set Authentication auth build Authentication Context auth Ctx Authentication Context Repository session repo Authentication result new Authentication auth Ctx get Authentication Context auth Ctx get Authentication Context result set Private Key auth Ctx get Authentication Context result set Passphrase auth Ctx get Authentication Context auth Ctx close return result return null public void inject Authentication Repository System Session session List Artifact Repository repositories repositories null session null Artifact Repository repository repositories repository set Authentication get Authentication session repository private org apache settings Proxy get Proxy Artifact Repository repository List org apache settings Proxy proxies proxies null repository get Protocol null org apache settings Proxy proxy proxies proxy Active repository get Protocol equals Ignore Case proxy get Protocol String Utils Empty proxy get Non Proxy Hosts Proxy Info pi new Proxy Info pi set Non Proxy Hosts proxy get Non Proxy Hosts org apache wagon repository Repository repo new org apache wagon repository Repository repository get Id repository get Url Proxy Utils validate Non Proxy Hosts pi repo get Host return proxy else return proxy return null public void inject Proxy List Artifact Repository repositories List org apache settings Proxy proxies repositories null Artifact Repository repository repositories org apache settings Proxy proxy get Proxy repository proxies proxy null Settings Decryption Request request new Default Settings Decryption Request proxy Settings Decryption Result result settings Decrypter decrypt request proxy result get Proxy logger Debug Enabled Settings Problem problem result get Problems logger debug problem get Message problem get Exception Proxy p new Proxy p set Host proxy get Host p set Protocol proxy get Protocol p set Port proxy get Port p set Non Proxy Hosts proxy get Non Proxy Hosts p set User Name proxy get Username p set Password proxy get Password repository set Proxy p else repository set Proxy null private Proxy get Proxy Repository System Session session Artifact Repository repository session null Proxy Selector selector session get Proxy Selector selector null Remote Repository repo Repository Utils Repo repository org eclipse aether repository Proxy proxy selector get Proxy repo proxy null Proxy p new Proxy p set Host proxy get Host p set Protocol proxy get Type p set Port proxy get Port proxy get Authentication null repo new Remote Repository Builder repo set Proxy proxy build Authentication Context auth Ctx Authentication Context Proxy session repo p set User Name auth Ctx get Authentication Context p set Password auth Ctx get Authentication Context p set Ntlm Domain auth Ctx get Authentication Context p set Ntlm Host auth Ctx get Authentication Context auth Ctx close return p return null public void inject Proxy Repository System Session session List Artifact Repository repositories repositories null session null Artifact Repository repository repositories repository set Proxy get Proxy session repository public void retrieve Artifact Repository repository File destination String remote Path Artifact Transfer Listener transfer Listener throws Artifact Transfer Failed Exception Artifact Exist Exception try wagon Manager get Remote File repository destination remote Path Transfer Listener Adapter new Adapter transfer Listener Artifact Repository Policy true catch org apache wagon Transfer Failed Exception e throw new Artifact Transfer Failed Exception get Message e Error transferring artifact e catch org apache wagon Resource Exist Exception e throw new Artifact Exist Exception get Message e Requested artifact exist e public void publish Artifact Repository repository File source String remote Path Artifact Transfer Listener transfer Listener throws Artifact Transfer Failed Exception try wagon Manager put Remote File repository source remote Path Transfer Listener Adapter new Adapter transfer Listener catch org apache wagon Transfer Failed Exception e throw new Artifact Transfer Failed Exception get Message e Error transferring artifact e Artifact Repository Creation public Artifact Repository build Artifact Repository Repository repo throws Invalid Repository Exception repo null String id repo get Id String Utils Empty id throw new Invalid Repository Exception Repository identifier missing String url repo get Url String Utils Empty url throw new Invalid Repository Exception missing repository id id Artifact Repository Policy snapshots build Artifact Repository Policy repo get Snapshots Artifact Repository Policy releases build Artifact Repository Policy repo get Releases return create Artifact Repository id url get Layout repo get Layout snapshots releases else return null private Artifact Repository create Repository String url String repository Id boolean releases String release Updates boolean snapshots String snapshot Updates String checksum Policy Artifact Repository Policy snapshots Policy new Artifact Repository Policy snapshots snapshot Updates checksum Policy Artifact Repository Policy releases Policy new Artifact Repository Policy releases release Updates checksum Policy return create Artifact Repository repository Id url null snapshots Policy releases Policy public Artifact Repository create Artifact Repository String repository Id String url Artifact Repository Layout repository Layout Artifact Repository Policy snapshots Artifact Repository Policy releases repository Layout null repository Layout layouts get default Artifact Repository artifact Repository artifact Repository Factory create Artifact Repository repository Id url repository Layout snapshots releases return artifact Repository private static String get Message Throwable error String def error null return def String msg error get Message String Utils Empty msg return msg return get Message error get Cause def private Artifact Repository Layout get Layout String id Artifact Repository Layout layout layouts get id layout null layout new Unknown Repository Layout id layouts get default return layout future legacy system might encounter repository types layout components exists actual communication repository happens via repository connector minimum legacy system needs retain id layout content type remote repository still accurately described static class Unknown Repository Layout implements Artifact Repository Layout private final String id private final Artifact Repository Layout fallback public Unknown Repository Layout String id Artifact Repository Layout fallback id id fallback fallback public String get Id return id public String path Artifact artifact return fallback path artifact public String path Local Repository Metadata Artifact Metadata metadata Artifact Repository repository return fallback path Local Repository Metadata metadata repository public String path Remote Repository Metadata Artifact Metadata metadata return fallback path Remote Repository Metadata metadata Override public String String return get Id
package org apache lifecycle Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import static org apache shared utils logging Message Utils buffer import org apache plugin Mojo Execution import org apache project Maven Project import org apache shared utils logging Message Builder author href mailto jason org Jason van Zyl public class Lifecycle Execution Exception extends Exception private Maven Project project public Lifecycle Execution Exception String message super message public Lifecycle Execution Exception Throwable cause super cause public Lifecycle Execution Exception String message Throwable cause super message cause public Lifecycle Execution Exception String message Maven Project project super message project project public Lifecycle Execution Exception String message Mojo Execution execution Maven Project project super message project project public Lifecycle Execution Exception String message Mojo Execution execution Maven Project project Throwable cause super message cause project project public Lifecycle Execution Exception Mojo Execution execution Maven Project project Throwable cause create Message execution project cause execution project cause public Maven Project get Project return project private static String create Message Mojo Execution execution Maven Project project Throwable cause Message Builder buffer buffer buffer Failed execute goal execution null buffer buffer mojo execution get Group Id execution get Artifact Id execution get Version execution get Goal buffer strong execution get Execution Id project null buffer project buffer project project get Artifact Id cause null buffer failure cause get Message return buffer String
package org apache cli Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import com google common base Charsets import com google common io Files import com google inject Abstract Module import org apache commons cli Command Line import org apache commons cli Option import org apache commons cli Parse Exception import org apache commons cli Unrecognized Option Exception import org apache Build Abort import org apache Internal Error Exception import org apache Maven import org apache building File Source import org apache building Problem import org apache building Source import org apache cli configuration Configuration Processor import org apache cli configuration Settings Xml Configuration Processor import org apache cli event Default Event Spy Context import org apache cli event Execution Event Logger import org apache cli internal Bootstrap Core Extension Manager import org apache cli internal extension model Core Extension import org apache cli internal extension model io xpp Core Extensions Xpp Reader import org apache cli logging Slf j Configuration import org apache cli logging Slf j Configuration Factory import org apache cli logging Slf j Logger Manager import org apache cli logging Slf j Stdout Logger import org apache cli transfer Console Maven Transfer Listener import org apache cli transfer Quiet Maven Transfer Listener import org apache cli transfer Slf j Maven Transfer Listener import org apache eventspy internal Event Spy Dispatcher import org apache exception Default Exception Handler import org apache exception Exception Handler import org apache exception Exception Summary import org apache execution Default Maven Execution Request import org apache execution Execution Listener import org apache execution Maven Execution Request import org apache execution Maven Execution Request Population Exception import org apache execution Maven Execution Request Populator import org apache execution Maven Execution Result import org apache execution scope internal Mojo Execution Scope Module import org apache extension internal Core Exports import org apache extension internal Core Extension Entry import org apache lifecycle Lifecycle Execution Exception import org apache model building Model Processor import org apache project Maven Project import org apache properties internal Environment Utils import org apache properties internal System Properties import org apache session scope internal Session Scope Module import org apache shared utils logging Message Builder import org apache shared utils logging Message Utils import org apache toolchain building Default Toolchains Building Request import org apache toolchain building Toolchains Builder import org apache toolchain building Toolchains Building Result import org codehaus plexus Container Configuration import org codehaus plexus Default Container Configuration import org codehaus plexus Default Plexus Container import org codehaus plexus Plexus Constants import org codehaus plexus Plexus Container import org codehaus plexus classworlds Class World import org codehaus plexus classworlds realm Class Realm import org codehaus plexus classworlds realm Realm Exception import org codehaus plexus component repository exception Component Lookup Exception import org codehaus plexus logging Logger Manager import org codehaus plexus util String Utils import org codehaus plexus util xml pull Xml Pull Parser Exception import org eclipse aether transfer Transfer Listener import org slf j Logger Factory import org slf j Logger import org slf j Logger Factory import org sonatype plexus components cipher Default Plexus Cipher import org sonatype plexus components sec dispatcher Default Sec Dispatcher import org sonatype plexus components sec dispatcher Sec Dispatcher import org sonatype plexus components sec dispatcher Sec Util import org sonatype plexus components sec dispatcher model Settings Security import java io Buffered Input Stream import java io Console import java io File import java io File Input Stream import java io File Found Exception import java io File Output Stream import java io Exception import java io Input Stream import java io Print Stream import java util Array List import java util Collections import java util Hash Set import java util Linked Hash Map import java util List import java util Map import java util Map Entry import java util Properties import java util Set import java util String Tokenizer import java util regex Matcher import java util regex Pattern import static org apache shared utils logging Message Utils buffer push common bits back plexus cli prepare transition Guice n need ways make author Jason van Zyl public class Maven Cli public static final String repo local public static final String threads experimental public static final String multi Module Project Directory public static final String System get Property user home public static final File new File public static final File new File toolchains xml public static final File new File System get Property conf toolchains xml private static final String ext class path private static final String mvn extensions xml private static final String mvn config public static final String style color private Class World class World private Logger Manager plexus Logger Manager private Logger Factory slf j Logger Factory private Logger slf j Logger private Event Spy Dispatcher event Spy Dispatcher private Model Processor model Processor private Maven private Maven Execution Request Populator execution Request Populator private Toolchains Builder toolchains Builder private Default Sec Dispatcher dispatcher private Map String Configuration Processor configuration Processors public Maven Cli null supports painless invocation Verifier embedded execution core Ts public Maven Cli Class World class World class World class World public static void main String args int result main args null System exit result public static int main String args Class World class World Maven Cli cli new Maven Cli Message Utils system Install int result cli Main new Cli Request args class World Message Utils system Uninstall return result need externalize Cli Request public static int Main String args Class World class World Maven Cli cli new Maven Cli return cli Main new Cli Request args class World supports painless invocation Verifier embedded execution core Ts See href http apache org shared verifier xref org apache Embedded x Launcher html code Embedded x Launcher code code verifier code public int Main String args String working Directory Print Stream stdout Print Stream stderr Print Stream oldout System Print Stream olderr System err final Set String realms class World null realms new Hash Set Class Realm realm class World get Realms realms add realm get Id else realms Collections empty Set try stdout null System set stdout stderr null System set Err stderr Cli Request cli Request new Cli Request args class World cli Request working Directory working Directory return Main cli Request finally class World null Class Realm realm new Array List class World get Realms String realm Id realm get Id realms contains realm Id try class World dispose Realm realm Id catch Realm Exception ignored ca n happen System set oldout System set Err olderr need externalize Cli Request public int Main Cli Request cli Request Plexus Container local Container null try initialize cli Request cli cli Request logging cli Request version cli Request properties cli Request local Container container cli Request commands cli Request configure cli Request toolchains cli Request populate Request cli Request encryption cli Request repository cli Request return execute cli Request catch Exit Exception e return e exit Code catch Unrecognized Option Exception e pure user error suppress stack trace return catch Build Abort e Reporting Utils show Error slf j Logger e cli Request show Errors return catch Exception e Reporting Utils show Error slf j Logger Error executing Maven e cli Request show Errors return finally local Container null local Container dispose void initialize Cli Request cli Request throws Exit Exception cli Request working Directory null cli Request working Directory System get Property user dir cli Request multi Module Project Directory null String basedir Property System get Property basedir Property null System err format system property set throw new Exit Exception File basedir basedir Property null new File basedir Property new File try cli Request multi Module Project Directory basedir get Canonical File catch Exception e cli Request multi Module Project Directory basedir get Absolute File Make sure Maven home directory absolute path save us confusion say drive relative Windows paths String Home System get Property home Home null System set Property home new File Home get Absolute Path void cli Cli Request cli Request throws Exception Parsing errors happen processing arguments prefer check logger null construct use logger everywhere slf j Logger new Slf j Stdout Logger Manager cli Manager new Manager List String args new Array List Command Line Config null try File config File new File cli Request multi Module Project Directory config File File String arg Files String config File Charsets split arg Empty args add arg Config cli Manager parse args Array new String args size List unrecongized Config get Arg List unrecongized Empty throw new Parse Exception Unrecognized config entries unrecongized catch Parse Exception e System err println Unable parse config e get Message cli Manager display Help System throw e try Config null cli Request command Line cli Manager parse cli Request args else cli Request command Line cli Merge cli Manager parse cli Request args Config catch Parse Exception e System err println Unable parse command line options e get Message cli Manager display Help System throw e cli Request command Line Option Manager cli Manager display Help System throw new Exit Exception cli Request command Line Option Manager System println Reporting Utils show Version throw new Exit Exception private Command Line cli Merge Command Line Args Command Line Config Command Line Builder command Line Builder new Command Line Builder args easy cli first config file String arg Args get Args command Line Builder add Arg arg String arg Config get Args command Line Builder add Arg arg add options except cli first config file List Option set Property Options new Array List Option opt Args get Options String value Manager equals opt get Opt set Property Options add opt else command Line Builder add Option opt Option opt Config get Options command Line Builder add Option opt finally add system properties Option opt set Property Options command Line Builder add Option opt return command Line Builder build configure logging void logging Cli Request cli Request cli Request debug cli Request command Line Option Manager cli Request quiet cli Request debug cli Request command Line Option Manager cli Request show Errors cli Request debug cli Request command Line Option Manager slf j Logger Factory Logger Factory get Logger Factory Slf j Configuration slf j Configuration Slf j Configuration Factory get Configuration slf j Logger Factory cli Request debug cli Request request set Logging Level Maven Execution Request slf j Configuration set Root Logger Level Slf j Configuration Level else cli Request quiet cli Request request set Logging Level Maven Execution Request slf j Configuration set Root Logger Level Slf j Configuration Level else fall back default log level specified conf see https issues apache org jira browse String style Color cli Request get User Properties get Property auto always equals style Color Message Utils set Color Enabled true else never equals style Color Message Utils set Color Enabled false else auto equals style Color throw new Illegal Argument Exception Invalid color configuration option style Color Supported values auto always never else cli Request command Line Option Manager cli Request command Line Option Manager Message Utils set Color Enabled false cli Request command Line Option Manager File log File new File cli Request command Line get Option Value Manager log File resolve File log File cli Request working Directory redirect stdout stderr file try Print Stream ps new Print Stream new File Output Stream log File System set ps System set Err ps catch File Found Exception e Ignore slf j Configuration activate plexus Logger Manager new Slf j Logger Manager slf j Logger slf j Logger Factory get Logger get Class get Name private void version Cli Request cli Request cli Request debug cli Request command Line Option Manager System println Reporting Utils show Version private void commands Cli Request cli Request cli Request show Errors slf j Logger info Error stacktraces turned Maven Execution Request equals cli Request request get Global Checksum Policy slf j Logger info Disabling strict checksum verification artifact downloads else Maven Execution Request equals cli Request request get Global Checksum Policy slf j Logger info Enabling strict checksum verification artifact downloads slf j Logger Debug Enabled slf j Logger debug Message scheme Message Utils Color Enabled color plain Message Utils Color Enabled Message Builder buff Message Utils buffer buff Message styles buff debug debug buff info info buff warning warning buff error error buff success success buff failure failure buff strong strong buff mojo mojo buff project project slf j Logger debug buff String Needed make method package visible make writing unit test possible Maybe better move methods separate class void properties Cli Request cli Request populate Properties cli Request command Line cli Request system Properties cli Request user Properties private Plexus Container container Cli Request cli Request throws Exception cli Request class World null cli Request class World new Class World plexus core Thread current Thread get Context Class Loader Class Realm core Realm cli Request class World get Class Realm plexus core core Realm null core Realm cli Request class World get Realms iterator next List File ext Class Path parse Ext Classpath cli Request Core Extension Entry core Entry Core Extension Entry discover core Realm List Core Extension Entry extensions load Core Extensions cli Request core Realm core Entry get Exported Artifacts Class Realm container Realm setup Container Realm cli Request class World core Realm ext Class Path extensions Container Configuration cc new Default Container Configuration set Class World cli Request class World set Realm container Realm set Class Path Scanning Plexus Constants set Auto Wiring true set Lifecycle true set Name Set String exported Artifacts new Hash Set core Entry get Exported Artifacts Set String exported Packages new Hash Set core Entry get Exported Packages Core Extension Entry extension extensions exported Artifacts add extension get Exported Artifacts exported Packages add extension get Exported Packages final Core Exports exports new Core Exports container Realm exported Artifacts exported Packages Default Plexus Container container new Default Plexus Container cc new Abstract Module Override protected void configure bind Logger Factory class Instance slf j Logger Factory bind Core Exports class Instance exports avoid inconsistencies use exclusively lookups container set Lookup Realm null Thread current Thread set Context Class Loader container get Container Realm container set Logger Manager plexus Logger Manager Core Extension Entry extension extensions container discover Components extension get Class Realm new Session Scope Module container new Mojo Execution Scope Module container customize Container container container get Logger Manager set Thresholds cli Request request get Logging Level event Spy Dispatcher container lookup Event Spy Dispatcher class Default Event Spy Context event Spy Context new Default Event Spy Context Map String Object data event Spy Context get Data data put plexus container data put working Directory cli Request working Directory data put system Properties cli Request system Properties data put user Properties cli Request user Properties data put version Properties Reporting Utils get Build Properties event Spy Dispatcher init event Spy Context refresh logger case container got customized spy slf j Logger slf j Logger Factory get Logger get Class get Name container lookup Maven class execution Request Populator container lookup Maven Execution Request Populator class model Processor create Model Processor container configuration Processors container lookup Map Configuration Processor class toolchains Builder container lookup Toolchains Builder class dispatcher Default Sec Dispatcher container lookup Sec Dispatcher class return container private List Core Extension Entry load Core Extensions Cli Request cli Request Class Realm container Realm Set String provided Artifacts cli Request multi Module Project Directory null return Collections empty List File extensions File new File cli Request multi Module Project Directory extensions File File return Collections empty List try List Core Extension extensions read Core Extensions Descriptor extensions File extensions Empty return Collections empty List Container Configuration cc new Default Container Configuration set Class World cli Request class World set Realm container Realm set Class Path Scanning Plexus Constants set Auto Wiring true set Lifecycle true set Name Default Plexus Container container new Default Plexus Container cc new Abstract Module Override protected void configure bind Logger Factory class Instance slf j Logger Factory try container set Lookup Realm null container set Logger Manager plexus Logger Manager container get Logger Manager set Thresholds cli Request request get Logging Level Thread current Thread set Context Class Loader container get Container Realm execution Request Populator container lookup Maven Execution Request Populator class configuration Processors container lookup Map Configuration Processor class configure cli Request Maven Execution Request request Default Maven Execution Request copy cli Request request request populate Request cli Request request request execution Request Populator populate Defaults request Bootstrap Core Extension Manager resolver container lookup Bootstrap Core Extension Manager class return resolver load Core Extensions request provided Artifacts extensions finally execution Request Populator null container dispose catch Runtime Exception e runtime exceptions likely bugs let bubble user throw e catch Exception e slf j Logger warn Failed read extensions descriptor extensions File e get Message return Collections empty List private List Core Extension read Core Extensions Descriptor File extensions File throws Exception Xml Pull Parser Exception Core Extensions Xpp Reader parser new Core Extensions Xpp Reader try Input Stream new Buffered Input Stream new File Input Stream extensions File return parser read get Extensions private Class Realm setup Container Realm Class World class World Class Realm core Realm List File ext Class Path List Core Extension Entry extensions throws Exception ext Class Path Empty extensions Empty Class Realm ext Realm class World new Realm ext null ext Realm set Parent Realm core Realm slf j Logger debug Populating class realm ext Realm get Id File file ext Class Path slf j Logger debug Included file ext Realm add file Core Extension Entry entry reverse extensions Set String exported Packages entry get Exported Packages Class Realm realm entry get Class Realm String exported Package exported Packages ext Realm import realm exported Package exported Packages Empty sisu uses realm imports establish component visibility ext Realm import realm realm get Id return ext Realm return core Realm private static List reverse List list List copy new Array List list Collections reverse copy return copy private List File parse Ext Classpath Cli Request cli Request String ext Class Path cli Request user Properties get Property ext Class Path null ext Class Path cli Request system Properties get Property List File jars new Array List String Utils Empty ext Class Path String jar String Utils split ext Class Path File path Separator File file resolve File new File jar cli Request working Directory slf j Logger debug Included file jars add file return jars probably separate tool baked Maven private void encryption Cli Request cli Request throws Exception cli Request command Line Option Manager String passwd cli Request command Line get Option Value Manager passwd null Console cons System console char password cons null null cons read Password Master password password null Cipher uses Strings passwd String copy Value password Sun Oracle advises empty char array java util Arrays fill password Default Plexus Cipher cipher new Default Plexus Cipher System println cipher encrypt Decorate passwd Default Sec Dispatcher throw new Exit Exception else cli Request command Line Option Manager String passwd cli Request command Line get Option Value Manager passwd null Console cons System console char password cons null null cons read Password Password password null Cipher uses Strings passwd String copy Value password Sun Oracle advises empty char array java util Arrays fill password String configuration File dispatcher get Configuration File configuration File starts configuration File System get Property user home configuration File substring String file System get Property Default Sec Dispatcher configuration File String master null Settings Security sec Sec Util read file true sec null master sec get Master master null throw new Illegal State Exception Master password set setting security file file Default Plexus Cipher cipher new Default Plexus Cipher String master Passwd cipher decrypt Decorated master Default Sec Dispatcher System println cipher encrypt Decorate passwd master Passwd throw new Exit Exception private void repository Cli Request cli Request throws Exception cli Request command Line Option Manager Boolean get Boolean legacy Local Repo cli Request request set Use Legacy Local Repository true private int execute Cli Request cli Request throws Maven Execution Request Population Exception Maven Execution Request request execution Request Populator populate Defaults cli Request request event Spy Dispatcher Event request Maven Execution Result result execute request event Spy Dispatcher Event result event Spy Dispatcher close result Exceptions Exception Handler handler new Default Exception Handler Map String String references new Linked Hash Map Maven Project project null Throwable exception result get Exceptions Exception Summary summary handler handle Exception exception log Summary summary references cli Request show Errors project null exception instanceof Lifecycle Execution Exception project Lifecycle Execution Exception exception get Project slf j Logger error cli Request show Errors slf j Logger error see full stack trace errors run Maven buffer strong e switch slf j Logger Debug Enabled slf j Logger error run Maven using buffer strong switch enable full debug logging references Empty slf j Logger error slf j Logger error information errors possible solutions please read following articles Map Entry String String entry references entry Set slf j Logger error buffer strong entry get Value entry get Key project null project equals result get Topologically Sorted Projects get slf j Logger error slf j Logger error correcting problems resume build command slf j Logger error buffer strong mvn goals rf project get Artifact Id String Maven Execution Request equals cli Request request get Reactor Failure Behavior slf j Logger info Build failures ignored return else return else return private void log Summary Exception Summary summary Map String String references String indent boolean show Errors String reference Key String Utils Empty summary get Reference reference Key references get summary get Reference reference Key null reference Key Help references size references put summary get Reference reference Key String msg summary get Message String Utils Empty reference Key msg index n msg buffer strong reference Key else msg n buffer strong reference Key String lines msg split r n r n String current Color int lines length add eventual current color inherited previous line String line current Color lines look last escape sequence check next Color Matcher matcher matcher line String next Color matcher find next Color matcher group equals next Color last escape code reset next color next Color effective line indent reset end colored line indent line equals next Color lines length show Errors summary get Exception instanceof Internal Error Exception slf j Logger error line summary get Exception else slf j Logger error line current Color next Color indent Exception Summary child summary get Children log Summary child references indent show Errors private static final Pattern Pattern compile u u private static final String u u Bm private void configure Cli Request cli Request throws Exception ideal events specifically configuration n believe really valid Ts assert right events published needs supported Event Spy Dispatcher needs put Cli Request accessed configuration processors cli Request request set Event Spy Dispatcher event Spy Dispatcher expect implementations available Settings Xml Configuration Processor implementation always available core likely always may another Configuration Processor present supplied user rule allow execution one Configuration Processor one execute one supplied user otherwise execute default Settings Xml Configuration Processor int user Supplied Configuration Processor Count configuration Processors size user Supplied Configuration Processor Count settings xml source historically configured Maven going honour existence forever let run configuration Processors get Settings Xml Configuration Processor process cli Request else user Supplied Configuration Processor Count Run user supplied Configuration Processor Entry String Configuration Processor entry configuration Processors entry Set String hint entry get Key hint equals Settings Xml Configuration Processor Configuration Processor configuration Processor entry get Value configuration Processor process cli Request else user Supplied Configuration Processor Count many Configuration Processors n know one run report error String Builder sb new String Builder String format n one user supplied Configuration Processor n n user Supplied Configuration Processor Count Entry String Configuration Processor entry configuration Processors entry Set String hint entry get Key hint equals Settings Xml Configuration Processor Configuration Processor configuration Processor entry get Value sb append String format n configuration Processor get Class get Name sb append String format n throw new Exception sb String private void toolchains Cli Request cli Request throws Exception File user Toolchains File cli Request command Line Option Manager user Toolchains File new File cli Request command Line get Option Value Manager user Toolchains File resolve File user Toolchains File cli Request working Directory user Toolchains File File throw new File Found Exception specified user toolchains file exist user Toolchains File else user Toolchains File File global Toolchains File cli Request command Line Option Manager global Toolchains File new File cli Request command Line get Option Value Manager global Toolchains File resolve File global Toolchains File cli Request working Directory global Toolchains File File throw new File Found Exception specified global toolchains file exist global Toolchains File else global Toolchains File cli Request request set Global Toolchains File global Toolchains File cli Request request set User Toolchains File user Toolchains File Default Toolchains Building Request toolchains Request new Default Toolchains Building Request global Toolchains File File toolchains Request set Global Toolchains Source new File Source global Toolchains File user Toolchains File File toolchains Request set User Toolchains Source new File Source user Toolchains File event Spy Dispatcher Event toolchains Request slf j Logger debug Reading global toolchains get Location toolchains Request get Global Toolchains Source global Toolchains File slf j Logger debug Reading user toolchains get Location toolchains Request get User Toolchains Source user Toolchains File Toolchains Building Result toolchains Result toolchains Builder build toolchains Request event Spy Dispatcher Event toolchains Request execution Request Populator populate Toolchains cli Request request toolchains Result get Effective Toolchains toolchains Result get Problems Empty slf j Logger Warn Enabled slf j Logger warn slf j Logger warn problems encountered building effective toolchains Problem problem toolchains Result get Problems slf j Logger warn problem get Message problem get Location slf j Logger warn private Object get Location Source source File default Location source null return source get Location return default Location private Maven Execution Request populate Request Cli Request cli Request return populate Request cli Request cli Request request private Maven Execution Request populate Request Cli Request cli Request Maven Execution Request request Command Line command Line cli Request command Line String working Directory cli Request working Directory boolean quiet cli Request quiet boolean show Errors cli Request show Errors String deprecated Options npu cpu npr String deprecated Option deprecated Options command Line Option deprecated Option slf j Logger warn Command line option deprecated Option deprecated removed future Maven versions everything need fire plexus bring component life use command Line Option Manager request set Interactive Mode false boolean Snapshot Updates false command Line Option Manager Snapshot Updates true List String goals command Line get Arg List boolean recursive true default behavior String reactor Failure Behaviour Maven Execution Request command Line Option Manager recursive false command Line Option Manager reactor Failure Behaviour Maven Execution Request else command Line Option Manager reactor Failure Behaviour Maven Execution Request else command Line Option Manager reactor Failure Behaviour Maven Execution Request command Line Option Manager request set Offline true boolean update Snapshots false command Line Option Manager update Snapshots true String global Checksum Policy null command Line Option Manager global Checksum Policy Maven Execution Request else command Line Option Manager global Checksum Policy Maven Execution Request File base Directory new File working Directory get Absolute File Profile Activation List String active Profiles new Array List List String inactive Profiles new Array List command Line Option Manager String profile Option Values command Line get Option Values Manager profile Option Values null String profile Option Value profile Option Values String Tokenizer profile Tokens new String Tokenizer profile Option Value profile Tokens Tokens String profile Action profile Tokens next Token trim profile Action starts profile Action starts inactive Profiles add profile Action substring else profile Action starts active Profiles add profile Action substring else active Profiles add profile Action Transfer Listener transfer Listener quiet transfer Listener new Quiet Maven Transfer Listener else request Interactive Mode cli Request command Line Option Manager logging file n want console transfer listener spew download progress place transfer Listener get Console Transfer Listener cli Request command Line Option Manager else transfer Listener get Batch Transfer Listener Execution Listener execution Listener new Execution Event Logger event Spy Dispatcher null execution Listener event Spy Dispatcher chain Listener execution Listener String alternate Pom File null command Line Option Manager alternate Pom File command Line get Option Value Manager request set Base Directory base Directory set Goals goals set System Properties cli Request system Properties set User Properties cli Request user Properties set Reactor Failure Behavior reactor Failure Behaviour default fail fast set Recursive recursive default true set Show Errors show Errors default false add Active Profiles active Profiles optional add Inactive Profiles inactive Profiles optional set Execution Listener execution Listener set Transfer Listener transfer Listener default batch mode goes along interactive set Update Snapshots update Snapshots default false set Snapshot Updates Snapshot Updates default false set Global Checksum Policy global Checksum Policy default warn set Multi Module Project Directory cli Request multi Module Project Directory alternate Pom File null File pom resolve File new File alternate Pom File working Directory pom Directory pom new File pom pom xml request set Pom pom else model Processor null File pom model Processor locate Pom base Directory pom File request set Pom pom request get Pom null request get Pom get Parent File null request set Base Directory request get Pom get Parent File command Line Option Manager request set Resume command Line get Option Value Manager command Line Option Manager String project Option Values command Line get Option Values Manager List String incl Projects new Array List List String excl Projects new Array List project Option Values null String project Option Value project Option Values String Tokenizer project Tokens new String Tokenizer project Option Value project Tokens Tokens String project Action project Tokens next Token trim project Action starts project Action starts excl Projects add project Action substring else project Action starts incl Projects add project Action substring else incl Projects add project Action request set Selected Projects incl Projects request set Excluded Projects excl Projects command Line Option Manager command Line Option Manager request set Make Behavior Maven Execution Request else command Line Option Manager command Line Option Manager request set Make Behavior Maven Execution Request else command Line Option Manager command Line Option Manager request set Make Behavior Maven Execution Request String local Repo Property request get User Properties get Property Maven Cli local Repo Property null local Repo Property request get System Properties get Property Maven Cli local Repo Property null request set Local Repository Path local Repo Property request set Cache Found true request set Cache Transfer Error false Builder concurrency parallelism preserve existing methods builder selection look various inputs threading configuration n easy way allow pluggable builder provide configuration parameters sufficient Ultimately want components like Builders provide way extend command line accept configuration parameters final String thread Configuration command Line Option Manager command Line get Option Value Manager request get System Properties get Property Maven Cli Remove setting Note int tests use thread Configuration null Default standard multithreaded builder request set Builder Id multithreaded thread Configuration contains request set Degree Concurrency calculate Degree Concurrency Core Multiplier thread Configuration else request set Degree Concurrency Integer value thread Configuration Allow builder overridden user requested builders pluggable command Line Option Manager request set Builder Id command Line get Option Value Manager return request int calculate Degree Concurrency Core Multiplier String thread Configuration int procs Runtime get Runtime available Processors return int Float value thread Configuration replace procs static File resolve File File file String working Directory file null return null else file Absolute return file else file get Path starts File separator drive relative Windows path return file get Absolute File else return new File working Directory file get Path get Absolute File System properties handling static void populate Properties Command Line command Line Properties system Properties Properties user Properties Environment Utils add Env Vars system Properties Options set command line become system properties therefore set session properties System properties dominant command Line Option Manager String def Strs command Line get Option Values Manager def Strs null String def Str def Strs set Cli Property def Str user Properties System Properties add System Properties system Properties Properties containing info currently running version Maven override corresponding properties set command line Properties build Properties Reporting Utils get Build Properties String Version build Properties get Property Reporting Utils system Properties set Property version Version String Build Version Reporting Utils create Maven Version String build Properties system Properties set Property build version Build Version private static void set Cli Property String property Properties properties String name String value int property index name property trim value true else name property substring trim value property substring properties set Property name value leaving setting system properties break System Property Profile Activator wo n harm embedding jvz System set Property name value static class Exit Exception extends Exception Suppress Warnings checkstyle visibilitymodifier public int exit Code public Exit Exception int exit Code exit Code exit Code Customizations available via protected Transfer Listener get Console Transfer Listener boolean print Resource Names return new Console Maven Transfer Listener System print Resource Names protected Transfer Listener get Batch Transfer Listener return new Slf j Maven Transfer Listener protected void customize Container Plexus Container container protected Model Processor create Model Processor Plexus Container container throws Component Lookup Exception return container lookup Model Processor class
package org apache lifecycle Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Hash Map import java util Hash Set import java util Iterator import java util Linked Hash Map import java util Linked Hash Set import java util List import java util Map import java util Set import org apache lifecycle internal Execution Plan Item import org apache model Plugin import org apache plugin Mojo Execution import org apache plugin descriptor Mojo Descriptor lifecycles executed runs phase plugins need downloading project dependencies need downloading unfortunately plugins need downloaded order get plugin xml file need externalize plugin archive class people get Es modify public class Maven Execution Plan implements Iterable Execution Plan Item moment class totally immutable line thoughts pre calculated execution plan stays execution deciding add mutable state class least considered separate separate mutable structure private final List Execution Plan Item plan Item private final Map String Execution Plan Item last Mojo Execution Phases final List String phases Execution Plan public Maven Execution Plan List Execution Plan Item plan Item Default Lifecycles default Lifecycles plan Item plan Item last Mojo Execution Phases new Linked Hash Map Linked Hash Set String total Phase Set new Linked Hash Set default Lifecycles null String phase get Distinct Phases Order Execution Plan Appearance plan Item final Lifecycle lifecycle default Lifecycles get phase lifecycle null total Phase Set add lifecycle get Phases phases Execution Plan new Array List total Phase Set Map String Execution Plan Item last Existing Phases new Hash Map Execution Plan Item execution Plan Item get Execution Plan Items last Existing Phases put execution Plan Item get Lifecycle Phase execution Plan Item Execution Plan Item last Seen Execution Plan Item null String phase total Phase Set Execution Plan Item Phase last Existing Phases get phase Phase null last Seen Execution Plan Item Phase last Mojo Execution Phases put phase last Seen Execution Plan Item public Iterator Execution Plan Item iterator return get Execution Plan Items iterator Returns last Execution Plan Item supplied phase items specified phase closest execution Plan Item earlier phase item returned param requested Phase requested phase execution plan item return Execution Plan Item null none found public Execution Plan Item find Last Phase String requested Phase return last Mojo Execution Phases get requested Phase private List Execution Plan Item get Execution Plan Items return plan Item private static Iterable String get Distinct Phases Order Execution Plan Appearance List Execution Plan Item plan Items Linked Hash Set String result new Linked Hash Set Execution Plan Item execution Plan Item plan Items final String phase execution Plan Item get Lifecycle Phase result contains phase result add phase return result public List Mojo Execution get Mojo Executions List Mojo Execution result new Array List Execution Plan Item execution Plan Item plan Item result add execution Plan Item get Mojo Execution return result Get set plugins goal mojo used marked thread Safe return set plugins without info goal concerned public Set Plugin get Non Thread Safe Plugins Set Plugin plugins new Hash Set Execution Plan Item execution Plan Item plan Item final Mojo Execution mojo Execution execution Plan Item get Mojo Execution mojo Execution get Mojo Descriptor Thread Safe plugins add mojo Execution get Plugin return plugins Get set mojos used marked thread Safe return set mojo descriptors public Set Mojo Descriptor get Non Thread Safe Mojos Set Mojo Descriptor mojos new Hash Set Execution Plan Item execution Plan Item plan Item final Mojo Execution mojo Execution execution Plan Item get Mojo Execution mojo Execution get Mojo Descriptor Thread Safe mojos add mojo Execution get Mojo Descriptor return mojos Used e removed really Deprecated public List Mojo Execution get Executions return get Mojo Executions public int size return plan Item size
package org apache project artifact Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Array List import java util Arrays import java util Collection import java util Collections import java util Hash Map import java util Linked Hash Map import java util Linked Hash Set import java util List import java util Map import java util Properties import java util Set import org apache artifact Artifact import org apache artifact factory Artifact Factory import org apache artifact metadata Artifact Metadata Retrieval Exception import org apache artifact metadata Artifact Metadata Source import org apache artifact metadata Resolution Group import org apache artifact repository Artifact Repository import org apache artifact repository metadata Artifact Repository Metadata import org apache artifact repository metadata Metadata import org apache artifact repository metadata Repository Metadata import org apache artifact repository metadata Repository Metadata Manager import org apache artifact repository metadata Repository Metadata Resolution Exception import org apache artifact resolver Artifact Resolution Exception import org apache artifact resolver Multiple Artifacts Found Exception import org apache artifact resolver filter Artifact Filter import org apache artifact resolver filter Artifact Filter import org apache artifact resolver filter Excludes Artifact Filter import org apache artifact versioning Artifact Version import org apache artifact versioning Default Artifact Version import org apache artifact versioning Invalid Version Specification Exception import org apache artifact versioning Version Range import org apache model Dependency import org apache model Dependency Management import org apache model Distribution Management import org apache model Exclusion import org apache model Relocation import org apache model building Model Building Exception import org apache model building Model Building Request import org apache model building Model Problem import org apache model resolution Unresolvable Model Exception import org apache plugin Legacy Support import org apache project Default Project Building Request import org apache project Maven Project import org apache project Project Builder import org apache project Project Building Exception import org apache project Project Building Request import org apache properties internal Environment Utils import org apache properties internal System Properties import org apache repository legacy metadata Default Metadata Resolution Request import org apache repository legacy metadata Metadata Resolution Request import org codehaus plexus Plexus Container import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus component repository exception Component Lookup Exception import org codehaus plexus logging Logger import org eclipse aether Repository System Session import org eclipse aether repository Repository Policy import org eclipse aether transfer Artifact Found Exception author Jason van Zyl Component role Artifact Metadata Source class hint public class Maven Metadata Source implements Artifact Metadata Source Requirement private Repository Metadata Manager repository Metadata Manager Requirement private Artifact Factory repository System prevents cycle composition shows us another problem need deal Requirement private Project Builder project Builder Requirement private Plexus Container container Requirement private Logger logger Requirement private Maven Metadata Cache cache Requirement private Legacy Support legacy Support private void inject Session Metadata Resolution Request request Repository System Session session legacy Support get Repository Session session null request set Offline session Offline request set Force Update Repository Policy equals session get Update Policy public Resolution Group retrieve Artifact artifact Artifact Repository local Repository List Artifact Repository remote Repositories throws Artifact Metadata Retrieval Exception return retrieve artifact local Repository remote Repositories false public Resolution Group retrieve Artifact artifact Artifact Repository local Repository List Artifact Repository remote Repositories boolean resolve Managed Versions throws Artifact Metadata Retrieval Exception Metadata Resolution Request request new Default Metadata Resolution Request inject Session request request set Artifact artifact request set Local Repository local Repository request set Remote Repositories remote Repositories request set Resolve Managed Versions resolve Managed Versions return retrieve request public Resolution Group retrieve Metadata Resolution Request request throws Artifact Metadata Retrieval Exception Artifact artifact request get Artifact system scoped artifact want searching local remote repositories want artifact resolution return system scoped artifact artifact get Scope null artifact get Scope equals Artifact return new Resolution Group null null null Resolution Group cached cache get artifact request Resolve Managed Versions request get Local Repository request get Remote Repositories cached null file cached missing artifact return cached data update forced request Force Update File cached get Pom Artifact return cached List Dependency dependencies List Dependency managed Dependencies null List Artifact Repository pom Repositories null Artifact pom Artifact Artifact relocated Artifact null even sure really required project cached builder see currently biggest hotspot artifact instanceof Artifact Dependencies pom Artifact artifact dependencies Artifact Dependencies artifact get Dependencies managed Dependencies Artifact Dependencies artifact get Managed Dependencies else Project Relocation rel retrieve Relocated Project artifact request rel null return null pom Artifact rel pom Artifact relocated Artifact rel relocated Artifact rel project null happens Maven x invalid never found way Maven x repository dependencies Collections empty List else dependencies rel project get Dependencies Dependency Management dep Mgmt rel project get Dependency Management managed Dependencies dep Mgmt null dep Mgmt get Dependencies null pom Repositories rel project get Remote Artifact Repositories Set Artifact artifacts Collections empty Set artifact get Artifact Handler Includes Dependencies artifacts new Linked Hash Set Dependency dependency dependencies Artifact dependency Artifact create Dependency Artifact dependency artifact pom Artifact dependency Artifact null artifacts add dependency Artifact Map String Artifact managed Versions null managed Dependencies null request Resolve Managed Versions managed Versions new Hash Map Dependency managed Dependency managed Dependencies Artifact managed Artifact create Dependency Artifact managed Dependency null pom Artifact managed Versions put managed Dependency get Management Key managed Artifact List Artifact Repository aggregated Repositories aggregate Repositories request get Remote Repositories pom Repositories Resolution Group result new Resolution Group pom Artifact relocated Artifact artifacts managed Versions aggregated Repositories cache put artifact request Resolve Managed Versions request get Local Repository request get Remote Repositories result return result private boolean File Artifact artifact return artifact null artifact get File null artifact get File exists private List Artifact Repository aggregate Repositories List Artifact Repository request Repositories List Artifact Repository pom Repositories List Artifact Repository repositories request Repositories pom Repositories null pom Repositories Empty Map String Artifact Repository repos new Linked Hash Map Artifact Repository repo request Repositories repos contains Key repo get Id repos put repo get Id repo Artifact Repository repo pom Repositories repos contains Key repo get Id repos put repo get Id repo repositories new Array List repos values return repositories private Artifact create Dependency Artifact Dependency dependency Artifact owner Artifact pom throws Artifact Metadata Retrieval Exception try String inherited Scope owner null owner get Scope null Artifact Filter inherited Filter owner null owner get Dependency Filter null return create Dependency Artifact repository System dependency inherited Scope inherited Filter catch Invalid Version Specification Exception e throw new Artifact Metadata Retrieval Exception Invalid version dependency dependency get Management Key e get Message e pom private static Artifact create Dependency Artifact Artifact Factory factory Dependency dependency String inherited Scope Artifact Filter inherited Filter throws Invalid Version Specification Exception String effective Scope get Effective Scope dependency get Scope inherited Scope effective Scope null return null Version Range version Range Version Range create Version Spec dependency get Version Artifact dependency Artifact factory create Dependency Artifact dependency get Group Id dependency get Artifact Id version Range dependency get Type dependency get Classifier effective Scope dependency Optional Artifact Filter dependency Filter inherited Filter dependency Filter null dependency Filter include dependency Artifact return null Artifact equals effective Scope dependency Artifact set File new File dependency get System Path dependency Artifact set Dependency Filter create Dependency Filter dependency dependency Filter return dependency Artifact private static String get Effective Scope String original Scope String inherited Scope String effective Scope Artifact original Scope null original Scope Artifact inherited Scope null direct dependency retains scope effective Scope original Scope else Artifact equals original Scope Artifact equals original Scope test provided transitive exclude effective Scope null else Artifact equals original Scope system scope come unchanged effective Scope Artifact else Artifact equals original Scope Artifact equals inherited Scope added retain compile scope Remove want compile inherited runtime effective Scope Artifact else Artifact equals inherited Scope effective Scope Artifact else Artifact equals inherited Scope effective Scope Artifact return effective Scope private static Artifact Filter create Dependency Filter Dependency dependency Artifact Filter inherited Filter Artifact Filter effective Filter inherited Filter dependency get Exclusions Empty List String exclusions new Array List Exclusion e dependency get Exclusions exclusions add e get Group Id e get Artifact Id effective Filter new Excludes Artifact Filter exclusions inherited Filter null effective Filter new Artifact Filter Arrays List inherited Filter effective Filter return effective Filter public List Artifact Version retrieve Available Versions Artifact artifact Artifact Repository local Repository List Artifact Repository remote Repositories throws Artifact Metadata Retrieval Exception Metadata Resolution Request request new Default Metadata Resolution Request inject Session request request set Artifact artifact request set Local Repository local Repository request set Remote Repositories remote Repositories return retrieve Available Versions request public List Artifact Version retrieve Available Versions Metadata Resolution Request request throws Artifact Metadata Retrieval Exception Repository Metadata metadata new Artifact Repository Metadata request get Artifact try repository Metadata Manager resolve metadata request catch Repository Metadata Resolution Exception e throw new Artifact Metadata Retrieval Exception e get Message e request get Artifact List String available Versions request get Local Repository find Versions request get Artifact return retrieve Available Versions Metadata metadata get Metadata available Versions public List Artifact Version retrieve Available Versions Deployment Repository Artifact artifact Artifact Repository local Repository Artifact Repository deployment Repository throws Artifact Metadata Retrieval Exception Repository Metadata metadata new Artifact Repository Metadata artifact try repository Metadata Manager resolve Always metadata local Repository deployment Repository catch Repository Metadata Resolution Exception e throw new Artifact Metadata Retrieval Exception e get Message e artifact List String available Versions local Repository find Versions artifact return retrieve Available Versions Metadata metadata get Metadata available Versions private List Artifact Version retrieve Available Versions Metadata Metadata repo Metadata List String available Versions Collection String versions new Linked Hash Set repo Metadata null repo Metadata get Versioning null versions add repo Metadata get Versioning get Versions versions add available Versions List Artifact Version artifact Versions new Array List versions size String version versions artifact Versions add new Default Artifact Version version return artifact Versions Deprecated public static Set Artifact create Artifacts Artifact Factory artifact Factory List Dependency dependencies String inherited Scope Artifact Filter dependency Filter Maven Project project throws Invalid Dependency Version Exception Set Artifact artifacts new Linked Hash Set Dependency dependencies Artifact dependency Artifact try dependency Artifact create Dependency Artifact artifact Factory inherited Scope dependency Filter catch Invalid Version Specification Exception e throw new Invalid Dependency Version Exception project get Id project get File e dependency Artifact null artifacts add dependency Artifact return artifacts private Project Builder get Project Builder project Builder null return project Builder try project Builder container lookup Project Builder class catch Component Lookup Exception e Wo n happen return project Builder private Project Relocation retrieve Relocated Project Artifact artifact Metadata Resolution Request repository Request throws Artifact Metadata Retrieval Exception Maven Project project Artifact pom Artifact Artifact relocated Artifact null boolean done false project null pom Artifact repository System create Project Artifact artifact get Group Id artifact get Artifact Id artifact get Version artifact get Scope pom equals artifact get Type pom Artifact set File artifact get File Artifact equals artifact get Scope done true else try Project Building Request configuration new Default Project Building Request configuration set Local Repository repository Request get Local Repository configuration set Remote Repositories repository Request get Remote Repositories configuration set Validation Level Model Building Request configuration set Process Plugins false configuration set Repository Merging Project Building Request Repository Merging configuration set System Properties get System Properties configuration set Repository Session legacy Support get Repository Session project get Project Builder build pom Artifact configuration get Project catch Project Building Exception e Model Problem missing Parent Pom Missing Parent Pom e missing Parent Pom null throw new Artifact Metadata Retrieval Exception Failed process artifact get Id missing Parent Pom get Message missing Parent Pom get Exception artifact String message Missing Pom e message Missing artifact get Id else Non Transferrable Pom e throw new Artifact Metadata Retrieval Exception Failed retrieve artifact get Id e get Cause get Message e get Cause artifact else message Invalid artifact get Id transitive dependencies available enable debug logging details logger Debug Enabled message e get Message logger warn message project null Relocation relocation null Distribution Management dist Mgmt project get Distribution Management dist Mgmt null relocation dist Mgmt get Relocation artifact set Download Url dist Mgmt get Download Url pom Artifact set Download Url dist Mgmt get Download Url relocation null relocation get Group Id null artifact set Group Id relocation get Group Id relocated Artifact artifact project set Group Id relocation get Group Id relocation get Artifact Id null artifact set Artifact Id relocation get Artifact Id relocated Artifact artifact project set Artifact Id relocation get Artifact Id relocation get Version null note see causes problem fixing may break artifact set Version Range Version Range create Version relocation get Version relocated Artifact artifact project set Version relocation get Version artifact get Dependency Filter null artifact get Dependency Filter include artifact return null artifact data changed available versions previously retrieved need update n versions merged across relocations List Artifact Version available artifact get Available Versions available null available Empty Metadata Resolution Request metadata Request new Default Metadata Resolution Request repository Request metadata Request set Artifact artifact available retrieve Available Versions metadata Request artifact set Available Versions available String message n artifact relocated artifact get Group Id artifact get Artifact Id artifact get Version n relocation get Message null message relocation get Message n artifact get Dependency Trail null artifact get Dependency Trail size logger warn downloading pom Artifact get Group Id pom Artifact get Artifact Id pom Artifact get Version message n else logger debug downloading pom Artifact get Group Id pom Artifact get Artifact Id pom Artifact get Version message n else done true else done true done Project Relocation rel new Project Relocation rel project project rel pom Artifact pom Artifact rel relocated Artifact relocated Artifact return rel private Model Problem Missing Parent Pom Project Building Exception e e get Cause instanceof Model Building Exception Model Building Exception mbe Model Building Exception e get Cause Model Problem problem mbe get Problems problem get Exception instanceof Unresolvable Model Exception return problem return null private boolean Missing Pom Exception e e get Cause instanceof Multiple Artifacts Found Exception return true return e get Cause instanceof org eclipse aether resolution Artifact Resolution Exception e get Cause get Cause instanceof Artifact Found Exception private boolean Non Transferrable Pom Exception e e get Cause instanceof Artifact Resolution Exception return true return e get Cause instanceof org eclipse aether resolution Artifact Resolution Exception e get Cause get Cause instanceof Artifact Found Exception private Properties get System Properties Properties props new Properties Environment Utils add Env Vars props System Properties add System Properties props return props private static final class Project Relocation private Maven Project project private Artifact pom Artifact private Artifact relocated Artifact
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java io Exception import java io Writer import java util Array List import java util Collections import java util Hash Map import java util Linked Hash Map import java util Linked Hash Set import java util List import java util Map import java util Properties import java util Set import org apache Repository Utils import org apache artifact Artifact import org apache artifact Artifact Utils import org apache artifact Dependency Resolution Required Exception remove create Artifacts removed import org apache artifact factory Artifact Factory import org apache artifact repository Artifact Repository import org apache artifact resolver filter Artifact Filter import org apache model Build import org apache model Ci Management import org apache model Contributor import org apache model Dependency import org apache model Dependency Management import org apache model Developer import org apache model Distribution Management import org apache model Extension import org apache model Issue Management import org apache model License import org apache model Mailing List import org apache model Model import org apache model Organization import org apache model Plugin import org apache model Plugin Execution import org apache model Plugin Management import org apache model Prerequisites import org apache model Profile import org apache model Report Plugin import org apache model Report Set import org apache model Reporting import org apache model Repository import org apache model Resource import org apache model Scm import org apache model io xpp Maven Xpp Writer import org apache project artifact Invalid Dependency Version Exception import org apache project artifact Maven Metadata Source import org codehaus plexus classworlds realm Class Realm import org codehaus plexus util xml Xpp Dom import org eclipse aether graph Dependency Filter import org eclipse aether repository Remote Repository concern project provide runtime values based model p values model remain untouched process building project notions like inheritance interpolation added allows entity useful runtime preserving model marshalled unmarshalled without tainted runtime requirements p p changes release Maven Project closer immutable construction removal components class upfront construction taken care entirely Project Builder still issue run lifecycle order find compile source roots resource directories hope take care Maven release jvz p public class Maven Project implements Cloneable public static final String unknown public static final String empty project public static final String private Model model private Maven Project parent private File file private File basedir private Set Artifact resolved Artifacts private Artifact Filter artifact Filter private Set Artifact artifacts private Artifact parent Artifact private Set Artifact plugin Artifacts private List Artifact Repository remote Artifact Repositories private List Artifact Repository plugin Artifact Repositories private List Remote Repository remote Project Repositories private List Remote Repository remote Plugin Repositories private List Artifact attached Artifacts private Maven Project execution Project private List Maven Project collected Projects private List String compile Source Roots new Array List private List String test Compile Source Roots new Array List private List String script Source Roots new Array List private Artifact Repository release Artifact Repository private Artifact Repository snapshot Artifact Repository private List Profile active Profiles new Array List private Map String List String injected Profile Ids new Linked Hash Map private Set Artifact dependency Artifacts private Artifact artifact calculated private Map String Artifact artifact Map private Model original Model private Map String Artifact plugin Artifact Map private Set Artifact report Artifacts private Map String Artifact report Artifact Map private Set Artifact extension Artifacts private Map String Artifact extension Artifact Map private Map String Artifact managed Version Map private Map String Maven Project project References new Hash Map private boolean execution Root private File parent File private Map String Object context private Class Realm class Realm private Dependency Filter extension Dependency Filter private final Set String lifecycle Phases Collections synchronized Set new Linked Hash Set String public Maven Project Model model new Model model set Group Id model set Artifact Id model set Version set Model model public Maven Project Model model set Model model public Maven Project Maven Project project deep Copy project public File get Parent File return parent File public void set Parent File File parent File parent File parent File Accessors public Artifact get Artifact return artifact public void set Artifact Artifact artifact artifact artifact would like get rid jvz public Model get Model return model Returns project corresponding declared parent return parent null parent declared error building public Maven Project get Parent return parent public void set Parent Maven Project parent parent parent public boolean Parent return get Parent null public File get File return file public void set File File file file file basedir file null file get Parent File null Sets project code file without changing project code basedir since public void set Pom File File file file file public File get Basedir return basedir public void set Dependencies List Dependency dependencies get Model set Dependencies dependencies public List Dependency get Dependencies return get Model get Dependencies public Dependency Management get Dependency Management return get Model get Dependency Management Test compile sourceroots private void add Path List String paths String path path null path path trim path length File file new File path file Absolute path file get Absolute Path else path new File get Basedir path get Absolute Path paths contains path paths add path public void add Compile Source Root String path add Path get Compile Source Roots path public void add Test Compile Source Root String path add Path get Test Compile Source Roots path public List String get Compile Source Roots return compile Source Roots public List String get Test Compile Source Roots return test Compile Source Roots public List String get Compile Classpath Elements throws Dependency Resolution Required Exception List String list new Array List get Artifacts size String get Build get Output Directory null list add Artifact get Artifacts get Artifact Handler Added Classpath let scope handler deal Artifact equals get Scope Artifact equals get Scope Artifact equals get Scope add Artifact Path list return list checking file null happens resolver confused root artifact things like stupid dummy artifact coming surefire public List String get Test Classpath Elements throws Dependency Resolution Required Exception List String list new Array List get Artifacts size String get Build get Test Output Directory null list add get Build get Output Directory null list add Artifact get Artifacts get Artifact Handler Added Classpath add Artifact Path list return list public List String get Runtime Classpath Elements throws Dependency Resolution Required Exception List String list new Array List get Artifacts size String get Build get Output Directory null list add Artifact get Artifacts get Artifact Handler Added Classpath let scope handler deal Artifact equals get Scope Artifact equals get Scope add Artifact Path list return list Delegate model public void set Model Version String pom Version get Model set Model Version pom Version public String get Model Version return get Model get Model Version public String get Id return get Model get Id public void set Group Id String group Id get Model set Group Id group Id public String get Group Id String group Id get Model get Group Id group Id null get Model get Parent null group Id get Model get Parent get Group Id return group Id public void set Artifact Id String artifact Id get Model set Artifact Id artifact Id public String get Artifact Id return get Model get Artifact Id public void set Name String name get Model set Name name public String get Name allowed null get Model get Name null return get Model get Name else return get Artifact Id public void set Version String version get Model set Version version public String get Version String version get Model get Version version null get Model get Parent null version get Model get Parent get Version return version public String get Packaging return get Model get Packaging public void set Packaging String packaging get Model set Packaging packaging public void set Inception Year String inception Year get Model set Inception Year inception Year public String get Inception Year return get Model get Inception Year public void set Url String url get Model set Url url public String get Url return get Model get Url public Prerequisites get Prerequisites return get Model get Prerequisites public void set Issue Management Issue Management issue Management get Model set Issue Management issue Management public Ci Management get Ci Management return get Model get Ci Management public void set Ci Management Ci Management ci Management get Model set Ci Management ci Management public Issue Management get Issue Management return get Model get Issue Management public void set Distribution Management Distribution Management distribution Management get Model set Distribution Management distribution Management public Distribution Management get Distribution Management return get Model get Distribution Management public void set Description String description get Model set Description description public String get Description return get Model get Description public void set Organization Organization organization get Model set Organization organization public Organization get Organization return get Model get Organization public void set Scm Scm scm get Model set Scm scm public Scm get Scm return get Model get Scm public void set Mailing Lists List Mailing List mailing Lists get Model set Mailing Lists mailing Lists public List Mailing List get Mailing Lists return get Model get Mailing Lists public void add Mailing List Mailing List mailing List get Model add Mailing List mailing List public void set Developers List Developer developers get Model set Developers developers public List Developer get Developers return get Model get Developers public void add Developer Developer developer get Model add Developer developer public void set Contributors List Contributor contributors get Model set Contributors contributors public List Contributor get Contributors return get Model get Contributors public void add Contributor Contributor contributor get Model add Contributor contributor public void set Build Build build get Model set Build build public Build get Build return get Model Build public List Resource get Resources return get Build get Resources public List Resource get Test Resources return get Build get Test Resources public void add Resource Resource resource get Build add Resource resource public void add Test Resource Resource test Resource get Build add Test Resource test Resource public void set Licenses List License licenses get Model set Licenses licenses public List License get Licenses return get Model get Licenses public void add License License license get Model add License license public void set Artifacts Set Artifact artifacts artifacts artifacts flush calculated artifact Map artifact Map null dependencies project including transitive ones Contents lazily populated depending phases run dependencies scopes wo n included eg compile phase run dependencies scope test wo n included return link Set lt link Artifact gt see get Dependency Artifacts get direct dependencies public Set Artifact get Artifacts artifacts null artifact Filter null resolved Artifacts null artifacts new Linked Hash Set else artifacts new Linked Hash Set resolved Artifacts size Artifact artifact resolved Artifacts artifact Filter include artifact artifacts add artifact return artifacts public Map String Artifact get Artifact Map artifact Map null artifact Map Artifact Utils artifact Map Versionless Id get Artifacts return artifact Map public void set Plugin Artifacts Set Artifact plugin Artifacts plugin Artifacts plugin Artifacts plugin Artifact Map null public Set Artifact get Plugin Artifacts return plugin Artifacts public Map String Artifact get Plugin Artifact Map plugin Artifact Map null plugin Artifact Map Artifact Utils artifact Map Versionless Id get Plugin Artifacts return plugin Artifact Map public void set Parent Artifact Artifact parent Artifact parent Artifact parent Artifact public Artifact get Parent Artifact return parent Artifact public List Repository get Repositories return get Model get Repositories Plugins public List Plugin get Build Plugins get Model get Build null return Collections empty List return get Model get Build get Plugins public List String get Modules return get Model get Modules public Plugin Management get Plugin Management Plugin Management plugin Mgmt null Build build get Model get Build build null plugin Mgmt build get Plugin Management return plugin Mgmt private Build get Model Build Build build get Model get Build build null build new Build get Model set Build build return build public void set Remote Artifact Repositories List Artifact Repository remote Artifact Repositories remote Artifact Repositories remote Artifact Repositories remote Project Repositories Repository Utils Repos get Remote Artifact Repositories public List Artifact Repository get Remote Artifact Repositories remote Artifact Repositories null remote Artifact Repositories new Array List return remote Artifact Repositories public void set Plugin Artifact Repositories List Artifact Repository plugin Artifact Repositories plugin Artifact Repositories plugin Artifact Repositories remote Plugin Repositories Repository Utils Repos get Plugin Artifact Repositories return list Artifact Repository objects constructed Repository objects returned get Plugin Repositories public List Artifact Repository get Plugin Artifact Repositories plugin Artifact Repositories null plugin Artifact Repositories new Array List return plugin Artifact Repositories public Artifact Repository get Distribution Management Artifact Repository return get Artifact Snapshot get Snapshot Artifact Repository null get Snapshot Artifact Repository get Release Artifact Repository public List Repository get Plugin Repositories return get Model get Plugin Repositories public List Remote Repository get Remote Project Repositories return remote Project Repositories public List Remote Repository get Remote Plugin Repositories return remote Plugin Repositories public void set Active Profiles List Profile active Profiles active Profiles active Profiles public List Profile get Active Profiles return active Profiles public void set Injected Profile Ids String source List String injected Profile Ids injected Profile Ids null injected Profile Ids put source new Array List injected Profile Ids else injected Profile Ids remove source Gets identifiers profiles contributed project effective model includes active profiles project parent Ms well external sources like code settings xml profile identifiers grouped identifier source e g code group Id artifact Id version profile code external profiles code settings xml return identifiers injected profiles indexed source profiles originated never code null public Map String List String get Injected Profile Ids return injected Profile Ids Add replace artifact method deprecated Use Maven Project Helper attach artifacts project spite throws declaration method never thrown exception since Maven x Historically logged ignored second addition g v c replaces file artifact plugins e g shade change pathname file particular set coordinates param artifact artifact add replace throws Duplicate Artifact Attachment Exception public void add Attached Artifact Artifact artifact throws Duplicate Artifact Attachment Exception get Attached Artifacts add artifact public List Artifact get Attached Artifacts attached Artifacts null attached Artifacts new Array List return attached Artifacts public Xpp Dom get Goal Configuration String plugin Group Id String plugin Artifact Id String execution Id String goal Id Xpp Dom dom null get Build Plugins null Plugin plugin get Build Plugins plugin Group Id equals plugin get Group Id plugin Artifact Id equals plugin get Artifact Id dom Xpp Dom plugin get Configuration execution Id null Plugin Execution execution plugin get Executions Map get execution Id execution null Plugin Configuration Expander already merged plugin level config dom Xpp Dom execution get Configuration break dom null make copy original n get messed dom new Xpp Dom dom return dom public Maven Project get Execution Project return execution Project null execution Project public void set Execution Project Maven Project execution Project execution Project execution Project public List Maven Project get Collected Projects return collected Projects public void set Collected Projects List Maven Project collected Projects collected Projects collected Projects Direct dependencies project return link Set lt link Artifact gt see get Artifacts get transitive dependencies Deprecated public Set Artifact get Dependency Artifacts return dependency Artifacts Deprecated public void set Dependency Artifacts Set Artifact dependency Artifacts dependency Artifacts dependency Artifacts public void set Release Artifact Repository Artifact Repository release Artifact Repository release Artifact Repository release Artifact Repository public void set Snapshot Artifact Repository Artifact Repository snapshot Artifact Repository snapshot Artifact Repository snapshot Artifact Repository public void set Original Model Model original Model original Model original Model public Model get Original Model return original Model public void set Managed Version Map Map String Artifact map managed Version Map map public Map String Artifact get Managed Version Map return managed Version Map Override public boolean equals Object return true else instanceof Maven Project return false Maven Project Maven Project return eq get Artifact Id get Artifact Id eq get Group Id get Group Id eq get Version get Version private static boolean eq return null equals null Override public int hash Code int hash hash hash get Group Id hash Code hash hash get Artifact Id hash Code hash hash get Version hash Code return hash public List Extension get Build Extensions Build build get Build build null build get Extensions null return Collections empty List else return build get Extensions public void add Project Reference Maven Project project project References put get Project Reference Id project get Group Id project get Artifact Id project get Version project public Properties get Properties return get Model get Properties public List String get Filters return get Build get Filters public Map String Maven Project get Project References return project References public boolean Execution Root return execution Root public void set Execution Root boolean execution Root execution Root execution Root public String get Default Goal return get Build null get Build get Default Goal null public Plugin get Plugin String plugin Key return get Build get Plugins Map get plugin Key Default String Override public String String String Builder sb new String Builder sb append Maven Project sb append get Group Id sb append sb append get Artifact Id sb append sb append get Version sb append try sb append get File get Path catch Null Pointer Exception e n log return sb String since Override public Maven Project clone Maven Project clone try clone Maven Project super clone catch Clone Supported Exception e throw new Unsupported Operation Exception e clone deep Copy return clone public void set Model Model model model model protected void set Attached Artifacts List Artifact attached Artifacts attached Artifacts attached Artifacts protected void set Compile Source Roots List String compile Source Roots compile Source Roots compile Source Roots protected void set Test Compile Source Roots List String test Compile Source Roots test Compile Source Roots test Compile Source Roots protected Artifact Repository get Release Artifact Repository return release Artifact Repository protected Artifact Repository get Snapshot Artifact Repository return snapshot Artifact Repository private void deep Copy Maven Project project disown parent copy fields set File project get File n need deep copy n get modified added removed make unmodifiable sure project get Dependency Artifacts null set Dependency Artifacts Collections unmodifiable Set project get Dependency Artifacts project get Artifacts null set Artifacts Collections unmodifiable Set project get Artifacts project get Parent File null parent File new File project get Parent File get Absolute Path project get Plugin Artifacts null set Plugin Artifacts Collections unmodifiable Set project get Plugin Artifacts project get Report Artifacts null set Report Artifacts Collections unmodifiable Set project get Report Artifacts project get Extension Artifacts null set Extension Artifacts Collections unmodifiable Set project get Extension Artifacts set Parent Artifact project get Parent Artifact project get Remote Artifact Repositories null set Remote Artifact Repositories Collections unmodifiable List project get Remote Artifact Repositories project get Plugin Artifact Repositories null set Plugin Artifact Repositories Collections unmodifiable List project get Plugin Artifact Repositories project get Active Profiles null set Active Profiles Collections unmodifiable List project get Active Profiles project get Attached Artifacts null clone properties modifyable plugins forked lifecycle set Attached Artifacts new Array List project get Attached Artifacts project get Compile Source Roots null clone source roots set Compile Source Roots new Array List project get Compile Source Roots project get Test Compile Source Roots null set Test Compile Source Roots new Array List project get Test Compile Source Roots project get Script Source Roots null set Script Source Roots new Array List project get Script Source Roots project get Model null set Model project get Model clone project get Original Model null set Original Model project get Original Model set Execution Root project Execution Root project get Artifact null set Artifact Artifact Utils copy Artifact project get Artifact project get Managed Version Map null set Managed Version Map new Hash Map project get Managed Version Map lifecycle Phases add project lifecycle Phases private void add Artifact Path Artifact artifact List String classpath File file artifact get File file null classpath add file get Path private static String get Project Reference Id String group Id String artifact Id String version String Builder buffer new String Builder buffer append group Id append append artifact Id append append version return buffer String Sets value context value project identified given key supplied value code null code context value removed project Context values intended allow core extensions associate derived state project instances public void set Context Value String key Object value context null context new Hash Map value null context put key value else context remove key Returns context value project associated given key null project value public Object get Context Value String key context null return null return context get key Sets project class realm strong Warning strong internal utility method public technical reasons part public particular method changed deleted without prior notice must used plugins param class Realm class realm hosting build extensions project may code null public void set Class Realm Class Realm class Realm class Realm class Realm Gets project class realm class realm hosts build extensions project strong Warning strong internal utility method public technical reasons part public particular method changed deleted without prior notice must used plugins return project class realm code null public Class Realm get Class Realm return class Realm Sets artifact filter used exclude shared extension artifacts plugin realms strong Warning strong internal utility method public technical reasons part public particular method changed deleted without prior notice must used plugins param extension Dependency Filter dependency filter apply plugins may code null public void set Extension Dependency Filter Dependency Filter extension Dependency Filter extension Dependency Filter extension Dependency Filter Gets dependency filter used exclude shared extension artifacts plugin realms strong Warning strong internal utility method public technical reasons part public particular method changed deleted without prior notice must used plugins return dependency filter code null public Dependency Filter get Extension Dependency Filter return extension Dependency Filter Sets transitive dependency artifacts resolved collected project strong Warning strong internal utility method public technical reasons part public particular method changed deleted without prior notice must used plugins param artifacts set artifacts may code null public void set Resolved Artifacts Set Artifact artifacts resolved Artifacts artifacts null artifacts Collections Artifact empty Set artifacts null artifact Map null Sets scope filter select artifacts exposed currently executed mojo strong Warning strong internal utility method public technical reasons part public particular method changed deleted without prior notice must used plugins param artifact Filter artifact filter may code null exclude artifacts public void set Artifact Filter Artifact Filter artifact Filter artifact Filter artifact Filter artifacts null artifact Map null strong Warning strong internal utility method public technical reasons part public particular method changed deleted without prior notice must used plugins param phase phase check must code null return code true phase seen public boolean Lifecycle Phase String phase return lifecycle Phases contains phase strong Warning strong internal utility method public technical reasons part public particular method changed deleted without prior notice must used plugins param lifecycle Phase lifecycle phase add must code null public void add Lifecycle Phase String lifecycle Phase lifecycle Phases add lifecycle Phase Everything removed Maven private Project Building Request project Builder Configuration private Map String String module Adjustments Deprecated appears used test code public String get Module Path Adjustment Maven Project module Project throws Exception hacky module directory n match artifactid parent coming repository String module module Project get Artifact Id File module File module Project get File module File null File module Dir module File get Canonical File get Parent File module module Dir get Name module Adjustments null module Adjustments new Hash Map List String modules get Modules modules null String module Path modules String module Name module Path module Name ends module Name ends module Name module Name substring module Name length int last Slash module Name last Index last Slash last Slash module Name last Index String adjustment null last Slash module Name module Name substring last Slash adjustment module Path substring last Slash module Adjustments put module Name adjustment return module Adjustments get module Deprecated public Set Artifact create Artifacts Artifact Factory artifact Factory String inherited Scope Artifact Filter filter throws Invalid Dependency Version Exception return Maven Metadata Source create Artifacts artifact Factory get Dependencies inherited Scope filter Deprecated protected void set Script Source Roots List String script Source Roots script Source Roots script Source Roots Deprecated public void add Script Source Root String path path null path path trim path length get Script Source Roots contains path get Script Source Roots add path Deprecated public List String get Script Source Roots return script Source Roots Deprecated public List Artifact get Compile Artifacts List Artifact list new Array List get Artifacts size Artifact get Artifacts classpath check n belong method get Artifact Handler Added Classpath let scope handler deal Artifact equals get Scope Artifact equals get Scope Artifact equals get Scope list add return list Deprecated public List Dependency get Compile Dependencies Set Artifact artifacts get Artifacts artifacts null artifacts Empty return Collections empty List List Dependency list new Array List artifacts size Artifact get Artifacts let scope handler deal Artifact equals get Scope Artifact equals get Scope Artifact equals get Scope Dependency dependency new Dependency dependency set Artifact Id get Artifact Id dependency set Group Id get Group Id dependency set Version get Version dependency set Scope get Scope dependency set Type get Type dependency set Classifier get Classifier list add dependency return list Deprecated public List Artifact get Test Artifacts List Artifact list new Array List get Artifacts size Artifact get Artifacts classpath check n belong method get Artifact Handler Added Classpath list add return list Deprecated public List Dependency get Test Dependencies Set Artifact artifacts get Artifacts artifacts null artifacts Empty return Collections empty List List Dependency list new Array List artifacts size Artifact get Artifacts Dependency dependency new Dependency dependency set Artifact Id get Artifact Id dependency set Group Id get Group Id dependency set Version get Version dependency set Scope get Scope dependency set Type get Type dependency set Classifier get Classifier list add dependency return list Deprecated used Maven Ts public List Dependency get Runtime Dependencies Set Artifact artifacts get Artifacts artifacts null artifacts Empty return Collections empty List List Dependency list new Array List artifacts size Artifact get Artifacts let scope handler deal Artifact equals get Scope Artifact equals get Scope Dependency dependency new Dependency dependency set Artifact Id get Artifact Id dependency set Group Id get Group Id dependency set Version get Version dependency set Scope get Scope dependency set Type get Type dependency set Classifier get Classifier list add dependency return list Deprecated public List Artifact get Runtime Artifacts List Artifact list new Array List get Artifacts size Artifact get Artifacts classpath check n belong method get Artifact Handler Added Classpath let scope handler deal Artifact equals get Scope Artifact equals get Scope list add return list Deprecated public List String get System Classpath Elements throws Dependency Resolution Required Exception List String list new Array List get Artifacts size String get Build get Output Directory null list add Artifact get Artifacts get Artifact Handler Added Classpath let scope handler deal Artifact equals get Scope add Artifact Path list return list Deprecated public List Artifact get System Artifacts List Artifact list new Array List get Artifacts size Artifact get Artifacts classpath check n belong method get Artifact Handler Added Classpath let scope handler deal Artifact equals get Scope list add return list Deprecated public List Dependency get System Dependencies Set Artifact artifacts get Artifacts artifacts null artifacts Empty return Collections empty List List Dependency list new Array List artifacts size Artifact get Artifacts let scope handler deal Artifact equals get Scope Dependency dependency new Dependency dependency set Artifact Id get Artifact Id dependency set Group Id get Group Id dependency set Version get Version dependency set Scope get Scope dependency set Type get Type dependency set Classifier get Classifier list add dependency return list Deprecated public void set Reporting Reporting reporting get Model set Reporting reporting Deprecated public Reporting get Reporting return get Model get Reporting Deprecated public void set Report Artifacts Set Artifact report Artifacts report Artifacts report Artifacts report Artifact Map null Deprecated public Set Artifact get Report Artifacts return report Artifacts Deprecated public Map String Artifact get Report Artifact Map report Artifact Map null report Artifact Map Artifact Utils artifact Map Versionless Id get Report Artifacts return report Artifact Map Deprecated public void set Extension Artifacts Set Artifact extension Artifacts extension Artifacts extension Artifacts extension Artifact Map null Deprecated public Set Artifact get Extension Artifacts return extension Artifacts Deprecated public Map String Artifact get Extension Artifact Map extension Artifact Map null extension Artifact Map Artifact Utils artifact Map Versionless Id get Extension Artifacts return extension Artifact Map Deprecated public List Report Plugin get Report Plugins get Model get Reporting null return Collections empty List return get Model get Reporting get Plugins Deprecated public Xpp Dom get Report Configuration String plugin Group Id String plugin Artifact Id String report Set Id Xpp Dom dom null would like able lookup Mojo object using key limitation modello remedied shortly iterate see get Report Plugins null Report Plugin plugin get Report Plugins plugin Group Id equals plugin get Group Id plugin Artifact Id equals plugin get Artifact Id dom Xpp Dom plugin get Configuration report Set Id null Report Set report Set plugin get Report Sets Map get report Set Id report Set null Xpp Dom execution Configuration Xpp Dom report Set get Configuration execution Configuration null Xpp Dom new Dom new Xpp Dom execution Configuration dom Xpp Dom merge Xpp Dom new Dom dom break dom null make copy original n get messed dom new Xpp Dom dom return dom deprecated Use Maven Project Helper attach Artifact instead Deprecated public void attach Artifact String type String classifier File file deprecated Use link org apache model io Model Writer Deprecated public void write Model Writer writer throws Exception Maven Xpp Writer pom Writer new Maven Xpp Writer pom Writer write writer get Model deprecated Use link org apache model io Model Writer Deprecated public void write Original Model Writer writer throws Exception Maven Xpp Writer pom Writer new Maven Xpp Writer pom Writer write writer get Original Model Deprecated public Artifact replace Active Artifact Artifact plugin Artifact return plugin Artifact Gets project building request project instance created strong Warning strong utility method meant assist integrators Maven must used Maven plugins return project building request code null since Deprecated public Project Building Request get Project Building Request return project Builder Configuration Sets project building request project instance created strong Warning strong utility method meant assist integrators Maven must used Maven plugins param project Building Request project building request may code null since used dependency tree Deprecated public void set Project Building Request Project Building Request project Building Request project Builder Configuration project Building Request
package org apache bridge Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java net Malformed Exception import java net import java util Array List import java util Collections import java util Hash Set import java util List import java util Map import java util Set import org apache Repository Utils import org apache artifact Artifact import org apache artifact Default Artifact import org apache artifact Invalid Repository Exception import org apache artifact handler Artifact Handler import org apache artifact handler manager Artifact Handler Manager import org apache artifact repository Artifact Repository import org apache artifact repository Artifact Repository Policy import org apache artifact repository Authentication import org apache artifact repository Maven Artifact Repository import org apache artifact repository layout Artifact Repository Layout import org apache artifact repository layout Artifact Repository Layout import org apache artifact repository layout Default Repository Layout import org apache artifact resolver filter Excludes Artifact Filter import org apache artifact versioning Invalid Version Specification Exception import org apache artifact versioning Version Range import org apache execution Maven Execution Request import org apache model Dependency import org apache model Exclusion import org apache model Plugin import org apache repository Proxy import org apache repository Repository System import org apache settings Mirror import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org codehaus plexus util String Utils import org eclipse aether Repository System Session import org eclipse aether repository Authentication Context import org eclipse aether repository Authentication Selector import org eclipse aether repository Proxy Selector import org eclipse aether repository Remote Repository author Jason van Zyl Component role Maven Repository System class hint default public class Maven Repository System Requirement private Artifact Handler Manager artifact Handler Manager Requirement role Artifact Repository Layout class private Map String Artifact Repository Layout layouts Default Project Builder public Artifact create Artifact String group Id String artifact Id String version String scope String type return Xcreate Artifact group Id artifact Id version scope type Default Project Builder public Artifact create Project Artifact String group Id String artifact Id String meta Version Id return Xcreate Project Artifact group Id artifact Id meta Version Id Default Project Builder public Artifact create Dependency Artifact Dependency get Version null return null Version Range version Range try version Range Version Range create Version Spec get Version catch Invalid Version Specification Exception e return null Artifact artifact Xcreate Dependency Artifact get Group Id get Artifact Id version Range get Type get Classifier get Scope Optional Artifact equals get Scope get System Path null artifact set File new File get System Path get Exclusions Empty List String exclusions new Array List Exclusion exclusion get Exclusions exclusions add exclusion get Group Id exclusion get Artifact Id artifact set Dependency Filter new Excludes Artifact Filter exclusions return artifact Default Project Builder public Artifact create Extension Artifact String group Id String artifact Id String version Version Range version Range try version Range Version Range create Version Spec version catch Invalid Version Specification Exception e return null return Xcreate Extension Artifact group Id artifact Id version Range Default Project Builder public Artifact create Parent Artifact String group Id String artifact Id String version return Xcreate Parent Artifact group Id artifact Id version Default Project Builder public Artifact create Plugin Artifact Plugin plugin Version Range version Range try String version plugin get Version String Utils Empty version version version Range Version Range create Version Spec version catch Invalid Version Specification Exception e return null return Xcreate Plugin Artifact plugin get Group Id plugin get Artifact Id version Range public void inject Mirror List Artifact Repository repositories List Mirror mirrors repositories null mirrors null Artifact Repository repository repositories Mirror mirror get Mirror repository mirrors inject Mirror repository mirror private Mirror get Mirror Repository System Session session Artifact Repository repository session null org eclipse aether repository Mirror Selector selector session get Mirror Selector selector null Remote Repository repo selector get Mirror Repository Utils Repo repository repo null Mirror mirror new Mirror mirror set Id repo get Id mirror set Url repo get Url mirror set Layout repo get Content Type return mirror return null public void inject Mirror Repository System Session session List Artifact Repository repositories repositories null session null Artifact Repository repository repositories Mirror mirror get Mirror session repository inject Mirror repository mirror private void inject Mirror Artifact Repository repository Mirror mirror mirror null Artifact Repository original create Artifact Repository repository get Id repository get Url repository get Layout repository get Snapshots repository get Releases repository set Mirrored Repositories Collections singleton List original repository set Id mirror get Id repository set Url mirror get Url String Utils Empty mirror get Layout repository set Layout get Layout mirror get Layout private Authentication get Authentication Repository System Session session Artifact Repository repository session null Authentication Selector selector session get Authentication Selector selector null Remote Repository repo Repository Utils Repo repository org eclipse aether repository Authentication auth selector get Authentication repo auth null repo new Remote Repository Builder repo set Authentication auth build Authentication Context auth Ctx Authentication Context Repository session repo Authentication result new Authentication auth Ctx get Authentication Context auth Ctx get Authentication Context result set Private Key auth Ctx get Authentication Context result set Passphrase auth Ctx get Authentication Context auth Ctx close return result return null public void inject Authentication Repository System Session session List Artifact Repository repositories repositories null session null Artifact Repository repository repositories repository set Authentication get Authentication session repository private Proxy get Proxy Repository System Session session Artifact Repository repository session null Proxy Selector selector session get Proxy Selector selector null Remote Repository repo Repository Utils Repo repository org eclipse aether repository Proxy proxy selector get Proxy repo proxy null Proxy p new Proxy p set Host proxy get Host p set Protocol proxy get Type p set Port proxy get Port proxy get Authentication null repo new Remote Repository Builder repo set Proxy proxy build Authentication Context auth Ctx Authentication Context Proxy session repo p set User Name auth Ctx get Authentication Context p set Password auth Ctx get Authentication Context p set Ntlm Domain auth Ctx get Authentication Context p set Ntlm Host auth Ctx get Authentication Context auth Ctx close return p return null public void inject Proxy Repository System Session session List Artifact Repository repositories repositories null session null Artifact Repository repository repositories repository set Proxy get Proxy session repository private Artifact Repository Layout get Layout String id Artifact Repository Layout layout layouts get id return layout Taken Legacy Repository System public static org apache model Repository Settings Repository org apache settings Repository settings Repository org apache model Repository model Repository new org apache model Repository model Repository set Id settings Repository get Id model Repository set Layout settings Repository get Layout model Repository set Name settings Repository get Name model Repository set Url settings Repository get Url model Repository set Releases Settings Repository Policy settings Repository get Releases model Repository set Snapshots Settings Repository Policy settings Repository get Snapshots return model Repository public static org apache model Repository Policy Settings Repository Policy org apache settings Repository Policy settings Repository Policy org apache model Repository Policy model Repository Policy new org apache model Repository Policy settings Repository Policy null model Repository Policy set Enabled settings Repository Policy Enabled model Repository Policy set Update Policy settings Repository Policy get Update Policy model Repository Policy set Checksum Policy settings Repository Policy get Checksum Policy return model Repository Policy public static Artifact Repository build Artifact Repository org apache settings Repository repo throws Invalid Repository Exception return build Artifact Repository Settings Repository repo public static Artifact Repository build Artifact Repository org apache model Repository repo throws Invalid Repository Exception repo null String id repo get Id String Utils Empty id throw new Invalid Repository Exception Repository identifier missing String url repo get Url String Utils Empty url throw new Invalid Repository Exception missing repository id id Artifact Repository Policy snapshots build Artifact Repository Policy repo get Snapshots Artifact Repository Policy releases build Artifact Repository Policy repo get Releases Artifact Repository Layout layout new Default Repository Layout return create Artifact Repository id url layout snapshots releases else return null public static Artifact Repository Policy build Artifact Repository Policy org apache model Repository Policy policy boolean enabled true String update Policy null String checksum Policy null policy null enabled policy Enabled policy get Update Policy null update Policy policy get Update Policy policy get Checksum Policy null checksum Policy policy get Checksum Policy return new Artifact Repository Policy enabled update Policy checksum Policy public Artifact Repository create Artifact Repository String id String url String layout Id Artifact Repository Policy snapshots Artifact Repository Policy releases throws Exception Artifact Repository Layout layout layouts get layout Id check Layout id layout Id layout return create Artifact Repository id url layout snapshots releases private void check Layout String repository Id String layout Id Artifact Repository Layout layout throws Exception layout null throw new Exception String format find Artifact Repository Layout instance layout Id repository Id public static Artifact Repository create Artifact Repository String id String url Artifact Repository Layout repository Layout Artifact Repository Policy snapshots Artifact Repository Policy releases snapshots null snapshots new Artifact Repository Policy releases null releases new Artifact Repository Policy Artifact Repository repository repository Layout instanceof Artifact Repository Layout repository Artifact Repository Layout repository Layout new Maven Artifact Repository id url snapshots releases else repository new Maven Artifact Repository id url repository Layout snapshots releases return repository Artifact Factory private Artifact Xcreate Artifact String group Id String artifact Id String version String scope String type return Xcreate Artifact group Id artifact Id version scope type null null private Artifact Xcreate Dependency Artifact String group Id String artifact Id Version Range version Range String type String classifier String scope boolean optional return Xcreate Artifact group Id artifact Id version Range type classifier scope null optional private Artifact Xcreate Project Artifact String group Id String artifact Id String version return Xcreate Project Artifact group Id artifact Id version null private Artifact Xcreate Parent Artifact String group Id String artifact Id String version return Xcreate Project Artifact group Id artifact Id version private Artifact Xcreate Plugin Artifact String group Id String artifact Id Version Range version Range return Xcreate Artifact group Id artifact Id version Range plugin null Artifact null private Artifact Xcreate Project Artifact String group Id String artifact Id String version String scope return Xcreate Artifact group Id artifact Id version scope pom private Artifact Xcreate Extension Artifact String group Id String artifact Id Version Range version Range return Xcreate Artifact group Id artifact Id version Range jar null Artifact null private Artifact Xcreate Artifact String group Id String artifact Id String version String scope String type String classifier String inherited Scope Version Range version Range null version null version Range Version Range create Version version return Xcreate Artifact group Id artifact Id version Range type classifier scope inherited Scope private Artifact Xcreate Artifact String group Id String artifact Id Version Range version Range String type String classifier String scope String inherited Scope return Xcreate Artifact group Id artifact Id version Range type classifier scope inherited Scope false private Artifact Xcreate Artifact String group Id String artifact Id Version Range version Range String type String classifier String scope String inherited Scope boolean optional String desired Scope Artifact inherited Scope null desired Scope scope else Artifact equals scope Artifact equals scope return null else Artifact equals scope Artifact equals inherited Scope added retain compile artifact Scope Remove want compile inherited runtime desired Scope Artifact Artifact equals inherited Scope desired Scope Artifact Artifact equals inherited Scope desired Scope Artifact Artifact equals scope system scopes come unchanged desired Scope Artifact Artifact Handler handler artifact Handler Manager get Artifact Handler type return new Default Artifact group Id artifact Id version Range desired Scope type classifier handler optional Code taken Legacy Repository System public Artifact Repository create Default Remote Repository Maven Execution Request request throws Exception return create Repository Repository System Repository System true Artifact Repository Policy false Artifact Repository Policy Artifact Repository Policy public Artifact Repository create Repository String url String repository Id boolean releases String release Updates boolean snapshots String snapshot Updates String checksum Policy throws Exception Artifact Repository Policy snapshots Policy new Artifact Repository Policy snapshots snapshot Updates checksum Policy Artifact Repository Policy releases Policy new Artifact Repository Policy releases release Updates checksum Policy return create Artifact Repository repository Id url default snapshots Policy releases Policy public Set String get Repo Ids List Artifact Repository repositories Set String repo Ids new Hash Set repositories null Artifact Repository repository repositories repo Ids add repository get Id return repo Ids public Artifact Repository create Local Repository Maven Execution Request request File local Repository throws Exception return create Repository file local Repository get Raw Path Repository System true Artifact Repository Policy true Artifact Repository Policy Artifact Repository Policy private static final String private static final String external public static Mirror get Mirror Artifact Repository repository List Mirror mirrors String repo Id repository get Id repo Id null mirrors null Mirror mirror mirrors repo Id equals mirror get Mirror matches Layout repository mirror return mirror Mirror mirror mirrors match Pattern repository mirror get Mirror matches Layout repository mirror return mirror return null method checks pattern matches original Repository Valid patterns everything external everything localhost file based repo repo repo repo repo everything except repo param original Repository compare match param pattern used match Currently supported return true repository match pattern static boolean match Pattern Artifact Repository original Repository String pattern boolean result false String original Id original Repository get Id simple checks first short circuit processing equals pattern pattern equals original Id result true else process list String repos pattern split String repo repos see negative match repo length repo starts repo substring equals original Id explicitly exclude Set result stop processing result false break check exact match else repo equals original Id result true break check external else equals repo External Repo original Repository result true n stop processing case future segment explicitly excludes repo else equals repo result true n stop processing case future segment explicitly excludes repo return result Checks see repository refers external repository param original Repository return true external static boolean External Repo Artifact Repository original Repository try url new original Repository get Url return url get Host equals localhost url get Host equals url get Protocol equals file catch Malformed Exception e bad url skip validated already wagon lookup deal return false static boolean matches Layout Artifact Repository repository Mirror mirror return matches Layout Repository Utils get Layout repository mirror get Mirror Layouts Checks whether layouts configured mirror match layout repository param repo Layout layout repository may code null param mirror Layout layouts supported mirror may code null return code true layouts associated mirror match layout original repository code false otherwise static boolean matches Layout String repo Layout String mirror Layout boolean result false simple checks first short circuit processing String Utils Empty mirror Layout equals mirror Layout result true else mirror Layout equals repo Layout result true else process list String layouts mirror Layout split String layout layouts see negative match layout length layout starts layout substring equals repo Layout explicitly exclude Set result stop processing result false break check exact match else layout equals repo Layout result true break else equals layout result true n stop processing case future segment explicitly excludes repo return result
package org apache execution Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Arrays import java util Date import java util List import java util Map import java util Properties import java util concurrent Concurrent Hash Map import org apache artifact repository Artifact Repository import org apache artifact repository Repository Cache import org apache monitor event Event Dispatcher import org apache plugin descriptor Plugin Descriptor import org apache project Maven Project import org apache project Project Building Request import org apache settings Settings import org codehaus plexus Plexus Container import org codehaus plexus component repository exception Component Lookup Exception import org eclipse aether Repository System Session Maven execution session author Jason van Zyl public class Maven Session implements Cloneable private Maven Execution Request request private Maven Execution Result result private Repository System Session repository Session private Properties execution Properties private Maven Project current Project projects already topologically sorted link org apache Maven component passed session also potentially constrained set projects using projects command line private List Maven Project projects full set projects potential constraining projects Useful case want build smaller set projects perform operations context reactor private List Maven Project Projects private Maven Project top Level Project private Project Dependency Graph project Dependency Graph private boolean parallel private final Map String Map String Map String Object plugin Contexts Project Plugin Key new Concurrent Hash Map public void set Projects List Maven Project projects projects Empty current Project projects get top Level Project current Project Maven Project project projects project Execution Root top Level Project project break else current Project null top Level Project null projects projects public Artifact Repository get Local Repository return request get Local Repository public List String get Goals return request get Goals Gets user properties use interpolation profile activation user properties configured directly user discretion e g via code Dkey value parameter command line return user properties never code null public Properties get User Properties return request get User Properties Gets system properties use interpolation profile activation system properties collected runtime environment like link System get Properties environment variables return system properties never code null public Properties get System Properties return request get System Properties public Settings get Settings return settings public List Maven Project get Projects return projects public String get Execution Root Directory return request get Base Directory public Maven Execution Request get Request return request public void set Current Project Maven Project current Project current Project current Project public Maven Project get Current Project return current Project public Project Building Request get Project Building Request return request get Project Building Request set Repository Session get Repository Session public List String get Plugin Groups return request get Plugin Groups public boolean Offline return request Offline public Maven Project get Top Level Project return top Level Project public Maven Execution Result get Result return result Backward compat public Map String Object get Plugin Context Plugin Descriptor plugin Maven Project project String project Key project get Id Map String Map String Object plugin Contexts Key plugin Contexts Project Plugin Key get project Key plugin Contexts Key null plugin Contexts Key new Concurrent Hash Map plugin Contexts Project Plugin Key put project Key plugin Contexts Key String plugin Key plugin get Plugin Lookup Key Map String Object plugin Context plugin Contexts Key get plugin Key plugin Context null plugin Context new Concurrent Hash Map plugin Contexts Key put plugin Key plugin Context return plugin Context public Project Dependency Graph get Project Dependency Graph return project Dependency Graph public void set Project Dependency Graph Project Dependency Graph project Dependency Graph project Dependency Graph project Dependency Graph public String get Reactor Failure Behavior return request get Reactor Failure Behavior Override public Maven Session clone try return Maven Session super clone catch Clone Supported Exception e throw new Runtime Exception Bug e public Date get Start Time return request get Start Time public boolean Parallel return parallel public void set Parallel boolean parallel parallel parallel public Repository System Session get Repository Session return repository Session private Map String Maven Project project Map public void set Project Map Map String Maven Project project Map project Map project Map provisional method may removed public List Maven Project get Projects return Projects provisional method may removed public void set Projects List Maven Project Projects Projects Projects Deprecated private Plexus Container container private final Settings settings Deprecated deprecated appears used Reactor Reader processing required public Map String Maven Project get Project Map return project Map Deprecated public Maven Session Plexus Container container Repository System Session repository Session Maven Execution Request request Maven Execution Result result container container request request result result settings new Settings Adapter request repository Session repository Session Deprecated public Maven Session Plexus Container container Maven Execution Request request Maven Execution Result result Maven Project project container request result Arrays List new Maven Project project Deprecated public Maven Session Plexus Container container Settings settings Artifact Repository local Repository Event Dispatcher event Dispatcher Reactor Manager unused List String goals String execution Root Dir Properties execution Properties Date start Time container settings local Repository event Dispatcher unused goals execution Root Dir execution Properties null start Time Deprecated public Maven Session Plexus Container container Settings settings Artifact Repository local Repository Event Dispatcher event Dispatcher Reactor Manager unused List String goals String execution Root Dir Properties execution Properties Properties user Properties Date start Time container container settings settings execution Properties execution Properties request new Default Maven Execution Request request set User Properties user Properties request set Local Repository local Repository request set Goals goals request set Base Directory execution Root Dir null new File execution Root Dir null request set Start Time start Time Deprecated public Maven Session Plexus Container container Maven Execution Request request Maven Execution Result result List Maven Project projects container container request request result result settings new Settings Adapter request set Projects projects Deprecated public List Maven Project get Sorted Projects return get Projects Deprecated Used Tycho break users force upgrade Maven really leave possibly indefinitely public Repository Cache get Repository Cache return null Deprecated public Event Dispatcher get Event Dispatcher return null Deprecated public boolean Using Ms Filesystem return request Project Present deprecated Use either link get User Properties link get System Properties Deprecated public Properties get Execution Properties execution Properties null execution Properties new Properties execution Properties put request get System Properties execution Properties put request get User Properties return execution Properties Deprecated public Plexus Container get Container return container Deprecated public Object lookup String role throws Component Lookup Exception return container lookup role Deprecated public Object lookup String role String role Hint throws Component Lookup Exception return container lookup role role Hint Deprecated public List Object lookup List String role throws Component Lookup Exception return container lookup List role Deprecated public Map String Object lookup Map String role throws Component Lookup Exception return container lookup Map role end
package org apache model building Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License Describes problem encountered model building problem either exception thrown simple string message addition problem carries hint source e g file exhibits problem author Benjamin Bentmann public interface Model Problem different severity levels problem decreasing order enum Severity enum Version based Mode Building Result validation Level Gets hint source problem syntax hint unspecified depends creator problem general expectation hint provides sufficient information user track problem back origin concrete example source hint file path read return hint source problem empty string unknown never code null String get Source Gets one based index line containing problem line number refer text file given link get Source return one based index line containing problem non positive value unknown int get Line Number Gets one based index column containing problem column number refer text file given link get Source return one based index column containing problem non positive value unknown int get Column Number Gets identifier model problem originated general form identifier code group Id artifact Id version code returned identifier need complete identifier derived information available point problem occurs merely serves best effort provide information user track problem back origin return identifier model problem originated empty string unknown never code null String get Model Id Gets exception caused problem return exception caused problem code null applicable Exception get Exception Gets message describes problem return message describing problem never code null String get Message Gets severity level problem return severity level problem never code null Severity get Severity Gets applicable version validation level problem return version never code null Version get Version
package org apache plugin descriptor Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Hash Map import java util Linked List import java util List import java util Map import org apache plugin Mojo import org codehaus plexus component repository Component Descriptor import org codehaus plexus configuration Plexus Configuration import org codehaus plexus configuration xml Xml Plexus Configuration bean containing Mojo descriptor br information usage tag look href https apache org developers mojo api specification html https apache org developers mojo api specification html need delegation Maven Mojo Descriptor extend Component Descriptor public class Mojo Descriptor extends Component Descriptor Mojo implements Cloneable Plexus component type public static final String plugin per session execution strategy public static final String per session always execution strategy public static final String always private static final String per lookup private static final String java private List Parameter parameters private Map String Parameter parameter Map default execution strategy per session private String execution Strategy goal name Mojo users reference command line execute Mojo directly inside order provide Mojo specific configuration private String goal Defines default phase bind mojo execution user explicitly set phase Note automagically make mojo run plugin declaration added merely enables user omit code lt phase gt code element surrounding code lt execution gt code element private String phase Specify version Mojo added Similar Javadoc since private String since Reference invocation phase Mojo private String execute Phase Reference invocation goal Mojo private String execute Goal Reference invocation lifecycle Mojo private String execute Lifecycle Specify version Mojo deprecated Similar Javadoc deprecated trigger warning user tries configure parameter marked deprecated private String deprecated Flags Mojo run multi module way e aggregate build set projects listed modules default need aggregate Maven project child modules private boolean aggregator false Specify required dependencies specified scope private String dependency Resolution Required null scope transitive dependencies collected resolved since alpha private String dependency Collection Required default Mojo needs Maven project executed private boolean project Required true default Mojo assumed work offline well private boolean online Required false Plugin configuration private Plexus Configuration mojo Configuration Plugin descriptor private Plugin Descriptor plugin Descriptor default Mojo inherited private boolean inherited Default true default Mojo invoked directly private boolean direct Invocation false default Mojo n need reports run private boolean requires Reports false default mojos threadsafe since beta private boolean thread Safe false Default constructor public Mojo Descriptor set Instantiation Strategy set Component Factory return language Mojo e code java code public String get Language return get Component Factory param language new language public void set Language String language set Component Factory language return code true code Mojo deprecated code false code otherwise public String get Deprecated return deprecated param deprecated code true code deprecate Mojo code false code otherwise public void set Deprecated String deprecated deprecated deprecated return list parameters public List Parameter get Parameters return parameters param parameters new list parameters throws Duplicate Parameter Exception public void set Parameters List Parameter parameters throws Duplicate Parameter Exception Parameter parameter parameters add Parameter parameter param parameter add new parameter throws Duplicate Parameter Exception public void add Parameter Parameter parameter throws Duplicate Parameter Exception parameters null parameters contains parameter throw new Duplicate Parameter Exception parameter get Name declared multiple times mojo goal get Goal implementation get Implementation parameters null parameters new Linked List parameters add parameter return list parameters Map public Map String Parameter get Parameter Map parameter Map null parameter Map new Hash Map parameters null Parameter pd parameters parameter Map put pd get Name pd return parameter Map Dependency requirement param requires Dependency Resolution new required dependencies specified scope public void set Dependency Resolution Required String requires Dependency Resolution dependency Resolution Required requires Dependency Resolution public String get Dependency Resolution Required return dependency Resolution Required return required dependencies specified scope name intelligible Deprecated public String Dependency Resolution Required return dependency Resolution Required since alpha public void set Dependency Collection Required String requires Dependency Collection dependency Collection Required requires Dependency Collection Gets scope transitive dependencies collected Dependency collection refers process calculating complete dependency tree terms artifact coordinates contrast dependency resolution include download files dependency artifacts meant mojos want analyze set transitive dependencies particular early lifecycle phases full dependency resolution might fail due projects n built yet return scope transitive dependencies collected code null none since alpha public String get Dependency Collection Required return dependency Collection Required Project requirement param requires Project code true code Mojo needs Maven project executed code false code otherwise public void set Project Required boolean requires Project project Required requires Project return code true code Mojo needs Maven project executed code false code otherwise public boolean Project Required return project Required Online vs Offline requirement param requires Online code true code Mojo online code false code otherwise public void set Online Required boolean requires Online online Required requires Online return code true code Mojo online code false code otherwise blech n even intelligible method name provided consistency public boolean Online Required return online Required return code true code Mojo online code false code otherwise english friendly method keep code clean public boolean requires Online return online Required return binded phase name Mojo public String get Phase return phase param phase new binded phase name Mojo public void set Phase String phase phase phase return version Mojo added public String get Since return since param since new version Mojo added public void set Since String since since since return goal name Mojo public String get Goal return goal param goal new goal name Mojo public void set Goal String goal goal goal return invocation phase Mojo public String get Execute Phase return execute Phase param execute Phase new invocation phase Mojo public void set Execute Phase String execute Phase execute Phase execute Phase return code true code Mojo uses code always code code execution Strategy code public boolean always Execute return equals execution Strategy return execution strategy public String get Execution Strategy return execution Strategy param execution Strategy new execution strategy public void set Execution Strategy String execution Strategy execution Strategy execution Strategy return mojo configuration public Plexus Configuration get Mojo Configuration mojo Configuration null mojo Configuration new Xml Plexus Configuration configuration return mojo Configuration param mojo Configuration new mojo configuration public void set Mojo Configuration Plexus Configuration mojo Configuration mojo Configuration mojo Configuration inherit Doc public String get Role return Mojo inherit Doc public String get Role Hint return get Id return id mojo based goal name public String get Id return get Plugin Descriptor get Id get Goal return full goal name see Plugin Descriptor get Goal Prefix see get Goal public String get Full Goal Name return get Plugin Descriptor get Goal Prefix get Goal inherit Doc public String get Component Type return return plugin descriptor public Plugin Descriptor get Plugin Descriptor return plugin Descriptor param plugin Descriptor new plugin descriptor public void set Plugin Descriptor Plugin Descriptor plugin Descriptor plugin Descriptor plugin Descriptor return code true code Mojo inherited code false code otherwise public boolean Inherited Default return inherited Default param inherited Default code true code Mojo inherited code false code otherwise public void set Inherited Default boolean inherited Default inherited Default inherited Default inherit Doc public boolean equals Object object object return true object instanceof Mojo Descriptor Mojo Descriptor Mojo Descriptor object compare Objects get Plugin Descriptor get Plugin Descriptor return false return compare Objects get Goal get Goal return false private boolean compare Objects Object first Object second first second return true first null second null return false return first equals second inherit Doc public int hash Code int result String goal get Goal goal null result goal hash Code Plugin Descriptor pd get Plugin Descriptor pd null result pd hash Code return result return invocation lifecycle Mojo public String get Execute Lifecycle return execute Lifecycle param execute Lifecycle new invocation lifecycle Mojo public void set Execute Lifecycle String execute Lifecycle execute Lifecycle execute Lifecycle param aggregator code true code Mojo uses Maven project child modules code false code otherwise public void set Aggregator boolean aggregator aggregator aggregator return code true code Mojo uses Maven project child modules code false code otherwise public boolean Aggregator return aggregator return code true code Mojo invoked directly code false code otherwise public boolean Direct Invocation return direct Invocation param direct Invocation code true code Mojo invoked directly code false code otherwise public void set Direct Invocation boolean direct Invocation direct Invocation direct Invocation return code true code Mojo needs reports run code false code otherwise public boolean Requires Reports return requires Reports param requires Reports code true code Mojo needs reports run code false code otherwise public void set Requires Reports boolean requires Reports requires Reports requires Reports param execute Goal new invocation goal Mojo public void set Execute Goal String execute Goal execute Goal execute Goal return invocation goal Mojo public String get Execute Goal return execute Goal return True code Mojo code thread safe run safely parallel since beta public boolean Thread Safe return thread Safe param thread Safe indicates mojo thread safe run safely parallel since beta public void set Thread Safe boolean thread Safe thread Safe thread Safe return code true mojo forks either goal lifecycle code false otherwise public boolean Forking return get Execute Goal null get Execute Goal length get Execute Phase null get Execute Phase length Creates shallow copy mojo descriptor Override public Mojo Descriptor clone try return Mojo Descriptor super clone catch Clone Supported Exception e throw new Unsupported Operation Exception e
package org apache plugin Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Linked Hash Map import java util List import java util Map import org apache model Plugin import org apache plugin descriptor Mojo Descriptor import org codehaus plexus util xml Xpp Dom public class Mojo Execution private Plugin plugin private String goal private String execution Id private Mojo Descriptor mojo Descriptor private Xpp Dom configuration Describes source execution public enum Source execution originates direct invocation goal execution originates goal bound lifecycle phase private Source source Source phase may may bound phase plan calculated know phase mojo execution going run private String lifecycle Phase executions fork execution indexed group Id artifact Id version project forked execution run reactor build order private Map String List Mojo Execution forked Executions new Linked Hash Map public Mojo Execution Plugin plugin String goal String execution Id plugin plugin goal goal execution Id execution Id public Mojo Execution Mojo Descriptor mojo Descriptor mojo Descriptor mojo Descriptor execution Id null configuration null public Mojo Execution Mojo Descriptor mojo Descriptor String execution Id Source source mojo Descriptor mojo Descriptor execution Id execution Id configuration null source source public Mojo Execution Mojo Descriptor mojo Descriptor String execution Id mojo Descriptor mojo Descriptor execution Id execution Id configuration null public Mojo Execution Mojo Descriptor mojo Descriptor Xpp Dom configuration mojo Descriptor mojo Descriptor configuration configuration execution Id null Gets source execution return source execution code null unknown public Source get Source return source public String get Execution Id return execution Id public Plugin get Plugin mojo Descriptor null return mojo Descriptor get Plugin Descriptor get Plugin return plugin public Mojo Descriptor get Mojo Descriptor return mojo Descriptor public Xpp Dom get Configuration return configuration public void set Configuration Xpp Dom configuration configuration configuration public String identify String Builder sb new String Builder sb append execution Id sb append configuration String return sb String public String get Lifecycle Phase return lifecycle Phase public void set Lifecycle Phase String lifecycle Phase lifecycle Phase lifecycle Phase Override public String String String Builder buffer new String Builder mojo Descriptor null buffer append mojo Descriptor get Id buffer append execution append execution Id append return buffer String public String get Group Id mojo Descriptor null return mojo Descriptor get Plugin Descriptor get Group Id return plugin get Group Id public String get Artifact Id mojo Descriptor null return mojo Descriptor get Plugin Descriptor get Artifact Id return plugin get Artifact Id public String get Version mojo Descriptor null return mojo Descriptor get Plugin Descriptor get Version return plugin get Version public String get Goal mojo Descriptor null return mojo Descriptor get Goal return goal public void set Mojo Descriptor Mojo Descriptor mojo Descriptor mojo Descriptor mojo Descriptor public Map String List Mojo Execution get Forked Executions return forked Executions public void set Forked Executions String project Key List Mojo Execution forked Executions forked Executions put project Key forked Executions
package org apache plugin descriptor Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License author Jason van Zyl public class Parameter implements Cloneable private String alias private String name private String type private boolean required private boolean editable true private String description private String expression private String deprecated private String default Value private String implementation private Requirement requirement private String since public String get Name return name public void set Name String name name name public String get Type return type public void set Type String type type type public boolean Required return required public void set Required boolean required required required public String get Description return description public void set Description String description description description public String get Expression return expression public void set Expression String expression expression expression public String get Deprecated return deprecated public void set Deprecated String deprecated deprecated deprecated public int hash Code return name hash Code public boolean equals Object return instanceof Parameter get Name equals Parameter get Name public String get Alias return alias public void set Alias String alias alias alias public boolean Editable return editable public void set Editable boolean editable editable editable public void set Default Value String default Value default Value default Value public String get Default Value return default Value public String String return Mojo parameter name get Name alias get Alias public Requirement get Requirement return requirement public void set Requirement Requirement requirement requirement requirement public String get Implementation return implementation public void set Implementation String implementation implementation implementation public String get Since return since public void set Since String since since since Creates shallow copy parameter Override public Parameter clone try return Parameter super clone catch Clone Supported Exception e throw new Unsupported Operation Exception e
package org apache plugin descriptor Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import org apache artifact Artifact import org apache artifact Artifact Utils import org apache model Plugin import org apache plugin lifecycle Lifecycle import org apache plugin lifecycle Lifecycle Configuration import org apache plugin lifecycle io xpp Lifecycle Mappings Xpp Reader import org codehaus plexus classworlds realm Class Realm import org codehaus plexus component repository Component Set Descriptor import org codehaus plexus util Reader Factory import org codehaus plexus util xml pull Xml Pull Parser Exception import java io File import java io File Input Stream import java io Exception import java io Input Stream import java io Reader import java net Malformed Exception import java net import java util Collections import java util Hash Map import java util List import java util Map import java util Set author Jason van Zyl public class Plugin Descriptor extends Component Set Descriptor implements Cloneable private static final String lifecycle xml private String group Id private String artifact Id private String version private String goal Prefix private String source private boolean inherited Default true private List Artifact artifacts private Class Realm class Realm calculated demand private Map String Artifact artifact Map private Set Artifact introduced Dependency Artifacts private String name private String description private String required Maven Version private Plugin plugin private Artifact plugin Artifact private Map String Lifecycle lifecycle Mappings Suppress Warnings unchecked rawtypes public List Mojo Descriptor get Mojos return List get Components public void add Mojo Mojo Descriptor mojo Descriptor throws Duplicate Mojo Descriptor Exception Mojo Descriptor existing null relies heavily equals hash Code Component Descriptor uses role role Hint identity role Hint goal Prefix goal role vary Mojos List Mojo Descriptor mojos get Mojos mojos null mojos contains mojo Descriptor int index mojos index mojo Descriptor existing mojos get index existing null throw new Duplicate Mojo Descriptor Exception get Goal Prefix mojo Descriptor get Goal existing get Implementation mojo Descriptor get Implementation else add Component Descriptor mojo Descriptor public String get Group Id return group Id public void set Group Id String group Id group Id group Id public String get Artifact Id return artifact Id public void set Artifact Id String artifact Id artifact Id artifact Id Dependencies public static String construct Plugin Key String group Id String artifact Id String version return group Id artifact Id version public String get Plugin Lookup Key return group Id artifact Id public String get Id return construct Plugin Key group Id artifact Id version public static String get Default Plugin Artifact Id String id return id plugin public static String get Default Plugin Group Id return org apache plugins Parse plugin move plugin tools api default public static String get Goal Prefix Artifact Id String artifact Id plugin plugin equals artifact Id return plugin else return artifact Id replace replace plugin public String get Goal Prefix return goal Prefix public void set Goal Prefix String goal Prefix goal Prefix goal Prefix public void set Version String version version version public String get Version return version public void set Source String source source source public String get Source return source public boolean Inherited Default return inherited Default public void set Inherited Default boolean inherited Default inherited Default inherited Default Gets artifacts make plugin class realm excluding artifacts shadowed Maven core realm like code project return plugin artifacts never code null public List Artifact get Artifacts return artifacts public void set Artifacts List Artifact artifacts artifacts artifacts clear calculated artifact Map artifact Map null map artifacts accessible versionless Key e group Id artifact Id return Map artifacts never code null see get Artifacts public Map String Artifact get Artifact Map artifact Map null artifact Map Artifact Utils artifact Map Versionless Id get Artifacts return artifact Map public boolean equals Object object object return true return object instanceof Plugin Descriptor get Id equals Plugin Descriptor object get Id public int hash Code return get Id hash Code public Mojo Descriptor get Mojo String goal get Mojos null return null mojo could use map Maybe parent components vulnerable changes propagated map Mojo Descriptor desc get Mojos goal equals desc get Goal return desc return null public void set Class Realm Class Realm class Realm class Realm class Realm public Class Realm get Class Realm return class Realm public void set Introduced Dependency Artifacts Set Artifact introduced Dependency Artifacts introduced Dependency Artifacts introduced Dependency Artifacts public Set Artifact get Introduced Dependency Artifacts return introduced Dependency Artifacts null introduced Dependency Artifacts Collections Artifact empty Set public void set Name String name name name public String get Name return name public void set Description String description description description public String get Description return description public void set Required Maven Version String required Maven Version required Maven Version required Maven Version public String get Required Maven Version return required Maven Version public void set Plugin Plugin plugin plugin plugin public Plugin get Plugin return plugin public Artifact get Plugin Artifact return plugin Artifact public void set Plugin Artifact Artifact plugin Artifact plugin Artifact plugin Artifact public Lifecycle get Lifecycle Mapping String lifecycle Id throws Exception Xml Pull Parser Exception lifecycle Mappings null Lifecycle Configuration lifecycle Configuration try Reader reader Reader Factory new Xml Reader get Descriptor Stream lifecycle Configuration new Lifecycle Mappings Xpp Reader read reader lifecycle Mappings new Hash Map Lifecycle lifecycle lifecycle Configuration get Lifecycles lifecycle Mappings put lifecycle get Id lifecycle return lifecycle Mappings get lifecycle Id private Input Stream get Descriptor Stream String descriptor throws Exception File plugin File plugin Artifact null plugin Artifact get File null plugin File null throw new Illegal State Exception plugin main artifact resolved get Id plugin File File try return new jar plugin File descriptor open Stream catch Malformed Exception e throw new Illegal State Exception e else return new File Input Stream new File plugin File descriptor Creates shallow copy plugin descriptor Override public Plugin Descriptor clone try return Plugin Descriptor super clone catch Clone Supported Exception e throw new Unsupported Operation Exception e
package org apache plugin descriptor Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io Exception import java io Reader import java util Array List import java util List import org codehaus plexus component repository Component Dependency import org codehaus plexus component repository Component Requirement import org codehaus plexus configuration Plexus Configuration import org codehaus plexus configuration Plexus Configuration Exception import org codehaus plexus configuration xml Xml Plexus Configuration import org codehaus plexus util xml Xpp Dom Builder import org codehaus plexus util xml pull Xml Pull Parser Exception author Jason van Zyl public class Plugin Descriptor Builder public Plugin Descriptor build Reader reader throws Plexus Configuration Exception return build reader null public Plugin Descriptor build Reader reader String source throws Plexus Configuration Exception Plexus Configuration c build Configuration reader Plugin Descriptor plugin Descriptor new Plugin Descriptor plugin Descriptor set Source source plugin Descriptor set Group Id c get Child group Id get Value plugin Descriptor set Artifact Id c get Child artifact Id get Value plugin Descriptor set Version c get Child version get Value plugin Descriptor set Goal Prefix c get Child goal Prefix get Value plugin Descriptor set Name c get Child name get Value plugin Descriptor set Description c get Child description get Value String isolated Realm c get Child isolated Realm get Value isolated Realm null plugin Descriptor set Isolated Realm Boolean parse Boolean isolated Realm String inherited Default c get Child inherited Default get Value inherited Default null plugin Descriptor set Inherited Default Boolean parse Boolean inherited Default Components Plexus Configuration mojo Configurations c get Child mojos get Children mojo Plexus Configuration component mojo Configurations Mojo Descriptor mojo Descriptor build Component Descriptor component plugin Descriptor plugin Descriptor add Mojo mojo Descriptor Dependencies Plexus Configuration dependency Configurations c get Child dependencies get Children dependency List Component Dependency dependencies new Array List Plexus Configuration dependency Configurations Component Dependency cd new Component Dependency cd set Artifact Id get Child artifact Id get Value cd set Group Id get Child group Id get Value cd set Type get Child type get Value cd set Version get Child version get Value dependencies add cd plugin Descriptor set Dependencies dependencies return plugin Descriptor public Mojo Descriptor build Component Descriptor Plexus Configuration c Plugin Descriptor plugin Descriptor throws Plexus Configuration Exception Mojo Descriptor mojo new Mojo Descriptor mojo set Plugin Descriptor plugin Descriptor mojo set Goal c get Child goal get Value mojo set Implementation c get Child implementation get Value Plexus Configuration lang Config c get Child language lang Config null mojo set Language lang Config get Value Plexus Configuration configurator Config c get Child configurator configurator Config null mojo set Component Configurator configurator Config get Value Plexus Configuration composer Config c get Child composer composer Config null mojo set Component Composer composer Config get Value String since c get Child since get Value since null mojo set Since since Plexus Configuration deprecated c get Child deprecated false deprecated null mojo set Deprecated deprecated get Value String phase c get Child phase get Value phase null mojo set Phase phase String execute Phase c get Child execute Phase get Value execute Phase null mojo set Execute Phase execute Phase String execute Mojo c get Child execute Goal get Value execute Mojo null mojo set Execute Goal execute Mojo String execute Lifecycle c get Child execute Lifecycle get Value execute Lifecycle null mojo set Execute Lifecycle execute Lifecycle mojo set Instantiation Strategy c get Child instantiation Strategy get Value mojo set Description c get Child description get Value Plexus Configuration dependency Resolution c get Child requires Dependency Resolution false dependency Resolution null mojo set Dependency Resolution Required dependency Resolution get Value Plexus Configuration dependency Collection c get Child requires Dependency Collection false dependency Collection null mojo set Dependency Collection Required dependency Collection get Value String direct Invocation c get Child requires Direct Invocation get Value direct Invocation null mojo set Direct Invocation Boolean parse Boolean direct Invocation String requires Project c get Child requires Project get Value requires Project null mojo set Project Required Boolean parse Boolean requires Project String requires Reports c get Child requires Reports get Value requires Reports null mojo set Requires Reports Boolean parse Boolean requires Reports String aggregator c get Child aggregator get Value aggregator null mojo set Aggregator Boolean parse Boolean aggregator String requires Online c get Child requires Online get Value requires Online null mojo set Online Required Boolean parse Boolean requires Online String inherited Default c get Child inherited Default get Value inherited Default null mojo set Inherited Default Boolean parse Boolean inherited Default String thread Safe c get Child thread Safe get Value thread Safe null mojo set Thread Safe Boolean parse Boolean thread Safe Configuration Plexus Configuration mojo Config c get Child configuration mojo set Mojo Configuration mojo Config Parameters Plexus Configuration parameter Configurations c get Child parameters get Children parameter List Parameter parameters new Array List Plexus Configuration parameter Configurations Parameter parameter new Parameter parameter set Name get Child name get Value parameter set Alias get Child alias get Value parameter set Type get Child type get Value String required get Child required get Value parameter set Required Boolean parse Boolean required Plexus Configuration editable Config get Child editable need null check pre build legacy plugins editable Config null String editable get Child editable get Value parameter set Editable editable null Boolean parse Boolean editable parameter set Description get Child description get Value parameter set Deprecated get Child deprecated get Value parameter set Implementation get Child implementation get Value parameter set Since get Child since get Value Plexus Configuration param Config mojo Config get Child parameter get Name false param Config null parameter set Expression param Config get Value null parameter set Default Value param Config get Attribute default value parameters add parameter mojo set Parameters parameters need handed Requirements Plexus Configuration requirements c get Child requirements get Children requirement Plexus Configuration requirement requirements Component Requirement cr new Component Requirement cr set Role requirement get Child role get Value cr set Role Hint requirement get Child role hint get Value cr set Field Name requirement get Child field name get Value mojo add Requirement cr return mojo public Plexus Configuration build Configuration Reader configuration throws Plexus Configuration Exception try return new Xml Plexus Configuration Xpp Dom Builder build configuration catch Exception Xml Pull Parser Exception e throw new Plexus Configuration Exception e get Message e
package org apache plugin Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java util Properties import org apache execution Maven Session import org apache plugin descriptor Mojo Descriptor import org apache plugin descriptor Plugin Descriptor import org apache project Maven Project import org apache project path Path Translator import org codehaus plexus component configurator expression Expression Evaluation Exception import org codehaus plexus component configurator expression Type Aware Expression Evaluator import org codehaus plexus logging Logger import org codehaus plexus util introspection Reflection Value Extractor Evaluator plugin parameters expressions Content surrounded code code code code evaluated Recognized values table border summary Expression matrix tr th expression th th th th evaluation result th tr tr td code session code td td td td actual link Maven Session td tr tr td code session code td td since Maven td td td tr tr td code local Repository code td td td td link Maven Session get Local Repository td tr tr td code reactor Projects code td td td td link Maven Session get Projects td tr tr td code repository System Session code td td since Maven td td link Maven Session get Repository Session td tr tr td code project code td td td td link Maven Session get Current Project td tr tr td code project code td td td td td tr tr td code pom code td td since Maven td td code project code td tr tr td code executed Project code td td td td link Maven Project get Execution Project td tr tr td code settings code td td td td link Maven Session get Settings td tr tr td code settings code td td td td td tr tr td code basedir code td td td td link Maven Session get Execution Root Directory code System get Property user dir code null td tr tr td code mojo Execution code td td td td actual link Mojo Execution td tr tr td code mojo code td td since Maven td td code mojo Execution code td tr tr td code mojo code td td since Maven td td td tr tr td code plugin code td td since Maven td td link Mojo Execution get Mojo Descriptor link Mojo Descriptor get Plugin Descriptor get Plugin Descriptor td tr tr td code plugin code td td td td td tr tr td code code td td td td system properties td tr tr td code code td td td td project properties td tr table Notice code reports code supported Maven x removed Maven author Jason van Zyl see Maven Session see Mojo Execution public class Plugin Parameter Expression Evaluator implements Type Aware Expression Evaluator private Maven Session session private Mojo Execution mojo Execution private Maven Project project private String basedir private Properties properties Deprecated used Enforcer plugin public Plugin Parameter Expression Evaluator Maven Session session Mojo Execution mojo Execution Path Translator path Translator Logger logger Maven Project project Properties properties session mojo Execution public Plugin Parameter Expression Evaluator Maven Session session session null public Plugin Parameter Expression Evaluator Maven Session session Mojo Execution mojo Execution session session mojo Execution mojo Execution properties new Properties project session get Current Project Maven may want evaluate used add separate get Execution Properties deprecated Maven Session properties put session get User Properties properties put session get System Properties String basedir null project null File project File project get Basedir always case non super instances project File null basedir project File get Absolute Path basedir null basedir session get Execution Root Directory basedir null basedir System get Property user dir basedir basedir Override public Object evaluate String expr throws Expression Evaluation Exception return evaluate expr null Override public Object evaluate String expr Class type throws Expression Evaluation Exception Object value null expr null return null String expression strip Tokens expr expression equals expr int index expr index index int last Index expr index index last Index String ret Val expr substring index index expr char index ret Val expr substring index last Index else Object sub Result evaluate expr substring index last Index sub Result null ret Val sub Result else ret Val expr substring index last Index ret Val evaluate expr substring last Index return ret Val expression expression contains return expression replace else return expression Mojo Descriptor mojo Descriptor mojo Execution get Mojo Descriptor local Repository equals expression value session get Local Repository else session equals expression value session else expression starts session try int path Separator expression index path Separator String path Expression expression substring path Separator value Reflection Value Extractor evaluate path Expression session value value expression substring path Separator else value Reflection Value Extractor evaluate expression substring session catch Exception e n catch exception throw new Expression Evaluation Exception Error evaluating plugin parameter expression expression e else reactor Projects equals expression value session get Projects else mojo Execution equals expression value mojo Execution else project equals expression value project else executed Project equals expression value project get Execution Project else expression starts project expression starts pom try int path Separator expression index path Separator String path Expression expression substring path Separator value Reflection Value Extractor evaluate path Expression project value value expression substring path Separator else value Reflection Value Extractor evaluate expression substring project catch Exception e n catch exception throw new Expression Evaluation Exception Error evaluating plugin parameter expression expression e else expression equals repository System Session value session get Repository Session else expression equals mojo value mojo Execution else expression starts mojo try int path Separator expression index path Separator String path Expression expression substring path Separator value Reflection Value Extractor evaluate path Expression mojo Execution value value expression substring path Separator else value Reflection Value Extractor evaluate expression substring mojo Execution catch Exception e n catch exception throw new Expression Evaluation Exception Error evaluating plugin parameter expression expression e else expression equals plugin value mojo Descriptor get Plugin Descriptor else expression starts plugin try int path Separator expression index Plugin Descriptor plugin Descriptor mojo Descriptor get Plugin Descriptor path Separator String path Expression expression substring path Separator value Reflection Value Extractor evaluate path Expression plugin Descriptor value value expression substring path Separator else value Reflection Value Extractor evaluate expression substring plugin Descriptor catch Exception e throw new Expression Evaluation Exception Error evaluating plugin parameter expression expression e else settings equals expression value session get Settings else expression starts settings try int path Separator expression index path Separator String path Expression expression substring path Separator value Reflection Value Extractor evaluate path Expression session get Settings value value expression substring path Separator else value Reflection Value Extractor evaluate expression substring session get Settings catch Exception e n catch exception throw new Expression Evaluation Exception Error evaluating plugin parameter expression expression e else basedir equals expression value basedir else expression starts basedir int path Separator expression index path Separator value basedir expression substring path Separator neither reserved magic expressions set fixed well known gets occasionally extended newer Maven versions imposes risk existing plugins unintentionally use magic expression ordinary system property check whether ended magic value compatible type configured mojo parameter string could still converted configurator leave alone back evaluating expression properties value null type null value instanceof String Type Compatible type value value null value null win defining properties properties null attempt get nab system property way specify parameter plugins particular case allowing surefire plugin run single test want specify class cli parameter value properties get Property expression value null project null project get Properties null value project get Properties get Property expression value instanceof String without could evaluate call String val String value int expr Start Delimiter val index expr Start Delimiter expr Start Delimiter value val substring expr Start Delimiter evaluate val substring expr Start Delimiter else value evaluate val substring expr Start Delimiter return value private static boolean Type Compatible Class type Object value type Instance value return true likely Boolean boolean Short int etc conversions problem case try avoid return type Primitive type get Name starts java lang value get Class get Name starts java lang private String strip Tokens String expr expr starts expr index expr length expr expr substring expr length return expr Override public File align Base Directory File file Copied Default Interpolator likely want resurrect Path Translator least similar component usage file null file Absolute path already absolute normalize file separator done else file get Path starts File separator drive relative Windows path n align project directory drive root file file get Absolute File else ordinary relative path align project directory file new File new File basedir file get Path normalize get Absolute File return file
package org apache model interpolation Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util List import org apache model building Model Problem Collector import org apache model building Model Problem Severity import org apache model building Model Problem Version import org apache model building Model Problem Collector Request import org codehaus plexus interpolation Value Source Wraps another value source intercepts interpolated expressions checking problems author Benjamin Bentmann class Problem Detecting Value Source implements Value Source private final Value Source value Source private final String banned Prefix private final String new Prefix private final Model Problem Collector problems public Problem Detecting Value Source Value Source value Source String banned Prefix String new Prefix Model Problem Collector problems value Source value Source banned Prefix banned Prefix new Prefix new Prefix problems problems Override public Object get Value String expression Object value value Source get Value expression value null expression starts banned Prefix String msg expression expression deprecated new Prefix null new Prefix length msg Please use new Prefix expression substring banned Prefix length instead problems add new Model Problem Collector Request Severity Version set Message msg return value Override Suppress Warnings unchecked public List get Feedback return value Source get Feedback Override public void clear Feedback value Source clear Feedback
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Date import java util List import java util Properties import org apache artifact repository Artifact Repository import org apache model Profile import org eclipse aether Repository System Session public interface Project Building Request Project Building Request set Local Repository Artifact Repository local Repository Artifact Repository get Local Repository Project Building Request set Remote Repositories List Artifact Repository remote Repositories List Artifact Repository get Remote Repositories Project Building Request set Plugin Artifact Repositories List Artifact Repository plugin Artifact Repositories List Artifact Repository get Plugin Artifact Repositories Sets system properties use interpolation profile activation system properties collected runtime environment like link System get Properties environment variables param system Properties system properties may code null return request never code null Project Building Request set System Properties Properties system Properties Gets system properties use interpolation profile activation system properties collected runtime environment like link System get Properties environment variables return system properties never code null Properties get System Properties Sets user properties use interpolation profile activation user properties configured directly user discretion e g via code Dkey value parameter command line param user Properties user properties may code null return request never code null Project Building Request set User Properties Properties user Properties Gets user properties use interpolation profile activation user properties configured directly user discretion e g via code Dkey value parameter command line return user properties never code null Properties get User Properties void set Project Maven Project Project Maven Project get Project Project Building Request set Process Plugins boolean process Plugins boolean Process Plugins Project Building Request set Resolve Dependencies boolean resolve Dependencies boolean Resolve Dependencies Controls level validation perform processed models default models validated strict mode param validation Level level validation perform processed models e g link org apache model building Model Building Request return configuration never code null Project Building Request set Validation Level int validation Level Gets level validation perform processed models return level validation perform processed models int get Validation Level Profiles Set active profiles link Project Builder consider constructing link Maven Project void set Active Profile Ids List String active Profile Ids List String get Active Profile Ids void set Inactive Profile Ids List String inactive Profile Ids List String get Inactive Profile Ids Add link org apache model Profile come external source may custom configuration like Maven settings xml file custom dialog integration like Eclipse param profile void add Profile Profile profile void set Profiles List Profile profiles List Profile get Profiles Gets start time build return start time build code null unknown Date get Build Start Time Sets start time build param build Start Time start time build may code null void set Build Start Time Date build Start Time Repository System Session get Repository Session Project Building Request set Repository Session Repository System Session repository Session Sets merge mode used combine repositories declared repositories specified request param mode repository merge mode must code null return request chaining never code null see set Remote Repositories List Project Building Request set Repository Merging Repository Merging mode Gets merge mode used combine repositories declared repositories specified request return merge mode never code null Repository Merging get Repository Merging since deprecated got added implementing longer used Commit cf c bc ab b ace ba updated way Maven Project objects initialized Deprecated boolean Resolve Version Ranges since deprecated got added implementing longer used Commit cf c bc ab b ace ba updated way Maven Project objects initialized Deprecated Project Building Request set Resolve Version Ranges boolean value possible merge modes combining remote repositories enum Repository Merging repositories declared precedence repositories specified request repositories specified request precedence repositories declared
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util List import org codehaus plexus classworlds realm Class Realm import org eclipse aether graph Dependency Filter Caches project class realms strong Warning strong internal utility interface public technical reasons part public particular interface changed deleted without prior notice author Igor Fedorenko author Benjamin Bentmann public interface Project Realm Cache cache key interface Key marker interface cache keys static class Cache Record public final Class Realm realm public final Dependency Filter extension Artifact Filter public Cache Record Class Realm realm Dependency Filter extension Artifact Filter realm realm extension Artifact Filter extension Artifact Filter Key create Key List extends Class Realm extension Realms Cache Record get Key key Cache Record put Key key Class Realm project Realm Dependency Filter extension Artifact Filter void flush Registers specified cache record usage given project Integrators use information collected method combination custom cache implementation dispose unused records cache param project project employs plugin realm must code null param record cache record used project must code null void register Maven Project project Key key Cache Record record
package org apache project Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Collection import java util Collections import java util Hash Map import java util Iterator import java util List import java util Map import org apache artifact Artifact Utils import org apache model Dependency import org apache model Extension import org apache model Parent import org apache model Plugin import org codehaus plexus util String Utils import org codehaus plexus util dag Cycle Detected Exception import org codehaus plexus util dag import org codehaus plexus util dag Topological Sorter import org codehaus plexus util dag Vertex public class Project Sorter private dag private List Maven Project sorted Projects private Map String Maven Project project Map private Maven Project top Level Project Sort list projects ul li collect vertices projects want build li li iterate deps project dep within set projects want build add edge otherwise throw edge away dependency within set projects trying build assume closed set li li topo sort graph remains li ul throws Duplicate Project Exception projects duplicated id used used represent dependency relation also parent build plugin reports need multiple since handle type relationship properly Usecase detected cycle org apache plugin api org apache inherited org apache plugins checkstyle plugin org apache plugin api case verify report goals called different lifecycle Though compiler plugin valid usecase although seems work fine need take versions lifecycle account public Project Sorter Collection Maven Project projects throws Cycle Detected Exception Duplicate Project Exception dag new group Id artifact Id version project project Map new Hash Map projects size group Id artifact Id version vertex Map String Map String Vertex vertex Map new Hash Map projects size Maven Project project projects String project Id get Id project Maven Project conflicting Project project Map put project Id project conflicting Project null throw new Duplicate Project Exception project Id conflicting Project get File project get File Project project Id duplicated reactor String project Key Artifact Utils versionless Key project get Group Id project get Artifact Id Map String Vertex vertices vertex Map get project Key vertices null vertices new Hash Map vertex Map put project Key vertices vertices put project get Version dag add Vertex project Id Vertex project Vertex dag get Verticies String project Id project Vertex get Label Maven Project project project Map get project Id Dependency dependency project get Dependencies add Edge project Map vertex Map project project Vertex dependency get Group Id dependency get Artifact Id dependency get Version false false Parent parent project get Model get Parent parent null Parent added edge must cause cycle remove edges conflict add Edge project Map vertex Map null project Vertex parent get Group Id parent get Artifact Id parent get Version true false List Plugin build Plugins project get Build Plugins build Plugins null Plugin plugin build Plugins add Edge project Map vertex Map project project Vertex plugin get Group Id plugin get Artifact Id plugin get Version false true Dependency dependency plugin get Dependencies add Edge project Map vertex Map project project Vertex dependency get Group Id dependency get Artifact Id dependency get Version false true List Extension build Extensions project get Build Extensions build Extensions null Extension extension build Extensions add Edge project Map vertex Map project project Vertex extension get Group Id extension get Artifact Id extension get Version false true List Maven Project sorted Projects new Array List projects size List String sorted Project Labels Topological Sorter sort dag String id sorted Project Labels sorted Projects add project Map get id sorted Projects Collections unmodifiable List sorted Projects private void add Edge Map String Maven Project project Map Map String Map String Vertex vertex Map Maven Project project Vertex project Vertex String group Id String artifact Id String version boolean force boolean safe throws Cycle Detected Exception String project Key Artifact Utils versionless Key group Id artifact Id Map String Vertex vertices vertex Map get project Key vertices null Specific Version version Vertex vertex vertices get version vertex null add Edge project Vertex vertex project project Map force safe else Vertex vertex vertices values add Edge project Vertex vertex project project Map force safe private void add Edge Vertex Vertex Vertex Vertex Maven Project Project Map String Maven Project project Map boolean force boolean safe throws Cycle Detected Exception Vertex equals Vertex return Project null Maven Project Project project Map get Vertex get Label Project add Project Reference Project force Vertex get Children contains Vertex dag remove Edge Vertex Vertex try dag add Edge Vertex Vertex catch Cycle Detected Exception e safe throw e private boolean Specific Version String version return String Utils Empty version version starts version starts jc jul check using r aggregator tasks result weirdness public Maven Project get Top Level Project top Level Project null Iterator Maven Project sorted Projects iterator Next top Level Project null Maven Project project next project Execution Root top Level Project project return top Level Project public List Maven Project get Sorted Projects return sorted Projects public boolean Multiple Projects return sorted Projects size public List String get Dependents String id return dag get Parent Labels id public List String get Dependencies String id return dag get Child Labels id public static String get Id Maven Project project return Artifact Utils key project get Group Id project get Artifact Id project get Version public get return dag public Map String Maven Project get Project Map return project Map
package org apache model profile activation Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import org apache model Activation import org apache model Activation Property import org apache model Profile import org apache model building Model Problem Collector import org apache model building Model Problem Severity import org apache model building Model Problem Version import org apache model building Model Problem Collector Request import org apache model profile Profile Activation Context import org codehaus plexus component annotations Component import org codehaus plexus util String Utils Determines profile activation based existence value execution property author Benjamin Bentmann see Activation Property Component role Profile Activator class hint property public class Property Profile Activator implements Profile Activator Override public boolean Active Profile profile Profile Activation Context context Model Problem Collector problems Activation activation profile get Activation activation null return false Activation Property property activation get Property property null return false String name property get Name boolean reverse Name false name null name starts reverse Name true name name substring name null name length problems add new Model Problem Collector Request Severity Version set Message property name required activate profile profile get Id set Location property get Location return false String sys Value context get User Properties get name sys Value null sys Value context get System Properties get name String prop Value property get Value String Utils Empty prop Value boolean reverse Value false prop Value starts reverse Value true prop Value prop Value substring value match system value boolean result prop Value equals sys Value return reverse Value result result else boolean result String Utils Empty sys Value return reverse Name result result Override public boolean present Config Profile profile Profile Activation Context context Model Problem Collector problems Activation activation profile get Activation activation null return false Activation Property property activation get Property property null return false return true
package org apache artifact resolver Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Collections import java util Iterator import java util Linked List import java util List import java util Set import org apache artifact Artifact import org apache artifact repository Artifact Repository import org apache artifact resolver filter Artifact Filter import org apache artifact versioning Artifact Version import org apache artifact versioning Constrained Version Exception public class Resolution Node private Artifact artifact private List Resolution Node children private final List Object parents private final int depth private final Resolution Node parent private final List Artifact Repository remote Repositories private boolean active true private List Artifact trail public Resolution Node Artifact artifact List Artifact Repository remote Repositories artifact artifact remote Repositories remote Repositories depth parents Collections empty List parent null public Resolution Node Artifact artifact List Artifact Repository remote Repositories Resolution Node parent artifact artifact remote Repositories remote Repositories depth parent depth parents new Array List parents add parent parents parents add parent get Key parent parent public Artifact get Artifact return artifact public Object get Key return artifact get Dependency Conflict Id public void add Dependencies Set Artifact artifacts List Artifact Repository remote Repositories Artifact Filter filter throws Cyclic Dependency Exception Constrained Version Exception artifacts null artifacts Empty children new Array List artifacts size Artifact artifacts parents contains get Dependency Conflict Id set Dependency Trail get Dependency Trail throw new Cyclic Dependency Exception dependency introduced cycle children add new Resolution Node remote Repositories else children Collections empty List trail null return link List lt link String gt artifact ids throws Constrained Version Exception public List String get Dependency Trail throws Constrained Version Exception List Artifact trial get Trail List String ret new Array List trial size Artifact artifact trial ret add artifact get Id return ret private List Artifact get Trail throws Constrained Version Exception trail null List Artifact ids new Linked List Resolution Node node node null Artifact artifact node get Artifact artifact get Version null set recommended version Artifact Version selected artifact get Selected Version null valid response get Selected Version n assume wo n ever selected null artifact select Version selected String else throw new Constrained Version Exception Unable get selected Version artifact get Artifact Id artifact ids add artifact node node parent trail ids return trail public boolean Resolved return children null Test whether node direct transitive dependency public boolean Child Root Node return parent null parent parent null public Iterator Resolution Node get Children Iterator return children iterator public int get Depth return depth public List Artifact Repository get Remote Repositories return remote Repositories public boolean Active return active public void enable active true null really need go find taken care ordering children null Resolution Node node children node enable public void disable active false children null Resolution Node node children node disable public boolean filter Trail Artifact Filter filter throws Constrained Version Exception boolean success true filter null Artifact artifact get Trail filter include artifact success false return success Override public String String return artifact String depth active enabled disabled public void set Artifact Artifact artifact artifact artifact
package org apache artifact versioning Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License Describes restriction versioning author href mailto brett apache org Brett Porter public class Restriction private final Artifact Version lower Bound private final boolean lower Bound Inclusive private final Artifact Version upper Bound private final boolean upper Bound Inclusive public static final Restriction new Restriction null false null false public Restriction Artifact Version lower Bound boolean lower Bound Inclusive Artifact Version upper Bound boolean upper Bound Inclusive lower Bound lower Bound lower Bound Inclusive lower Bound Inclusive upper Bound upper Bound upper Bound Inclusive upper Bound Inclusive public Artifact Version get Lower Bound return lower Bound public boolean Lower Bound Inclusive return lower Bound Inclusive public Artifact Version get Upper Bound return upper Bound public boolean Upper Bound Inclusive return upper Bound Inclusive public boolean contains Version Artifact Version version lower Bound null int comparison lower Bound compare version comparison lower Bound Inclusive return false comparison return false upper Bound null int comparison upper Bound compare version comparison upper Bound Inclusive return false comparison return false return true Override public int hash Code int result lower Bound null result else result lower Bound hash Code result lower Bound Inclusive upper Bound null result else result upper Bound hash Code result upper Bound Inclusive return result Override public boolean equals Object return true instanceof Restriction return false Restriction restriction Restriction lower Bound null lower Bound equals restriction lower Bound return false else restriction lower Bound null return false lower Bound Inclusive restriction lower Bound Inclusive return false upper Bound null upper Bound equals restriction upper Bound return false else restriction upper Bound null return false return upper Bound Inclusive restriction upper Bound Inclusive public String String String Builder buf new String Builder buf append Lower Bound Inclusive get Lower Bound null buf append get Lower Bound String buf append get Upper Bound null buf append get Upper Bound String buf append Upper Bound Inclusive return buf String
package org apache artifact resolver filter Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License Filter retain objects given artifact Scope better author href mailto brett apache org Brett Porter public class Scope Artifact Filter extends Abstract Scope Artifact Filter private final String scope public Scope Artifact Filter String scope scope scope add Scope Internal scope public String get Scope return scope Override public int hash Code int hash hash hash scope null scope hash Code return hash Override public boolean equals Object obj obj return true obj instanceof Scope Artifact Filter return false Scope Artifact Filter Scope Artifact Filter obj return equals scope scope private static boolean equals str str return str null str equals str str null
package org apache cli configuration Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java io File import java io File Found Exception import java util List import org apache commons cli Command Line import org apache artifact Invalid Repository Exception import org apache bridge Maven Repository System import org apache building Source import org apache cli Manager import org apache cli Cli Request import org apache execution Maven Execution Request import org apache execution Maven Execution Request Population Exception import org apache settings Mirror import org apache settings Proxy import org apache settings Repository import org apache settings Server import org apache settings Settings import org apache settings Settings Utils import org apache settings building Default Settings Building Request import org apache settings building Settings Builder import org apache settings building Settings Building Request import org apache settings building Settings Building Result import org apache settings building Settings Problem import org apache settings crypto Settings Decrypter import org codehaus plexus component annotations Component import org codehaus plexus component annotations Requirement import org slf j Logger Component role Configuration Processor class hint Settings Xml Configuration Processor public class Settings Xml Configuration Processor implements Configuration Processor public static final String settings public static final String System get Property user home public static final File new File public static final File new File settings xml public static final File new File System get Property conf settings xml Requirement private Logger logger Requirement private Settings Builder settings Builder Requirement private Settings Decrypter settings Decrypter Override public void process Cli Request cli Request throws Exception Command Line command Line cli Request get Command Line String working Directory cli Request get Working Directory Maven Execution Request request cli Request get Request File user Settings File command Line Option Manager user Settings File new File command Line get Option Value Manager user Settings File resolve File user Settings File working Directory user Settings File File throw new File Found Exception specified user settings file exist user Settings File else user Settings File File global Settings File command Line Option Manager global Settings File new File command Line get Option Value Manager global Settings File resolve File global Settings File working Directory global Settings File File throw new File Found Exception specified global settings file exist global Settings File else global Settings File request set Global Settings File global Settings File request set User Settings File user Settings File Settings Building Request settings Request new Default Settings Building Request settings Request set Global Settings File global Settings File settings Request set User Settings File user Settings File settings Request set System Properties cli Request get System Properties settings Request set User Properties cli Request get User Properties request get Event Spy Dispatcher null request get Event Spy Dispatcher Event settings Request logger debug Reading global settings get Location settings Request get Global Settings Source settings Request get Global Settings File logger debug Reading user settings get Location settings Request get User Settings Source settings Request get User Settings File Settings Building Result settings Result settings Builder build settings Request request get Event Spy Dispatcher null request get Event Spy Dispatcher Event settings Result populate Settings request settings Result get Effective Settings settings Result get Problems Empty logger Warn Enabled logger warn logger warn problems encountered building effective settings Settings Problem problem settings Result get Problems logger warn problem get Message problem get Location logger warn private Maven Execution Request populate Settings Maven Execution Request request Settings settings throws Maven Execution Request Population Exception settings null return request request set Offline settings Offline request set Interactive Mode settings Interactive Mode request set Plugin Groups settings get Plugin Groups request set Local Repository Path settings get Local Repository Server server settings get Servers server server clone request add Server server proxies proxy active true active protocol http protocol host proxy somewhere com host port port username proxyuser username password somepassword password non Proxy Hosts www google com somewhere com non Proxy Hosts proxy proxies Proxy proxy settings get Proxies proxy Active continue proxy proxy clone request add Proxy proxy mirrors mirror id nexus id mirror mirror url http repository sonatype org content groups public url mirror mirrors Mirror mirror settings get Mirrors mirror mirror clone request add Mirror mirror request set Active Profiles settings get Active Profiles org apache settings Profile raw Profile settings get Profiles request add Profile Settings Utils convert Settings Profile raw Profile settings get Active Profiles contains raw Profile get Id List Repository remote Repositories raw Profile get Repositories Repository remote Repository remote Repositories try request add Remote Repository Maven Repository System build Artifact Repository remote Repository catch Invalid Repository Exception e nothing List Repository plugin Repositories raw Profile get Plugin Repositories Repository plugin Repository plugin Repositories try request add Plugin Artifact Repository Maven Repository System build Artifact Repository plugin Repository catch Invalid Repository Exception e nothing return request private Object get Location Source source File default Location source null return source get Location return default Location static File resolve File File file String working Directory file null return null else file Absolute return file else file get Path starts File separator drive relative Windows path return file get Absolute File else return new File working Directory file get Path get Absolute File
package org apache model interpolation Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import org apache model Model import org apache model building Model Building Request import org apache model building Model Problem Severity import org apache model building Model Problem Version import org apache model building Model Problem Collector import org apache model building Model Problem Collector Request import org codehaus plexus component annotations Component import org codehaus plexus interpolation Interpolation Post Processor import org codehaus plexus interpolation Interpolator import org codehaus plexus interpolation String Search Interpolator import org codehaus plexus interpolation Value Source import java io File import java lang reflect Array import java lang reflect Field import java lang reflect Modifier import java security Access Controller import java security Privileged Action import java util Array List import java util Collection import java util Linked List import java util List import java util Map import java util concurrent Concurrent Hash Map Component role Model Interpolator class public class String Search Model Interpolator extends Abstract String Based Model Interpolator private static final Map Class Interpolate Object Action Cache Item new Concurrent Hash Map f Empirical data x actual Override public Model interpolate Model Model model File project Dir Model Building Request config Model Problem Collector problems interpolate Object model model project Dir config problems return model protected void interpolate Object Object obj Model model File project Dir Model Building Request config Model Problem Collector problems try List extends Value Source value Sources create Value Sources model project Dir config problems List extends Interpolation Post Processor post Processors create Post Processors model project Dir config Interpolate Object Action action new Interpolate Object Action obj value Sources post Processors problems Access Controller Privileged action finally get Interpolator clear Answers Override protected Interpolator create Interpolator String Search Interpolator interpolator new String Search Interpolator interpolator set Cache Answers true return interpolator private static final class Interpolate Object Action implements Privileged Action Object private final Linked List Object interpolation Targets private final String Search Model Interpolator model Interpolator private final List extends Value Source value Sources private final List extends Interpolation Post Processor post Processors private final Model Problem Collector problems public Interpolate Object Action Object target List extends Value Source value Sources List extends Interpolation Post Processor post Processors String Search Model Interpolator model Interpolator Model Problem Collector problems value Sources value Sources post Processors post Processors interpolation Targets new Linked List interpolation Targets add target model Interpolator model Interpolator problems problems Override public Object run interpolation Targets Empty Object obj interpolation Targets remove First traverse Object Parents obj get Class obj return null private String interpolate String value return model Interpolator interpolate Internal value value Sources post Processors problems private void traverse Object Parents Class cls Object target cls null return Cache Item cache Entry get Cache Entry cls cache Entry Array evaluate Array target else cache Entry Qualified Interpolation cache Entry interpolate target traverse Object Parents cls get Superclass target private Cache Item get Cache Entry Class cls Cache Item cache Item get cls cache Item null cache Item new Cache Item cls put cls cache Item return cache Item private static void evaluate Array Object target Interpolate Object Action ctx int len Array get Length target int len Object value Array get target value null String class value get Class String interpolated ctx interpolate String value interpolated equals value Array set target interpolated else ctx interpolation Targets add value private static class Cache Item private final boolean Array private final boolean Qualified Interpolation private final Cache Field fields private boolean Qualified Interpolation Class cls return cls get Name starts java private boolean Qualified Interpolation Field field Class field Type Map class equals field Type locations equals field get Name return false noinspection Simplifiable Statement field Type Primitive return false return parent equals field get Name Cache Item Class clazz Qualified Interpolation Qualified Interpolation clazz Array clazz Array List Cache Field fields new Array List Field current Field clazz get Declared Fields Class type current Field get Type Qualified Interpolation current Field type String class type Modifier Final current Field get Modifiers fields add new String Field current Field else List class Assignable type fields add new List Field current Field else Collection class Assignable type throw new Runtime Exception dont interpolate collections use list instead else Map class Assignable type fields add new Map Field current Field else fields add new Object Field current Field fields fields Array new Cache Field fields size public void interpolate Object target Interpolate Object Action interpolate Object Action Cache Field field fields field interpolate target interpolate Object Action public boolean Array return Array abstract static class Cache Field protected final Field field Cache Field Field field field field void interpolate Object target Interpolate Object Action interpolate Object Action synchronized field boolean Accessible field Accessible field set Accessible true try Interpolate target interpolate Object Action catch Illegal Argument Exception e interpolate Object Action problems add new Model Problem Collector Request Severity Version set Message Failed interpolate field field class field get Type get Name set Exception e entirely message catch Illegal Access Exception e interpolate Object Action problems add new Model Problem Collector Request Severity Version set Message Failed interpolate field field class field get Type get Name set Exception e finally field set Accessible Accessible abstract void Interpolate Object target Interpolate Object Action ctx throws Illegal Access Exception static final class String Field extends Cache Field String Field Field field super field Override void Interpolate Object target Interpolate Object Action ctx throws Illegal Access Exception String value String field get target value null return String interpolated ctx interpolate value interpolated equals value field set target interpolated static final class List Field extends Cache Field List Field Field field super field Override void Interpolate Object target Interpolate Object Action ctx throws Illegal Access Exception Suppress Warnings unchecked List Object c List Object field get target c null return int size c size Object value int size value c get value null String class value get Class String interpolated ctx interpolate String value interpolated equals value try c set interpolated catch Unsupported Operation Exception e return else value get Class Array evaluate Array value ctx else ctx interpolation Targets add value static final class Map Field extends Cache Field Map Field Field field super field Override void Interpolate Object target Interpolate Object Action ctx throws Illegal Access Exception Suppress Warnings unchecked Map Object Object Map Object Object field get target null Empty return Map Entry Object Object entry entry Set Object value entry get Value value null continue String class value get Class String interpolated ctx interpolate String value interpolated equals value try entry set Value interpolated catch Unsupported Operation Exception ignore nop else value get Class Array evaluate Array value ctx else ctx interpolation Targets add value static final class Object Field extends Cache Field private final boolean Array Object Field Field field super field Array field get Type Array Override void Interpolate Object target Interpolate Object Action ctx throws Illegal Access Exception Object value field get target value null Array evaluate Array value ctx else ctx interpolation Targets add value
package org apache artifact versioning Licensed Apache Software Foundation one contributor license agreements See file distributed work additional information regarding copyright ownership licenses file Apache License Version License may use file except compliance License may obtain copy License http www apache org licenses Unless required applicable law agreed writing software distributed License distributed either express implied See License specific language governing permissions limitations License import java util Array List import java util Collections import java util Iterator import java util List import org apache artifact Artifact Construct version range specification author href mailto brett apache org Brett Porter public class Version Range private final Artifact Version recommended Version private final List Restriction restrictions private Version Range Artifact Version recommended Version List Restriction restrictions recommended Version recommended Version restrictions restrictions public Artifact Version get Recommended Version return recommended Version public List Restriction get Restrictions return restrictions public Version Range clone List Restriction copied Restrictions null restrictions null copied Restrictions new Array List restrictions Empty copied Restrictions add restrictions return new Version Range recommended Version copied Restrictions p Create version range string representation p spec examples ul li code code Version li li code code Versions included included li li code code Versions included li li code code Versions higher li li code code Versions included higher li ul param spec string representation version version range return new link Version Range object represents spec throws Invalid Version Specification Exception public static Version Range create Version Spec String spec throws Invalid Version Specification Exception spec null return null List Restriction restrictions new Array List String process spec Artifact Version version null Artifact Version upper Bound null Artifact Version lower Bound null process starts process starts int index process index int index process index int index index index index index index index index index throw new Invalid Version Specification Exception Unbounded range spec Restriction restriction parse Restriction process substring index lower Bound null lower Bound restriction get Lower Bound upper Bound null restriction get Lower Bound null restriction get Lower Bound compare upper Bound throw new Invalid Version Specification Exception Ranges overlap spec restrictions add restriction upper Bound restriction get Upper Bound process process substring index trim process length process starts process process substring trim process length restrictions size throw new Invalid Version Specification Exception fully qualified sets allowed multiple set scenario spec else version new Default Artifact Version process restrictions add Restriction return new Version Range version restrictions private static Restriction parse Restriction String spec throws Invalid Version Specification Exception boolean lower Bound Inclusive spec starts boolean upper Bound Inclusive spec ends String process spec substring spec length trim Restriction restriction int index process index index lower Bound Inclusive upper Bound Inclusive throw new Invalid Version Specification Exception Single version must surrounded spec Artifact Version version new Default Artifact Version process restriction new Restriction version lower Bound Inclusive version upper Bound Inclusive else String lower Bound process substring index trim String upper Bound process substring index trim lower Bound equals upper Bound throw new Invalid Version Specification Exception Range identical boundaries spec Artifact Version lower Version null lower Bound length lower Version new Default Artifact Version lower Bound Artifact Version upper Version null upper Bound length upper Version new Default Artifact Version upper Bound upper Version null lower Version null upper Version compare lower Version throw new Invalid Version Specification Exception Range defies version ordering spec restriction new Restriction lower Version lower Bound Inclusive upper Version upper Bound Inclusive return restriction public static Version Range create Version String version List Restriction restrictions Collections empty List return new Version Range new Default Artifact Version version restrictions Creates returns new code Version Range code restriction version range specified version range p Note Precedence given recommended version version range recommended version specified version range p param restriction code Version Range code used restrict version range return code Version Range code restriction version range specified version range p restrictions returned version range intersection restrictions version range specified version range version ranges restrictions Otherwise restrictions returned range empty p p recommended version returned version range recommended version version range provided ranges falls within intersected restrictions restrictions empty version range recommended version used code null code code null code specified version range recommended version used provided non code null code recommended version obtained returned version range recommended version set code null code p throws Null Pointer Exception specified code Version Range code code null code public Version Range restrict Version Range restriction List Restriction r restrictions List Restriction r restriction restrictions List Restriction restrictions r Empty r Empty restrictions Collections empty List else restrictions intersection r r Artifact Version version null restrictions size Restriction r restrictions recommended Version null r contains Version recommended Version find original use version recommended Version break else version null restriction get Recommended Version null r contains Version restriction get Recommended Version use prefer original possible version restriction get Recommended Version Either original specified version ranges restrictions else recommended Version null Use original recommended version since exists version recommended Version else restriction recommended Version null Use recommended version specified Version Range since original recommended version version restriction recommended Version throw immediately need artifact else throw new Constrained Version Exception Restricting incompatible version ranges return new Version Range version restrictions private List Restriction intersection List Restriction r List Restriction r List Restriction restrictions new Array List r size r size Iterator Restriction r iterator Iterator Restriction r iterator Restriction res next Restriction res next boolean done false done res get Lower Bound null res get Upper Bound null res get Lower Bound compare res get Upper Bound res get Upper Bound null res get Lower Bound null res get Upper Bound compare res get Lower Bound Artifact Version lower Artifact Version upper boolean lower Inclusive boolean upper Inclusive overlaps res get Lower Bound null lower res get Lower Bound lower Inclusive res Lower Bound Inclusive else res get Lower Bound null lower res get Lower Bound lower Inclusive res Lower Bound Inclusive else int comparison res get Lower Bound compare res get Lower Bound comparison lower res get Lower Bound lower Inclusive res Lower Bound Inclusive else comparison lower res get Lower Bound lower Inclusive res Lower Bound Inclusive res Lower Bound Inclusive else lower res get Lower Bound lower Inclusive res Lower Bound Inclusive res get Upper Bound null upper res get Upper Bound upper Inclusive res Upper Bound Inclusive else res get Upper Bound null upper res get Upper Bound upper Inclusive res Upper Bound Inclusive else int comparison res get Upper Bound compare res get Upper Bound comparison upper res get Upper Bound upper Inclusive res Upper Bound Inclusive else comparison upper res get Upper Bound upper Inclusive res Upper Bound Inclusive res Upper Bound Inclusive else upper res get Upper Bound upper Inclusive res Upper Bound Inclusive n add equal one inclusive lower null upper null lower compare upper restrictions add new Restriction lower lower Inclusive upper upper Inclusive else lower Inclusive upper Inclusive restrictions add new Restriction lower lower Inclusive upper upper Inclusive noinspection Object Equality upper res get Upper Bound advance res Next res next else done true else advance res Next res next else done true else move next r Next res next else done true else move next r Next res next else done true return restrictions public Artifact Version get Selected Version Artifact artifact throws Constrained Version Exception Artifact Version version recommended Version null version recommended Version else restrictions size throw new Constrained Version Exception artifact valid ranges artifact version null return version public boolean Selected Version Known Artifact artifact throws Constrained Version Exception boolean value false recommended Version null value true else restrictions size throw new Constrained Version Exception artifact valid ranges artifact return value public String String recommended Version null return recommended Version String else String Builder buf new String Builder Iterator Restriction restrictions iterator Next Restriction r next buf append r String Next buf append return buf String public Artifact Version match Version List Artifact Version versions could efficient sorting list moving along restrictions order Artifact Version matched null Artifact Version version versions contains Version version valid check greater currently matched version matched null version compare matched matched version return matched public boolean contains Version Artifact Version version Restriction restriction restrictions restriction contains Version version return true return false public boolean Restrictions return restrictions Empty recommended Version null public boolean equals Object obj obj return true obj instanceof Version Range return false Version Range Version Range obj boolean equals recommended Version recommended Version recommended Version null recommended Version equals recommended Version equals restrictions restrictions restrictions null restrictions equals restrictions return equals public int hash Code int hash hash hash recommended Version null recommended Version hash Code hash hash restrictions null restrictions hash Code return hash
